(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code$1.length;i$1<len;++i$1)lookup[i$1]=code$1[i$1],revLookup[code$1.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(o){var e=o.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=o.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function byteLength(o){var e=getLens(o),n=e[0],r=e[1];return(n+r)*3/4-r}function _byteLength(o,e,n){return(e+n)*3/4-n}function toByteArray(o){var e,n=getLens(o),r=n[0],a=n[1],s=new Arr(_byteLength(o,r,a)),l=0,c=a>0?r-4:r,u;for(u=0;u<c;u+=4)e=revLookup[o.charCodeAt(u)]<<18|revLookup[o.charCodeAt(u+1)]<<12|revLookup[o.charCodeAt(u+2)]<<6|revLookup[o.charCodeAt(u+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=e&255;return a===2&&(e=revLookup[o.charCodeAt(u)]<<2|revLookup[o.charCodeAt(u+1)]>>4,s[l++]=e&255),a===1&&(e=revLookup[o.charCodeAt(u)]<<10|revLookup[o.charCodeAt(u+1)]<<4|revLookup[o.charCodeAt(u+2)]>>2,s[l++]=e>>8&255,s[l++]=e&255),s}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[o&63]}function encodeChunk(o,e,n){for(var r,a=[],s=e;s<n;s+=3)r=(o[s]<<16&16711680)+(o[s+1]<<8&65280)+(o[s+2]&255),a.push(tripletToBase64(r));return a.join("")}function fromByteArray(o){for(var e,n=o.length,r=n%3,a=[],s=16383,l=0,c=n-r;l<c;l+=s)a.push(encodeChunk(o,l,l+s>c?c:l+s));return r===1?(e=o[n-1],a.push(lookup[e>>2]+lookup[e<<4&63]+"==")):r===2&&(e=(o[n-2]<<8)+o[n-1],a.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),a.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(o,e,n,r,a){var s,l,c=a*8-r-1,u=(1<<c)-1,h=u>>1,f=-7,d=n?a-1:0,p=n?-1:1,g=o[e+d];for(d+=p,s=g&(1<<-f)-1,g>>=-f,f+=c;f>0;s=s*256+o[e+d],d+=p,f-=8);for(l=s&(1<<-f)-1,s>>=-f,f+=r;f>0;l=l*256+o[e+d],d+=p,f-=8);if(s===0)s=1-h;else{if(s===u)return l?NaN:(g?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-h}return(g?-1:1)*l*Math.pow(2,s-r)};ieee754.write=function(o,e,n,r,a,s){var l,c,u,h=s*8-a-1,f=(1<<h)-1,d=f>>1,p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,y=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=f):(l=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-l))<1&&(l--,u*=2),l+d>=1?e+=p/u:e+=p*Math.pow(2,1-d),e*u>=2&&(l++,u/=2),l+d>=f?(c=0,l=f):l+d>=1?(c=(e*u-1)*Math.pow(2,a),l=l+d):(c=e*Math.pow(2,d-1)*Math.pow(2,a),l=0));a>=8;o[n+g]=c&255,g+=y,c/=256,a-=8);for(l=l<<a|c,h+=a;h>0;o[n+g]=l&255,g+=y,l/=256,h-=8);o[n+g-y]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){const e=base64Js,n=ieee754,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=f,o.SlowBuffer=G,o.INSPECT_MAX_BYTES=50;const a=2147483647;o.kMaxLength=a;const{Uint8Array:s,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const ve=new s(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,s.prototype),Object.setPrototypeOf(ve,T),ve.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(ve){if(ve>a)throw new RangeError('The value "'+ve+'" is invalid for option "size"');const T=new s(ve);return Object.setPrototypeOf(T,f.prototype),T}function f(ve,T,F){if(typeof ve=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(ve)}return d(ve,T,F)}f.poolSize=8192;function d(ve,T,F){if(typeof ve=="string")return v(ve,T);if(l.isView(ve))return O(ve);if(ve==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve);if(qe(ve,l)||ve&&qe(ve.buffer,l)||typeof c<"u"&&(qe(ve,c)||ve&&qe(ve.buffer,c)))return k(ve,T,F);if(typeof ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ye=ve.valueOf&&ve.valueOf();if(ye!=null&&ye!==ve)return f.from(ye,T,F);const De=E(ve);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ve[Symbol.toPrimitive]=="function")return f.from(ve[Symbol.toPrimitive]("string"),T,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ve)}f.from=function(ve,T,F){return d(ve,T,F)},Object.setPrototypeOf(f.prototype,s.prototype),Object.setPrototypeOf(f,s);function p(ve){if(typeof ve!="number")throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function g(ve,T,F){return p(ve),ve<=0?h(ve):T!==void 0?typeof F=="string"?h(ve).fill(T,F):h(ve).fill(T):h(ve)}f.alloc=function(ve,T,F){return g(ve,T,F)};function y(ve){return p(ve),h(ve<0?0:I(ve)|0)}f.allocUnsafe=function(ve){return y(ve)},f.allocUnsafeSlow=function(ve){return y(ve)};function v(ve,T){if((typeof T!="string"||T==="")&&(T="utf8"),!f.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const F=J(ve,T)|0;let ye=h(F);const De=ye.write(ve,T);return De!==F&&(ye=ye.slice(0,De)),ye}function w(ve){const T=ve.length<0?0:I(ve.length)|0,F=h(T);for(let ye=0;ye<T;ye+=1)F[ye]=ve[ye]&255;return F}function O(ve){if(qe(ve,s)){const T=new s(ve);return k(T.buffer,T.byteOffset,T.byteLength)}return w(ve)}function k(ve,T,F){if(T<0||ve.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<T+(F||0))throw new RangeError('"length" is outside of buffer bounds');let ye;return T===void 0&&F===void 0?ye=new s(ve):F===void 0?ye=new s(ve,T):ye=new s(ve,T,F),Object.setPrototypeOf(ye,f.prototype),ye}function E(ve){if(f.isBuffer(ve)){const T=I(ve.length)|0,F=h(T);return F.length===0||ve.copy(F,0,0,T),F}if(ve.length!==void 0)return typeof ve.length!="number"||ot(ve.length)?h(0):w(ve);if(ve.type==="Buffer"&&Array.isArray(ve.data))return w(ve.data)}function I(ve){if(ve>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return ve|0}function G(ve){return+ve!=ve&&(ve=0),f.alloc(+ve)}f.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==f.prototype},f.compare=function(T,F){if(qe(T,s)&&(T=f.from(T,T.offset,T.byteLength)),qe(F,s)&&(F=f.from(F,F.offset,F.byteLength)),!f.isBuffer(T)||!f.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===F)return 0;let ye=T.length,De=F.length;for(let $e=0,Ze=Math.min(ye,De);$e<Ze;++$e)if(T[$e]!==F[$e]){ye=T[$e],De=F[$e];break}return ye<De?-1:De<ye?1:0},f.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(T,F){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return f.alloc(0);let ye;if(F===void 0)for(F=0,ye=0;ye<T.length;++ye)F+=T[ye].length;const De=f.allocUnsafe(F);let $e=0;for(ye=0;ye<T.length;++ye){let Ze=T[ye];if(qe(Ze,s))$e+Ze.length>De.length?(f.isBuffer(Ze)||(Ze=f.from(Ze)),Ze.copy(De,$e)):s.prototype.set.call(De,Ze,$e);else if(f.isBuffer(Ze))Ze.copy(De,$e);else throw new TypeError('"list" argument must be an Array of Buffers');$e+=Ze.length}return De};function J(ve,T){if(f.isBuffer(ve))return ve.length;if(l.isView(ve)||qe(ve,l))return ve.byteLength;if(typeof ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ve);const F=ve.length,ye=arguments.length>2&&arguments[2]===!0;if(!ye&&F===0)return 0;let De=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Xe(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return at(ve).length;default:if(De)return ye?-1:Xe(ve).length;T=(""+T).toLowerCase(),De=!0}}f.byteLength=J;function Q(ve,T,F){let ye=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,T>>>=0,F<=T))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return Te(this,T,F);case"utf8":case"utf-8":return H(this,T,F);case"ascii":return Ce(this,T,F);case"latin1":case"binary":return ge(this,T,F);case"base64":return de(this,T,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke(this,T,F);default:if(ye)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),ye=!0}}f.prototype._isBuffer=!0;function te(ve,T,F){const ye=ve[T];ve[T]=ve[F],ve[F]=ye}f.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<T;F+=2)te(this,F,F+1);return this},f.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<T;F+=4)te(this,F,F+3),te(this,F+1,F+2);return this},f.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<T;F+=8)te(this,F,F+7),te(this,F+1,F+6),te(this,F+2,F+5),te(this,F+3,F+4);return this},f.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?H(this,0,T):Q.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(T){if(!f.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:f.compare(this,T)===0},f.prototype.inspect=function(){let T="";const F=o.INSPECT_MAX_BYTES;return T=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(T+=" ... "),"<Buffer "+T+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(T,F,ye,De,$e){if(qe(T,s)&&(T=f.from(T,T.offset,T.byteLength)),!f.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(F===void 0&&(F=0),ye===void 0&&(ye=T?T.length:0),De===void 0&&(De=0),$e===void 0&&($e=this.length),F<0||ye>T.length||De<0||$e>this.length)throw new RangeError("out of range index");if(De>=$e&&F>=ye)return 0;if(De>=$e)return-1;if(F>=ye)return 1;if(F>>>=0,ye>>>=0,De>>>=0,$e>>>=0,this===T)return 0;let Ze=$e-De,Oe=ye-F;const bt=Math.min(Ze,Oe),ht=this.slice(De,$e),q=T.slice(F,ye);for(let dt=0;dt<bt;++dt)if(ht[dt]!==q[dt]){Ze=ht[dt],Oe=q[dt];break}return Ze<Oe?-1:Oe<Ze?1:0};function pe(ve,T,F,ye,De){if(ve.length===0)return-1;if(typeof F=="string"?(ye=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,ot(F)&&(F=De?0:ve.length-1),F<0&&(F=ve.length+F),F>=ve.length){if(De)return-1;F=ve.length-1}else if(F<0)if(De)F=0;else return-1;if(typeof T=="string"&&(T=f.from(T,ye)),f.isBuffer(T))return T.length===0?-1:fe(ve,T,F,ye,De);if(typeof T=="number")return T=T&255,typeof s.prototype.indexOf=="function"?De?s.prototype.indexOf.call(ve,T,F):s.prototype.lastIndexOf.call(ve,T,F):fe(ve,[T],F,ye,De);throw new TypeError("val must be string, number or Buffer")}function fe(ve,T,F,ye,De){let $e=1,Ze=ve.length,Oe=T.length;if(ye!==void 0&&(ye=String(ye).toLowerCase(),ye==="ucs2"||ye==="ucs-2"||ye==="utf16le"||ye==="utf-16le")){if(ve.length<2||T.length<2)return-1;$e=2,Ze/=2,Oe/=2,F/=2}function bt(q,dt){return $e===1?q[dt]:q.readUInt16BE(dt*$e)}let ht;if(De){let q=-1;for(ht=F;ht<Ze;ht++)if(bt(ve,ht)===bt(T,q===-1?0:ht-q)){if(q===-1&&(q=ht),ht-q+1===Oe)return q*$e}else q!==-1&&(ht-=ht-q),q=-1}else for(F+Oe>Ze&&(F=Ze-Oe),ht=F;ht>=0;ht--){let q=!0;for(let dt=0;dt<Oe;dt++)if(bt(ve,ht+dt)!==bt(T,dt)){q=!1;break}if(q)return ht}return-1}f.prototype.includes=function(T,F,ye){return this.indexOf(T,F,ye)!==-1},f.prototype.indexOf=function(T,F,ye){return pe(this,T,F,ye,!0)},f.prototype.lastIndexOf=function(T,F,ye){return pe(this,T,F,ye,!1)};function ee(ve,T,F,ye){F=Number(F)||0;const De=ve.length-F;ye?(ye=Number(ye),ye>De&&(ye=De)):ye=De;const $e=T.length;ye>$e/2&&(ye=$e/2);let Ze;for(Ze=0;Ze<ye;++Ze){const Oe=parseInt(T.substr(Ze*2,2),16);if(ot(Oe))return Ze;ve[F+Ze]=Oe}return Ze}function N(ve,T,F,ye){return Ve(Xe(T,ve.length-F),ve,F,ye)}function Z(ve,T,F,ye){return Ve(Ee(T),ve,F,ye)}function R(ve,T,F,ye){return Ve(at(T),ve,F,ye)}function ae(ve,T,F,ye){return Ve(Re(T,ve.length-F),ve,F,ye)}f.prototype.write=function(T,F,ye,De){if(F===void 0)De="utf8",ye=this.length,F=0;else if(ye===void 0&&typeof F=="string")De=F,ye=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(ye)?(ye=ye>>>0,De===void 0&&(De="utf8")):(De=ye,ye=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $e=this.length-F;if((ye===void 0||ye>$e)&&(ye=$e),T.length>0&&(ye<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let Ze=!1;for(;;)switch(De){case"hex":return ee(this,T,F,ye);case"utf8":case"utf-8":return N(this,T,F,ye);case"ascii":case"latin1":case"binary":return Z(this,T,F,ye);case"base64":return R(this,T,F,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,T,F,ye);default:if(Ze)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ze=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function de(ve,T,F){return T===0&&F===ve.length?e.fromByteArray(ve):e.fromByteArray(ve.slice(T,F))}function H(ve,T,F){F=Math.min(ve.length,F);const ye=[];let De=T;for(;De<F;){const $e=ve[De];let Ze=null,Oe=$e>239?4:$e>223?3:$e>191?2:1;if(De+Oe<=F){let bt,ht,q,dt;switch(Oe){case 1:$e<128&&(Ze=$e);break;case 2:bt=ve[De+1],(bt&192)===128&&(dt=($e&31)<<6|bt&63,dt>127&&(Ze=dt));break;case 3:bt=ve[De+1],ht=ve[De+2],(bt&192)===128&&(ht&192)===128&&(dt=($e&15)<<12|(bt&63)<<6|ht&63,dt>2047&&(dt<55296||dt>57343)&&(Ze=dt));break;case 4:bt=ve[De+1],ht=ve[De+2],q=ve[De+3],(bt&192)===128&&(ht&192)===128&&(q&192)===128&&(dt=($e&15)<<18|(bt&63)<<12|(ht&63)<<6|q&63,dt>65535&&dt<1114112&&(Ze=dt))}}Ze===null?(Ze=65533,Oe=1):Ze>65535&&(Ze-=65536,ye.push(Ze>>>10&1023|55296),Ze=56320|Ze&1023),ye.push(Ze),De+=Oe}return V(ye)}const ne=4096;function V(ve){const T=ve.length;if(T<=ne)return String.fromCharCode.apply(String,ve);let F="",ye=0;for(;ye<T;)F+=String.fromCharCode.apply(String,ve.slice(ye,ye+=ne));return F}function Ce(ve,T,F){let ye="";F=Math.min(ve.length,F);for(let De=T;De<F;++De)ye+=String.fromCharCode(ve[De]&127);return ye}function ge(ve,T,F){let ye="";F=Math.min(ve.length,F);for(let De=T;De<F;++De)ye+=String.fromCharCode(ve[De]);return ye}function Te(ve,T,F){const ye=ve.length;(!T||T<0)&&(T=0),(!F||F<0||F>ye)&&(F=ye);let De="";for(let $e=T;$e<F;++$e)De+=Pt[ve[$e]];return De}function Ke(ve,T,F){const ye=ve.slice(T,F);let De="";for(let $e=0;$e<ye.length-1;$e+=2)De+=String.fromCharCode(ye[$e]+ye[$e+1]*256);return De}f.prototype.slice=function(T,F){const ye=this.length;T=~~T,F=F===void 0?ye:~~F,T<0?(T+=ye,T<0&&(T=0)):T>ye&&(T=ye),F<0?(F+=ye,F<0&&(F=0)):F>ye&&(F=ye),F<T&&(F=T);const De=this.subarray(T,F);return Object.setPrototypeOf(De,f.prototype),De};function Ye(ve,T,F){if(ve%1!==0||ve<0)throw new RangeError("offset is not uint");if(ve+T>F)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(T,F,ye){T=T>>>0,F=F>>>0,ye||Ye(T,F,this.length);let De=this[T],$e=1,Ze=0;for(;++Ze<F&&($e*=256);)De+=this[T+Ze]*$e;return De},f.prototype.readUintBE=f.prototype.readUIntBE=function(T,F,ye){T=T>>>0,F=F>>>0,ye||Ye(T,F,this.length);let De=this[T+--F],$e=1;for(;F>0&&($e*=256);)De+=this[T+--F]*$e;return De},f.prototype.readUint8=f.prototype.readUInt8=function(T,F){return T=T>>>0,F||Ye(T,1,this.length),this[T]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(T,F){return T=T>>>0,F||Ye(T,2,this.length),this[T]|this[T+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(T,F){return T=T>>>0,F||Ye(T,2,this.length),this[T]<<8|this[T+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(T,F){return T=T>>>0,F||Ye(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(T,F){return T=T>>>0,F||Ye(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},f.prototype.readBigUInt64LE=Et(function(T){T=T>>>0,ze(T,"offset");const F=this[T],ye=this[T+7];(F===void 0||ye===void 0)&&he(T,this.length-8);const De=F+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,$e=this[++T]+this[++T]*2**8+this[++T]*2**16+ye*2**24;return BigInt(De)+(BigInt($e)<<BigInt(32))}),f.prototype.readBigUInt64BE=Et(function(T){T=T>>>0,ze(T,"offset");const F=this[T],ye=this[T+7];(F===void 0||ye===void 0)&&he(T,this.length-8);const De=F*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],$e=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+ye;return(BigInt(De)<<BigInt(32))+BigInt($e)}),f.prototype.readIntLE=function(T,F,ye){T=T>>>0,F=F>>>0,ye||Ye(T,F,this.length);let De=this[T],$e=1,Ze=0;for(;++Ze<F&&($e*=256);)De+=this[T+Ze]*$e;return $e*=128,De>=$e&&(De-=Math.pow(2,8*F)),De},f.prototype.readIntBE=function(T,F,ye){T=T>>>0,F=F>>>0,ye||Ye(T,F,this.length);let De=F,$e=1,Ze=this[T+--De];for(;De>0&&($e*=256);)Ze+=this[T+--De]*$e;return $e*=128,Ze>=$e&&(Ze-=Math.pow(2,8*F)),Ze},f.prototype.readInt8=function(T,F){return T=T>>>0,F||Ye(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},f.prototype.readInt16LE=function(T,F){T=T>>>0,F||Ye(T,2,this.length);const ye=this[T]|this[T+1]<<8;return ye&32768?ye|4294901760:ye},f.prototype.readInt16BE=function(T,F){T=T>>>0,F||Ye(T,2,this.length);const ye=this[T+1]|this[T]<<8;return ye&32768?ye|4294901760:ye},f.prototype.readInt32LE=function(T,F){return T=T>>>0,F||Ye(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},f.prototype.readInt32BE=function(T,F){return T=T>>>0,F||Ye(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},f.prototype.readBigInt64LE=Et(function(T){T=T>>>0,ze(T,"offset");const F=this[T],ye=this[T+7];(F===void 0||ye===void 0)&&he(T,this.length-8);const De=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(ye<<24);return(BigInt(De)<<BigInt(32))+BigInt(F+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),f.prototype.readBigInt64BE=Et(function(T){T=T>>>0,ze(T,"offset");const F=this[T],ye=this[T+7];(F===void 0||ye===void 0)&&he(T,this.length-8);const De=(F<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(De)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+ye)}),f.prototype.readFloatLE=function(T,F){return T=T>>>0,F||Ye(T,4,this.length),n.read(this,T,!0,23,4)},f.prototype.readFloatBE=function(T,F){return T=T>>>0,F||Ye(T,4,this.length),n.read(this,T,!1,23,4)},f.prototype.readDoubleLE=function(T,F){return T=T>>>0,F||Ye(T,8,this.length),n.read(this,T,!0,52,8)},f.prototype.readDoubleBE=function(T,F){return T=T>>>0,F||Ye(T,8,this.length),n.read(this,T,!1,52,8)};function Qe(ve,T,F,ye,De,$e){if(!f.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>De||T<$e)throw new RangeError('"value" argument is out of bounds');if(F+ye>ve.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(T,F,ye,De){if(T=+T,F=F>>>0,ye=ye>>>0,!De){const Oe=Math.pow(2,8*ye)-1;Qe(this,T,F,ye,Oe,0)}let $e=1,Ze=0;for(this[F]=T&255;++Ze<ye&&($e*=256);)this[F+Ze]=T/$e&255;return F+ye},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(T,F,ye,De){if(T=+T,F=F>>>0,ye=ye>>>0,!De){const Oe=Math.pow(2,8*ye)-1;Qe(this,T,F,ye,Oe,0)}let $e=ye-1,Ze=1;for(this[F+$e]=T&255;--$e>=0&&(Ze*=256);)this[F+$e]=T/Ze&255;return F+ye},f.prototype.writeUint8=f.prototype.writeUInt8=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,1,255,0),this[F]=T&255,F+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,2,65535,0),this[F]=T&255,this[F+1]=T>>>8,F+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,2,65535,0),this[F]=T>>>8,this[F+1]=T&255,F+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,4,4294967295,0),this[F+3]=T>>>24,this[F+2]=T>>>16,this[F+1]=T>>>8,this[F]=T&255,F+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,4,4294967295,0),this[F]=T>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=T&255,F+4};function rt(ve,T,F,ye,De){je(T,ye,De,ve,F,7);let $e=Number(T&BigInt(4294967295));ve[F++]=$e,$e=$e>>8,ve[F++]=$e,$e=$e>>8,ve[F++]=$e,$e=$e>>8,ve[F++]=$e;let Ze=Number(T>>BigInt(32)&BigInt(4294967295));return ve[F++]=Ze,Ze=Ze>>8,ve[F++]=Ze,Ze=Ze>>8,ve[F++]=Ze,Ze=Ze>>8,ve[F++]=Ze,F}function vt(ve,T,F,ye,De){je(T,ye,De,ve,F,7);let $e=Number(T&BigInt(4294967295));ve[F+7]=$e,$e=$e>>8,ve[F+6]=$e,$e=$e>>8,ve[F+5]=$e,$e=$e>>8,ve[F+4]=$e;let Ze=Number(T>>BigInt(32)&BigInt(4294967295));return ve[F+3]=Ze,Ze=Ze>>8,ve[F+2]=Ze,Ze=Ze>>8,ve[F+1]=Ze,Ze=Ze>>8,ve[F]=Ze,F+8}f.prototype.writeBigUInt64LE=Et(function(T,F=0){return rt(this,T,F,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Et(function(T,F=0){return vt(this,T,F,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(T,F,ye,De){if(T=+T,F=F>>>0,!De){const bt=Math.pow(2,8*ye-1);Qe(this,T,F,ye,bt-1,-bt)}let $e=0,Ze=1,Oe=0;for(this[F]=T&255;++$e<ye&&(Ze*=256);)T<0&&Oe===0&&this[F+$e-1]!==0&&(Oe=1),this[F+$e]=(T/Ze>>0)-Oe&255;return F+ye},f.prototype.writeIntBE=function(T,F,ye,De){if(T=+T,F=F>>>0,!De){const bt=Math.pow(2,8*ye-1);Qe(this,T,F,ye,bt-1,-bt)}let $e=ye-1,Ze=1,Oe=0;for(this[F+$e]=T&255;--$e>=0&&(Ze*=256);)T<0&&Oe===0&&this[F+$e+1]!==0&&(Oe=1),this[F+$e]=(T/Ze>>0)-Oe&255;return F+ye},f.prototype.writeInt8=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,1,127,-128),T<0&&(T=255+T+1),this[F]=T&255,F+1},f.prototype.writeInt16LE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,2,32767,-32768),this[F]=T&255,this[F+1]=T>>>8,F+2},f.prototype.writeInt16BE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,2,32767,-32768),this[F]=T>>>8,this[F+1]=T&255,F+2},f.prototype.writeInt32LE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,4,2147483647,-2147483648),this[F]=T&255,this[F+1]=T>>>8,this[F+2]=T>>>16,this[F+3]=T>>>24,F+4},f.prototype.writeInt32BE=function(T,F,ye){return T=+T,F=F>>>0,ye||Qe(this,T,F,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[F]=T>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=T&255,F+4},f.prototype.writeBigInt64LE=Et(function(T,F=0){return rt(this,T,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Et(function(T,F=0){return vt(this,T,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(ve,T,F,ye,De,$e){if(F+ye>ve.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function yt(ve,T,F,ye,De){return T=+T,F=F>>>0,De||it(ve,T,F,4),n.write(ve,T,F,ye,23,4),F+4}f.prototype.writeFloatLE=function(T,F,ye){return yt(this,T,F,!0,ye)},f.prototype.writeFloatBE=function(T,F,ye){return yt(this,T,F,!1,ye)};function xt(ve,T,F,ye,De){return T=+T,F=F>>>0,De||it(ve,T,F,8),n.write(ve,T,F,ye,52,8),F+8}f.prototype.writeDoubleLE=function(T,F,ye){return xt(this,T,F,!0,ye)},f.prototype.writeDoubleBE=function(T,F,ye){return xt(this,T,F,!1,ye)},f.prototype.copy=function(T,F,ye,De){if(!f.isBuffer(T))throw new TypeError("argument should be a Buffer");if(ye||(ye=0),!De&&De!==0&&(De=this.length),F>=T.length&&(F=T.length),F||(F=0),De>0&&De<ye&&(De=ye),De===ye||T.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(ye<0||ye>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),T.length-F<De-ye&&(De=T.length-F+ye);const $e=De-ye;return this===T&&typeof s.prototype.copyWithin=="function"?this.copyWithin(F,ye,De):s.prototype.set.call(T,this.subarray(ye,De),F),$e},f.prototype.fill=function(T,F,ye,De){if(typeof T=="string"){if(typeof F=="string"?(De=F,F=0,ye=this.length):typeof ye=="string"&&(De=ye,ye=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!f.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(T.length===1){const Ze=T.charCodeAt(0);(De==="utf8"&&Ze<128||De==="latin1")&&(T=Ze)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(F<0||this.length<F||this.length<ye)throw new RangeError("Out of range index");if(ye<=F)return this;F=F>>>0,ye=ye===void 0?this.length:ye>>>0,T||(T=0);let $e;if(typeof T=="number")for($e=F;$e<ye;++$e)this[$e]=T;else{const Ze=f.isBuffer(T)?T:f.from(T,De),Oe=Ze.length;if(Oe===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for($e=0;$e<ye-F;++$e)this[$e+F]=Ze[$e%Oe]}return this};const Ct={};function St(ve,T,F){Ct[ve]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ve}]`,this.stack,delete this.name}get code(){return ve}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${ve}]: ${this.message}`}}}St("ERR_BUFFER_OUT_OF_BOUNDS",function(ve){return ve?`${ve} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),St("ERR_INVALID_ARG_TYPE",function(ve,T){return`The "${ve}" argument must be of type number. Received type ${typeof T}`},TypeError),St("ERR_OUT_OF_RANGE",function(ve,T,F){let ye=`The value of "${ve}" is out of range.`,De=F;return Number.isInteger(F)&&Math.abs(F)>2**32?De=Rt(String(F)):typeof F=="bigint"&&(De=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(De=Rt(De)),De+="n"),ye+=` It must be ${T}. Received ${De}`,ye},RangeError);function Rt(ve){let T="",F=ve.length;const ye=ve[0]==="-"?1:0;for(;F>=ye+4;F-=3)T=`_${ve.slice(F-3,F)}${T}`;return`${ve.slice(0,F)}${T}`}function oe(ve,T,F){ze(T,"offset"),(ve[T]===void 0||ve[T+F]===void 0)&&he(T,ve.length-(F+1))}function je(ve,T,F,ye,De,$e){if(ve>F||ve<T){const Ze=typeof T=="bigint"?"n":"";let Oe;throw T===0||T===BigInt(0)?Oe=`>= 0${Ze} and < 2${Ze} ** ${($e+1)*8}${Ze}`:Oe=`>= -(2${Ze} ** ${($e+1)*8-1}${Ze}) and < 2 ** ${($e+1)*8-1}${Ze}`,new Ct.ERR_OUT_OF_RANGE("value",Oe,ve)}oe(ye,De,$e)}function ze(ve,T){if(typeof ve!="number")throw new Ct.ERR_INVALID_ARG_TYPE(T,"number",ve)}function he(ve,T,F){throw Math.floor(ve)!==ve?(ze(ve,F),new Ct.ERR_OUT_OF_RANGE("offset","an integer",ve)):T<0?new Ct.ERR_BUFFER_OUT_OF_BOUNDS:new Ct.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${T}`,ve)}const le=/[^+/0-9A-Za-z-_]/g;function me(ve){if(ve=ve.split("=")[0],ve=ve.trim().replace(le,""),ve.length<2)return"";for(;ve.length%4!==0;)ve=ve+"=";return ve}function Xe(ve,T){T=T||1/0;let F;const ye=ve.length;let De=null;const $e=[];for(let Ze=0;Ze<ye;++Ze){if(F=ve.charCodeAt(Ze),F>55295&&F<57344){if(!De){if(F>56319){(T-=3)>-1&&$e.push(239,191,189);continue}else if(Ze+1===ye){(T-=3)>-1&&$e.push(239,191,189);continue}De=F;continue}if(F<56320){(T-=3)>-1&&$e.push(239,191,189),De=F;continue}F=(De-55296<<10|F-56320)+65536}else De&&(T-=3)>-1&&$e.push(239,191,189);if(De=null,F<128){if((T-=1)<0)break;$e.push(F)}else if(F<2048){if((T-=2)<0)break;$e.push(F>>6|192,F&63|128)}else if(F<65536){if((T-=3)<0)break;$e.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((T-=4)<0)break;$e.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return $e}function Ee(ve){const T=[];for(let F=0;F<ve.length;++F)T.push(ve.charCodeAt(F)&255);return T}function Re(ve,T){let F,ye,De;const $e=[];for(let Ze=0;Ze<ve.length&&!((T-=2)<0);++Ze)F=ve.charCodeAt(Ze),ye=F>>8,De=F%256,$e.push(De),$e.push(ye);return $e}function at(ve){return e.toByteArray(me(ve))}function Ve(ve,T,F,ye){let De;for(De=0;De<ye&&!(De+F>=T.length||De>=ve.length);++De)T[De+F]=ve[De];return De}function qe(ve,T){return ve instanceof T||ve!=null&&ve.constructor!=null&&ve.constructor.name!=null&&ve.constructor.name===T.name}function ot(ve){return ve!==ve}const Pt=(function(){const ve="0123456789abcdef",T=new Array(256);for(let F=0;F<16;++F){const ye=F*16;for(let De=0;De<16;++De)T[ye+De]=ve[F]+ve[De]}return T})();function Et(ve){return typeof BigInt>"u"?Ft:ve}function Ft(){throw new Error("BigInt not supported")}})(buffer);const Buffer$1=buffer.Buffer,Buffer$1$1=buffer.Buffer;let rangeFrom=[],rangeTo=[];(()=>{let o="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<o.length;e++)(e%2?rangeTo:rangeFrom).push(n=n+o[e])})();function isExtendingChar(o){if(o<768)return!1;for(let e=0,n=rangeFrom.length;;){let r=e+n>>1;if(o<rangeFrom[r])n=r;else if(o>=rangeTo[r])e=r+1;else return!0;if(e==n)return!1}}function isRegionalIndicator(o){return o>=127462&&o<=127487}const ZWJ=8205;function findClusterBreak$1(o,e,n=!0,r=!0){return(n?nextClusterBreak:prevClusterBreak)(o,e,r)}function nextClusterBreak(o,e,n){if(e==o.length)return e;e&&surrogateLow$1(o.charCodeAt(e))&&surrogateHigh$1(o.charCodeAt(e-1))&&e--;let r=codePointAt$1(o,e);for(e+=codePointSize$1(r);e<o.length;){let a=codePointAt$1(o,e);if(r==ZWJ||a==ZWJ||n&&isExtendingChar(a))e+=codePointSize$1(a),r=a;else if(isRegionalIndicator(a)){let s=0,l=e-2;for(;l>=0&&isRegionalIndicator(codePointAt$1(o,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function prevClusterBreak(o,e,n){for(;e>0;){let r=nextClusterBreak(o,e-2,n);if(r<e)return r;e--}return 0}function codePointAt$1(o,e){let n=o.charCodeAt(e);if(!surrogateHigh$1(n)||e+1==o.length)return n;let r=o.charCodeAt(e+1);return surrogateLow$1(r)?(n-55296<<10)+(r-56320)+65536:n}function surrogateLow$1(o){return o>=56320&&o<57344}function surrogateHigh$1(o){return o>=55296&&o<56320}function codePointSize$1(o){return o<65536?1:2}let Text$1=class Ca{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=clip(this,e,n);let a=[];return this.decompose(0,e,a,2),r.length&&r.decompose(0,r.length,a,3),this.decompose(n,this.length,a,1),TextNode.from(a,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=clip(this,e,n);let r=[];return this.decompose(e,n,r,0),TextNode.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),a=new RawTextCursor(this),s=new RawTextCursor(e);for(let l=n,c=n;;){if(a.next(l),s.next(l),l=0,a.lineBreak!=s.lineBreak||a.done!=s.done||a.value!=s.value)return!1;if(c+=a.value.length,a.done||c>=r)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,n=this.length){return new PartialTextCursor(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let a=this.line(e).from;r=this.iterRange(a,Math.max(a,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new LineCursor(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ca.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}};class TextLeaf extends Text$1{constructor(e,n=textLength(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,a){for(let s=0;;s++){let l=this.text[s],c=a+l.length;if((n?r:c)>=e)return new Line$1(a,c,r,l);a=c+1,r++}}decompose(e,n,r,a){let s=e<=0&&n>=this.length?this:new TextLeaf(sliceText(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(a&1){let l=r.pop(),c=appendText(s.text,l.text.slice(),0,s.length);if(c.length<=32)r.push(new TextLeaf(c,l.length+s.length));else{let u=c.length>>1;r.push(new TextLeaf(c.slice(0,u)),new TextLeaf(c.slice(u)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof TextLeaf))return super.replace(e,n,r);[e,n]=clip(this,e,n);let a=appendText(this.text,appendText(r.text,sliceText(this.text,0,e)),n),s=this.length+r.length-(n-e);return a.length<=32?new TextLeaf(a,s):TextNode.from(TextLeaf.split(a,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=clip(this,e,n);let a="";for(let s=0,l=0;s<=n&&l<this.text.length;l++){let c=this.text[l],u=s+c.length;s>e&&l&&(a+=r),e<u&&n>s&&(a+=c.slice(Math.max(0,e-s),n-s)),s=u+1}return a}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],a=-1;for(let s of e)r.push(s),a+=s.length+1,r.length==32&&(n.push(new TextLeaf(r,a)),r=[],a=-1);return a>-1&&n.push(new TextLeaf(r,a)),n}}class TextNode extends Text$1{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,a){for(let s=0;;s++){let l=this.children[s],c=a+l.length,u=r+l.lines-1;if((n?u:c)>=e)return l.lineInner(e,n,r,a);a=c+1,r=u+1}}decompose(e,n,r,a){for(let s=0,l=0;l<=n&&s<this.children.length;s++){let c=this.children[s],u=l+c.length;if(e<=u&&n>=l){let h=a&((l<=e?1:0)|(u>=n?2:0));l>=e&&u<=n&&!h?r.push(c):c.decompose(e-l,n-l,r,h)}l=u+1}}replace(e,n,r){if([e,n]=clip(this,e,n),r.lines<this.lines)for(let a=0,s=0;a<this.children.length;a++){let l=this.children[a],c=s+l.length;if(e>=s&&n<=c){let u=l.replace(e-s,n-s,r),h=this.lines-l.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let f=this.children.slice();return f[a]=u,new TextNode(f,this.length-(n-e)+r.length)}return super.replace(s,c,u)}s=c+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=clip(this,e,n);let a="";for(let s=0,l=0;s<this.children.length&&l<=n;s++){let c=this.children[s],u=l+c.length;l>e&&s&&(a+=r),e<u&&n>l&&(a+=c.sliceString(e-l,n-l,r)),l=u+1}return a}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof TextNode))return 0;let r=0,[a,s,l,c]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;a+=n,s+=n){if(a==l||s==c)return r;let u=this.children[a],h=e.children[s];if(u!=h)return r+u.scanIdentical(h,n);r+=u.length+1}}static from(e,n=e.reduce((r,a)=>r+a.length+1,-1)){let r=0;for(let g of e)r+=g.lines;if(r<32){let g=[];for(let y of e)y.flatten(g);return new TextLeaf(g,n)}let a=Math.max(32,r>>5),s=a<<1,l=a>>1,c=[],u=0,h=-1,f=[];function d(g){let y;if(g.lines>s&&g instanceof TextNode)for(let v of g.children)d(v);else g.lines>l&&(u>l||!u)?(p(),c.push(g)):g instanceof TextLeaf&&u&&(y=f[f.length-1])instanceof TextLeaf&&g.lines+y.lines<=32?(u+=g.lines,h+=g.length+1,f[f.length-1]=new TextLeaf(y.text.concat(g.text),y.length+1+g.length)):(u+g.lines>a&&p(),u+=g.lines,h+=g.length+1,f.push(g))}function p(){u!=0&&(c.push(f.length==1?f[0]:TextNode.from(f,h)),h=-1,u=f.length=0)}for(let g of e)d(g);return p(),c.length==1?c[0]:new TextNode(c,n)}}Text$1.empty=new TextLeaf([""],0);function textLength(o){let e=-1;for(let n of o)e+=n.length+1;return e}function appendText(o,e,n=0,r=1e9){for(let a=0,s=0,l=!0;s<o.length&&a<=r;s++){let c=o[s],u=a+c.length;u>=n&&(u>r&&(c=c.slice(0,r-a)),a<n&&(c=c.slice(n-a)),l?(e[e.length-1]+=c,l=!1):e.push(c)),a=u+1}return e}function sliceText(o,e,n){return appendText(o,[""],e,n)}class RawTextCursor{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,a=this.nodes[r],s=this.offsets[r],l=s>>1,c=a instanceof TextLeaf?a.text.length:a.children.length;if(l==(n>0?c:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(a instanceof TextLeaf){let u=a.text[l+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=a.children[l+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof TextLeaf?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:a}=this.cursor.next(e);return this.pos+=(a.length+e)*n,this.value=a.length<=r?a:n<0?a.slice(a.length-r):a.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:a}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=a,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text$1.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});let Line$1=class{constructor(e,n,r,a){this.from=e,this.to=n,this.number=r,this.text=a}get length(){return this.to-this.from}};function clip(o,e,n){return e=Math.max(0,Math.min(o.length,e)),[e,Math.max(e,Math.min(o.length,n))]}function findClusterBreak(o,e,n=!0,r=!0){return findClusterBreak$1(o,e,n,r)}function surrogateLow(o){return o>=56320&&o<57344}function surrogateHigh(o){return o>=55296&&o<56320}function codePointAt(o,e){let n=o.charCodeAt(e);if(!surrogateHigh(n)||e+1==o.length)return n;let r=o.charCodeAt(e+1);return surrogateLow(r)?(n-55296<<10)+(r-56320)+65536:n}function fromCodePoint(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}function codePointSize(o){return o<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=(function(o){return o[o.Simple=0]="Simple",o[o.TrackDel=1]="TrackDel",o[o.TrackBefore=2]="TrackBefore",o[o.TrackAfter=3]="TrackAfter",o})(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,a=0;n<this.sections.length;){let s=this.sections[n++],l=this.sections[n++];l<0?(e(r,a,s),a+=s):a+=l,r+=s}}iterChangedRanges(e,n=!1){iterChanges(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],a=this.sections[n++];a<0?e.push(r,a):e.push(a,r)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,n=!1){return e.empty?this:mapSet(this,e,n)}mapPos(e,n=-1,r=MapMode.Simple){let a=0,s=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],u=this.sections[l++],h=a+c;if(u<0){if(h>e)return s+(e-a);s+=c}else{if(r!=MapMode.Simple&&h>=e&&(r==MapMode.TrackDel&&a<e&&h>e||r==MapMode.TrackBefore&&a<e||r==MapMode.TrackAfter&&h>e))return null;if(h>e||h==e&&n<0&&!c)return e==a||n<0?s:s+u;s+=u}a=h}if(e>a)throw new RangeError(`Position ${e} is out of range for changeset of length ${a}`);return s}touchesRange(e,n=e){for(let r=0,a=0;r<this.sections.length&&a<=n;){let s=this.sections[r++],l=this.sections[r++],c=a+s;if(l>=0&&a<=n&&c>=e)return a<e&&c>n?"cover":!0;a=c}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],a=this.sections[n++];e+=(e?" ":"")+r+(a>=0?":"+a:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(n,r,a,s,l)=>e=e.replace(a,a+(r-n),l),!1),e}mapDesc(e,n=!1){return mapSet(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let a=0,s=0;a<n.length;a+=2){let l=n[a],c=n[a+1];if(c>=0){n[a]=c,n[a+1]=l;let u=a>>1;for(;r.length<u;)r.push(Text$1.empty);r.push(l?e.slice(s,s+l):Text$1.empty)}s+=l}return new ChangeSet(n,r)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,n=!1){return e.empty?this:mapSet(this,e,n,!0)}iterChanges(e,n=!1){iterChanges(this,e,n)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let n=[],r=[],a=[],s=new SectionIter(this);e:for(let l=0,c=0;;){let u=l==e.length?1e9:e[l++];for(;c<u||c==u&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,u-c);addSection(a,f,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;addSection(n,f,d),d>0&&addInsert(r,n,s.text),s.forward(f),c+=f}let h=e[l++];for(;c<h;){if(s.done)break e;let f=Math.min(s.len,h-c);addSection(n,f,-1),addSection(a,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),c+=f}}return{changes:new ChangeSet(n,r),filtered:ChangeDesc.create(a)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],a=this.sections[n+1];a<0?e.push(r):a==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let a=[],s=[],l=0,c=null;function u(f=!1){if(!f&&!a.length)return;l<n&&addSection(a,n-l,-1);let d=new ChangeSet(a,s);c=c?c.compose(d.map(c)):d,a=[],s=[],l=0}function h(f){if(Array.isArray(f))for(let d of f)h(d);else if(f instanceof ChangeSet){if(f.length!=n)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${n})`);u(),c=c?c.compose(f.map(c)):f}else{let{from:d,to:p=d,insert:g}=f;if(d>p||d<0||p>n)throw new RangeError(`Invalid change range ${d} to ${p} (in doc of length ${n})`);let y=g?typeof g=="string"?Text$1.of(g.split(r||DefaultSplit)):g:Text$1.empty,v=y.length;if(d==p&&v==0)return;d<l&&u(),d>l&&addSection(a,d-l,-1),addSection(a,p-d,v),addInsert(s,a,y),l=p}}return h(e),u(!c),c}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<a;)r.push(Text$1.empty);r[a]=Text$1.of(s.slice(1)),n.push(s[0],r[a].length)}}}return new ChangeSet(n,r)}static createSet(e,n){return new ChangeSet(e,n)}}function addSection(o,e,n,r=!1){if(e==0&&n<=0)return;let a=o.length-2;a>=0&&n<=0&&n==o[a+1]?o[a]+=e:a>=0&&e==0&&o[a]==0?o[a+1]+=n:r?(o[a]+=e,o[a+1]+=n):o.push(e,n)}function addInsert(o,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<o.length)o[o.length-1]=o[o.length-1].append(n);else{for(;o.length<r;)o.push(Text$1.empty);o.push(n)}}function iterChanges(o,e,n){let r=o.inserted;for(let a=0,s=0,l=0;l<o.sections.length;){let c=o.sections[l++],u=o.sections[l++];if(u<0)a+=c,s+=c;else{let h=a,f=s,d=Text$1.empty;for(;h+=c,f+=u,u&&r&&(d=d.append(r[l-2>>1])),!(n||l==o.sections.length||o.sections[l+1]<0);)c=o.sections[l++],u=o.sections[l++];e(a,h,s,f,d),a=h,s=f}}}function mapSet(o,e,n,r=!1){let a=[],s=r?[]:null,l=new SectionIter(o),c=new SectionIter(e);for(let u=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&c.ins==-1){let h=Math.min(l.len,c.len);addSection(a,h,-1),l.forward(h),c.forward(h)}else if(c.ins>=0&&(l.ins<0||u==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!n))){let h=c.len;for(addSection(a,c.ins,-1);h;){let f=Math.min(l.len,h);l.ins>=0&&u<l.i&&l.len<=f&&(addSection(a,0,l.ins),s&&addInsert(s,a,l.text),u=l.i),l.forward(f),h-=f}c.next()}else if(l.ins>=0){let h=0,f=l.len;for(;f;)if(c.ins==-1){let d=Math.min(f,c.len);h+=d,f-=d,c.forward(d)}else if(c.ins==0&&c.len<f)f-=c.len,c.next();else break;addSection(a,h,u<l.i?l.ins:0),s&&u<l.i&&addInsert(s,a,l.text),u=l.i,l.forward(l.len-f)}else{if(l.done&&c.done)return s?ChangeSet.createSet(a,s):ChangeDesc.create(a);throw new Error("Mismatched change set lengths")}}}function composeSets(o,e,n=!1){let r=[],a=n?[]:null,s=new SectionIter(o),l=new SectionIter(e);for(let c=!1;;){if(s.done&&l.done)return a?ChangeSet.createSet(r,a):ChangeDesc.create(r);if(s.ins==0)addSection(r,s.len,0,c),s.next();else if(l.len==0&&!l.done)addSection(r,0,l.ins,c),a&&addInsert(a,r,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,l.len),h=r.length;if(s.ins==-1){let f=l.ins==-1?-1:l.off?0:l.ins;addSection(r,u,f,c),a&&f&&addInsert(a,r,l.text)}else l.ins==-1?(addSection(r,s.off?0:s.len,u,c),a&&addInsert(a,r,s.textBit(u))):(addSection(r,s.off?0:s.len,l.off?0:l.ins,c),a&&!l.off&&addInsert(a,r,l.text));c=(s.ins>u||l.ins>=0&&l.len>u)&&(c||r.length>h),s.forward2(u),l.forward(u)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Text$1.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Text$1.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,a;return this.empty?r=a=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),a=e.mapPos(this.to,-1)),r==this.from&&a==this.to?this:new SelectionRange(r,a,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return EditorSelection.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return EditorSelection.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,n,r){return new SelectionRange(e,n,r)}}class EditorSelection{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:EditorSelection.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,n=!0){return EditorSelection.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,EditorSelection.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(n=>SelectionRange.fromJSON(n)),e.main)}static single(e,n=e){return new EditorSelection([EditorSelection.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,a=0;a<e.length;a++){let s=e[a];if(s.empty?s.from<=r:s.from<r)return EditorSelection.normalized(e.slice(),n);r=s.to}return new EditorSelection(e,n)}static cursor(e,n=0,r,a){return SelectionRange.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(a??16777215)<<6)}static range(e,n,r,a){let s=(r??16777215)<<6|(a==null?7:Math.min(6,a));return n<e?SelectionRange.create(n,e,48|s):SelectionRange.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((a,s)=>a.from-s.from),n=e.indexOf(r);for(let a=1;a<e.length;a++){let s=e[a],l=e[a-1];if(s.empty?s.from<=l.to:s.from<l.to){let c=l.from,u=Math.max(s.to,l.to);a<=n&&n--,e.splice(--a,2,s.anchor>s.head?EditorSelection.range(u,c):EditorSelection.range(c,u))}}return new EditorSelection(e,n)}}function checkSelection(o,e){for(let n of o.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,n,r,a,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=a,this.id=nextID++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Facet(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function sameArray$1(o,e){return o==e||o.length==e.length&&o.every((n,r)=>n===e[r])}class FacetProvider{constructor(e,n,r,a){this.dependencies=e,this.facet=n,this.type=r,this.value=a,this.id=nextID++}dynamicSlot(e){var n;let r=this.value,a=this.facet.compareInput,s=this.id,l=e[s]>>1,c=this.type==2,u=!1,h=!1,f=[];for(let d of this.dependencies)d=="doc"?u=!0:d=="selection"?h=!0:(((n=e[d.id])!==null&&n!==void 0?n:1)&1)==0&&f.push(e[d.id]);return{create(d){return d.values[l]=r(d),1},update(d,p){if(u&&p.docChanged||h&&(p.docChanged||p.selection)||ensureAll(d,f)){let g=r(d);if(c?!compareArray(g,d.values[l],a):!a(g,d.values[l]))return d.values[l]=g,1}return 0},reconfigure:(d,p)=>{let g,y=p.config.address[s];if(y!=null){let v=getAddr(p,y);if(this.dependencies.every(w=>w instanceof Facet?p.facet(w)===d.facet(w):w instanceof StateField?p.field(w,!1)==d.field(w,!1):!0)||(c?compareArray(g=r(d),v,a):a(g=r(d),v)))return d.values[l]=v,0}else g=r(d);return d.values[l]=g,1}}}}function compareArray(o,e,n){if(o.length!=e.length)return!1;for(let r=0;r<o.length;r++)if(!n(o[r],e[r]))return!1;return!0}function ensureAll(o,e){let n=!1;for(let r of e)ensureAddr(o,r)&1&&(n=!0);return n}function dynamicFacetSlot(o,e,n){let r=n.map(u=>o[u.id]),a=n.map(u=>u.type),s=r.filter(u=>!(u&1)),l=o[e.id]>>1;function c(u){let h=[];for(let f=0;f<r.length;f++){let d=getAddr(u,r[f]);if(a[f]==2)for(let p of d)h.push(p);else h.push(d)}return e.combine(h)}return{create(u){for(let h of r)ensureAddr(u,h);return u.values[l]=c(u),1},update(u,h){if(!ensureAll(u,s))return 0;let f=c(u);return e.compare(f,u.values[l])?0:(u.values[l]=f,1)},reconfigure(u,h){let f=ensureAll(u,r),d=h.config.facets[e.id],p=h.facet(e);if(d&&!f&&sameArray$1(n,d))return u.values[l]=p,0;let g=c(u);return e.compare(g,p)?(u.values[l]=p,0):(u.values[l]=g,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,n,r,a,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=a,this.spec=s,this.provides=void 0}static define(e){let n=new StateField(nextID++,e.create,e.update,e.compare||((r,a)=>r===a),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(initField).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,a)=>{let s=r.values[n],l=this.updateF(s,a);return this.compareF(s,l)?0:(r.values[n]=l,1)},reconfigure:(r,a)=>{let s=r.facet(initField),l=a.facet(initField),c;return(c=s.find(u=>u.field==this))&&c!=l.find(u=>u.field==this)?(r.values[n]=c.create(r),1):a.config.address[this.id]!=null?(r.values[n]=a.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(o){return e=>new PrecExtension(e,o)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,n){this.inner=e,this.prec=n}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,n){this.compartment=e,this.inner=n}}class Configuration{constructor(e,n,r,a,s,l){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=a,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let a=[],s=Object.create(null),l=new Map;for(let p of flatten(e,n,l))p instanceof StateField?a.push(p):(s[p.facet.id]||(s[p.facet.id]=[])).push(p);let c=Object.create(null),u=[],h=[];for(let p of a)c[p.id]=h.length<<1,h.push(g=>p.slot(g));let f=r?.config.facets;for(let p in s){let g=s[p],y=g[0].facet,v=f&&f[p]||[];if(g.every(w=>w.type==0))if(c[y.id]=u.length<<1|1,sameArray$1(v,g))u.push(r.facet(y));else{let w=y.combine(g.map(O=>O.value));u.push(r&&y.compare(w,r.facet(y))?r.facet(y):w)}else{for(let w of g)w.type==0?(c[w.id]=u.length<<1|1,u.push(w.value)):(c[w.id]=h.length<<1,h.push(O=>w.dynamicSlot(O)));c[y.id]=h.length<<1,h.push(w=>dynamicFacetSlot(w,y,g))}}let d=h.map(p=>p(c));return new Configuration(e,l,d,c,u,s)}}function flatten(o,e,n){let r=[[],[],[],[],[]],a=new Map;function s(l,c){let u=a.get(l);if(u!=null){if(u<=c)return;let h=r[u].indexOf(l);h>-1&&r[u].splice(h,1),l instanceof CompartmentInstance&&n.delete(l.compartment)}if(a.set(l,c),Array.isArray(l))for(let h of l)s(h,c);else if(l instanceof CompartmentInstance){if(n.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;n.set(l.compartment,h),s(h,c)}else if(l instanceof PrecExtension)s(l.inner,l.prec);else if(l instanceof StateField)r[c].push(l),l.provides&&s(l.provides,c);else if(l instanceof FacetProvider)r[c].push(l),l.facet.extensions&&s(l.facet.extensions,Prec_.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,c)}}return s(o,Prec_.default),r.reduce((l,c)=>l.concat(c))}function ensureAddr(o,e){if(e&1)return 2;let n=e>>1,r=o.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;o.status[n]=4;let a=o.computeSlot(o,o.config.dynamicSlots[n]);return o.status[n]=2|a}function getAddr(o,e){return e&1?o.config.staticValues[e>>1]:o.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:o=>o.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:o=>o.length?o[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:o=>o.length?o[0]:!1});class Annotation{constructor(e,n){this.type=e,this.value=n}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new StateEffect(this.type,n)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let a of e){let s=a.map(n);s&&r.push(s)}return r}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,n,r,a,s,l){this.startState=e,this.changes=n,this.selection=r,this.effects=a,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,r&&checkSelection(r,n.newLength),s.some(c=>c.type==Transaction.time)||(this.annotations=s.concat(Transaction.time.of(Date.now())))}static create(e,n,r,a,s,l){return new Transaction(e,n,r,a,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Transaction.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(o,e){let n=[];for(let r=0,a=0;;){let s,l;if(r<o.length&&(a==e.length||e[a]>=o[r]))s=o[r++],l=o[r++];else if(a<e.length)s=e[a++],l=e[a++];else return n;!n.length||n[n.length-1]<s?n.push(s,l):n[n.length-1]<l&&(n[n.length-1]=l)}}function mergeTransaction(o,e,n){var r;let a,s,l;return n?(a=e.changes,s=ChangeSet.empty(e.changes.length),l=o.changes.compose(e.changes)):(a=e.changes.map(o.changes),s=o.changes.mapDesc(e.changes,!0),l=o.changes.compose(a)),{changes:l,selection:e.selection?e.selection.map(s):(r=o.selection)===null||r===void 0?void 0:r.map(a),effects:StateEffect.mapEffects(o.effects,a).concat(StateEffect.mapEffects(e.effects,s)),annotations:o.annotations.length?o.annotations.concat(e.annotations):e.annotations,scrollIntoView:o.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(o,e,n){let r=e.selection,a=asArray$1(e.annotations);return e.userEvent&&(a=a.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],n,o.facet(lineSeparator)),selection:r&&(r instanceof EditorSelection?r:EditorSelection.single(r.anchor,r.head)),effects:asArray$1(e.effects),annotations:a,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(o,e,n){let r=resolveTransactionInner(o,e.length?e[0]:{},o.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let l=!!e[s].sequential;r=mergeTransaction(r,resolveTransactionInner(o,e[s],l?r.changes.newLength:o.doc.length),l)}let a=Transaction.create(o,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return extendTransaction(n?filterTransaction(a):a)}function filterTransaction(o){let e=o.startState,n=!0;for(let a of e.facet(changeFilter)){let s=a(o);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:joinRanges(n,s))}if(n!==!0){let a,s;if(n===!1)s=o.changes.invertedDesc,a=ChangeSet.empty(e.doc.length);else{let l=o.changes.filter(n);a=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}o=Transaction.create(e,a,o.selection&&o.selection.map(s),StateEffect.mapEffects(o.effects,s),o.annotations,o.scrollIntoView)}let r=e.facet(transactionFilter);for(let a=r.length-1;a>=0;a--){let s=r[a](o);s instanceof Transaction?o=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Transaction?o=s[0]:o=resolveTransaction(e,asArray$1(s),!1)}return o}function extendTransaction(o){let e=o.startState,n=e.facet(transactionExtender),r=o;for(let a=n.length-1;a>=0;a--){let s=n[a](o);s&&Object.keys(s).length&&(r=mergeTransaction(r,resolveTransactionInner(e,s,o.changes.newLength),!0))}return r==o?o:Transaction.create(e,o.changes,o.selection,r.effects,r.annotations,r.scrollIntoView)}const none$3=[];function asArray$1(o){return o==null?none$3:Array.isArray(o)?o:[o]}var CharCategory=(function(o){return o[o.Word=0]="Word",o[o.Space=1]="Space",o[o.Other=2]="Other",o})(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar$1;try{wordChar$1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(o){if(wordChar$1)return wordChar$1.test(o);for(let e=0;e<o.length;e++){let n=o[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||nonASCIISingleCaseWordChar.test(n)))return!0}return!1}function makeCategorizer(o){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let n=0;n<o.length;n++)if(e.indexOf(o[n])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,n,r,a,s,l){this.config=e,this.doc=n,this.selection=r,this.values=a,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)ensureAddr(this,c<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,r),getAddr(this,r)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:a}=n;for(let c of e.effects)c.is(Compartment.reconfigure)?(n&&(a=new Map,n.compartments.forEach((u,h)=>a.set(h,u)),n=null),a.set(c.value.compartment,c.value.extension)):c.is(StateEffect.reconfigure)?(n=null,r=c.value):c.is(StateEffect.appendConfig)&&(n=null,r=asArray$1(r).concat(c.value));let s;n?s=e.startState.values.slice():(n=Configuration.resolve(r,a,this),s=new EditorState(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let l=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(n,e.newDoc,l,s,(c,u)=>u.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:EditorSelection.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),a=this.changes(r.changes),s=[r.range],l=asArray$1(r.effects);for(let c=1;c<n.ranges.length;c++){let u=e(n.ranges[c]),h=this.changes(u.changes),f=h.map(a);for(let p=0;p<c;p++)s[p]=s[p].map(f);let d=a.mapDesc(h,!0);s.push(u.range.map(d)),a=a.compose(f),l=StateEffect.mapEffects(l,f).concat(StateEffect.mapEffects(asArray$1(u.effects),d))}return{changes:a,selection:EditorSelection.create(s,n.mainIndex),effects:l}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text$1.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(ensureAddr(this,n),getAddr(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let a=e[r];a instanceof StateField&&this.config.address[a.id]!=null&&(n[r]=a.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let a=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let l=r[s],c=e[s];a.push(l.init(u=>l.spec.fromJSON(c,u)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:n.extensions?a.concat([n.extensions]):a})}static create(e={}){let n=Configuration.resolve(e.extensions||[],new Map),r=e.doc instanceof Text$1?e.doc:Text$1.of((e.doc||"").split(n.staticFacet(EditorState.lineSeparator)||DefaultSplit)),a=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(a,r.length),n.staticFacet(allowMultipleSelections)||(a=a.asSingle()),new EditorState(n,r,a,n.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...n){for(let r of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,a)=>{if(a=="$")return"$";let s=+(a||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let a=[];for(let s of this.facet(languageData))for(let l of s(this,n,r))Object.prototype.hasOwnProperty.call(l,e)&&a.push(l[e]);return a}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:a}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-r,c=e-r;for(;l>0;){let u=findClusterBreak(n,l,!1);if(s(n.slice(u,l))!=CharCategory.Word)break;l=u}for(;c<a;){let u=findClusterBreak(n,c);if(s(n.slice(c,u))!=CharCategory.Word)break;c=u}return l==c?null:EditorSelection.range(l+r,c+r)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:o=>o.length?o[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(o,e){let n=Object.keys(o),r=Object.keys(e);return n.length==r.length&&n.every(a=>o[a]==e[a])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(o,e,n={}){let r={};for(let a of o)for(let s of Object.keys(a)){let l=a[s],c=r[s];if(c===void 0)r[s]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](c,l);else throw new Error("Config merge conflict for field "+s)}for(let a in e)r[a]===void 0&&(r[a]=e[a]);return r}class RangeValue{eq(e){return this==e}range(e,n=e){return Range$1.create(e,n,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Ta{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Ta(e,n,r)}};function cmpRange(o,e){return o.from-e.from||o.value.startSide-e.value.startSide}class Chunk{constructor(e,n,r,a){this.from=e,this.to=n,this.value=r,this.maxPoint=a}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,a=0){let s=r?this.to:this.from;for(let l=a,c=s.length;;){if(l==c)return l;let u=l+c>>1,h=s[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==l)return h>=0?l:c;h>=0?c=u:l=u+1}}between(e,n,r,a){for(let s=this.findIndex(n,-1e9,!0),l=this.findIndex(r,1e9,!1,s);s<l;s++)if(a(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],a=[],s=[],l=-1,c=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],f=this.from[u]+e,d=this.to[u]+e,p,g;if(f==d){let y=n.mapPos(f,h.startSide,h.mapMode);if(y==null||(p=g=y,h.startSide!=h.endSide&&(g=n.mapPos(f,h.endSide),g<p)))continue}else if(p=n.mapPos(f,h.startSide),g=n.mapPos(d,h.endSide),p>g||p==g&&h.startSide>0&&h.endSide<=0)continue;(g-p||h.endSide-h.startSide)<0||(l<0&&(l=p),h.point&&(c=Math.max(c,g-p)),r.push(h),a.push(p-l),s.push(g-l))}return{mapped:r.length?new Chunk(a,s,r,c):null,pos:l}}}class RangeSet{constructor(e,n,r,a){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=a}static create(e,n,r,a){return new RangeSet(e,n,r,a)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:a=0,filterTo:s=this.length}=e,l=e.filter;if(n.length==0&&!l)return this;if(r&&(n=n.slice().sort(cmpRange)),this.isEmpty)return n.length?RangeSet.of(n):this;let c=new LayerCursor(this,null,-1).goto(0),u=0,h=[],f=new RangeSetBuilder;for(;c.value||u<n.length;)if(u<n.length&&(c.from-n[u].from||c.startSide-n[u].value.startSide)>=0){let d=n[u++];f.addInner(d.from,d.to,d.value)||h.push(d)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(c.chunkIndex)<n[u].from)&&(!l||a>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&f.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||a>c.to||s<c.from||l(c.from,c.to,c.value))&&(f.addInner(c.from,c.to,c.value)||h.push(Range$1.create(c.from,c.to,c.value))),c.next());return f.finishInner(this.nextLayer.isEmpty&&!h.length?RangeSet.empty:this.nextLayer.update({add:h,filter:l,filterFrom:a,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],a=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],u=this.chunk[l],h=e.touchesRange(c,c+u.length);if(h===!1)a=Math.max(a,u.maxPoint),n.push(u),r.push(e.mapPos(c));else if(h===!0){let{mapped:f,pos:d}=u.map(c,e);f&&(a=Math.max(a,f.maxPoint),n.push(f),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new RangeSet(r,n,s||RangeSet.empty,a)}between(e,n,r){if(!this.isEmpty){for(let a=0;a<this.chunk.length;a++){let s=this.chunkPos[a],l=this.chunk[a];if(n>=s&&e<=s+l.length&&l.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return HeapCursor.from(e).goto(n)}static compare(e,n,r,a,s=-1){let l=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),c=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),u=findSharedChunks(l,c,r),h=new SpanCursor(l,u,s),f=new SpanCursor(c,u,s);r.iterGaps((d,p,g)=>compare(h,d,f,p,g,a)),r.empty&&r.length==0&&compare(h,0,f,0,0,a)}static eq(e,n,r=0,a){a==null&&(a=999999999);let s=e.filter(f=>!f.isEmpty&&n.indexOf(f)<0),l=n.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let c=findSharedChunks(s,l),u=new SpanCursor(s,c,0).goto(r),h=new SpanCursor(l,c,0).goto(r);for(;;){if(u.to!=h.to||!sameValues(u.active,h.active)||u.point&&(!h.point||!u.point.eq(h.point)))return!1;if(u.to>a)return!0;u.next(),h.next()}}static spans(e,n,r,a,s=-1){let l=new SpanCursor(e,null,s).goto(n),c=n,u=l.openStart;for(;;){let h=Math.min(l.to,r);if(l.point){let f=l.activeForPoint(l.to),d=l.pointFrom<n?f.length+1:l.point.startSide<0?f.length:Math.min(f.length,u);a.point(c,h,l.point,f,d,l.pointRank),u=Math.min(l.openEnd(h),f.length)}else h>c&&(a.span(c,h,l.active,u),u=l.openEnd(h));if(l.to>r)return u+(l.point&&l.to>r?1:0);c=l.to,l.next()}}static of(e,n=!1){let r=new RangeSetBuilder;for(let a of e instanceof Range$1?[e]:n?lazySort(e):e)r.add(a.from,a.to,a.value);return r.finish()}static join(e){if(!e.length)return RangeSet.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let a=e[r];a!=RangeSet.empty;a=a.nextLayer)n=new RangeSet(a.chunkPos,a.chunk,n,Math.max(a.maxPoint,n.maxPoint));return n}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(o){if(o.length>1)for(let e=o[0],n=1;n<o.length;n++){let r=o[n];if(cmpRange(e,r)>0)return o.slice().sort(cmpRange);e=r}return o}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,n,r)}addInner(e,n,r){let a=e-this.lastTo||r.startSide-this.last.endSide;if(a<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return a<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function findSharedChunks(o,e,n){let r=new Map;for(let s of o)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&r.set(s.chunk[l],s.chunkPos[l]);let a=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let c=r.get(s.chunk[l]);c!=null&&(n?n.mapPos(c):c)==s.chunkPos[l]&&!n?.touchesRange(c,c+s.chunk[l].length)&&a.add(s.chunk[l])}return a}class LayerCursor{constructor(e,n,r,a=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=a}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let a=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(a)||this.layer.chunkEnd(this.chunkIndex)<e||a.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let a=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<a)&&this.setRangeIndex(a)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,n=null,r=-1){let a=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&a.push(new LayerCursor(l,n,r,s));return a.length==1?a[0]:new HeapCursor(a)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)heapBubble(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)heapBubble(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(o,e){for(let n=o[e];;){let r=(e<<1)+1;if(r>=o.length)break;let a=o[r];if(r+1<o.length&&a.compare(o[r+1])>=0&&(a=o[r+1],r++),n.compare(a)<0)break;o[r]=n,o[e]=a,e=r}}class SpanCursor{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){remove(this.active,e),remove(this.activeTo,e),remove(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:a,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||a-this.activeTo[n])>0;)n++;insert(this.active,n,r),insert(this.activeTo,n,a),insert(this.activeRank,n,s),e&&insert(e,n,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let a=this.minActive;if(a>-1&&(this.activeTo[a]-this.cursor.from||this.active[a].endSide-this.cursor.startSide)<0){if(this.activeTo[a]>e){this.to=this.activeTo[a],this.endSide=this.active[a].endSide;break}this.removeActive(a),r&&remove(r,a)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let a=r.length-1;a>=0&&r[a]<e;a--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function compare(o,e,n,r,a,s){o.goto(e),n.goto(r);let l=r+a,c=r,u=r-e;for(;;){let h=o.to+u-n.to,f=h||o.endSide-n.endSide,d=f<0?o.to+u:n.to,p=Math.min(d,l);if(o.point||n.point?o.point&&n.point&&(o.point==n.point||o.point.eq(n.point))&&sameValues(o.activeForPoint(o.to),n.activeForPoint(n.to))||s.comparePoint(c,p,o.point,n.point):p>c&&!sameValues(o.active,n.active)&&s.compareRange(c,p,o.active,n.active),d>l)break;(h||o.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(d),c=d,f<=0&&o.next(),f>=0&&n.next()}}function sameValues(o,e){if(o.length!=e.length)return!1;for(let n=0;n<o.length;n++)if(o[n]!=e[n]&&!o[n].eq(e[n]))return!1;return!0}function remove(o,e){for(let n=e,r=o.length-1;n<r;n++)o[n]=o[n+1];o.pop()}function insert(o,e,n){for(let r=o.length-1;r>=e;r--)o[r+1]=o[r];o[e]=n}function findMinIndex(o,e){let n=-1,r=1e9;for(let a=0;a<e.length;a++)(e[a]-r||o[a].endSide-o[n].endSide)<0&&(n=a,r=e[a]);return n}function countColumn(o,e,n=o.length){let r=0;for(let a=0;a<n&&a<o.length;)o.charCodeAt(a)==9?(r+=e-r%e,a++):(r++,a=findClusterBreak(o,a));return r}function findColumn$1(o,e,n,r){for(let a=0,s=0;;){if(s>=e)return a;if(a==o.length)break;s+=o.charCodeAt(a)==9?n-s%n:1,a=findClusterBreak(o,a)}return r===!0?-1:o.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,n){this.rules=[];let{finish:r}=n||{};function a(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,c,u,h){let f=[],d=/^@(\w+)\b/.exec(l[0]),p=d&&d[1]=="keyframes";if(d&&c==null)return u.push(l[0]+";");for(let g in c){let y=c[g];if(/&/.test(g))s(g.split(/,\s*/).map(v=>l.map(w=>v.replace(/&/,w))).reduce((v,w)=>v.concat(w)),y,u);else if(y&&typeof y=="object"){if(!d)throw new RangeError("The value of a property ("+g+") should be a primitive value.");s(a(g),y,f,p)}else y!=null&&f.push(g.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+y+";")}(f.length||p)&&u.push((r&&!d&&!h?l.map(r):l).join(", ")+" {"+f.join(" ")+"}")}for(let l in e)s(a(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,n,r){let a=e[SET],s=r&&r.nonce;a?s&&a.setNonce(s):a=new StyleSet(e,s),a.mount(Array.isArray(n)?n:[n],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,n){let r=e.ownerDocument||e,a=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&a.CSSStyleSheet){let s=adoptedSet.get(r);if(s)return e[SET]=s;this.sheet=new a.CSSStyleSheet,adoptedSet.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[SET]=this}mount(e,n){let r=this.sheet,a=0,s=0;for(let l=0;l<e.length;l++){let c=e[l],u=this.modules.indexOf(c);if(u<s&&u>-1&&(this.modules.splice(u,1),s--,u=-1),u==-1){if(this.modules.splice(s++,0,c),r)for(let h=0;h<c.rules.length;h++)r.insertRule(c.rules[h],a++)}else{for(;s<u;)a+=this.modules[s++].rules.length;a+=c.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let l="";for(let u=0;u<this.modules.length;u++)l+=this.modules[u].getRules()+`
`;this.styleTag.textContent=l;let c=n.head||n;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(o){var e=mac&&o.metaKey&&o.shiftKey&&!o.ctrlKey&&!o.altKey||ie$1&&o.shiftKey&&o.key&&o.key.length==1||o.key=="Unidentified",n=!e&&o.key||(o.shiftKey?shift:base)[o.keyCode]||o.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function crelt(){var o=arguments[0];typeof o=="string"&&(o=document.createElement(o));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var a=n[r];typeof a=="string"?o.setAttribute(r,a):a!=null&&(o[r]=a)}e++}for(;e<arguments.length;e++)add(o,arguments[e]);return o}function add(o,e){if(typeof e=="string")o.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)o.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)add(o,e[n]);else throw new RangeError("Unsupported child node: "+e)}function getSelection(o){let e;return o.nodeType==11?e=o.getSelection?o:o.ownerDocument:e=o,e.getSelection()}function contains(o,e){return e?o==e||o.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(o,e){if(!e.anchorNode)return!1;try{return contains(o,e.anchorNode)}catch{return!1}}function clientRectsFor(o){return o.nodeType==3?textRange(o,0,o.nodeValue.length).getClientRects():o.nodeType==1?o.getClientRects():[]}function isEquivalentPosition(o,e,n,r){return n?scanFor(o,e,n,r,-1)||scanFor(o,e,n,r,1):!1}function domIndex(o){for(var e=0;;e++)if(o=o.previousSibling,!o)return e}function isBlockElement(o){return o.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(o.nodeName)}function scanFor(o,e,n,r,a){for(;;){if(o==n&&e==r)return!0;if(e==(a<0?0:maxOffset(o))){if(o.nodeName=="DIV")return!1;let s=o.parentNode;if(!s||s.nodeType!=1)return!1;e=domIndex(o)+(a<0?0:1),o=s}else if(o.nodeType==1){if(o=o.childNodes[e+(a<0?-1:0)],o.nodeType==1&&o.contentEditable=="false")return!1;e=a<0?maxOffset(o):0}else return!1}}function maxOffset(o){return o.nodeType==3?o.nodeValue.length:o.childNodes.length}function flattenRect(o,e){let n=e?o.left:o.right;return{left:n,right:n,top:o.top,bottom:o.bottom}}function windowRect(o){let e=o.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:o.innerWidth,top:0,bottom:o.innerHeight}}function getScale(o,e){let n=e.width/o.offsetWidth,r=e.height/o.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-o.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-o.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function scrollRectIntoView(o,e,n,r,a,s,l,c){let u=o.ownerDocument,h=u.defaultView||window;for(let f=o,d=!1;f&&!d;)if(f.nodeType==1){let p,g=f==u.body,y=1,v=1;if(g)p=windowRect(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(d=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let k=f.getBoundingClientRect();({scaleX:y,scaleY:v}=getScale(f,k)),p={left:k.left,right:k.left+f.clientWidth*y,top:k.top,bottom:k.top+f.clientHeight*v}}let w=0,O=0;if(a=="nearest")e.top<p.top?(O=e.top-(p.top+l),n>0&&e.bottom>p.bottom+O&&(O=e.bottom-p.bottom+l)):e.bottom>p.bottom&&(O=e.bottom-p.bottom+l,n<0&&e.top-O<p.top&&(O=e.top-(p.top+l)));else{let k=e.bottom-e.top,E=p.bottom-p.top;O=(a=="center"&&k<=E?e.top+k/2-E/2:a=="start"||a=="center"&&n<0?e.top-l:e.bottom-E+l)-p.top}if(r=="nearest"?e.left<p.left?(w=e.left-(p.left+s),n>0&&e.right>p.right+w&&(w=e.right-p.right+s)):e.right>p.right&&(w=e.right-p.right+s,n<0&&e.left<p.left+w&&(w=e.left-(p.left+s))):w=(r=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:r=="start"==c?e.left-s:e.right-(p.right-p.left)+s)-p.left,w||O)if(g)h.scrollBy(w,O);else{let k=0,E=0;if(O){let I=f.scrollTop;f.scrollTop+=O/v,E=(f.scrollTop-I)*v}if(w){let I=f.scrollLeft;f.scrollLeft+=w/y,k=(f.scrollLeft-I)*y}e={left:e.left-k,top:e.top-E,right:e.right-k,bottom:e.bottom-E},k&&Math.abs(k-w)<1&&(r="nearest"),E&&Math.abs(E-O)<1&&(a="nearest")}if(g)break;(e.top<p.top||e.bottom>p.bottom||e.left<p.left||e.right>p.right)&&(e={left:Math.max(e.left,p.left),right:Math.min(e.right,p.right),top:Math.max(e.top,p.top),bottom:Math.min(e.bottom,p.bottom)}),f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function scrollableParents(o){let e=o.ownerDocument,n,r;for(let a=o.parentNode;a&&!(a==e.body||n&&r);)if(a.nodeType==1)!r&&a.scrollHeight>a.clientHeight&&(r=a),!n&&a.scrollWidth>a.clientWidth&&(n=a),a=a.assignedSlot||a.parentNode;else if(a.nodeType==11)a=a.host;else break;return{x:n,y:r}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?maxOffset(n):0),r,Math.min(e.focusOffset,r?maxOffset(r):0))}set(e,n,r,a){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=a}}let preventScrollSupported=null;function focusPreventScroll(o){if(o.setActive)return o.setActive();if(preventScrollSupported)return o.focus(preventScrollSupported);let e=[];for(let n=o;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(o.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let n=0;n<e.length;){let r=e[n++],a=e[n++],s=e[n++];r.scrollTop!=a&&(r.scrollTop=a),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let scratchRange;function textRange(o,e,n=e){let r=scratchRange||(scratchRange=document.createRange());return r.setEnd(o,n),r.setStart(o,e),r}function dispatchKey(o,e,n,r){let a={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey}=r);let s=new KeyboardEvent("keydown",a);s.synthetic=!0,o.dispatchEvent(s);let l=new KeyboardEvent("keyup",a);return l.synthetic=!0,o.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function getRoot(o){for(;o;){if(o&&(o.nodeType==9||o.nodeType==11&&o.host))return o;o=o.assignedSlot||o.parentNode}return null}function clearAttributes(o){for(;o.attributes.length;)o.removeAttributeNode(o.attributes[0])}function atElementStart(o,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,maxOffset(n));;)if(r){if(n.nodeType!=1)return!1;let a=n.childNodes[r-1];a.contentEditable=="false"?r--:(n=a,r=maxOffset(n))}else{if(n==o)return!0;r=domIndex(n),n=n.parentNode}}function isScrolledToBottom(o){return o.scrollTop>Math.max(1,o.scrollHeight-o.clientHeight-4)}function textNodeBefore(o,e){for(let n=o,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=maxOffset(n)}else if(n.parentNode&&!isBlockElement(n))r=domIndex(n),n=n.parentNode;else return null}}function textNodeAfter(o,e){for(let n=o,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!isBlockElement(n))r=domIndex(n)+1,n=n.parentNode;else return null}}class DOMPos{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new DOMPos(e.parentNode,domIndex(e),n)}static after(e,n){return new DOMPos(e.parentNode,domIndex(e)+1,n)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,a=null,s;for(let l of this.children){if(l.flags&7){if(!l.dom&&(s=a?a.nextSibling:r.firstChild)){let c=ContentView.get(s);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(s)}l.sync(e,n),l.flags&=-8}if(s=a?a.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=l.dom&&(n.written=!0),l.dom.parentNode==r)for(;s&&s!=l.dom;)s=rm$1(s);else r.insertBefore(l.dom,s);a=l.dom}for(s=a?a.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=rm$1(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let a=maxOffset(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;a==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?a=-1:a=1),e=s}a<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!ContentView.get(r);)r=r.nextSibling;if(!r)return this.length;for(let a=0,s=0;;a++){let l=this.children[a];if(l.dom==r)return s;s+=l.length+l.breakAfter}}domBoundsAround(e,n,r=0){let a=-1,s=-1,l=-1,c=-1;for(let u=0,h=r,f=r;u<this.children.length;u++){let d=this.children[u],p=h+d.length;if(h<e&&p>n)return d.domBoundsAround(e,n,h);if(p>=e&&a==-1&&(a=u,s=h),h>n&&d.dom.parentNode==this.dom){l=u,c=f;break}f=p,h=p+d.breakAfter}return{from:s,to:c<0?r+this.length:c,startDOM:(a?this.children[a-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=noChildren){this.markDirty();for(let a=e;a<n;a++){let s=this.children[a];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let a=0;a<r.length;a++)r[a].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,a,s,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(o){let e=o.nextSibling;return o.parentNode.removeChild(o),e}class ChildCursor{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function replaceRange(o,e,n,r,a,s,l,c,u){let{children:h}=o,f=h.length?h[e]:null,d=s.length?s[s.length-1]:null,p=d?d.breakAfter:l;if(!(e==r&&f&&!l&&!p&&s.length<2&&f.merge(n,a,s.length?d:null,n==0,c,u))){if(r<h.length){let g=h[r];g&&(a<g.length||g.breakAfter&&d?.breakAfter)?(e==r&&(g=g.split(a),a=0),!p&&d&&g.merge(0,a,d,!0,0,u)?s[s.length-1]=g:((a||g.children.length&&!g.children[0].length)&&g.merge(0,a,null,!1,0,u),s.push(g))):g?.breakAfter&&(d?d.breakAfter=1:l=1),r++}for(f&&(f.breakAfter=l,n>0&&(!l&&s.length&&f.merge(n,f.length,s[0],!1,c,0)?f.breakAfter=s.shift().breakAfter:(n<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(n,f.length,null,!1,c,0),e++));e<r&&s.length;)if(h[r-1].become(s[s.length-1]))r--,s.pop(),u=s.length?0:c;else if(h[e].become(s[0]))e++,s.shift(),c=s.length?0:u;else break;!s.length&&e&&r<h.length&&!h[e-1].breakAfter&&h[r].merge(0,0,h[e-1],!1,c,u)&&e--,(e<r||s.length)&&o.replaceChildren(e,r,s)}}function mergeChildrenInto(o,e,n,r,a,s){let l=o.childCursor(),{i:c,off:u}=l.findPos(n,1),{i:h,off:f}=l.findPos(e,-1),d=e-n;for(let p of r)d+=p.length;o.length+=d,replaceRange(o,h,f,c,u,r,0,a,s)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser$2={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof TextView)||this.length-(n-e)+r.length>MaxJoinLen||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return textCoords(this.dom,e,n)}}class MarkView extends ContentView{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let a of n)a.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,a,s,l){return r&&(!(r instanceof MarkView&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&l<=0)?!1:(mergeChildrenInto(this,e,n,r?r.children.slice():[],s-1,l-1),this.markDirty(),!0)}split(e){let n=[],r=0,a=-1,s=0;for(let c of this.children){let u=r+c.length;u>e&&n.push(r<e?c.split(e-r):c),a<0&&r>=e&&(a=s),r=u,s++}let l=this.length-e;return this.length=e,a>-1&&(this.children.length=a,this.markDirty()),new MarkView(this.mark,n,l)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,n){return coordsInChildren(this,e,n)}}function textCoords(o,e,n){let r=o.nodeValue.length;e>r&&(e=r);let a=e,s=e,l=0;e==0&&n<0||e==r&&n>=0?browser$2.chrome||browser$2.gecko||(e?(a--,l=1):s<r&&(s++,l=-1)):n<0?a--:s<r&&s++;let c=textRange(o,a,s).getClientRects();if(!c.length)return null;let u=c[(l?l<0:n>=0)?0:c.length-1];return browser$2.safari&&!l&&u.width==0&&(u=Array.prototype.find.call(c,h=>h.width)||u),l?flattenRect(u,l<0):u||null}class WidgetView extends ContentView{static create(e,n,r){return new WidgetView(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,a,s,l){return r&&(!(r instanceof WidgetView)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text$1.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,a=this.posAtStart;return r?r.slice(a,a+this.length):Text$1.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let a=this.dom.getClientRects(),s=null;if(!a.length)return null;let l=this.side?this.side<0:e>0;for(let c=l?a.length-1:0;s=a[c],!(e>0?c==0:c==a.length-1||s.top<s.bottom);c+=l?-1:1);return flattenRect(s,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text$1.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(o,e){let n=o.dom,{children:r}=o,a=0;for(let s=0;a<r.length;a++){let l=r[a],c=s+l.length;if(!(c==s&&l.getSide()<=0)){if(e>s&&e<c&&l.dom.parentNode==n)return l.domAtPos(e-s);if(e<=s)break;s=c}}for(let s=a;s>0;s--){let l=r[s-1];if(l.dom.parentNode==n)return l.domAtPos(l.length)}for(let s=a;s<r.length;s++){let l=r[s];if(l.dom.parentNode==n)return l.domAtPos(0)}return new DOMPos(n,0)}function joinInlineInto(o,e,n){let r,{children:a}=o;n>0&&e instanceof MarkView&&a.length&&(r=a[a.length-1])instanceof MarkView&&r.mark.eq(e.mark)?joinInlineInto(r,e.children[0],n-1):(a.push(e),e.setParent(o)),o.length+=e.length}function coordsInChildren(o,e,n){let r=null,a=-1,s=null,l=-1;function c(h,f){for(let d=0,p=0;d<h.children.length&&p<=f;d++){let g=h.children[d],y=p+g.length;y>=f&&(g.children.length?c(g,f-p):(!s||s.isHidden&&(n>0||onSameLine(s,g)))&&(y>f||p==y&&g.getSide()>0)?(s=g,l=f-p):(p<f||p==y&&g.getSide()<0&&!g.isHidden)&&(r=g,a=f-p)),p=y}}c(o,e);let u=(n<0?r:s)||r||s;return u?u.coordsAt(Math.max(0,u==r?a:l),n):fallbackRect(o)}function fallbackRect(o){let e=o.dom.lastChild;if(!e)return o.dom.getBoundingClientRect();let n=clientRectsFor(e);return n[n.length-1]||null}function onSameLine(o,e){let n=o.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function combineAttrs(o,e){for(let n in o)n=="class"&&e.class?e.class+=" "+o.class:n=="style"&&e.style?e.style+=";"+o.style:e[n]=o[n];return e}const noAttrs$1=Object.create(null);function attrsEq(o,e,n){if(o==e)return!0;o||(o=noAttrs$1),e||(e=noAttrs$1);let r=Object.keys(o),a=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=a.length-(n&&a.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(a.indexOf(s)==-1||o[s]!==e[s]))return!1;return!0}function updateAttrs(o,e,n){let r=!1;if(e)for(let a in e)n&&a in n||(r=!0,a=="style"?o.style.cssText="":o.removeAttribute(a));if(n)for(let a in n)e&&e[a]==n[a]||(r=!0,a=="style"?o.style.cssText=n[a]:o.setAttribute(a,n[a]));return r}function getAttrs$1(o){let e=Object.create(null);for(let n=0;n<o.attributes.length;n++){let r=o.attributes[n];e[r.name]=r.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=(function(o){return o[o.Text=0]="Text",o[o.WidgetBefore=1]="WidgetBefore",o[o.WidgetAfter=2]="WidgetAfter",o[o.WidgetRange=3]="WidgetRange",o})(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,n,r,a){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=a}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new PointDecoration(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,a;if(e.isBlockGap)r=-5e8,a=4e8;else{let{start:s,end:l}=getInclusive(e,n);r=(s?n?-3e8:-1:5e8)-1,a=(l?n?2e8:1:-6e8)+1}return new PointDecoration(e,r,a,n,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,n=!1){return RangeSet.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:n,end:r}=getInclusive(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,n,r,a,s,l){super(n,r,s,e),this.block=a,this.isReplace=l,this.mapMode=a?n<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}PointDecoration.prototype.point=!0;function getInclusive(o,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=o;return n==null&&(n=o.inclusive),r==null&&(r=o.inclusive),{start:n??e,end:r??e}}function widgetsEq(o,e){return o==e||!!(o&&e&&o.compare(e))}function addRange(o,e,n,r=0){let a=n.length-1;a>=0&&n[a]+r>=o?n[a]=Math.max(n[a],e):n.push(o,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,a,s,l){if(r){if(!(r instanceof LineView))return!1;this.dom||r.transferDOM(this)}return a&&this.setDeco(r?r.attrs:null),mergeChildrenInto(this,e,n,r?r.children.slice():[],s,l),!0}split(e){let n=new LineView;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:a}=this.childPos(e);a&&(n.append(this.children[r].split(a),0),this.children[r].merge(a,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){joinInlineInto(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=combineAttrs(n,this.attrs||{})),r&&(this.attrs=combineAttrs({class:r},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let a=this.dom.lastChild;for(;a&&ContentView.get(a)instanceof MarkView;)a=a.lastChild;if(!a||!this.length||a.nodeName!="BR"&&((r=ContentView.get(a))===null||r===void 0?void 0:r.isEditable)==!1&&(!browser$2.ios||!this.children.some(s=>s instanceof TextView))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof TextView)||/[^ -~]/.test(r.text))return null;let a=clientRectsFor(r.dom);if(a.length!=1)return null;e+=a[0].width,n=a[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=coordsInChildren(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:a}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-a.lineHeight)<2&&a.textHeight<s){let l=(s-a.textHeight)/2;return{top:r.top+l,bottom:r.bottom-l,left:r.left,right:r.left}}}return r}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,a=0;r<e.children.length;r++){let s=e.children[r],l=a+s.length;if(l>=n){if(s instanceof LineView)return s;if(l>n)break}a=l+s.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,a,s,l){return r&&(!(r instanceof BlockWidgetView)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new BlockWidgetView(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text$1.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,n,r,a){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=a,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:l,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+a)),n),r),this.atCursorPos=!0,this.textOff+=a,e-=a,r=0}}span(e,n,r,a){this.buildText(n-e,r,a),this.pos=n,this.openStart<0&&(this.openStart=a)}point(e,n,r,a,s,l){if(this.disallowBlockEffectsFor[l]&&r instanceof PointDecoration){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=n-e;if(r instanceof PointDecoration)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(r.widget||NullWidget.block,c,r));else{let u=WidgetView.create(r.widget||NullWidget.inline,c,c?0:r.startSide),h=this.atCursorPos&&!u.isEditable&&s<=a.length&&(e<n||r.startSide>0),f=!u.isEditable&&(e<n||s>a.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!h&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(a),h&&(d.append(wrapMarks(new WidgetBufferView(1),a),s),s=a.length+Math.max(0,s-a.length)),d.append(wrapMarks(u,a),s),this.atCursorPos=f,this.pendingBuffer=f?e<n||s>a.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=a.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,a,s){let l=new ContentBuilder(e,n,r,s);return l.openEnd=RangeSet.spans(a,n,r,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function wrapMarks(o,e){for(let n of e)o=new MarkView(n,[o],o.length);return o}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=(function(o){return o[o.LTR=0]="LTR",o[o.RTL=1]="RTL",o})(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(o){let e=[];for(let n=0;n<o.length;n++)e.push(1<<+o[n]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let o of["()","[]","{}"]){let e=o.charCodeAt(0),n=o.charCodeAt(1);Brackets[e]=n,Brackets[n]=-e}function charType(o){return o<=247?LowTypes[o]:1424<=o&&o<=1524?2:1536<=o&&o<=1785?ArabicTypes[o-1536]:1774<=o&&o<=2220?4:8192<=o&&o<=8204?256:64336<=o&&o<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,a){let s=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=n&&c.to>=n){if(c.level==r)return l;(s<0||(a!=0?a<0?c.from<n:c.to>n:e[s].level>c.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function isolatesEq(o,e){if(o.length!=e.length)return!1;for(let n=0;n<o.length;n++){let r=o[n],a=e[n];if(r.from!=a.from||r.to!=a.to||r.direction!=a.direction||!isolatesEq(r.inner,a.inner))return!1}return!0}const types=[];function computeCharTypes(o,e,n,r,a){for(let s=0;s<=r.length;s++){let l=s?r[s-1].to:e,c=s<r.length?r[s].from:n,u=s?256:a;for(let h=l,f=u,d=u;h<c;h++){let p=charType(o.charCodeAt(h));p==512?p=f:p==8&&d==4&&(p=16),types[h]=p==4?2:p,p&7&&(d=p),f=p}for(let h=l,f=u,d=u;h<c;h++){let p=types[h];if(p==128)h<c-1&&f==types[h+1]&&f&24?p=types[h]=f:types[h]=256;else if(p==64){let g=h+1;for(;g<c&&types[g]==64;)g++;let y=h&&f==8||g<n&&types[g]==8?d==1?1:8:256;for(let v=h;v<g;v++)types[v]=y;h=g-1}else p==8&&d==1&&(types[h]=1);f=p,p&7&&(d=p)}}}function processBracketPairs(o,e,n,r,a){let s=a==1?2:1;for(let l=0,c=0,u=0;l<=r.length;l++){let h=l?r[l-1].to:e,f=l<r.length?r[l].from:n;for(let d=h,p,g,y;d<f;d++)if(g=Brackets[p=o.charCodeAt(d)])if(g<0){for(let v=c-3;v>=0;v-=3)if(BracketStack[v+1]==-g){let w=BracketStack[v+2],O=w&2?a:w&4?w&1?s:a:0;O&&(types[d]=types[BracketStack[v]]=O),c=v;break}}else{if(BracketStack.length==189)break;BracketStack[c++]=d,BracketStack[c++]=p,BracketStack[c++]=u}else if((y=types[d])==2||y==1){let v=y==a;u=v?0:1;for(let w=c-3;w>=0;w-=3){let O=BracketStack[w+2];if(O&2)break;if(v)BracketStack[w+2]|=2;else{if(O&4)break;BracketStack[w+2]|=4}}}}}function processNeutrals(o,e,n,r){for(let a=0,s=r;a<=n.length;a++){let l=a?n[a-1].to:o,c=a<n.length?n[a].from:e;for(let u=l;u<c;){let h=types[u];if(h==256){let f=u+1;for(;;)if(f==c){if(a==n.length)break;f=n[a++].to,c=a<n.length?n[a].from:e}else if(types[f]==256)f++;else break;let d=s==1,p=(f<e?types[f]:r)==1,g=d==p?d?1:2:r;for(let y=f,v=a,w=v?n[v-1].to:o;y>u;)y==w&&(y=n[--v].from,w=v?n[v-1].to:o),types[--y]=g;u=f}else s=h,u++}}}function emitSpans(o,e,n,r,a,s,l){let c=r%2?2:1;if(r%2==a%2)for(let u=e,h=0;u<n;){let f=!0,d=!1;if(h==s.length||u<s[h].from){let v=types[u];v!=c&&(f=!1,d=v==16)}let p=!f&&c==1?[]:null,g=f?r:r+1,y=u;e:for(;;)if(h<s.length&&y==s[h].from){if(d)break e;let v=s[h];if(!f)for(let w=v.to,O=h+1;;){if(w==n)break e;if(O<s.length&&s[O].from==w)w=s[O++].to;else{if(types[w]==c)break e;break}}if(h++,p)p.push(v);else{v.from>u&&l.push(new BidiSpan(u,v.from,g));let w=v.direction==LTR!=!(g%2);computeSectionOrder(o,w?r+1:r,a,v.inner,v.from,v.to,l),u=v.to}y=v.to}else{if(y==n||(f?types[y]!=c:types[y]==c))break;y++}p?emitSpans(o,u,y,r+1,a,p,l):u<y&&l.push(new BidiSpan(u,y,g)),u=y}else for(let u=n,h=s.length;u>e;){let f=!0,d=!1;if(!h||u>s[h-1].to){let v=types[u-1];v!=c&&(f=!1,d=v==16)}let p=!f&&c==1?[]:null,g=f?r:r+1,y=u;e:for(;;)if(h&&y==s[h-1].to){if(d)break e;let v=s[--h];if(!f)for(let w=v.from,O=h;;){if(w==e)break e;if(O&&s[O-1].to==w)w=s[--O].from;else{if(types[w-1]==c)break e;break}}if(p)p.push(v);else{v.to<u&&l.push(new BidiSpan(v.to,u,g));let w=v.direction==LTR!=!(g%2);computeSectionOrder(o,w?r+1:r,a,v.inner,v.from,v.to,l),u=v.from}y=v.from}else{if(y==e||(f?types[y-1]!=c:types[y-1]==c))break;y--}p?emitSpans(o,y,u,r+1,a,p,l):y<u&&l.push(new BidiSpan(y,u,g)),u=y}}function computeSectionOrder(o,e,n,r,a,s,l){let c=e%2?2:1;computeCharTypes(o,a,s,r,c),processBracketPairs(o,a,s,r,c),processNeutrals(a,s,r,c),emitSpans(o,a,s,e,n,r,l)}function computeOrder(o,e,n){if(!o)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!n.length&&!BidiRE.test(o))return trivialOrder(o.length);if(n.length)for(;o.length>types.length;)types[types.length]=256;let r=[],a=e==LTR?0:1;return computeSectionOrder(o,a,a,n,0,o.length,r),r}function trivialOrder(o){return[new BidiSpan(0,o,0)]}let movedOver="";function moveVisually(o,e,n,r,a){var s;let l=r.head-o.from,c=BidiSpan.find(e,l,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),u=e[c],h=u.side(a,n);if(l==h){let p=c+=a?1:-1;if(p<0||p>=e.length)return null;u=e[c=p],l=u.side(!a,n),h=u.side(a,n)}let f=findClusterBreak(o.text,l,u.forward(a,n));(f<u.from||f>u.to)&&(f=h),movedOver=o.text.slice(Math.min(l,f),Math.max(l,f));let d=c==(a?e.length-1:0)?null:e[c+(a?1:-1)];return d&&f==h&&d.level+(a?0:1)<u.level?EditorSelection.cursor(d.side(!a,n)+o.from,d.forward(a,n)?1:-1,d.level):EditorSelection.cursor(f+o.from,u.forward(a,n)?-1:1,u.level)}function autoDirection(o,e,n){for(let r=e;r<n;r++){let a=charType(o.charCodeAt(r));if(a==1)return LTR;if(a==2||a==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:o=>o.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:o=>o.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,n="nearest",r="nearest",a=5,s=5,l=!1){this.range=e,this.y=n,this.x=r,this.yMargin=a,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(o,e)=>o.map(e)}),setEditContextFormatting=StateEffect.define();function logException(o,e,n){let r=o.facet(exceptionSink);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const editable=Facet.define({combine:o=>o.length?o[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(o){return o.filter((e,n)=>{for(let r=0;r<n;r++)if(o[r].plugin==e.plugin)return!1;return!0})}});class ViewPlugin{constructor(e,n,r,a,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=a,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:a,provide:s,decorations:l}=n||{};return new ViewPlugin(nextPluginID++,e,r,a,c=>{let u=[];return l&&u.push(decorations.of(h=>{let f=h.plugin(c);return f?l(f):Decoration.none})),s&&u.push(s(c)),u})}static fromClass(e,n){return ViewPlugin.define((r,a)=>new e(r,a),n)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(logException(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){logException(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){logException(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(o,e){let n=o.state.facet(bidiIsolatedRanges);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(o):s),a=[];return RangeSet.spans(r,e.from,e.to,{point(){},span(s,l,c,u){let h=s-e.from,f=l-e.from,d=a;for(let p=c.length-1;p>=0;p--,u--){let g=c[p].spec.bidiIsolate,y;if(g==null&&(g=autoDirection(e.text,h,f)),u>0&&d.length&&(y=d[d.length-1]).to==h&&y.direction==g)y.to=f,d=y.inner;else{let v={from:h,to:f,direction:g,inner:[]};d.push(v),d=v.inner}}}}),a}const scrollMargins=Facet.define();function getScrollMargins(o){let e=0,n=0,r=0,a=0;for(let s of o.state.facet(scrollMargins)){let l=s(o);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(n=Math.max(n,l.right)),l.top!=null&&(r=Math.max(r,l.top)),l.bottom!=null&&(a=Math.max(a,l.bottom)))}return{left:e,right:n,top:r,bottom:a}}const styleModule=Facet.define();class ChangedRange{constructor(e,n,r,a){this.fromA=e,this.toA=n,this.fromB=r,this.toB=a}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let a=e[n-1];if(!(a.fromA>r.toA)){if(a.toA<r.fromA)break;r=r.join(a),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let a=0,s=0,l=0,c=0;;a++){let u=a==e.length?null:e[a],h=l-c,f=u?u.fromB:1e9;for(;s<n.length&&n[s]<f;){let d=n[s],p=n[s+1],g=Math.max(c,d),y=Math.min(f,p);if(g<=y&&new ChangedRange(g+h,y+h,g,y).addToSet(r),p>f)break;s+=2}if(!u)return r;new ChangedRange(u.fromA,u.toA,u.fromB,u.toB).addToSet(r),l=u.toA,c=u.toB}}}class ViewUpdate{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let a=[];this.changes.iterChangedRanges((s,l,c,u)=>a.push(new ChangedRange(s,l,c,u))),this.changedRanges=a}static create(e,n,r){return new ViewUpdate(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:h,toA:f})=>f<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let a=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?a=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(a=e.state.selection.main.head));let s=a>-1?findCompositionRange(this.view,e.changes,a):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:f}=this.hasComposition;r=new ChangedRange(h,f,e.changes.mapPos(h,-1),e.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(browser$2.ie||browser$2.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.updateDeco(),u=findChangedDeco(l,c,e.changes);return r=ChangedRange.extendWithRanges(r,u),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:a}=this.view;a.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=browser$2.chrome||browser$2.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||a.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof BlockWidgetView&&l.widget instanceof BlockGapWidget&&s.push(l.dom);a.updateGaps(s)}updateChildren(e,n,r){let a=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let l=a.length-1;;l--){let c=l>=0?a[l]:null;if(!c)break;let{fromA:u,toA:h,fromB:f,toB:d}=c,p,g,y,v;if(r&&r.range.fromB<d&&r.range.toB>f){let I=ContentBuilder.build(this.view.state.doc,f,r.range.fromB,this.decorations,this.dynamicDecorationMap),G=ContentBuilder.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);g=I.breakAtStart,y=I.openStart,v=G.openEnd;let J=this.compositionView(r);G.breakAtStart?J.breakAfter=1:G.content.length&&J.merge(J.length,J.length,G.content[0],!1,G.openStart,0)&&(J.breakAfter=G.content[0].breakAfter,G.content.shift()),I.content.length&&J.merge(0,0,I.content[I.content.length-1],!0,0,I.openEnd)&&I.content.pop(),p=I.content.concat(J).concat(G.content)}else({content:p,breakAtStart:g,openStart:y,openEnd:v}=ContentBuilder.build(this.view.state.doc,f,d,this.decorations,this.dynamicDecorationMap));let{i:w,off:O}=s.findPos(h,1),{i:k,off:E}=s.findPos(u,-1);replaceRange(this,k,E,w,O,p,g,y,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(setEditContextFormatting)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new TextView(e.text.nodeValue);n.flags|=8;for(let{deco:a}of e.marks)n=new MarkView(a,[n],n.length);let r=new LineView;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,l)=>{l.flags|=8|(l.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(l);let c=ContentView.get(s);c&&c!=l&&(c.dom=null),l.setDOM(s)},r=this.childPos(e.range.fromB,1),a=this.children[r.i];n(e.line,a);for(let s=e.marks.length-1;s>=-1;s--)r=a.childPos(r.off,1),a=a.children[r.i],n(s>=0?e.marks[s].node:e.text,a)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,a=r==this.dom,s=!a&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(a||n||s))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(c.anchor)),h=c.empty?u:this.moveToLine(this.domAtPos(c.head));if(browser$2.gecko&&c.empty&&!this.hasComposition&&betweenUneditable(u)){let d=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(d,u.node.childNodes[u.offset]||null)),u=h=new DOMPos(d,0),l=!0}let f=this.view.observer.selectionRange;(l||!f.focusNode||(!isEquivalentPosition(u.node,u.offset,f.anchorNode,f.anchorOffset)||!isEquivalentPosition(h.node,h.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,c))&&(this.view.observer.ignore(()=>{browser$2.android&&browser$2.chrome&&this.dom.contains(f.focusNode)&&inUneditable(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=getSelection(this.view.root);if(d)if(c.empty){if(browser$2.gecko){let p=nextToUneditable(u.node,u.offset);if(p&&p!=3){let g=(p==1?textNodeBefore:textNodeAfter)(u.node,u.offset);g&&(u=new DOMPos(g.node,g.offset))}}d.collapse(u.node,u.offset),c.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=c.bidiLevel)}else if(d.extend){d.collapse(u.node,u.offset);try{d.extend(h.node,h.offset)}catch{}}else{let p=document.createRange();c.anchor>c.head&&([u,h]=[h,u]),p.setEnd(h.node,h.offset),p.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(p)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(u,h)),this.impreciseAnchor=u.precise?null:new DOMPos(f.anchorNode,f.anchorOffset),this.impreciseHead=h.precise?null:new DOMPos(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=getSelection(e.root),{anchorNode:a,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let l=LineView.find(this,n.head);if(!l)return;let c=l.posAtStart;if(n.head==c||n.head==c+l.length)return;let u=this.coordsAt(n.head,-1),h=this.coordsAt(n.head,1);if(!u||!h||u.bottom>h.top)return;let f=this.domAtPos(n.head+n.assoc);r.collapse(f.node,f.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(a,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let a=e.offset;!r&&a<n.childNodes.length;a++){let s=ContentView.get(n.childNodes[a]);s instanceof LineView&&(r=s.domAtPos(0))}for(let a=e.offset-1;!r&&a>=0;a--){let s=ContentView.get(n.childNodes[a]);s instanceof LineView&&(r=s.domAtPos(s.length))}return r?new DOMPos(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=ContentView.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let a=this.children[n];if(r<a.length||a instanceof LineView)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,a=0;for(let s=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],u=s-c.breakAfter,h=u-c.length;if(u<e)break;if(h<=e&&(h<e||c.covers(-1))&&(u>e||c.covers(1))&&(!r||c instanceof LineView&&!(r instanceof LineView&&n>=0)))r=c,a=h;else if(r&&h==e&&u==e&&c instanceof BlockWidgetView&&Math.abs(n)<2){if(c.deco.startSide<0)break;l&&(r=null)}s=h}return r?r.coordsAt(e-a,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),a=this.children[n];if(!(a instanceof LineView))return null;for(;a.children.length;){let{i:c,off:u}=a.childPos(r,1);for(;;c++){if(c==a.children.length)return null;if((a=a.children[c]).length)break}r=u}if(!(a instanceof TextView))return null;let s=findClusterBreak(a.text,r);if(s==r)return null;let l=textRange(a.dom,r,s).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(c==l.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:a}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,u=this.view.textDirection==Direction.LTR;for(let h=0,f=0;f<this.children.length;f++){let d=this.children[f],p=h+d.length;if(p>a)break;if(h>=r){let g=d.dom.getBoundingClientRect();if(n.push(g.height),l){let y=d.dom.lastChild,v=y?clientRectsFor(y):[];if(v.length){let w=v[v.length-1],O=u?w.right-g.left:g.right-w.left;O>c&&(c=O,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=p)}}}h=p+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let s of this.children)if(s instanceof LineView){let l=s.measureTextSize();if(l)return l}let e=document.createElement("div"),n,r,a;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=clientRectsFor(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,a=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:a}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new ChildCursor(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,a=0;;a++){let s=a==n.viewports.length?null:n.viewports[a],l=s?s.from-1:this.length;if(l>r){let c=(n.lineBlockAt(l).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!s)break;r=s.to+1}return Decoration.set(e)}updateDeco(){let e=1,n=this.view.state.facet(decorations).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,a=this.view.state.facet(outerDecorations).map((s,l)=>{let c=typeof s=="function";return c&&(r=!0),c?s(this.view):s});for(a.length&&(this.dynamicDecorationMap[e++]=r,n.push(RangeSet.join(a))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(scrollHandler))try{if(h(this.view,e.range,e))return!0}catch(f){logException(this.view.state,f,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),a;if(!r)return;!n.empty&&(a=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,a.left),top:Math.min(r.top,a.top),right:Math.max(r.right,a.right),bottom:Math.max(r.bottom,a.bottom)});let s=getScrollMargins(this.view),l={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:c,offsetHeight:u}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,l,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==Direction.LTR)}}function betweenUneditable(o){return o.node.nodeType==1&&o.node.firstChild&&(o.offset==0||o.node.childNodes[o.offset-1].contentEditable=="false")&&(o.offset==o.node.childNodes.length||o.node.childNodes[o.offset].contentEditable=="false")}function findCompositionNode(o,e){let n=o.observer.selectionRange;if(!n.focusNode)return null;let r=textNodeBefore(n.focusNode,n.focusOffset),a=textNodeAfter(n.focusNode,n.focusOffset),s=r||a;if(a&&r&&a.node!=r.node){let c=ContentView.get(a.node);if(!c||c instanceof TextView&&c.text!=a.node.nodeValue)s=a;else if(o.docView.lastCompositionAfterCursor){let u=ContentView.get(r.node);!u||u instanceof TextView&&u.text!=r.node.nodeValue||(s=a)}}if(o.docView.lastCompositionAfterCursor=s!=r,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function findCompositionRange(o,e,n){let r=findCompositionNode(o,n);if(!r)return null;let{node:a,from:s,to:l}=r,c=a.nodeValue;if(/[\n\r]/.test(c)||o.state.doc.sliceString(r.from,r.to)!=c)return null;let u=e.invertedDesc,h=new ChangedRange(u.mapPos(s),u.mapPos(l),s,l),f=[];for(let d=a.parentNode;;d=d.parentNode){let p=ContentView.get(d);if(p instanceof MarkView)f.push({node:d,deco:p.mark});else{if(p instanceof LineView||d.nodeName=="DIV"&&d.parentNode==o.contentDOM)return{range:h,text:a,marks:f,line:d};if(d!=o.contentDOM)f.push({node:d,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs$1(d),tagName:d.tagName.toLowerCase()})});else return null}}}function nextToUneditable(o,e){return o.nodeType!=1?0:(e&&o.childNodes[e-1].contentEditable=="false"?1:0)|(e<o.childNodes.length&&o.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,n){addRange(e,n,this.changes)}comparePoint(e,n){addRange(e,n,this.changes)}boundChange(e){addRange(e,e,this.changes)}};function findChangedDeco(o,e,n){let r=new DecorationComparator$1;return RangeSet.compare(o,e,n,r),r.changes}function inUneditable(o,e){for(let n=o;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function touchesComposition(o,e){let n=!1;return e&&o.iterChangedRanges((r,a)=>{r<e.to&&a>e.from&&(n=!0)}),n}function groupAt(o,e,n=1){let r=o.charCategorizer(e),a=o.doc.lineAt(e),s=e-a.from;if(a.length==0)return EditorSelection.cursor(e);s==0?n=1:s==a.length&&(n=-1);let l=s,c=s;n<0?l=findClusterBreak(a.text,s,!1):c=findClusterBreak(a.text,s);let u=r(a.text.slice(l,c));for(;l>0;){let h=findClusterBreak(a.text,l,!1);if(r(a.text.slice(h,l))!=u)break;l=h}for(;c<a.length;){let h=findClusterBreak(a.text,c);if(r(a.text.slice(c,h))!=u)break;c=h}return EditorSelection.range(l+a.from,c+a.from)}function getdx(o,e){return e.left>o?e.left-o:Math.max(0,o-e.right)}function getdy(o,e){return e.top>o?e.top-o:Math.max(0,o-e.bottom)}function yOverlap(o,e){return o.top<e.bottom-1&&o.bottom>e.top+1}function upTop(o,e){return e<o.top?{top:e,left:o.left,right:o.right,bottom:o.bottom}:o}function upBot(o,e){return e>o.bottom?{top:o.top,left:o.left,right:o.right,bottom:e}:o}function domPosAtCoords(o,e,n){let r,a,s,l,c=!1,u,h,f,d;for(let y=o.firstChild;y;y=y.nextSibling){let v=clientRectsFor(y);for(let w=0;w<v.length;w++){let O=v[w];a&&yOverlap(a,O)&&(O=upTop(upBot(O,a.bottom),a.top));let k=getdx(e,O),E=getdy(n,O);if(k==0&&E==0)return y.nodeType==3?domPosInText(y,e,n):domPosAtCoords(y,e,n);(!r||l>E||l==E&&s>k)&&(r=y,a=O,s=k,l=E,c=k?e<O.left?w>0:w<v.length-1:!0),k==0?n>O.bottom&&(!f||f.bottom<O.bottom)?(u=y,f=O):n<O.top&&(!d||d.top>O.top)&&(h=y,d=O):f&&yOverlap(f,O)?f=upBot(f,O.bottom):d&&yOverlap(d,O)&&(d=upTop(d,O.top))}}if(f&&f.bottom>=n?(r=u,a=f):d&&d.top<=n&&(r=h,a=d),!r)return{node:o,offset:0};let p=Math.max(a.left,Math.min(a.right,e));if(r.nodeType==3)return domPosInText(r,p,n);if(c&&r.contentEditable!="false")return domPosAtCoords(r,p,n);let g=Array.prototype.indexOf.call(o.childNodes,r)+(e>=(a.left+a.right)/2?1:0);return{node:o,offset:g}}function domPosInText(o,e,n){let r=o.nodeValue.length,a=-1,s=1e9,l=0;for(let c=0;c<r;c++){let u=textRange(o,c,c+1).getClientRects();for(let h=0;h<u.length;h++){let f=u[h];if(f.top==f.bottom)continue;l||(l=e-f.left);let d=(f.top>n?f.top-n:n-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&d<s){let p=e>=(f.left+f.right)/2,g=p;if((browser$2.chrome||browser$2.gecko)&&textRange(o,c).getBoundingClientRect().left==f.right&&(g=!p),d<=0)return{node:o,offset:c+(g?1:0)};a=c+(g?1:0),s=d}}}return{node:o,offset:a>-1?a:l>0?o.nodeValue.length:0}}function posAtCoords(o,e,n,r=-1){var a,s;let l=o.contentDOM.getBoundingClientRect(),c=l.top+o.viewState.paddingTop,u,{docHeight:h}=o.viewState,{x:f,y:d}=e,p=d-c;if(p<0)return 0;if(p>h)return o.state.doc.length;for(let I=o.viewState.heightOracle.textHeight/2,G=!1;u=o.elementAtHeight(p),u.type!=BlockType.Text;)for(;p=r>0?u.bottom+I:u.top-I,!(p>=0&&p<=h);){if(G)return n?null:0;G=!0,r=-r}d=c+p;let g=u.from;if(g<o.viewport.from)return o.viewport.from==0?0:n?null:posAtCoordsImprecise(o,l,u,f,d);if(g>o.viewport.to)return o.viewport.to==o.state.doc.length?o.state.doc.length:n?null:posAtCoordsImprecise(o,l,u,f,d);let y=o.dom.ownerDocument,v=o.root.elementFromPoint?o.root:y,w=v.elementFromPoint(f,d);w&&!o.contentDOM.contains(w)&&(w=null),w||(f=Math.max(l.left+1,Math.min(l.right-1,f)),w=v.elementFromPoint(f,d),w&&!o.contentDOM.contains(w)&&(w=null));let O,k=-1;if(w&&((a=o.docView.nearest(w))===null||a===void 0?void 0:a.isEditable)!=!1){if(y.caretPositionFromPoint){let I=y.caretPositionFromPoint(f,d);I&&({offsetNode:O,offset:k}=I)}else if(y.caretRangeFromPoint){let I=y.caretRangeFromPoint(f,d);I&&({startContainer:O,startOffset:k}=I,(!o.contentDOM.contains(O)||browser$2.safari&&isSuspiciousSafariCaretResult(O,k,f)||browser$2.chrome&&isSuspiciousChromeCaretResult(O,k,f))&&(O=void 0))}O&&(k=Math.min(maxOffset(O),k))}if(!O||!o.docView.dom.contains(O)){let I=LineView.find(o.docView,g);if(!I)return p>u.top+u.height/2?u.to:u.from;({node:O,offset:k}=domPosAtCoords(I.dom,f,d))}let E=o.docView.nearest(O);if(!E)return null;if(E.isWidget&&((s=E.dom)===null||s===void 0?void 0:s.nodeType)==1){let I=E.dom.getBoundingClientRect();return e.y<I.top||e.y<=I.bottom&&e.x<=(I.left+I.right)/2?E.posAtStart:E.posAtEnd}else return E.localPosFromDOM(O,k)+E.posAtStart}function posAtCoordsImprecise(o,e,n,r,a){let s=Math.round((r-e.left)*o.defaultCharacterWidth);if(o.lineWrapping&&n.height>o.defaultLineHeight*1.5){let c=o.viewState.heightOracle.textHeight,u=Math.floor((a-n.top-(o.defaultLineHeight-c)*.5)/c);s+=u*o.viewState.heightOracle.lineLength}let l=o.state.sliceDoc(n.from,n.to);return n.from+findColumn$1(l,s,o.state.tabSize)}function isSuspiciousSafariCaretResult(o,e,n){let r,a=o;if(o.nodeType!=3||e!=(r=o.nodeValue.length))return!1;for(;;){let s=a.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let l=a.parentNode;if(!l||l.nodeName=="DIV")break;a=l}}return textRange(o,r-1,r).getBoundingClientRect().right>n}function isSuspiciousChromeCaretResult(o,e,n){if(e!=0)return!1;for(let a=o;;){let s=a.parentNode;if(!s||s.nodeType!=1||s.firstChild!=a)return!1;if(s.classList.contains("cm-line"))break;a=s}let r=o.nodeType==1?o.getBoundingClientRect():textRange(o,0,Math.max(o.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function blockAt(o,e,n){let r=o.lineBlockAt(e);if(Array.isArray(r.type)){let a;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!a||s.type==BlockType.Text&&(a.type!=s.type||(n<0?s.from<e:s.to>e)))&&(a=s)}}return a||r}return r}function moveToLineBoundary(o,e,n,r){let a=blockAt(o,e.head,e.assoc||-1),s=!r||a.type!=BlockType.Text||!(o.lineWrapping||a.widgetLineBreaks)?null:o.coordsAtPos(e.assoc<0&&e.head>a.from?e.head-1:e.head);if(s){let l=o.dom.getBoundingClientRect(),c=o.textDirectionAt(a.from),u=o.posAtCoords({x:n==(c==Direction.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(u!=null)return EditorSelection.cursor(u,n?-1:1)}return EditorSelection.cursor(n?a.to:a.from,n?-1:1)}function moveByChar(o,e,n,r){let a=o.state.doc.lineAt(e.head),s=o.bidiSpans(a),l=o.textDirectionAt(a.from);for(let c=e,u=null;;){let h=moveVisually(a,s,l,c,n),f=movedOver;if(!h){if(a.number==(n?o.state.doc.lines:1))return c;f=`
`,a=o.state.doc.line(a.number+(n?1:-1)),s=o.bidiSpans(a),h=o.visualLineSide(a,!n)}if(u){if(!u(f))return c}else{if(!r)return h;u=r(f)}c=h}}function byGroup(o,e,n){let r=o.state.charCategorizer(e),a=r(n);return s=>{let l=r(s);return a==CharCategory.Space&&(a=l),a==l}}function moveVertically(o,e,n,r){let a=e.head,s=n?1:-1;if(a==(n?o.state.doc.length:0))return EditorSelection.cursor(a,e.assoc);let l=e.goalColumn,c,u=o.contentDOM.getBoundingClientRect(),h=o.coordsAtPos(a,e.assoc||-1),f=o.documentTop;if(h)l==null&&(l=h.left-u.left),c=s<0?h.top:h.bottom;else{let g=o.viewState.lineBlockAt(a);l==null&&(l=Math.min(u.right-u.left,o.defaultCharacterWidth*(a-g.from))),c=(s<0?g.top:g.bottom)+f}let d=u.left+l,p=r??o.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let y=c+(p+g)*s,v=posAtCoords(o,{x:d,y},!1,s);if(y<u.top||y>u.bottom||(s<0?v<a:v>a)){let w=o.docView.coordsForChar(v),O=!w||y<w.top?-1:1;return EditorSelection.cursor(v,O,void 0,l)}}}function skipAtomicRanges(o,e,n){for(;;){let r=0;for(let a of o)a.between(e-1,e+1,(s,l,c)=>{if(e>s&&e<l){let u=r||n||(e-s<l-e?-1:1);e=u<0?s:l,r=u}});if(!r)return e}}function skipAtomsForSelection(o,e){let n=null;for(let r=0;r<e.ranges.length;r++){let a=e.ranges[r],s=null;if(a.empty){let l=skipAtomicRanges(o,a.from,0);l!=a.from&&(s=EditorSelection.cursor(l,-1))}else{let l=skipAtomicRanges(o,a.from,-1),c=skipAtomicRanges(o,a.to,1);(l!=a.from||c!=a.to)&&(s=EditorSelection.range(a.from==a.anchor?l:c,a.from==a.head?l:c))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?EditorSelection.create(n,e.mainIndex):e}function skipAtoms(o,e,n){let r=skipAtomicRanges(o.state.facet(atomicRanges).map(a=>a(o)),n.from,e.head>n.from?-1:1);return r==n.from?n:EditorSelection.cursor(r,r<n.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let a=e;;){this.findPointBefore(r,a);let s=this.text.length;this.readNode(a);let l=a.nextSibling;if(l==n)break;let c=ContentView.get(a),u=ContentView.get(l);(c&&u?c.breakAfter:(c?c.breakAfter:isBlockElement(a))||isBlockElement(l)&&(a.nodeName!="BR"||a.cmIgnore)&&this.text.length>s)&&this.lineBreak(),a=l}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,a=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,c;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(c=a.exec(n))&&(s=c.index,l=c[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=l-1);r=s+l}}readNode(e){if(e.cmIgnore)return;let n=ContentView.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let a=r.iter();!a.next().done;)a.lineBreak?this.lineBreak():this.append(a.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(isAtEnd(e,r.node,r.offset)?n:0))}}function isAtEnd(o,e,n){for(;;){if(!e||n<maxOffset(e))return!1;if(e==o)return!0;n=domIndex(e)+1,e=e.parentNode}}let DOMPoint$1=class{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}};class DOMChange{constructor(e,n,r,a){this.typeOver=a,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let c=s||l?[]:selectionPoints(e),u=new DOMReader(c,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=selectionFromPoints(c,this.bounds.from)}else{let c=e.observer.selectionRange,u=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!contains(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!contains(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),f=e.viewport;if((browser$2.ios||browser$2.chrome)&&e.state.selection.main.empty&&u!=h&&(f.from>0||f.to<e.state.doc.length)){let d=Math.min(u,h),p=Math.max(u,h),g=f.from-d,y=f.to-p;(g==0||g==1||d==0)&&(y==0||y==-1||p==e.state.doc.length)&&(u=0,h=e.state.doc.length)}this.newSel=EditorSelection.single(h,u)}}}function applyDOMChange(o,e){let n,{newSel:r}=e,a=o.state.selection.main,s=o.inputState.lastKeyTime>Date.now()-100?o.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,u=a.from,h=null;(s===8||browser$2.android&&e.text.length<c-l)&&(u=a.to,h="end");let f=findDiff(o.state.doc.sliceString(l,c,LineBreakPlaceholder),e.text,u-l,h);f&&(browser$2.chrome&&s==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&f.toB--,n={from:l+f.from,to:l+f.toA,insert:Text$1.of(e.text.slice(f.from,f.toB).split(LineBreakPlaceholder))})}else r&&(!o.hasFocus&&o.state.facet(editable)||r.main.eq(a))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!a.empty&&r&&r.main.empty?n={from:a.from,to:a.to,insert:o.state.doc.slice(a.from,a.to)}:(browser$2.mac||browser$2.android)&&n&&n.from==n.to&&n.from==a.head-1&&/^\. ?$/.test(n.insert.toString())&&o.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=EditorSelection.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Text$1.of([n.insert.toString().replace("."," ")])}):n&&n.from>=a.from&&n.to<=a.to&&(n.from!=a.from||n.to!=a.to)&&a.to-a.from-(n.to-n.from)<=4?n={from:a.from,to:a.to,insert:o.state.doc.slice(a.from,n.from).append(n.insert).append(o.state.doc.slice(n.to,a.to))}:browser$2.chrome&&n&&n.from==n.to&&n.from==a.head&&n.insert.toString()==`
 `&&o.lineWrapping&&(r&&(r=EditorSelection.single(r.main.anchor-1,r.main.head-1)),n={from:a.from,to:a.to,insert:Text$1.of([" "])}),n)return applyDOMChangeInner(o,n,r,s);if(r&&!r.main.eq(a)){let l=!1,c="select";return o.inputState.lastSelectionTime>Date.now()-50&&(o.inputState.lastSelectionOrigin=="select"&&(l=!0),c=o.inputState.lastSelectionOrigin,c=="select.pointer"&&(r=skipAtomsForSelection(o.state.facet(atomicRanges).map(u=>u(o)),r))),o.dispatch({selection:r,scrollIntoView:l,userEvent:c}),!0}else return!1}function applyDOMChangeInner(o,e,n,r=-1){if(browser$2.ios&&o.inputState.flushIOSKey(e))return!0;let a=o.state.selection.main;if(browser$2.android&&(e.to==a.to&&(e.from==a.from||e.from==a.from-1&&o.state.sliceDoc(e.from,a.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(o.contentDOM,"Enter",13)||(e.from==a.from-1&&e.to==a.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>a.head)&&dispatchKey(o.contentDOM,"Backspace",8)||e.from==a.from&&e.to==a.to+1&&e.insert.length==0&&dispatchKey(o.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();o.inputState.composing>=0&&o.inputState.composing++;let l,c=()=>l||(l=applyDefaultInsert(o,e,n));return o.state.facet(inputHandler$1).some(u=>u(o,e.from,e.to,s,c))||o.dispatch(c()),!0}function applyDefaultInsert(o,e,n){let r,a=o.state,s=a.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&o.inputState.composing<0){let c=s.from<e.from?a.sliceDoc(s.from,e.from):"",u=s.to>e.to?a.sliceDoc(e.to,s.to):"";r=a.replaceSelection(o.state.toText(c+e.insert.sliceString(0,void 0,o.state.lineBreak)+u))}else{let c=a.changes(e),u=n&&n.main.to<=c.newLength?n.main:void 0;if(a.selection.ranges.length>1&&o.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let h=o.state.sliceDoc(e.from,e.to),f,d=n&&findCompositionNode(o,n.main.head);if(d){let y=e.insert.length-(e.to-e.from);f={from:d.from,to:d.to-y}}else f=o.state.doc.lineAt(s.head);let p=s.to-e.to,g=s.to-s.from;r=a.changeByRange(y=>{if(y.from==s.from&&y.to==s.to)return{changes:c,range:u||y.map(c)};let v=y.to-p,w=v-h.length;if(y.to-y.from!=g||o.state.sliceDoc(w,v)!=h||y.to>=f.from&&y.from<=f.to)return{range:y};let O=a.changes({from:w,to:v,insert:e.insert}),k=y.to-s.to;return{changes:O,range:u?EditorSelection.range(Math.max(0,u.anchor+k),Math.max(0,u.head+k)):y.map(O)}})}else r={changes:c,selection:u&&a.selection.replaceRange(u)}}let l="input.type";return(o.composing||o.inputState.compositionPendingChange&&o.inputState.compositionEndedAt>Date.now()-50)&&(o.inputState.compositionPendingChange=!1,l+=".compose",o.inputState.compositionFirstChange&&(l+=".start",o.inputState.compositionFirstChange=!1)),a.update(r,{userEvent:l,scrollIntoView:!0})}function findDiff(o,e,n,r){let a=Math.min(o.length,e.length),s=0;for(;s<a&&o.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==a&&o.length==e.length)return null;let l=o.length,c=e.length;for(;l>0&&c>0&&o.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(r=="end"){let u=Math.max(0,s-Math.min(l,c));n-=l+u-s}if(l<s&&o.length<e.length){let u=n<=s&&n>=l?s-n:0;s-=u,c=s+(c-l),l=s}else if(c<s){let u=n<=s&&n>=c?s-n:0;s-=u,l=s+(l-c),c=s}return{from:s,toA:l,toB:c}}function selectionPoints(o){let e=[];if(o.root.activeElement!=o.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:s}=o.observer.selectionRange;return n&&(e.push(new DOMPoint$1(n,r)),(a!=n||s!=r)&&e.push(new DOMPoint$1(a,s))),e}function selectionFromPoints(o,e){if(o.length==0)return null;let n=o[0].pos,r=o.length==2?o[1].pos:n;return n>-1&&r>-1?EditorSelection.single(n+e,r+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser$2.safari&&e.contentDOM.addEventListener("input",()=>null),browser$2.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let a of r.observers)a(this.view,n);for(let a of r.handlers){if(n.defaultPrevented)break;if(a(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=computeHandlers(e),r=this.handlers,a=this.view.contentDOM;for(let s in n)if(s!="scroll"){let l=!n[s].handlers.length,c=r[s];c&&l!=!c.handlers.length&&(a.removeEventListener(s,this.handleEvent),c=null),c||a.addEventListener(s,this.handleEvent,{passive:l})}for(let s in r)s!="scroll"&&!n[s]&&a.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser$2.android&&browser$2.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return browser$2.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=PendingKeys.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser$2.safari&&!browser$2.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(o,e){return(n,r)=>{try{return e.call(o,r,n)}catch(a){logException(n.state,a)}}}function computeHandlers(o){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of o){let a=r.spec,s=a&&a.plugin.domEventHandlers,l=a&&a.plugin.domEventObservers;if(s)for(let c in s){let u=s[c];u&&n(c).handlers.push(bindHandler(r.value,u))}if(l)for(let c in l){let u=l[c];u&&n(c).observers.push(bindHandler(r.value,u))}}for(let r in handlers)n(r).handlers.push(handlers[r]);for(let r in observers)n(r).observers.push(observers[r]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(o){return Math.max(0,o)*.7+8}function dist$1(o,e){return Math.max(Math.abs(o.clientX-e.clientX),Math.abs(o.clientY-e.clientY))}class MouseSelection{constructor(e,n,r,a){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=a,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,n),this.dragging=isInPrimarySelection(e,n)&&getClickType(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist$1(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,a=0,s=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:a,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:c}=this.scrollParents.y.getBoundingClientRect());let u=getScrollMargins(this.view);e.clientX-u.left<=a+dragScrollMargin?n=-dragScrollSpeed(a-e.clientX):e.clientX+u.right>=l-dragScrollMargin&&(n=dragScrollSpeed(e.clientX-l)),e.clientY-u.top<=s+dragScrollMargin?r=-dragScrollSpeed(s-e.clientY):e.clientY+u.bottom>=c-dragScrollMargin&&(r=dragScrollSpeed(e.clientY-c)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=skipAtomsForSelection(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(o,e){let n=o.state.facet(clickAddsSelectionRange);return n.length?n[0](e):browser$2.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(o,e){let n=o.state.facet(dragMovesSelection$1);return n.length?n[0](e):browser$2.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(o,e){let{main:n}=o.state.selection;if(n.empty)return!1;let r=getSelection(o.root);if(!r||r.rangeCount==0)return!0;let a=r.getRangeAt(0).getClientRects();for(let s=0;s<a.length;s++){let l=a[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(o,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=o.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=ContentView.get(n))&&r.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser$2.ie&&browser$2.ie_version<15||browser$2.ios&&browser$2.webkit_version<604;function capturePaste(o){let e=o.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{o.focus(),n.remove(),doPaste(o,n.value)},50)}function textFilter(o,e,n){for(let r of o.facet(e))n=r(n,o);return n}function doPaste(o,e){e=textFilter(o.state,clipboardInputFilter,e);let{state:n}=o,r,a=1,s=n.toText(e),l=s.lines==n.selection.ranges.length;if(lastLinewiseCopy!=null&&n.selection.ranges.every(u=>u.empty)&&lastLinewiseCopy==s.toString()){let u=-1;r=n.changeByRange(h=>{let f=n.doc.lineAt(h.from);if(f.from==u)return{range:h};u=f.from;let d=n.toText((l?s.line(a++).text:e)+n.lineBreak);return{changes:{from:f.from,insert:d},range:EditorSelection.cursor(h.from+d.length)}})}else l?r=n.changeByRange(u=>{let h=s.line(a++);return{changes:{from:u.from,to:u.to,insert:h.text},range:EditorSelection.cursor(u.from+h.length)}}):r=n.replaceSelection(s);o.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=o=>{o.inputState.lastScrollTop=o.scrollDOM.scrollTop,o.inputState.lastScrollLeft=o.scrollDOM.scrollLeft};handlers.keydown=(o,e)=>(o.inputState.setSelectionOrigin("select"),e.keyCode==27&&o.inputState.tabFocusMode!=0&&(o.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(o,e)=>{o.inputState.lastTouchTime=Date.now(),o.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=o=>{o.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(o,e)=>{if(o.observer.flush(),o.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of o.state.facet(mouseSelectionStyle))if(n=r(o,e),n)break;if(!n&&e.button==0&&(n=basicMouseSelection(o,e)),n){let r=!o.hasFocus;o.inputState.startMouseSelection(new MouseSelection(o,e,n,r)),r&&o.observer.ignore(()=>{focusPreventScroll(o.contentDOM);let s=o.root.activeElement;s&&!s.contains(o.contentDOM)&&s.blur()});let a=o.inputState.mouseSelection;if(a)return a.start(e),a.dragging===!1}else o.inputState.setSelectionOrigin("select.pointer");return!1};function rangeForClick(o,e,n,r){if(r==1)return EditorSelection.cursor(e,n);if(r==2)return groupAt(o.state,e,n);{let a=LineView.find(o.docView,e),s=o.state.doc.lineAt(a?a.posAtEnd:e),l=a?a.posAtStart:s.from,c=a?a.posAtEnd:s.to;return c<o.state.doc.length&&c==s.to&&c++,EditorSelection.range(l,c)}}let inside=(o,e,n)=>e>=n.top&&e<=n.bottom&&o>=n.left&&o<=n.right;function findPositionSide(o,e,n,r){let a=LineView.find(o.docView,e);if(!a)return 1;let s=e-a.posAtStart;if(s==0)return 1;if(s==a.length)return-1;let l=a.coordsAt(s,-1);if(l&&inside(n,r,l))return-1;let c=a.coordsAt(s,1);return c&&inside(n,r,c)?1:l&&l.bottom>=r?-1:1}function queryPos(o,e){let n=o.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:findPositionSide(o,n,e.clientX,e.clientY)}}const BadMouseDetail=browser$2.ie&&browser$2.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(o){if(!BadMouseDetail)return o.detail;let e=lastMouseDown,n=lastMouseDownTime;return lastMouseDown=o,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||n>Date.now()-400&&Math.abs(e.clientX-o.clientX)<2&&Math.abs(e.clientY-o.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(o,e){let n=queryPos(o,e),r=getClickType(e),a=o.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),a=a.map(s.changes))},get(s,l,c){let u=queryPos(o,s),h,f=rangeForClick(o,u.pos,u.bias,r);if(n.pos!=u.pos&&!l){let d=rangeForClick(o,n.pos,n.bias,r),p=Math.min(d.from,f.from),g=Math.max(d.to,f.to);f=p<f.from?EditorSelection.range(p,g):EditorSelection.range(g,p)}return l?a.replaceRange(a.main.extend(f.from,f.to)):c&&r==1&&a.ranges.length>1&&(h=removeRangeAround(a,u.pos))?h:c?a.addRange(f):EditorSelection.create([f])}}}function removeRangeAround(o,e){for(let n=0;n<o.ranges.length;n++){let{from:r,to:a}=o.ranges[n];if(r<=e&&a>=e)return EditorSelection.create(o.ranges.slice(0,n).concat(o.ranges.slice(n+1)),o.mainIndex==n?0:o.mainIndex-(o.mainIndex>n?1:0))}return null}handlers.dragstart=(o,e)=>{let{selection:{main:n}}=o.state;if(e.target.draggable){let a=o.docView.nearest(e.target);if(a&&a.isWidget){let s=a.posAtStart,l=s+a.length;(s>=n.to||l<=n.from)&&(n=EditorSelection.range(s,l))}}let{inputState:r}=o;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(o.state,clipboardOutputFilter,o.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=o=>(o.inputState.draggedContent=null,!1);function dropText(o,e,n,r){if(n=textFilter(o.state,clipboardInputFilter,n),!n)return;let a=o.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=o.inputState,l=r&&s&&dragMovesSelection(o,e)?{from:s.from,to:s.to}:null,c={from:a,insert:n},u=o.state.changes(l?[l,c]:c);o.focus(),o.dispatch({changes:u,selection:{anchor:u.mapPos(a,-1),head:u.mapPos(a,1)},userEvent:l?"move.drop":"input.drop"}),o.inputState.draggedContent=null}handlers.drop=(o,e)=>{if(!e.dataTransfer)return!1;if(o.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),a=0,s=()=>{++a==n.length&&dropText(o,e,r.filter(l=>l!=null).join(o.state.lineBreak),!1)};for(let l=0;l<n.length;l++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[l]=c.result),s()},c.readAsText(n[l])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return dropText(o,e,r,!0),!0}return!1};handlers.paste=(o,e)=>{if(o.state.readOnly)return!0;o.observer.flush();let n=brokenClipboardAPI?null:e.clipboardData;return n?(doPaste(o,n.getData("text/plain")||n.getData("text/uri-list")),!0):(capturePaste(o),!1)};function captureCopy(o,e){let n=o.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),o.focus()},50)}function copiedRange(o){let e=[],n=[],r=!1;for(let a of o.selection.ranges)a.empty||(e.push(o.sliceDoc(a.from,a.to)),n.push(a));if(!e.length){let a=-1;for(let{from:s}of o.selection.ranges){let l=o.doc.lineAt(s);l.number>a&&(e.push(l.text),n.push({from:l.from,to:Math.min(o.doc.length,l.to+1)})),a=l.number}r=!0}return{text:textFilter(o,clipboardOutputFilter,e.join(o.lineBreak)),ranges:n,linewise:r}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(o,e)=>{let{text:n,ranges:r,linewise:a}=copiedRange(o.state);if(!n&&!a)return!1;lastLinewiseCopy=a?n:null,e.type=="cut"&&!o.state.readOnly&&o.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=brokenClipboardAPI?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(captureCopy(o,n),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(o,e){let n=[];for(let r of o.facet(focusChangeEffect)){let a=r(o,e);a&&n.push(a)}return n.length?o.update({effects:n,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(o){setTimeout(()=>{let e=o.hasFocus;if(e!=o.inputState.notifiedFocused){let n=focusChangeTransaction(o.state,e);n?o.dispatch(n):o.update([])}},10)}observers.focus=o=>{o.inputState.lastFocusTime=Date.now(),!o.scrollDOM.scrollTop&&(o.inputState.lastScrollTop||o.inputState.lastScrollLeft)&&(o.scrollDOM.scrollTop=o.inputState.lastScrollTop,o.scrollDOM.scrollLeft=o.inputState.lastScrollLeft),updateForFocusChange(o)};observers.blur=o=>{o.observer.clearSelectionRange(),updateForFocusChange(o)};observers.compositionstart=observers.compositionupdate=o=>{o.observer.editContext||(o.inputState.compositionFirstChange==null&&(o.inputState.compositionFirstChange=!0),o.inputState.composing<0&&(o.inputState.composing=0))};observers.compositionend=o=>{o.observer.editContext||(o.inputState.composing=-1,o.inputState.compositionEndedAt=Date.now(),o.inputState.compositionPendingKey=!0,o.inputState.compositionPendingChange=o.observer.pendingRecords().length>0,o.inputState.compositionFirstChange=null,browser$2.chrome&&browser$2.android?o.observer.flushSoon():o.inputState.compositionPendingChange?Promise.resolve().then(()=>o.observer.flush()):setTimeout(()=>{o.inputState.composing<0&&o.docView.hasComposition&&o.update([])},50))};observers.contextmenu=o=>{o.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(o,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&o.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let c=l[0],u=o.posAtDOM(c.startContainer,c.startOffset),h=o.posAtDOM(c.endContainer,c.endOffset);return applyDOMChangeInner(o,{from:u,to:h,insert:o.state.toText(s)},null),!0}}let a;if(browser$2.chrome&&browser$2.android&&(a=PendingKeys.find(s=>s.inputType==e.inputType))&&(o.observer.delayAndroidKey(a.key,a.keyCode),a.key=="Backspace"||a.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&o.hasFocus&&(o.contentDOM.blur(),o.focus())},100)}return browser$2.ios&&e.inputType=="deleteContentForward"&&o.observer.flushSoon(),browser$2.safari&&e.inputType=="insertText"&&o.inputState.composing>=0&&setTimeout(()=>observers.compositionend(o,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(o){appliedFirefoxHack.has(o)||(appliedFirefoxHack.add(o),o.addEventListener("copy",()=>{}),o.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text$1.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let a=e[r];a<0?r++:this.heightSamples[Math.floor(a*10)]||(n=!0,this.heightSamples[Math.floor(a*10)]=!0)}return n}refresh(e,n,r,a,s,l){let c=wrappingWhiteSpace.indexOf(e)>-1,u=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=n,this.charWidth=r,this.textHeight=a,this.lineLength=s,u){this.heightSamples={};for(let h=0;h<l.length;h++){let f=l[h];f<0?h++:this.heightSamples[Math.floor(f*10)]=!0}}return u}}class MeasuredHeights{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,n,r,a,s){this.from=e,this.length=n,this.top=r,this.height=a,this._content=s}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var QueryType$1=(function(o){return o[o.ByPos=0]="ByPos",o[o.ByHeight=1]="ByHeight",o[o.ByPosNoHeight=2]="ByPosNoHeight",o})(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,n,r){return HeightMap.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,a){let s=this,l=r.doc;for(let c=a.length-1;c>=0;c--){let{fromA:u,toA:h,fromB:f,toB:d}=a[c],p=s.lineAt(u,QueryType$1.ByPosNoHeight,r.setDoc(n),0,0),g=p.to>=h?p:s.lineAt(h,QueryType$1.ByPosNoHeight,r,0,0);for(d+=g.to-h,h=g.to;c>0&&p.from<=a[c-1].toA;)u=a[c-1].fromA,f=a[c-1].fromB,c--,u<p.from&&(p=s.lineAt(u,QueryType$1.ByPosNoHeight,r,0,0));f+=p.from-u,u=p.from;let y=NodeBuilder.build(r.setDoc(l),e,f,d);s=replace(s,s.replace(u,h,y))}return s.updateHeight(r,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,a=0,s=0;for(;;)if(n==r)if(a>s*2){let c=e[n-1];c.break?e.splice(--n,1,c.left,null,c.right):e.splice(--n,1,c.left,c.right),r+=1+c.break,a-=c.size}else if(s>a*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,s-=c.size}else break;else if(a<s){let c=e[n++];c&&(a+=c.size)}else{let c=e[--r];c&&(s+=c.size)}let l=0;return e[n-1]==null?(l=1,n--):e[n]==null&&(l=1,r++),new HeightMapBranch(HeightMap.of(e.slice(0,n)),l,HeightMap.of(e.slice(r)))}}function replace(o,e){return o==e?o:(o.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,a){return new BlockInfo(a,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,a,s){return this.blockAt(0,r,a,s)}forEachLine(e,n,r,a,s,l){e<=s+this.length&&n>=s&&l(this.blockAt(0,r,a,s))}updateHeight(e,n=0,r=!1,a){return a&&a.from<=n&&a.more&&this.setHeight(a.heights[a.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,a){return new BlockInfo(a,this.length,r,this.height,this.breaks)}replace(e,n,r){let a=r[0];return r.length==1&&(a instanceof HeightMapText||a instanceof HeightMapGap&&a.flags&4)&&Math.abs(this.length-a.length)<10?(a instanceof HeightMapGap?a=new HeightMapText(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):HeightMap.of(r)}updateHeight(e,n=0,r=!1,a){return a&&a.from<=n&&a.more?this.setHeight(a.heights[a.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,a=e.doc.lineAt(n+this.length).number,s=a-r+1,l,c=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);l=u/s,this.length>s+1&&(c=(this.height-u)/(this.length-s-1))}else l=this.height/s;return{firstLine:r,lastLine:a,perLine:l,perChar:c}}blockAt(e,n,r,a){let{firstLine:s,lastLine:l,perLine:c,perChar:u}=this.heightMetrics(n,a);if(n.lineWrapping){let h=a+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=n.doc.lineAt(h),d=c+f.length*u,p=Math.max(r,e-d/2);return new BlockInfo(f.from,f.length,p,d,0)}else{let h=Math.max(0,Math.min(l-s,Math.floor((e-r)/c))),{from:f,length:d}=n.doc.line(s+h);return new BlockInfo(f,d,r+c*h,c,0)}}lineAt(e,n,r,a,s){if(n==QueryType$1.ByHeight)return this.blockAt(e,r,a,s);if(n==QueryType$1.ByPosNoHeight){let{from:g,to:y}=r.doc.lineAt(e);return new BlockInfo(g,y-g,0,0,0)}let{firstLine:l,perLine:c,perChar:u}=this.heightMetrics(r,s),h=r.doc.lineAt(e),f=c+h.length*u,d=h.number-l,p=a+c*d+u*(h.from-s-d);return new BlockInfo(h.from,h.length,Math.max(a,Math.min(p,a+this.height-f)),f,0)}forEachLine(e,n,r,a,s,l){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:c,perLine:u,perChar:h}=this.heightMetrics(r,s);for(let f=e,d=a;f<=n;){let p=r.doc.lineAt(f);if(f==e){let y=p.number-c;d+=u*y+h*(e-s-y)}let g=u+h*p.length;l(new BlockInfo(p.from,p.length,d,g,0)),d+=g,f=p.to+1}}replace(e,n,r){let a=this.length-n;if(a>0){let s=r[r.length-1];s instanceof HeightMapGap?r[r.length-1]=new HeightMapGap(s.length+a):r.push(null,new HeightMapGap(a-1))}if(e>0){let s=r[0];s instanceof HeightMapGap?r[0]=new HeightMapGap(e+s.length):r.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(r)}decomposeLeft(e,n){n.push(new HeightMapGap(e-1),null)}decomposeRight(e,n){n.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,n=0,r=!1,a){let s=n+this.length;if(a&&a.from<=n+this.length&&a.more){let l=[],c=Math.max(n,a.from),u=-1;for(a.from>n&&l.push(new HeightMapGap(a.from-n-1).updateHeight(e,n));c<=s&&a.more;){let f=e.doc.lineAt(c).length;l.length&&l.push(null);let d=a.heights[a.index++];u==-1?u=d:Math.abs(d-u)>=Epsilon&&(u=-2);let p=new HeightMapText(f,d);p.outdated=!1,l.push(p),c+=f+1}c<=s&&l.push(null,new HeightMapGap(s-c).updateHeight(e,c));let h=HeightMap.of(l);return(u<0||Math.abs(h.height-this.height)>=Epsilon||Math.abs(u-this.heightMetrics(e,n).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,a){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,a):this.right.blockAt(e,n,s,a+this.left.length+this.break)}lineAt(e,n,r,a,s){let l=a+this.left.height,c=s+this.left.length+this.break,u=n==QueryType$1.ByHeight?e<l:e<c,h=u?this.left.lineAt(e,n,r,a,s):this.right.lineAt(e,n,r,l,c);if(this.break||(u?h.to<c:h.from>c))return h;let f=n==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return u?h.join(this.right.lineAt(c,f,r,l,c)):this.left.lineAt(c,f,r,a,s).join(h)}forEachLine(e,n,r,a,s,l){let c=a+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,a,s,l),n>=u&&this.right.forEachLine(e,n,r,c,u,l);else{let h=this.lineAt(u,QueryType$1.ByPos,r,a,s);e<h.from&&this.left.forEachLine(e,h.from-1,r,a,s,l),h.to>=e&&h.from<=n&&l(h),n>h.to&&this.right.forEachLine(h.to+1,n,r,c,u,l)}}replace(e,n,r){let a=this.left.length+this.break;if(n<a)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-a,n-a,r));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let c of r)s.push(c);if(e>0&&mergeGaps(s,l-1),n<this.length){let c=s.length;this.decomposeRight(n,s),mergeGaps(s,c)}return HeightMap.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,a=r+this.break;if(e>=a)return this.right.decomposeRight(e-a,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<a&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?HeightMap.of(this.break?[e,null,n]:[e,n]):(this.left=replace(this.left,e),this.right=replace(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,a){let{left:s,right:l}=this,c=n+s.length+this.break,u=null;return a&&a.from<=n+s.length&&a.more?u=s=s.updateHeight(e,n,r,a):s.updateHeight(e,n,r),a&&a.from<=c+l.length&&a.more?u=l=l.updateHeight(e,c,r,a):l.updateHeight(e,c,r),u?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(o,e){let n,r;o[e]==null&&(n=o[e-1])instanceof HeightMapGap&&(r=o[e+1])instanceof HeightMapGap&&o.splice(e-1,3,new HeightMapGap(n.length+1+r.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),a=this.nodes[this.nodes.length-1];a instanceof HeightMapText?a.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let a=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;a<0&&(a=this.oracle.lineHeight);let l=n-e;r.block?this.addBlock(new HeightMapBlock(l,a,r)):(l||s||a>=relevantWidgetHeight)&&this.addLineDeco(a,s,l)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new HeightMapGap(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let n=new HeightMapText(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let a=this.ensureLine();a.length+=r,a.collapsed+=r,a.widgetHeight=Math.max(a.widgetHeight,e),a.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let a of this.nodes)a instanceof HeightMapText&&a.updateHeight(this.oracle,r),r+=a?a.length:1;return this.nodes}static build(e,n,r,a){let s=new NodeBuilder(r,e);return RangeSet.spans(n,r,a,s,0),s.finish(r)}}function heightRelevantDecoChanges(o,e,n){let r=new DecorationComparator;return RangeSet.compare(o,e,n,r,0),r.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,a){(e<n||r&&r.heightRelevant||a&&a.heightRelevant)&&addRange(e,n,this.changes,5)}}function visiblePixelRange(o,e){let n=o.getBoundingClientRect(),r=o.ownerDocument,a=r.defaultView||window,s=Math.max(0,n.left),l=Math.min(a.innerWidth,n.right),c=Math.max(0,n.top),u=Math.min(a.innerHeight,n.bottom);for(let h=o.parentNode;h&&h!=r.body;)if(h.nodeType==1){let f=h,d=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&d.overflow!="visible"){let p=f.getBoundingClientRect();s=Math.max(s,p.left),l=Math.min(l,p.right),c=Math.max(c,p.top),u=Math.min(h==o.parentNode?a.innerHeight:u,p.bottom)}h=d.position=="absolute"||d.position=="fixed"?f.offsetParent:f.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-n.left,right:Math.max(s,l)-n.left,top:c-(n.top+e),bottom:Math.max(c,u)-(n.top+e)}}function inWindow(o){let e=o.getBoundingClientRect(),n=o.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function fullPixelRange(o,e){let n=o.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class LineGap{constructor(e,n,r,a){this.from=e,this.to=n,this.size=r,this.displaySize=a}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],s=n[r];if(a.from!=s.from||a.to!=s.to||a.size!=s.size)return!1}return!0}draw(e,n){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(contentAttributes).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(n),this.stateDeco=e.facet(decorations).filter(r=>typeof r!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let a=r?n.head:n.anchor;if(!e.some(({from:s,to:l})=>a>=s&&a<=l)){let{from:s,to:l}=this.lineBlockAt(a);e.push(new Viewport(s,l))}}return this.viewports=e.sort((r,a)=>r.from-a.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(f=>typeof f!="function");let a=e.changedRanges,s=ChangedRange.extendWithRanges(a,heightRelevantDecoChanges(r,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||heightChangeFlag)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),a=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Direction.RTL:Direction.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),c=n.getBoundingClientRect(),u=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,f=0;if(c.width&&c.height){let{scaleX:I,scaleY:G}=getScale(n,c);(I>.005&&Math.abs(this.scaleX-I)>.005||G>.005&&Math.abs(this.scaleY-G)>.005)&&(this.scaleX=I,this.scaleY=G,h|=16,l=u=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,p=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=p)&&(this.paddingTop=d,this.paddingBottom=p,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(a.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let y=(this.printing?fullPixelRange:visiblePixelRange)(n,this.paddingTop),v=y.top-this.pixelViewport.top,w=y.bottom-this.pixelViewport.bottom;this.pixelViewport=y;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(u=!0)),!this.inView&&!this.scrollTarget&&!inWindow(e.dom))return 0;let k=c.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let I=e.docView.measureVisibleLineHeights(this.viewport);if(a.mustRefreshForHeights(I)&&(l=!0),l||a.lineWrapping&&Math.abs(k-this.contentDOMWidth)>a.charWidth){let{lineHeight:G,charWidth:J,textHeight:Q}=e.docView.measureTextSize();l=G>0&&a.refresh(s,G,J,Q,Math.max(5,k/J),I),l&&(e.docView.minWidth=0,h|=16)}v>0&&w>0?f=Math.max(v,w):v<0&&w<0&&(f=Math.min(v,w)),clearHeightChangeFlag();for(let G of this.viewports){let J=G.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(G);this.heightMap=(l?HeightMap.empty().applyChanges(this.stateDeco,Text$1.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(a,0,l,new MeasuredHeights(G.from,J))}heightChangeFlag&&(h|=2)}let E=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),h|=this.updateForViewport()),(h&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),a=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,u=new Viewport(a.lineAt(l-r*1e3,QueryType$1.ByHeight,s,0,0).from,a.lineAt(c+(1-r)*1e3,QueryType$1.ByHeight,s,0,0).to);if(n){let{head:h}=n.range;if(h<u.from||h>u.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=a.lineAt(h,QueryType$1.ByPos,s,0,0),p;n.y=="center"?p=(d.top+d.bottom)/2-f/2:n.y=="start"||n.y=="nearest"&&h<u.from?p=d.top:p=d.bottom-f,u=new Viewport(a.lineAt(p-1e3/2,QueryType$1.ByHeight,s,0,0).from,a.lineAt(p+f+1e3/2,QueryType$1.ByHeight,s,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),a=n.mapPos(e.to,1);return new Viewport(this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(a,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:a}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||a<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=c+Math.max(10,Math.min(r,250)))&&a>l-2*1e3&&s<c+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let a of e)n.touchesRange(a.from,a.to)||r.push(new LineGap(n.mapPos(a.from),n.mapPos(a.to),a.size,a.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,a=r?1e4:2e3,s=a>>1,l=a<<1;if(this.defaultTextDirection!=Direction.LTR&&!r)return[];let c=[],u=(f,d,p,g)=>{if(d-f<s)return;let y=this.state.selection.main,v=[y.from];y.empty||v.push(y.to);for(let O of v)if(O>f&&O<d){u(f,O-10,p,g),u(O+10,d,p,g);return}let w=find(e,O=>O.from>=p.from&&O.to<=p.to&&Math.abs(O.from-f)<s&&Math.abs(O.to-d)<s&&!v.some(k=>O.from<k&&O.to>k));if(!w){if(d<p.to&&n&&r&&n.visibleRanges.some(E=>E.from<=d&&E.to>=d)){let E=n.moveToLineBoundary(EditorSelection.cursor(d),!1,!0).head;E>f&&(d=E)}let O=this.gapSize(p,f,d,g),k=r||O<2e6?O:2e6;w=new LineGap(f,d,O,k)}c.push(w)},h=f=>{if(f.length<l||f.type!=BlockType.Text)return;let d=lineStructure(f.from,f.to,this.stateDeco);if(d.total<l)return;let p=this.scrollTarget?this.scrollTarget.range.head:null,g,y;if(r){let v=a/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,O;if(p!=null){let k=findFraction(d,p),E=((this.visibleBottom-this.visibleTop)/2+v)/f.height;w=k-E,O=k+E}else w=(this.visibleTop-f.top-v)/f.height,O=(this.visibleBottom-f.top+v)/f.height;g=findPosition(d,w),y=findPosition(d,O)}else{let v=d.total*this.heightOracle.charWidth,w=a*this.heightOracle.charWidth,O=0;if(v>2e6)for(let J of e)J.from>=f.from&&J.from<f.to&&J.size!=J.displaySize&&J.from*this.heightOracle.charWidth+O<this.pixelViewport.left&&(O=J.size-J.displaySize);let k=this.pixelViewport.left+O,E=this.pixelViewport.right+O,I,G;if(p!=null){let J=findFraction(d,p),Q=((E-k)/2+w)/v;I=J-Q,G=J+Q}else I=(k-w)/v,G=(E+w)/v;g=findPosition(d,I),y=findPosition(d,G)}g>f.from&&u(f.from,g,f,d),y<f.to&&u(y,f.to,f,d)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(h):h(f);return c}gapSize(e,n,r,a){let s=findFraction(a,r)-findFraction(a,n);return this.heightOracle.lineWrapping?e.height*s:a.total*this.heightOracle.charWidth*s}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];RangeSet.spans(n,this.viewport.from,this.viewport.to,{span(s,l){r.push({from:s,to:l})},point(){}},20);let a=0;if(r.length!=this.visibleRanges.length)a=12;else for(let s=0;s<r.length&&!(a&8);s++){let l=this.visibleRanges[s],c=r[s];(l.from!=c.from||l.to!=c.to)&&(a|=4,e&&e.mapPos(l.from,-1)==c.from&&e.mapPos(l.to,1)==c.to||(a|=8))}return this.visibleRanges=r,a}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(e,n){this.from=e,this.to=n}}function lineStructure(o,e,n){let r=[],a=o,s=0;return RangeSet.spans(n,o,e,{span(){},point(l,c){l>a&&(r.push({from:a,to:l}),s+=l-a),a=c}},20),a<e&&(r.push({from:a,to:e}),s+=e-a),{total:s,ranges:r}}function findPosition({total:o,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(o*n);for(let a=0;;a++){let{from:s,to:l}=e[a],c=l-s;if(r<=c)return s+r;r-=c}}function findFraction(o,e){let n=0;for(let{from:r,to:a}of o.ranges){if(e<=a){n+=e-r;break}n+=a-r}return n/o.total}function find(o,e){for(let n of o)if(e(n))return n}const IdScaler={toDOM(o){return o},fromDOM(o){return o},scale:1,eq(o){return o==this}};class BigScaler{constructor(e,n,r){let a=0,s=0,l=0;this.viewports=r.map(({from:c,to:u})=>{let h=n.lineAt(c,QueryType$1.ByPos,e,0,0).top,f=n.lineAt(u,QueryType$1.ByPos,e,0,0).bottom;return a+=f-h,{from:c,to:u,top:h,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-a)/(n.height-a);for(let c of this.viewports)c.domTop=l+(c.top-s)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let n=0,r=0,a=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return a+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,a=s.domBottom}}fromDOM(e){for(let n=0,r=0,a=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-a)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,a=s.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function scaleBlock(o,e){if(e.scale==1)return o;let n=e.toDOM(o.top),r=e.toDOM(o.bottom);return new BlockInfo(o.from,o.length,n,r-n,Array.isArray(o._content)?o._content.map(a=>scaleBlock(a,e)):o._content)}const theme=Facet.define({combine:o=>o.join(" ")}),darkTheme=Facet.define({combine:o=>o.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(o,e,n){return new StyleModule(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,a=>{if(a=="&")return o;if(!n||!n[a])throw new RangeError(`Unsupported selector: ${a}`);return n[a]}):o+" "+r}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser$2.ie&&browser$2.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(browser$2.ie&&browser$2.ie_version<=11||browser$2.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser$2.android&&e.constructor.EDIT_CONTEXT!==!1&&!(browser$2.chrome&&browser$2.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,a=this.selectionRange;if(r.state.facet(editable)?r.root.activeElement!=this.dom:!hasSelection(this.dom,a))return;let s=a.anchorNode&&r.docView.nearest(a.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(browser$2.ie&&browser$2.ie_version<=11||browser$2.android&&browser$2.chrome)&&!r.state.selection.main.empty&&a.focusNode&&isEquivalentPosition(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=getSelection(e.root);if(!n)return!1;let r=browser$2.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let a=hasSelection(this.dom,r);return a&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),a&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let a=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&dispatchKey(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(a)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,a=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(a=!0),n==-1?{from:n,to:r}=l:(n=Math.min(l.from,n),r=Math.max(l.to,r)))}return{from:n,to:r,typeOver:a}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),a=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!a)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new DOMChange(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,a=applyDOMChange(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),a}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=findChild(n,e.previousSibling||e.target.previousSibling,-1),a=findChild(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:a?n.posBefore(a):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(o,e,n){for(;e;){let r=ContentView.get(e);if(r&&r.parent==o)return r;let a=e.parentNode;e=a!=o.dom?a:n>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(o,e){let n=e.startContainer,r=e.startOffset,a=e.endContainer,s=e.endOffset,l=o.docView.domAtPos(o.state.selection.main.anchor);return isEquivalentPosition(l.node,l.offset,a,s)&&([n,r,a,s]=[a,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:s}}function safariSelectionRangeHack(o,e){if(e.getComposedRanges){let a=e.getComposedRanges(o.root)[0];if(a)return buildSelectionRangeFromRange(o,a)}let n=null;function r(a){a.preventDefault(),a.stopImmediatePropagation(),n=a.getTargetRanges()[0]}return o.contentDOM.addEventListener("beforeinput",r,!0),o.dom.ownerDocument.execCommand("indent"),o.contentDOM.removeEventListener("beforeinput",r,!0),n?buildSelectionRangeFromRange(o,n):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let a=e.state.selection.main,{anchor:s,head:l}=a,c=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let h={from:c,to:u,insert:Text$1.of(r.text.split(`
`))};if(h.from==this.from&&s<this.from?h.from=s:h.to==this.to&&s>this.to&&(h.to=s),h.from==h.to&&!h.insert.length){let f=EditorSelection.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));f.main.eq(a)||e.dispatch({selection:f,userEvent:"select"});return}if((browser$2.mac||browser$2.android)&&h.from==l-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:c,to:u,insert:Text$1.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let f=this.to-this.from+(h.to-h.from+h.insert.length);applyDOMChangeInner(e,h,EditorSelection.single(this.toEditorPos(r.selectionStart,f),this.toEditorPos(r.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let a=[],s=null;for(let l=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);l<c;l++){let u=e.coordsForChar(l);s=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||s||new DOMRect,a.push(s)}n.updateCharacterBounds(r.rangeStart,a)},this.handlers.textformatupdate=r=>{let a=[];for(let s of r.getTextFormats()){let l=s.underlineStyle,c=s.underlineThickness;if(l!="None"&&c!="None"){let u=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(u<h){let f=`text-decoration: underline ${l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${c=="Thin"?1:2}px`;a.push(Decoration.mark({attributes:{style:f}}).range(u,h))}}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(a))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let a=getSelection(r.root);a&&a.rangeCount&&this.editContext.updateSelectionBounds(a.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,a=this.pendingContextChange;return e.changes.iterChanges((s,l,c,u,h)=>{if(r)return;let f=h.length-(l-s);if(a&&l>=a.to)if(a.from==s&&a.to==l&&a.insert.eq(h)){a=this.pendingContextChange=null,n+=f,this.to+=f;return}else a=null,this.revertPending(e.state);if(s+=n,l+=n,l<=this.from)this.from+=f,this.to+=f;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),h.toString()),this.to+=f}n+=f}),a&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(a=>!a.isUserEvent("input.type")&&a.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),a=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=a)&&this.editContext.updateSelection(r,a)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(a=>a.forEach(s=>r(s,this)))||(a=>this.update(a)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(a=>new PluginInstance(a));for(let a of this.plugins)a.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,a,s=this.state;for(let p of e){if(p.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=p.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,c=0,u=null;e.some(p=>p.annotation(isFocusChange))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,u=focusChangeTransaction(s,l),u||(c=1));let h=this.observer.delayedAndroidKey,f=null;if(h?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(s);a=ViewUpdate.create(this,s,e),a.flags|=c;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(d&&(d=d.map(p.changes)),p.scrollIntoView){let{main:g}=p.state.selection;d=new ScrollTarget(g.empty?g:EditorSelection.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of p.effects)g.is(scrollIntoView$1)&&(d=g.value.clip(this.state))}this.viewState.update(a,d),this.bidiCache=CachedOrder.update(this.bidiCache,a.changes),a.empty||(this.updatePlugins(a),this.inputState.update(a)),n=this.docView.update(a),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(a.startState.facet(theme)!=a.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!a.empty)for(let p of this.state.facet(updateListener))try{p(a)}catch(g){logException(this.state,g,"update listener")}(u||f)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),f&&!applyDOMChange(this,f)&&h.force&&dispatchKey(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(r=>new PluginInstance(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(viewPlugin),r=e.state.facet(viewPlugin);if(n!=r){let a=[];for(let s of r){let l=n.indexOf(s);if(l<0)a.push(new PluginInstance(s));else{let c=this.plugins[l];c.mustUpdate=e,a.push(c)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=a,this.pluginMap.clear()}else for(let a of this.plugins)a.mustUpdate=e;for(let a=0;a<this.plugins.length;a++)this.plugins[a].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){logException(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,a=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(a-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(isScrolledToBottom(r))s=-1,l=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(a);s=g.from,l=g.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(g=>{try{return g.read(this)}catch(y){return logException(this.state,y),BadMeasure}}),d=ViewUpdate.create(this,this.state,[]),p=!1;d.flags|=u,n?n.flags|=u:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d),p&&this.docViewUpdate());for(let g=0;g<h.length;g++)if(f[g]!=BadMeasure)try{let y=h[g];y.write&&y.write(f[g],this)}catch(y){logException(this.state,y)}if(p&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let y=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(y>1||y<-1){a=a+y,r.scrollTop=a/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let c of this.state.facet(updateListener))c(n)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser$2.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,n);let r=this.observer.ignore(()=>{let a=updateAttrs(this.contentDOM,this.contentAttrs,n),s=updateAttrs(this.dom,this.editorAttrs,e);return a||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let a of r.effects)if(a.is(EditorView.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=a.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return skipAtoms(this,e,moveByChar(this,e,n,r))}moveByGroup(e,n){return skipAtoms(this,e,moveByChar(this,e,n,r=>byGroup(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),a=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return EditorSelection.cursor(s.side(n,a)+e.from,s.forward(!n,a)?1:-1)}moveToLineBoundary(e,n,r=!0){return moveToLineBoundary(this,e,n,r)}moveVertically(e,n,r){return skipAtoms(this,e,moveVertically(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),posAtCoords(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let a=this.state.doc.lineAt(e),s=this.bidiSpans(a),l=s[BidiSpan.find(s,e-a.from,-1,n)];return flattenRect(r,l.dir==Direction.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||isolatesEq(s.isolates,r=getIsolatedRanges(this,e))))return s.order;r||(r=getIsolatedRanges(this,e));let a=computeOrder(e.text,n,r);return this.bidiCache.push(new CachedOrder(e.from,e.to,n,r,!0,a)),a}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser$2.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=StyleModule.newName(),a=[theme.of(r),styleModule.of(buildTheme(`.${r}`,e))];return n&&n.dark&&a.push(darkTheme.of(!0)),a}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),a=r&&ContentView.get(r)||ContentView.get(e);return((n=a?.rootView)===null||n===void 0?void 0:n.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:o=>o.length?o[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,n,r,a,s,l){this.from=e,this.to=n,this.dir=r,this.isolates=a,this.fresh=s,this.order=l}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],a=e.length?e[e.length-1].dir:Direction.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==a&&!n.touchesRange(l.from,l.to)&&r.push(new CachedOrder(n.mapPos(l.from,1),n.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return r}}function attrsFromFacet(o,e,n){for(let r=o.state.facet(e),a=r.length-1;a>=0;a--){let s=r[a],l=typeof s=="function"?s(o):s;l&&combineAttrs(l,n)}return n}const currentPlatform=browser$2.mac?"mac":browser$2.windows?"win":browser$2.linux?"linux":"key";function normalizeKeyName(o,e){const n=o.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let a,s,l,c;for(let u=0;u<n.length-1;++u){const h=n[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))a=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return a&&(r="Alt-"+r),s&&(r="Ctrl-"+r),c&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function modifiers(o,e,n){return e.altKey&&(o="Alt-"+o),e.ctrlKey&&(o="Ctrl-"+o),e.metaKey&&(o="Meta-"+o),n!==!1&&e.shiftKey&&(o="Shift-"+o),o}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(o,e){return runHandlers(getKeymap(e.state),o,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(o){let e=o.facet(keymap),n=Keymaps.get(e);return n||Keymaps.set(e,n=buildKeymap(e.reduce((r,a)=>r.concat(a),[]))),n}function runScopeHandlers(o,e,n){return runHandlers(getKeymap(o.state),e,o,n)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(o,e=currentPlatform){let n=Object.create(null),r=Object.create(null),a=(l,c)=>{let u=r[l];if(u==null)r[l]=c;else if(u!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,c,u,h,f)=>{var d,p;let g=n[l]||(n[l]=Object.create(null)),y=c.split(/ (?!$)/).map(O=>normalizeKeyName(O,e));for(let O=1;O<y.length;O++){let k=y.slice(0,O).join(" ");a(k,!0),g[k]||(g[k]={preventDefault:!0,stopPropagation:!1,run:[E=>{let I=storedPrefix={view:E,prefix:k,scope:l};return setTimeout(()=>{storedPrefix==I&&(storedPrefix=null)},PrefixTimeout),!0}]})}let v=y.join(" ");a(v,!1);let w=g[v]||(g[v]={preventDefault:!1,stopPropagation:!1,run:((p=(d=g._any)===null||d===void 0?void 0:d.run)===null||p===void 0?void 0:p.slice())||[]});u&&w.run.push(u),h&&(w.preventDefault=!0),f&&(w.stopPropagation=!0)};for(let l of o){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of c){let f=n[h]||(n[h]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=l;for(let p in f)f[p].run.push(g=>d(g,currentKeyEvent))}let u=l[e]||l.key;if(u)for(let h of c)s(h,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(h,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return n}let currentKeyEvent=null;function runHandlers(o,e,n,r){currentKeyEvent=e;let a=keyName(e),s=codePointAt(a,0),l=codePointSize(s)==a.length&&a!=" ",c="",u=!1,h=!1,f=!1;storedPrefix&&storedPrefix.view==n&&storedPrefix.scope==r&&(c=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(h=!0,storedPrefix=null));let d=new Set,p=w=>{if(w){for(let O of w.run)if(!d.has(O)&&(d.add(O),O(n)))return w.stopPropagation&&(f=!0),!0;w.preventDefault&&(w.stopPropagation&&(f=!0),h=!0)}return!1},g=o[r],y,v;return g&&(p(g[c+modifiers(a,e,!l)])?u=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser$2.windows&&e.ctrlKey&&e.altKey)&&!(browser$2.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(y=base[e.keyCode])&&y!=a?(p(g[c+modifiers(y,e,!0)])||e.shiftKey&&(v=shift[e.keyCode])!=a&&v!=y&&p(g[c+modifiers(v,e,!1)]))&&(u=!0):l&&e.shiftKey&&p(g[c+modifiers(a,e,!0)])&&(u=!0),!u&&p(g._any)&&(u=!0)),h&&(u=!0),u&&f&&e.stopPropagation(),currentKeyEvent=null,u}class RectangleMarker{constructor(e,n,r,a,s){this.className=e,this.left=n,this.top=r,this.width=a,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let a=e.coordsAtPos(r.head,r.assoc||1);if(!a)return[];let s=getBase$1(e);return[new RectangleMarker(n,a.left-s.left,a.top-s.top,null,a.bottom-a.top)]}else return rectanglesForRange(e,n,r)}}function getBase$1(o){let e=o.scrollDOM.getBoundingClientRect();return{left:(o.textDirection==Direction.LTR?e.left:e.right-o.scrollDOM.clientWidth*o.scaleX)-o.scrollDOM.scrollLeft*o.scaleX,top:e.top-o.scrollDOM.scrollTop*o.scaleY}}function wrappedLine(o,e,n,r){let a=o.coordsAtPos(e,n*2);if(!a)return r;let s=o.dom.getBoundingClientRect(),l=(a.top+a.bottom)/2,c=o.posAtCoords({x:s.left+1,y:l}),u=o.posAtCoords({x:s.right-1,y:l});return c==null||u==null?r:{from:Math.max(r.from,Math.min(c,u)),to:Math.min(r.to,Math.max(c,u))}}function rectanglesForRange(o,e,n){if(n.to<=o.viewport.from||n.from>=o.viewport.to)return[];let r=Math.max(n.from,o.viewport.from),a=Math.min(n.to,o.viewport.to),s=o.textDirection==Direction.LTR,l=o.contentDOM,c=l.getBoundingClientRect(),u=getBase$1(o),h=l.querySelector(".cm-line"),f=h&&window.getComputedStyle(h),d=c.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),p=c.right-(f?parseInt(f.paddingRight):0),g=blockAt(o,r,1),y=blockAt(o,a,-1),v=g.type==BlockType.Text?g:null,w=y.type==BlockType.Text?y:null;if(v&&(o.lineWrapping||g.widgetLineBreaks)&&(v=wrappedLine(o,r,1,v)),w&&(o.lineWrapping||y.widgetLineBreaks)&&(w=wrappedLine(o,a,-1,w)),v&&w&&v.from==w.from&&v.to==w.to)return k(E(n.from,n.to,v));{let G=v?E(n.from,null,v):I(g,!1),J=w?E(null,n.to,w):I(y,!0),Q=[];return(v||g).to<(w||y).from-(v&&w?1:0)||g.widgetLineBreaks>1&&G.bottom+o.defaultLineHeight/2<J.top?Q.push(O(d,G.bottom,p,J.top)):G.bottom<J.top&&o.elementAtHeight((G.bottom+J.top)/2).type==BlockType.Text&&(G.bottom=J.top=(G.bottom+J.top)/2),k(G).concat(Q).concat(k(J))}function O(G,J,Q,te){return new RectangleMarker(e,G-u.left,J-u.top,Q-G,te-J)}function k({top:G,bottom:J,horizontal:Q}){let te=[];for(let pe=0;pe<Q.length;pe+=2)te.push(O(Q[pe],G,Q[pe+1],J));return te}function E(G,J,Q){let te=1e9,pe=-1e9,fe=[];function ee(R,ae,de,H,ne){let V=o.coordsAtPos(R,R==Q.to?-2:2),Ce=o.coordsAtPos(de,de==Q.from?2:-2);!V||!Ce||(te=Math.min(V.top,Ce.top,te),pe=Math.max(V.bottom,Ce.bottom,pe),ne==Direction.LTR?fe.push(s&&ae?d:V.left,s&&H?p:Ce.right):fe.push(!s&&H?d:Ce.left,!s&&ae?p:V.right))}let N=G??Q.from,Z=J??Q.to;for(let R of o.visibleRanges)if(R.to>N&&R.from<Z)for(let ae=Math.max(R.from,N),de=Math.min(R.to,Z);;){let H=o.state.doc.lineAt(ae);for(let ne of o.bidiSpans(H)){let V=ne.from+H.from,Ce=ne.to+H.from;if(V>=de)break;Ce>ae&&ee(Math.max(V,ae),G==null&&V<=N,Math.min(Ce,de),J==null&&Ce>=Z,ne.dir)}if(ae=H.to+1,ae>=de)break}return fe.length==0&&ee(N,G==null,Z,J==null,o.textDirection),{top:te,bottom:pe,horizontal:fe}}function I(G,J){let Q=c.top+(J?G.top:G.bottom);return{top:Q,bottom:Q,horizontal:[]}}}function sameMarker(o,e){return o.constructor==e.constructor&&o.eq(e)}class LayerView{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(layerOrder);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!sameMarker(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let a of e)a.update&&n&&a.constructor&&this.drawn[r].constructor&&a.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(a.draw(),n);for(;n;){let a=n.nextSibling;n.remove(),n=a}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(o){return[ViewPlugin.define(e=>new LayerView(e,o)),layerOrder.of(o)]}const selectionConfig=Facet.define({combine(o){return combineConfig(o,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function drawSelection(o={}){return[selectionConfig.of(o),cursorLayer,selectionLayer,hideNativeSelection$1,nativeSelectionHidden.of(!0)]}function getDrawSelectionConfig$1(o){return o.facet(selectionConfig)}function configChanged$1(o){return o.startState.facet(selectionConfig)!=o.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(o){let{state:e}=o,n=e.facet(selectionConfig),r=[];for(let a of e.selection.ranges){let s=a==e.selection.main;if(a.empty||n.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=a.empty?a:EditorSelection.cursor(a.head,a.head>a.anchor?-1:1);for(let u of RectangleMarker.forRange(o,l,c))r.push(u)}}return r},update(o,e){o.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=configChanged$1(o);return n&&setBlinkRate(o.state,e),o.docChanged||o.selectionSet||n},mount(o,e){setBlinkRate(e.state,o)},class:"cm-cursorLayer"});function setBlinkRate(o,e){e.style.animationDuration=o.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(o){return o.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(o,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(o,e){return o.docChanged||o.selectionSet||o.viewportChanged||configChanged$1(o)},class:"cm-selectionLayer"}),hideNativeSelection$1=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(o,e){return o==null?null:e.mapPos(o)}}),dropCursorPos=StateField.define({create(){return null},update(o,e){return o!=null&&(o=e.changes.mapPos(o)),e.effects.reduce((n,r)=>r.is(setDropCursorPos)?r.value:n,o)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(o){var e;let n=o.state.field(dropCursorPos);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(o.startState.field(dropCursorPos)!=n||o.docChanged||o.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:o}=this,e=o.state.field(dropCursorPos),n=e!=null&&o.coordsAtPos(e);if(!n)return null;let r=o.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+o.scrollDOM.scrollLeft*o.scaleX,top:n.top-r.top+o.scrollDOM.scrollTop*o.scaleY,height:n.bottom-n.top}}drawCursor(o){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;o?(this.cursor.style.left=o.left/e+"px",this.cursor.style.top=o.top/n+"px",this.cursor.style.height=o.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(o){this.view.state.field(dropCursorPos)!=o&&this.view.dispatch({effects:setDropCursorPos.of(o)})}},{eventObservers:{dragover(o){this.setDropPos(this.view.posAtCoords({x:o.clientX,y:o.clientY}))},dragleave(o){(o.target==this.view.contentDOM||!this.view.contentDOM.contains(o.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(o,e,n,r,a){e.lastIndex=0;for(let s=o.iterRange(n,r),l=n,c;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)a(l+c.index,c)}function matchRanges(o,e){let n=o.visibleRanges;if(n.length==1&&n[0].from==o.viewport.from&&n[0].to==o.viewport.to)return n;let r=[];for(let{from:a,to:s}of n)a=Math.max(o.state.doc.lineAt(a).from,a-e),s=Math.min(o.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=a?r[r.length-1].to=s:r.push({from:a,to:s});return r}class MatchDecorator{constructor(e){const{regexp:n,decoration:r,decorate:a,boundary:s,maxLength:l=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,a)this.addMatch=(c,u,h,f)=>a(f,h,h+c[0].length,c,u);else if(typeof r=="function")this.addMatch=(c,u,h,f)=>{let d=r(c,u,h);d&&f(h,h+c[0].length,d)};else if(r)this.addMatch=(c,u,h,f)=>f(h,h+c[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let n=new RangeSetBuilder,r=n.add.bind(n);for(let{from:a,to:s}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,a,s,(l,c)=>this.addMatch(c,e,l,r));return n.finish()}updateDeco(e,n){let r=1e9,a=-1;return e.docChanged&&e.changes.iterChanges((s,l,c,u)=>{u>=e.view.viewport.from&&c<=e.view.viewport.to&&(r=Math.min(c,r),a=Math.max(u,a))}),e.viewportMoved||a-r>1e3?this.createDeco(e.view):a>-1?this.updateRange(e.view,n.map(e.changes),r,a):n}updateRange(e,n,r,a){for(let s of e.visibleRanges){let l=Math.max(s.from,r),c=Math.min(s.to,a);if(c>=l){let u=e.state.doc.lineAt(l),h=u.to<c?e.state.doc.lineAt(c):u,f=Math.max(s.from,u.from),d=Math.min(s.to,h.to);if(this.boundary){for(;l>u.from;l--)if(this.boundary.test(u.text[l-1-u.from])){f=l;break}for(;c<h.to;c++)if(this.boundary.test(h.text[c-h.from])){d=c;break}}let p=[],g,y=(v,w,O)=>p.push(O.range(v,w));if(u==h)for(this.regexp.lastIndex=f-u.from;(g=this.regexp.exec(u.text))&&g.index<d-u.from;)this.addMatch(g,e,g.index+u.from,y);else iterMatches(e.state.doc,this.regexp,f,d,(v,w)=>this.addMatch(w,e,v,y));n=n.update({filterFrom:f,filterTo:d,filter:(v,w)=>v<f||w>d,add:p})}}return n}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var o;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((o=e.tabSize)!==null&&o!==void 0?o:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(o){let e=combineConfig(o,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(o={}){return[specialCharConfig.of(o),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(o.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(o)}makeDecorator(o){return new MatchDecorator({regexp:o.specialChars,decoration:(e,n,r)=>{let{doc:a}=n.state,s=codePointAt(e[0],0);if(s==9){let l=a.lineAt(r),c=n.state.tabSize,u=countColumn(l.text,c,r-l.from);return Decoration.replace({widget:new TabWidget((c-u%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Decoration.replace({widget:new SpecialCharWidget(o,s)}))},boundary:o.replaceTabs?void 0:/[^]/})}update(o){let e=o.state.facet(specialCharConfig);o.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(o.view)):this.decorations=this.decorator.updateDeco(o,this.decorations)}},{decorations:o=>o.decorations}))}const DefaultPlaceholder="";function placeholder$1(o){return o>=32?DefaultPlaceholder:o==10?"":String.fromCharCode(9216+o)}class SpecialCharWidget extends WidgetType{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=placeholder$1(this.code),r=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,r,n);if(a)return a;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDeco(o)}update(o){(o.docChanged||o.selectionSet)&&(this.decorations=this.getDeco(o.view))}getDeco(o){let e=-1,n=[];for(let r of o.state.selection.ranges){let a=o.lineBlockAt(r.head);a.from>e&&(n.push(lineDeco.range(a.from)),e=a.from)}return Decoration.set(n)}},{decorations:o=>o.decorations}),MaxOff=2e3;function rectangleFor(o,e,n){let r=Math.min(e.line,n.line),a=Math.max(e.line,n.line),s=[];if(e.off>MaxOff||n.off>MaxOff||e.col<0||n.col<0){let l=Math.min(e.off,n.off),c=Math.max(e.off,n.off);for(let u=r;u<=a;u++){let h=o.doc.line(u);h.length<=c&&s.push(EditorSelection.range(h.from+l,h.to+c))}}else{let l=Math.min(e.col,n.col),c=Math.max(e.col,n.col);for(let u=r;u<=a;u++){let h=o.doc.line(u),f=findColumn$1(h.text,l,o.tabSize,!0);if(f<0)s.push(EditorSelection.cursor(h.to));else{let d=findColumn$1(h.text,c,o.tabSize);s.push(EditorSelection.range(h.from+f,h.from+d))}}}return s}function absoluteColumn(o,e){let n=o.coordsAtPos(o.viewport.from);return n?Math.round(Math.abs((n.left-e)/o.defaultCharacterWidth)):-1}function getPos(o,e){let n=o.posAtCoords({x:e.clientX,y:e.clientY},!1),r=o.state.doc.lineAt(n),a=n-r.from,s=a>MaxOff?-1:a==r.length?absoluteColumn(o,e.clientX):countColumn(r.text,o.state.tabSize,n-r.from);return{line:r.number,col:s,off:a}}function rectangleSelectionStyle(o,e){let n=getPos(o,e),r=o.state.selection;return n?{update(a){if(a.docChanged){let s=a.changes.mapPos(a.startState.doc.line(n.line).from),l=a.state.doc.lineAt(s);n={line:l.number,col:n.col,off:Math.min(n.off,l.length)},r=r.map(a.changes)}},get(a,s,l){let c=getPos(o,a);if(!c)return r;let u=rectangleFor(o.state,n,c);return u.length?l?EditorSelection.create(u.concat(r.ranges)):EditorSelection.create(u):r}}:null}function rectangularSelection(o){let e=(n=>n.altKey&&n.button==0);return EditorView.mouseSelectionStyle.of((n,r)=>e(r)?rectangleSelectionStyle(n,r):null)}const keys$2={Alt:[18,o=>!!o.altKey],Control:[17,o=>!!o.ctrlKey],Shift:[16,o=>!!o.shiftKey],Meta:[91,o=>!!o.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(o={}){let[e,n]=keys$2[o.key||"Alt"],r=ViewPlugin.fromClass(class{constructor(a){this.view=a,this.isDown=!1}set(a){this.isDown!=a&&(this.isDown=a,this.view.update([]))}},{eventObservers:{keydown(a){this.set(a.keyCode==e||n(a))},keyup(a){(a.keyCode==e||!n(a))&&this.set(!1)},mousemove(a){this.set(n(a))}}});return[r,EditorView.contentAttributes.of(a=>{var s;return!((s=a.plugin(r))===null||s===void 0)&&s.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,n,r,a){this.facet=n,this.createTooltipView=r,this.removeTooltipView=a,this.input=e.state.facet(n),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=r(l,s))}update(e,n){var r;let a=e.state.facet(this.facet),s=a.filter(u=>u);if(a===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let l=[],c=n?[]:null;for(let u=0;u<s.length;u++){let h=s[u],f=-1;if(h){for(let d=0;d<this.tooltips.length;d++){let p=this.tooltips[d];p&&p.create==h.create&&(f=d)}if(f<0)l[u]=this.createTooltipView(h,u?l[u-1]:null),c&&(c[u]=!!h.above);else{let d=l[u]=this.tooltipViews[f];c&&(c[u]=n[f]),d.update&&d.update(e)}}}for(let u of this.tooltipViews)l.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(c.forEach((u,h)=>n[h]=u),n.length=c.length),this.input=a,this.tooltips=s,this.tooltipViews=l,!0}}function windowSpace(o){let e=o.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const tooltipConfig=Facet.define({combine:o=>{var e,n,r;return{position:browser$2.ios?"absolute":((e=o.find(a=>a.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=o.find(a=>a.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=o.find(a=>a.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=o.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=o.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(o,showTooltip,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),o.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let o of this.manager.tooltipViews)this.intersectionObserver.observe(o.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(o){o.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(o,this.above);e&&this.observeIntersection();let n=e||o.geometryChanged,r=o.state.facet(tooltipConfig);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let a of this.manager.tooltipViews)a.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let a of this.manager.tooltipViews)this.container.appendChild(a.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(o,e){let n=o.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),o.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let a=document.createElement("div");a.className="cm-tooltip-arrow",n.dom.appendChild(a)}return n.dom.style.position=this.position,n.dom.style.top=Outside,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var o,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(o=r.destroy)===null||o===void 0||o.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let o=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(browser$2.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Outside&&s.style.left=="0px"){let l=s.getBoundingClientRect();n=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(o=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:o,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),a=getScrollMargins(this.view);return{visible:{left:r.left+a.left,top:r.top+a.top,right:r.right-a.right,bottom:r.bottom-a.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:o,scaleY:e,makeAbsolute:n}}writeMeasure(o){var e;if(o.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:n,space:r,scaleX:a,scaleY:s}=o,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let u=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:f}=h,d=o.pos[c],p=o.size[c];if(!d||u.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){f.style.top=Outside;continue}let g=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,y=g?7:0,v=p.right-p.left,w=(e=knownHeight.get(h))!==null&&e!==void 0?e:p.bottom-p.top,O=h.offset||noOffset,k=this.view.textDirection==Direction.LTR,E=p.width>r.right-r.left?k?r.left:r.right-p.width:k?Math.max(r.left,Math.min(d.left-(g?14:0)+O.x,r.right-v)):Math.min(Math.max(r.left,d.left-v+(g?14:0)-O.x),r.right-v),I=this.above[c];!u.strictSide&&(I?d.top-w-y-O.y<r.top:d.bottom+w+y+O.y>r.bottom)&&I==r.bottom-d.bottom>d.top-r.top&&(I=this.above[c]=!I);let G=(I?d.top-r.top:r.bottom-d.bottom)-y;if(G<w&&h.resize!==!1){if(G<this.view.defaultLineHeight){f.style.top=Outside;continue}knownHeight.set(h,w),f.style.height=(w=G)/s+"px"}else f.style.height&&(f.style.height="");let J=I?d.top-w-y-O.y:d.bottom+y+O.y,Q=E+v;if(h.overlap!==!0)for(let te of l)te.left<Q&&te.right>E&&te.top<J+w&&te.bottom>J&&(J=I?te.top-w-2-y:te.bottom+y+2);if(this.position=="absolute"?(f.style.top=(J-o.parent.top)/s+"px",setLeftStyle(f,(E-o.parent.left)/a)):(f.style.top=J/s+"px",setLeftStyle(f,E/a)),g){let te=d.left+(k?O.x:-O.x)-(E+14-7);g.style.left=te/a+"px"}h.overlap!==!0&&l.push({left:E,top:J,right:Q,bottom:J+w}),f.classList.toggle("cm-tooltip-above",I),f.classList.toggle("cm-tooltip-below",!I),h.positioned&&h.positioned(o.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let o of this.manager.tooltipViews)o.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(o,e){let n=parseInt(o.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(o.style.left=e+"px")}const baseTheme$5=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$5]}),showHoverTooltip=Facet.define({combine:o=>o.reduce((e,n)=>e.concat(n),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let a=r[e];if(a!==void 0){if(n===void 0)n=a;else if(n!==a)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],o=>{let e=o.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class HoverPlugin{constructor(e,n,r,a,s){this.view=e,this.source=n,this.field=r,this.setHover=a,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let a,s=1;if(r instanceof WidgetView)a=r.posAtStart;else{if(a=e.posAtCoords(n),a==null)return;let c=e.coordsAtPos(a);if(!c||n.y<c.top||n.y>c.bottom||n.x<c.left-e.defaultCharacterWidth||n.x>c.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(a)).find(f=>f.from<=a&&f.to>=a),h=u&&u.dir==Direction.RTL?-1:1;s=n.x<c.left?-h:h}let l=this.source(e,a,s);if(l?.then){let c=this.pending={pos:a};l.then(u=>{this.pending==c&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>logException(e.state,u,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),n=e?e.manager.tooltips.findIndex(r=>r.create==HoverTooltipHost.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:a,tooltip:s}=this;if(a.length&&s&&!isInTooltip(s.dom,e)||this.pending){let{pos:l}=a[0]||this.pending,c=(r=(n=a[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!isOverRange(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(o,e){let{left:n,right:r,top:a,bottom:s}=o.getBoundingClientRect(),l;if(l=o.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();a=Math.min(c.top,a),s=Math.max(c.bottom,s)}return e.clientX>=n-tooltipMargin&&e.clientX<=r+tooltipMargin&&e.clientY>=a-tooltipMargin&&e.clientY<=s+tooltipMargin}function isOverRange(o,e,n,r,a,s){let l=o.scrollDOM.getBoundingClientRect(),c=o.documentTop+o.documentPadding.top+o.contentHeight;if(l.left>r||l.right<r||l.top>a||Math.min(l.bottom,c)<a)return!1;let u=o.posAtCoords({x:r,y:a},!1);return u>=e&&u<=n}function hoverTooltip(o,e={}){let n=StateEffect.define(),r=StateField.define({create(){return[]},update(a,s){if(a.length&&(e.hideOnChange&&(s.docChanged||s.selection)?a=[]:e.hideOn&&(a=a.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let c of a){let u=s.changes.mapPos(c.pos,-1,MapMode.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),c);h.pos=u,h.end!=null&&(h.end=s.changes.mapPos(h.end)),l.push(h)}}a=l}for(let l of s.effects)l.is(n)&&(a=l.value),l.is(closeHoverTooltipEffect)&&(a=[]);return a},provide:a=>showHoverTooltip.from(a)});return{active:r,extension:[r,ViewPlugin.define(a=>new HoverPlugin(a,o,r,n,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(o,e){let n=o.plugin(tooltipPlugin);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(o){let e,n;for(let r of o)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function getPanel(o,e){let n=o.plugin(panelPlugin),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(o){this.input=o.state.facet(showPanel),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(o));let e=o.state.facet(panelConfig);this.top=new PanelGroup(o,!0,e.topContainer),this.bottom=new PanelGroup(o,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(o){let e=o.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(o.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(o.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=o.state.facet(showPanel);if(n!=this.input){let r=n.filter(u=>u),a=[],s=[],l=[],c=[];for(let u of r){let h=this.specs.indexOf(u),f;h<0?(f=u(o.view),c.push(f)):(f=this.panels[h],f.update&&f.update(o)),a.push(f),(f.top?s:l).push(f)}this.specs=r,this.panels=a,this.top.sync(s),this.bottom.sync(l);for(let u of c)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(o)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:o=>EditorView.scrollMargins.of(e=>{let n=e.plugin(o);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class PanelGroup{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(o){let e=o.nextSibling;return o.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(o){return[gutters(),activeGutters.of({...defaults$1,...o})]}const unfixGutters=Facet.define({combine:o=>o.some(e=>e)});function gutters(o){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.domAfter=null,this.prevViewport=o.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=o.state.facet(activeGutters).map(e=>new SingleGutterView(o,e)),this.fixed=!o.state.facet(unfixGutters);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),o.scrollDOM.insertBefore(this.dom,o.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(o){if(this.updateGutters(o)){let e=this.prevViewport,n=o.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(o.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=o.view.viewport}syncGutters(o){let e=this.dom.nextSibling;o&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),r=[],a=this.gutters.map(s=>new UpdateContext(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let l=!0;for(let c of s.type)if(c.type==BlockType.Text&&l){advanceCursor(n,r,c.from);for(let u of a)u.line(this.view,c,r);l=!1}else if(c.widget)for(let u of a)u.widget(this.view,c)}else if(s.type==BlockType.Text){advanceCursor(n,r,s.from);for(let l of a)l.line(this.view,s,r)}else if(s.widget)for(let l of a)l.widget(this.view,s);for(let s of a)s.finish();o&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(o){let e=o.startState.facet(activeGutters),n=o.state.facet(activeGutters),r=o.docChanged||o.heightChanged||o.viewportChanged||!RangeSet.eq(o.startState.facet(gutterLineClass),o.state.facet(gutterLineClass),o.view.viewport.from,o.view.viewport.to);if(e==n)for(let a of this.gutters)a.update(o)&&(r=!0);else{r=!0;let a=[];for(let s of n){let l=e.indexOf(s);l<0?a.push(new SingleGutterView(this.view,s)):(this.gutters[l].update(o),a.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),a.indexOf(s)<0&&s.destroy();for(let s of a)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=a}return r}destroy(){for(let o of this.gutters)o.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:o=>EditorView.scrollMargins.of(e=>{let n=e.plugin(o);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,a=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Direction.LTR?{left:r,right:a}:{right:r,left:a}})});function asArray(o){return Array.isArray(o)?o:[o]}function advanceCursor(o,e,n){for(;o.value&&o.from<=n;)o.from==n&&e.push(o.value),o.next()}class UpdateContext{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=RangeSet.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:a}=this,s=(n.top-this.height)/e.scaleY,l=n.height/e.scaleY;if(this.i==a.elements.length){let c=new GutterElement(e,l,s,r);a.elements.push(c),a.dom.appendChild(c.dom)}else a.elements[this.i].update(e,l,s,r);this.height=n.bottom,this.i++}line(e,n,r){let a=[];advanceCursor(this.cursor,a,n.from),r.length&&(a=a.concat(r));let s=this.gutter.config.lineMarker(e,n,a);s&&a.unshift(s);let l=this.gutter;a.length==0&&!l.config.renderEmptyElements||this.addElement(e,n,a)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),a=r?[r]:null;for(let s of e.state.facet(gutterWidgetClass)){let l=s(e,n.widget,n);l&&(a||(a=[])).push(l)}a&&this.addElement(e,n,a)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class SingleGutterView{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,a=>{let s=a.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let u=s.getBoundingClientRect();l=(u.top+u.bottom)/2}else l=a.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);n.domEventHandlers[r](e,c,a)&&a.preventDefault()});this.markers=asArray(n.markers(e)),n.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let a=this.config.updateSpacer(this.spacer.markers[0],e);a!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[a])}let r=e.view.viewport;return!RangeSet.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,n,r,a){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,a)}update(e,n,r,a){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),sameMarkers(this.markers,a)||this.setMarkers(e,a)}setMarkers(e,n){let r="cm-gutterElement",a=this.dom.firstChild;for(let s=0,l=0;;){let c=l,u=s<n.length?n[s++]:null,h=!1;if(u){let f=u.elementClass;f&&(r+=" "+f);for(let d=l;d<this.markers.length;d++)if(this.markers[d].compare(u)){c=d,h=!0;break}}else c=this.markers.length;for(;l<c;){let f=this.markers[l++];if(f.toDOM){f.destroy(a);let d=a.nextSibling;a.remove(),a=d}}if(!u)break;u.toDOM&&(h?a=a.nextSibling:this.dom.insertBefore(u.toDOM(e),a)),h&&l++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function sameMarkers(o,e){if(o.length!=e.length)return!1;for(let n=0;n<o.length;n++)if(!o[n].compare(e[n]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(o){return combineConfig(o,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let a in n){let s=r[a],l=n[a];r[a]=s?(c,u,h)=>s(c,u,h)||l(c,u,h):l}return r}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(o,e){return o.state.facet(lineNumberConfig).formatNumber(e,o.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],o=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,n,r){return r.some(a=>a.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let a of e.state.facet(lineNumberWidgetMarker)){let s=a(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,n){let r=formatNumber(n.view,maxLineNumber(n.view.state.doc.lines));return r==e.number?e:new NumberMarker(r)},domEventHandlers:o.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(o={}){return[lineNumberConfig.of(o),gutters(),lineNumberGutter]}function maxLineNumber(o){let e=9;for(;e<o;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],o=>{let e=[],n=-1;for(let r of o.selection.ranges){let a=o.doc.lineAt(r.head).from;a>n&&(n=a,e.push(activeLineGutterMarker.range(a)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,n){this.from=e,this.to=n}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}NodeProp.closedBy=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.group=new NodeProp({deserialize:o=>o.split(" ")});NodeProp.isolate=new NodeProp({deserialize:o=>{if(o&&o!="rtl"&&o!="ltr"&&o!="auto")throw new RangeError("Invalid value for isolate: "+o);return o||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,n,r,a=0){this.name=e,this.props=n,this.id=r,this.flags=a}static define(e){let n=e.props&&e.props.length?Object.create(null):noProps,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),a=new NodeType(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(a)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return a}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(NodeProp.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let a of r.split(" "))n[a]=e[r];return r=>{for(let a=r.prop(NodeProp.group),s=-1;s<(a?a.length:0);s++){let l=n[s<0?r.name:a[s]];if(l)return l}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let a=null;for(let s of e){let l=s(r);l&&(a||(a=Object.assign({},r.props)),a[l[0].id]=l[1])}n.push(a?new NodeType(r.name,a,r.id,r.flags):r)}return new NodeSet(n)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(o){o[o.ExcludeBuffers=1]="ExcludeBuffers",o[o.IncludeAnonymous=2]="IncludeAnonymous",o[o.IgnoreMounts=4]="IgnoreMounts",o[o.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,n,r,a,s){if(this.type=e,this.children=n,this.positions=r,this.length=a,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,c]of s)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let a=r.toString();a&&(n&&(n+=","),n+=a)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,n=0,r=0){let a=CachedNode.get(this)||this.topNode,s=new TreeCursor(a);return s.moveTo(e,n),CachedNode.set(this,s._tree),s}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,n=0){let r=resolveNode(CachedNode.get(this)||this.topNode,e,n,!1);return CachedNode.set(this,r),r}resolveInner(e,n=0){let r=resolveNode(CachedInnerNode.get(this)||this.topNode,e,n,!0);return CachedInnerNode.set(this,r),r}resolveStack(e,n=0){return stackIterator(this,e,n)}iterate(e){let{enter:n,leave:r,from:a=0,to:s=this.length}=e,l=e.mode||0,c=(l&IterMode.IncludeAnonymous)>0;for(let u=this.cursor(l|IterMode.IncludeAnonymous);;){let h=!1;if(u.from<=s&&u.to>=a&&(!c&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&r&&(c||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,a)=>new Tree(this.type,n,r,a,this.propValues),e.makeTree||((n,r,a)=>new Tree(NodeType.none,n,r,a)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return NodeType.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],a=this.set.types[n],s=a.name;if(/\W/.test(s)&&!a.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,n,r,a,s){let{buffer:l}=this,c=-1;for(let u=e;u!=n&&!(checkSide(s,a,l[u+1],l[u+2])&&(c=u,r>0));u=l[u+3]);return c}slice(e,n,r){let a=this.buffer,s=new Uint16Array(n-e),l=0;for(let c=e,u=0;c<n;){s[u++]=a[c++],s[u++]=a[c++]-r;let h=s[u++]=a[c++]-r;s[u++]=a[c++]-e,l=Math.max(l,h)}return new TreeBuffer(s,l,this.set)}}function checkSide(o,e,n,r){switch(o){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function resolveNode(o,e,n,r){for(var a;o.from==o.to||(n<1?o.from>=e:o.from>e)||(n>-1?o.to<=e:o.to<e);){let l=!r&&o instanceof TreeNode&&o.index<0?null:o.parent;if(!l)return o;o=l}let s=r?0:IterMode.IgnoreOverlays;if(r)for(let l=o,c=l.parent;c;l=c,c=l.parent)l instanceof TreeNode&&l.index<0&&((a=c.enter(e,n,s))===null||a===void 0?void 0:a.from)!=l.from&&(o=c);for(;;){let l=o.enter(e,n,s);if(!l)return o;o=l}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,n=null,r=null){let a=getChildren(this,e,n,r);return a.length?a[0]:null}getChildren(e,n=null,r=null){return getChildren(this,e,n,r)}resolve(e,n=0){return resolveNode(this,e,n,!1)}resolveInner(e,n=0){return resolveNode(this,e,n,!0)}matchContext(e){return matchNodeContext(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let a=n.lastChild;if(!a||a.to!=n.to)break;a.type.isError&&a.from==a.to?(r=n,n=a.prevSibling):n=a}return r}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,n,r,a){super(),this._tree=e,this.from=n,this.index=r,this._parent=a}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,a,s=0){for(let l=this;;){for(let{children:c,positions:u}=l._tree,h=n>0?c.length:-1;e!=h;e+=n){let f=c[e],d=u[e]+l.from;if(checkSide(a,r,d,d+f.length)){if(f instanceof TreeBuffer){if(s&IterMode.ExcludeBuffers)continue;let p=f.findChild(0,f.buffer.length,n,r-d,a);if(p>-1)return new BufferNode(new BufferContext(l,f,e,d),null,p)}else if(s&IterMode.IncludeAnonymous||!f.type.isAnonymous||hasChild(f)){let p;if(!(s&IterMode.IgnoreMounts)&&(p=MountedTree.get(f))&&!p.overlay)return new TreeNode(p.tree,d,e,l);let g=new TreeNode(f,d,e,l);return s&IterMode.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(n<0?f.children.length-1:0,n,r,a)}}}if(s&IterMode.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+n:e=n<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let a;if(!(r&IterMode.IgnoreOverlays)&&(a=MountedTree.get(this._tree))&&a.overlay){let s=e-this.from;for(let{from:l,to:c}of a.overlay)if((n>0?l<=s:l<s)&&(n<0?c>=s:c>s))return new TreeNode(a.tree,a.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(o,e,n,r){let a=o.cursor(),s=[];if(!a.firstChild())return s;if(n!=null){for(let l=!1;!l;)if(l=a.type.is(n),!a.nextSibling())return s}for(;;){if(r!=null&&a.type.is(r))return s;if(a.type.is(e)&&s.push(a.node),!a.nextSibling())return r==null?s:[]}}function matchNodeContext(o,e,n=e.length-1){for(let r=o;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class BufferContext{constructor(e,n,r,a){this.parent=e,this.buffer=n,this.index=r,this.start=a}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:a}=this.context,s=a.findChild(this.index+4,a.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new BufferNode(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&IterMode.ExcludeBuffers)return null;let{buffer:a}=this.context,s=a.findChild(this.index+4,a.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new BufferNode(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,a=this.index+4,s=r.buffer[this.index+3];if(s>a){let l=r.buffer[this.index+1];e.push(r.slice(a,s,l)),n.push(0)}return new Tree(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(o){if(!o.length)return null;let e=0,n=o[0];for(let s=1;s<o.length;s++){let l=o[s];(l.from>n.from||l.to<n.to)&&(n=l,e=s)}let r=n instanceof TreeNode&&n.index<0?null:n.parent,a=o.slice();return r?a[e]=r:a.splice(e,1),new StackIterator(a,n)}class StackIterator{constructor(e,n){this.heads=e,this.node=n}get next(){return iterStack(this.heads)}}function stackIterator(o,e,n){let r=o.resolveInner(e,n),a=null;for(let s=r instanceof TreeNode?r:r.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(a||(a=[r])).push(l.resolve(e,n)),s=l}else{let l=MountedTree.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new TreeNode(l.tree,l.overlay[0].from+s.from,-1,s);(a||(a=[r])).push(resolveNode(c,e,n,!1))}}return a?iterStack(a):r}class TreeCursor{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:a}=this.buffer;return this.type=n||a.set.types[a.buffer[e]],this.from=r+a.buffer[e+1],this.to=r+a.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:a}=this.buffer,s=a.findChild(this.index+4,a.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let a=r<0?0:this.stack[r]+4;if(this.index!=a)return this.yieldBuf(n.findChild(a,this.index,-1,0,4))}else{let a=n.buffer[this.index+3];if(a<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(a)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:a}=this;if(a){if(e>0){if(this.index<a.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(a.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=a)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,l=e<0?-1:r._tree.children.length;s!=l;s+=e){let c=r._tree.children[s];if(this.mode&IterMode.IncludeAnonymous||c instanceof TreeBuffer||!c.type.isAnonymous||hasChild(c))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let a=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==a){if(a==this.index)return l;n=l,r=s+1;break e}a=this.stack[--s]}for(let a=r;a<this.stack.length;a++)n=new BufferNode(this.buffer,n,this.stack[a]);return this.bufferNode=new BufferNode(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let a=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(a=!0)}for(;;){if(a&&n&&n(this),a=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,a=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let a=e.length-1,s=this.stack.length-1;a>=0;s--){if(s<0)return matchNodeContext(this._tree,e,a);let l=r[n.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[a]&&e[a]!=l.name)return!1;a--}}return!0}}function hasChild(o){return o.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(o){var e;let{buffer:n,nodeSet:r,maxBufferLength:a=DefaultBufferLength,reused:s=[],minRepeatType:l=r.types.length}=o,c=Array.isArray(n)?new FlatBufferCursor(n,n.length):n,u=r.types,h=0,f=0;function d(G,J,Q,te,pe,fe){let{id:ee,start:N,end:Z,size:R}=c,ae=f,de=h;for(;R<0;)if(c.next(),R==-1){let ge=s[ee];Q.push(ge),te.push(N-G);return}else if(R==-3){h=ee;return}else if(R==-4){f=ee;return}else throw new RangeError(`Unrecognized record size: ${R}`);let H=u[ee],ne,V,Ce=N-G;if(Z-N<=a&&(V=w(c.pos-J,pe))){let ge=new Uint16Array(V.size-V.skip),Te=c.pos-V.size,Ke=ge.length;for(;c.pos>Te;)Ke=O(V.start,ge,Ke);ne=new TreeBuffer(ge,Z-V.start,r),Ce=V.start-G}else{let ge=c.pos-R;c.next();let Te=[],Ke=[],Ye=ee>=l?ee:-1,Qe=0,rt=Z;for(;c.pos>ge;)Ye>=0&&c.id==Ye&&c.size>=0?(c.end<=rt-a&&(y(Te,Ke,N,Qe,c.end,rt,Ye,ae,de),Qe=Te.length,rt=c.end),c.next()):fe>2500?p(N,ge,Te,Ke):d(N,ge,Te,Ke,Ye,fe+1);if(Ye>=0&&Qe>0&&Qe<Te.length&&y(Te,Ke,N,Qe,N,rt,Ye,ae,de),Te.reverse(),Ke.reverse(),Ye>-1&&Qe>0){let vt=g(H,de);ne=balanceRange(H,Te,Ke,0,Te.length,0,Z-N,vt,vt)}else ne=v(H,Te,Ke,Z-N,ae-Z,de)}Q.push(ne),te.push(Ce)}function p(G,J,Q,te){let pe=[],fe=0,ee=-1;for(;c.pos>J;){let{id:N,start:Z,end:R,size:ae}=c;if(ae>4)c.next();else{if(ee>-1&&Z<ee)break;ee<0&&(ee=R-a),pe.push(N,Z,R),fe++,c.next()}}if(fe){let N=new Uint16Array(fe*4),Z=pe[pe.length-2];for(let R=pe.length-3,ae=0;R>=0;R-=3)N[ae++]=pe[R],N[ae++]=pe[R+1]-Z,N[ae++]=pe[R+2]-Z,N[ae++]=ae;Q.push(new TreeBuffer(N,pe[2]-Z,r)),te.push(Z-G)}}function g(G,J){return(Q,te,pe)=>{let fe=0,ee=Q.length-1,N,Z;if(ee>=0&&(N=Q[ee])instanceof Tree){if(!ee&&N.type==G&&N.length==pe)return N;(Z=N.prop(NodeProp.lookAhead))&&(fe=te[ee]+N.length+Z)}return v(G,Q,te,pe,fe,J)}}function y(G,J,Q,te,pe,fe,ee,N,Z){let R=[],ae=[];for(;G.length>te;)R.push(G.pop()),ae.push(J.pop()+Q-pe);G.push(v(r.types[ee],R,ae,fe-pe,N-fe,Z)),J.push(pe-Q)}function v(G,J,Q,te,pe,fe,ee){if(fe){let N=[NodeProp.contextHash,fe];ee=ee?[N].concat(ee):[N]}if(pe>25){let N=[NodeProp.lookAhead,pe];ee=ee?[N].concat(ee):[N]}return new Tree(G,J,Q,te,ee)}function w(G,J){let Q=c.fork(),te=0,pe=0,fe=0,ee=Q.end-a,N={size:0,start:0,skip:0};e:for(let Z=Q.pos-G;Q.pos>Z;){let R=Q.size;if(Q.id==J&&R>=0){N.size=te,N.start=pe,N.skip=fe,fe+=4,te+=4,Q.next();continue}let ae=Q.pos-R;if(R<0||ae<Z||Q.start<ee)break;let de=Q.id>=l?4:0,H=Q.start;for(Q.next();Q.pos>ae;){if(Q.size<0)if(Q.size==-3)de+=4;else break e;else Q.id>=l&&(de+=4);Q.next()}pe=H,te+=R,fe+=de}return(J<0||te==G)&&(N.size=te,N.start=pe,N.skip=fe),N.size>4?N:void 0}function O(G,J,Q){let{id:te,start:pe,end:fe,size:ee}=c;if(c.next(),ee>=0&&te<l){let N=Q;if(ee>4){let Z=c.pos-(ee-4);for(;c.pos>Z;)Q=O(G,J,Q)}J[--Q]=N,J[--Q]=fe-G,J[--Q]=pe-G,J[--Q]=te}else ee==-3?h=te:ee==-4&&(f=te);return Q}let k=[],E=[];for(;c.pos>0;)d(o.start||0,o.bufferStart||0,k,E,-1,0);let I=(e=o.length)!==null&&e!==void 0?e:k.length?E[0]+k[0].length:0;return new Tree(u[o.topID],k.reverse(),E.reverse(),I)}const nodeSizeCache=new WeakMap;function nodeSize(o,e){if(!o.isAnonymous||e instanceof TreeBuffer||e.type!=o)return 1;let n=nodeSizeCache.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=o||!(r instanceof Tree)){n=1;break}n+=nodeSize(o,r)}nodeSizeCache.set(e,n)}return n}function balanceRange(o,e,n,r,a,s,l,c,u){let h=0;for(let y=r;y<a;y++)h+=nodeSize(o,e[y]);let f=Math.ceil(h*1.5/8),d=[],p=[];function g(y,v,w,O,k){for(let E=w;E<O;){let I=E,G=v[E],J=nodeSize(o,y[E]);for(E++;E<O;E++){let Q=nodeSize(o,y[E]);if(J+Q>=f)break;J+=Q}if(E==I+1){if(J>f){let Q=y[I];g(Q.children,Q.positions,0,Q.children.length,v[I]+k);continue}d.push(y[I])}else{let Q=v[E-1]+y[E-1].length-G;d.push(balanceRange(o,y,v,I,E,G,Q,null,u))}p.push(G+k-s)}}return g(e,n,r,a,0),(c||u)(d,p,l)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let a=this.map.get(e);a||this.map.set(e,a=new Map),a.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,n):e instanceof TreeNode&&this.map.set(e.tree,n)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,n,r,a,s=!1,l=!1){this.from=e,this.to=n,this.tree=r,this.offset=a,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let a=[new TreeFragment(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&a.push(s);return a}static applyChanges(e,n,r=128){if(!n.length)return e;let a=[],s=1,l=e.length?e[0]:null;for(let c=0,u=0,h=0;;c++){let f=c<n.length?n[c]:null,d=f?f.fromA:1e9;if(d-u>=r)for(;l&&l.from<d;){let p=l;if(u>=p.from||d<=p.to||h){let g=Math.max(p.from,u)-h,y=Math.min(p.to,d)-h;p=g>=y?null:new TreeFragment(g,y,p.tree,p.offset+h,c>0,!!f)}if(p&&a.push(p),l.to>d)break;l=s<e.length?e[s++]:null}if(!f)break;u=f.toA,h=f.toA-f.toB}return a}}class Parser{startParse(e,n,r){return typeof e=="string"&&(e=new StringInput(e)),r=r?r.length?r.map(a=>new Range(a.from,a.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let a=this.startParse(e,n,r);for(;;){let s=a.advance();if(s)return s}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function parseMixed(o){return(e,n,r,a)=>new MixedParse(e,o,n,r,a)}class InnerParse{constructor(e,n,r,a,s){this.parser=e,this.parse=n,this.overlay=r,this.target=a,this.from=s}}function checkRanges(o){if(!o.length||o.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(o))}class ActiveOverlay{constructor(e,n,r,a,s,l,c){this.parser=e,this.predicate=n,this.mounts=r,this.index=a,this.start=s,this.target=l,this.prev=c,this.depth=0,this.ranges=[]}}const stoppedInner=new NodeProp({perNode:!0});class MixedParse{constructor(e,n,r,a,s){this.nest=n,this.input=r,this.fragments=a,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let a of this.inner)a.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Tree(r.type,r.children,r.positions,r.length,r.propValues.concat([[stoppedInner,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[NodeProp.mounted.id]=new MountedTree(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new FragmentCursor$2(this.fragments),n=null,r=null,a=new TreeCursor(new TreeNode(this.baseTree,this.ranges[0].from,0,null),IterMode.IncludeAnonymous|IterMode.IgnoreMounts);e:for(let s,l;;){let c=!0,u;if(this.stoppedAt!=null&&a.from>=this.stoppedAt)c=!1;else if(e.hasNode(a)){if(n){let h=n.mounts.find(f=>f.frag.from<=a.from&&f.frag.to>=a.to&&f.mount.overlay);if(h)for(let f of h.mount.overlay){let d=f.from+h.pos,p=f.to+h.pos;d>=a.from&&p<=a.to&&!n.ranges.some(g=>g.from<p&&g.to>d)&&n.ranges.push({from:d,to:p})}}c=!1}else if(r&&(l=checkCover(r.ranges,a.from,a.to)))c=l!=2;else if(!a.type.isAnonymous&&(s=this.nest(a,this.input))&&(a.from<a.to||!s.overlay)){a.tree||materialize(a);let h=e.findMounts(a.from,s.parser);if(typeof s.overlay=="function")n=new ActiveOverlay(s.parser,s.overlay,h,this.inner.length,a.from,a.tree,n);else{let f=punchRanges(this.ranges,s.overlay||(a.from<a.to?[new Range(a.from,a.to)]:[]));f.length&&checkRanges(f),(f.length||!s.overlay)&&this.inner.push(new InnerParse(s.parser,f.length?s.parser.startParse(this.input,enterFragments(h,f),f):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new Range(d.from-a.from,d.to-a.from)):null,a.tree,f.length?f[0].from:a.from)),s.overlay?f.length&&(r={ranges:f,depth:0,prev:r}):c=!1}}else if(n&&(u=n.predicate(a))&&(u===!0&&(u=new Range(a.from,a.to)),u.from<u.to)){let h=n.ranges.length-1;h>=0&&n.ranges[h].to==u.from?n.ranges[h]={from:n.ranges[h].from,to:u.to}:n.ranges.push(u)}if(c&&a.firstChild())n&&n.depth++,r&&r.depth++;else for(;!a.nextSibling();){if(!a.parent())break e;if(n&&!--n.depth){let h=punchRanges(this.ranges,n.ranges);h.length&&(checkRanges(h),this.inner.splice(n.index,0,new InnerParse(n.parser,n.parser.startParse(this.input,enterFragments(n.mounts,h),h),n.ranges.map(f=>new Range(f.from-n.start,f.to-n.start)),n.target,h[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function checkCover(o,e,n){for(let r of o){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function sliceBuf(o,e,n,r,a,s){if(e<n){let l=o.buffer[e+1];r.push(o.slice(e,n,l)),a.push(l-s)}}function materialize(o){let{node:e}=o,n=[],r=e.context.buffer;do n.push(o.index),o.parent();while(!o.tree);let a=o.tree,s=a.children.indexOf(r),l=a.children[s],c=l.buffer,u=[s];function h(f,d,p,g,y,v){let w=n[v],O=[],k=[];sliceBuf(l,f,w,O,k,g);let E=c[w+1],I=c[w+2];u.push(O.length);let G=v?h(w+4,c[w+3],l.set.types[c[w]],E,I-E,v-1):e.toTree();return O.push(G),k.push(E-g),sliceBuf(l,c[w+3],d,O,k,g),new Tree(p,O,k,y)}a.children[s]=h(0,c.length,NodeType.none,0,l.length,n.length-1);for(let f of u){let d=o.tree.children[f],p=o.tree.positions[f];o.yield(new TreeNode(d,p+o.from,f,o._tree))}}class StructureCursor{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(IterMode.IncludeAnonymous|IterMode.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,IterMode.IgnoreOverlays|IterMode.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Tree)n=n.children[0];else break}return!1}}let FragmentCursor$2=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(stoppedInner))!==null&&n!==void 0?n:r.to,this.inner=new StructureCursor(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(stoppedInner))!==null&&e!==void 0?e:n.to,this.inner=new StructureCursor(n.tree,-n.offset)}}findMounts(e,n){var r;let a=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let l=(r=s.tree)===null||r===void 0?void 0:r.prop(NodeProp.mounted);if(l&&l.parser==n)for(let c=this.fragI;c<this.fragments.length;c++){let u=this.fragments[c];if(u.from>=s.to)break;u.tree==this.curFrag.tree&&a.push({frag:u,pos:s.from-u.offset,mount:l})}}}return a}};function punchRanges(o,e){let n=null,r=e;for(let a=1,s=0;a<o.length;a++){let l=o[a-1].to,c=o[a].from;for(;s<r.length;s++){let u=r[s];if(u.from>=c)break;u.to<=l||(n||(r=n=e.slice()),u.from<l?(n[s]=new Range(u.from,l),u.to>c&&n.splice(s+1,0,new Range(c,u.to))):u.to>c?n[s--]=new Range(c,u.to):n.splice(s--,1))}}return r}function findCoverChanges(o,e,n,r){let a=0,s=0,l=!1,c=!1,u=-1e9,h=[];for(;;){let f=a==o.length?1e9:l?o[a].to:o[a].from,d=s==e.length?1e9:c?e[s].to:e[s].from;if(l!=c){let p=Math.max(u,n),g=Math.min(f,d,r);p<g&&h.push(new Range(p,g))}if(u=Math.min(f,d),u==1e9)break;f==u&&(l?(l=!1,a++):l=!0),d==u&&(c?(c=!1,s++):c=!0)}return h}function enterFragments(o,e){let n=[];for(let{pos:r,mount:a,frag:s}of o){let l=r+(a.overlay?a.overlay[0].from:0),c=l+a.tree.length,u=Math.max(s.from,l),h=Math.min(s.to,c);if(a.overlay){let f=a.overlay.map(p=>new Range(p.from+r,p.to+r)),d=findCoverChanges(e,f,u,h);for(let p=0,g=u;;p++){let y=p==d.length,v=y?h:d[p].from;if(v>g&&n.push(new TreeFragment(g,v,a.tree,-l,s.from>=g||s.openStart,s.to<=v||s.openEnd)),y)break;g=d[p].to}}else n.push(new TreeFragment(u,h,a.tree,-l,s.from>=l||s.openStart,s.to<=c||s.openEnd))}return n}let nextTagID=0,Tag$1=class jo{constructor(e,n,r,a){this.name=e,this.set=n,this.base=r,this.modified=a,this.id=nextTagID++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof jo&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let a=new jo(r,[],null,[]);if(a.set.push(a),n)for(let s of n.set)a.set.push(s);return a}static defineModifier(e){let n=new Modifier(e);return r=>r.modified.indexOf(n)>-1?r:Modifier.get(r.base||r,r.modified.concat(n).sort((a,s)=>a.id-s.id))}},nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(c=>c.base==e&&sameArray(n,c.modified));if(r)return r;let a=[],s=new Tag$1(e.name,a,e,n);for(let c of n)c.instances.push(s);let l=powerSet(n);for(let c of e.set)if(!c.modified.length)for(let u of l)a.push(Modifier.get(c,u));return s}}function sameArray(o,e){return o.length==e.length&&o.every((n,r)=>n==e[r])}function powerSet(o){let e=[[]];for(let n=0;n<o.length;n++)for(let r=0,a=e.length;r<a;r++)e.push(e[r].concat(o[n]));return e.sort((n,r)=>r.length-n.length)}function styleTags(o){let e=Object.create(null);for(let n in o){let r=o[n];Array.isArray(r)||(r=[r]);for(let a of n.split(" "))if(a){let s=[],l=2,c=a;for(let d=0;;){if(c=="..."&&d>0&&d+3==a.length){l=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!p)throw new RangeError("Invalid path: "+a);if(s.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),d+=p[0].length,d==a.length)break;let g=a[d++];if(d==a.length&&g=="!"){l=0;break}if(g!="/")throw new RangeError("Invalid path: "+a);c=a.slice(d)}let u=s.length-1,h=s[u];if(!h)throw new RangeError("Invalid path: "+a);let f=new Rule(r,l,u>0?s.slice(0,u):null);e[h]=f.sort(e[h])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,n,r,a){this.tags=e,this.mode=n,this.context=r,this.next=a}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(o,e){let n=Object.create(null);for(let s of o)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let l of s.tag)n[l.id]=s.class;let{scope:r,all:a=null}=e||{};return{style:s=>{let l=a;for(let c of s)for(let u of c.set){let h=n[u.id];if(h){l=l?l+" "+h:h;break}}return l},scope:r}}function highlightTags(o,e){let n=null;for(let r of o){let a=r.style(e);a&&(n=n?n+" "+a:a)}return n}function highlightTree(o,e,n,r=0,a=o.length){let s=new HighlightBuilder(r,Array.isArray(e)?e:[e],n);s.highlightRange(o.cursor(),r,a,"",s.highlighters),s.flush(a)}class HighlightBuilder{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,a,s){let{type:l,from:c,to:u}=e;if(c>=r||u<=n)return;l.isTop&&(s=this.highlighters.filter(g=>!g.scope||g.scope(l)));let h=a,f=getStyleTags(e)||Rule.empty,d=highlightTags(s,f.tags);if(d&&(h&&(h+=" "),h+=d,f.mode==1&&(a+=(a?" ":"")+d)),this.startSpan(Math.max(n,c),h),f.opaque)return;let p=e.tree&&e.tree.prop(NodeProp.mounted);if(p&&p.overlay){let g=e.node.enter(p.overlay[0].from+c,1),y=this.highlighters.filter(w=>!w.scope||w.scope(p.tree.type)),v=e.firstChild();for(let w=0,O=c;;w++){let k=w<p.overlay.length?p.overlay[w]:null,E=k?k.from+c:u,I=Math.max(n,O),G=Math.min(r,E);if(I<G&&v)for(;e.from<G&&(this.highlightRange(e,I,G,a,s),this.startSpan(Math.min(G,e.to),h),!(e.to>=E||!e.nextSibling())););if(!k||E>r)break;O=k.to+c,O>n&&(this.highlightRange(g.cursor(),Math.max(n,k.from+c),Math.min(r,O),"",y),this.startSpan(Math.min(r,O),h))}v&&e.parent()}else if(e.firstChild()){p&&(a="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,a,s),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function getStyleTags(o){let e=o.type.prop(ruleNodeProp);for(;e&&e.context&&!o.matchContext(e.context);)e=e.next;return e||null}const t=Tag$1.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags$1={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag$1.defineModifier("definition"),constant:Tag$1.defineModifier("constant"),function:Tag$1.defineModifier("function"),standard:Tag$1.defineModifier("standard"),local:Tag$1.defineModifier("local"),special:Tag$1.defineModifier("special")};for(let o in tags$1){let e=tags$1[o];e instanceof Tag$1&&(e.name=o)}tagHighlighter([{tag:tags$1.link,class:"tok-link"},{tag:tags$1.heading,class:"tok-heading"},{tag:tags$1.emphasis,class:"tok-emphasis"},{tag:tags$1.strong,class:"tok-strong"},{tag:tags$1.keyword,class:"tok-keyword"},{tag:tags$1.atom,class:"tok-atom"},{tag:tags$1.bool,class:"tok-bool"},{tag:tags$1.url,class:"tok-url"},{tag:tags$1.labelName,class:"tok-labelName"},{tag:tags$1.inserted,class:"tok-inserted"},{tag:tags$1.deleted,class:"tok-deleted"},{tag:tags$1.literal,class:"tok-literal"},{tag:tags$1.string,class:"tok-string"},{tag:tags$1.number,class:"tok-number"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],class:"tok-string2"},{tag:tags$1.variableName,class:"tok-variableName"},{tag:tags$1.local(tags$1.variableName),class:"tok-variableName tok-local"},{tag:tags$1.definition(tags$1.variableName),class:"tok-variableName tok-definition"},{tag:tags$1.special(tags$1.variableName),class:"tok-variableName2"},{tag:tags$1.definition(tags$1.propertyName),class:"tok-propertyName tok-definition"},{tag:tags$1.typeName,class:"tok-typeName"},{tag:tags$1.namespace,class:"tok-namespace"},{tag:tags$1.className,class:"tok-className"},{tag:tags$1.macroName,class:"tok-macroName"},{tag:tags$1.propertyName,class:"tok-propertyName"},{tag:tags$1.operator,class:"tok-operator"},{tag:tags$1.comment,class:"tok-comment"},{tag:tags$1.meta,class:"tok-meta"},{tag:tags$1.invalid,class:"tok-invalid"},{tag:tags$1.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(o){return Facet.define({combine:o?e=>e.concat(o):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,n,r=[],a=""){this.data=e,this.name=a,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=n,this.extension=[language.of(this),EditorState.languageData.of((s,l,c)=>{let u=topNodeAt(s,l,c),h=u.type.prop(languageDataProp);if(!h)return[];let f=s.facet(h),d=u.type.prop(sublanguageProp);if(d){let p=u.resolve(l-u.from,c);for(let g of d)if(g.test(p,s)){let y=s.facet(g.facet);return g.type=="replace"?y:y.concat(f)}}return f})].concat(r)}isActiveAt(e,n,r=-1){return topNodeAt(e,n,r).type.prop(languageDataProp)==this.data}findRegions(e){let n=e.facet(language);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],a=(s,l)=>{if(s.prop(languageDataProp)==this.data){r.push({from:l,to:l+s.length});return}let c=s.prop(NodeProp.mounted);if(c){if(c.tree.prop(languageDataProp)==this.data){if(c.overlay)for(let u of c.overlay)r.push({from:u.from+l,to:u.to+l});else r.push({from:l,to:l+s.length});return}else if(c.overlay){let u=r.length;if(a(c.tree,c.overlay[0].from+l),r.length>u)return}}for(let u=0;u<s.children.length;u++){let h=s.children[u];h instanceof Tree&&a(h,s.positions[u]+l)}};return a(syntaxTree(e),0),r}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(o,e,n){let r=o.facet(language),a=syntaxTree(o).topNode;if(!r||r.allowsNesting)for(let s=a;s;s=s.enter(e,n,IterMode.ExcludeBuffers))s.type.isTop&&(a=s);return a}class LRLanguage extends Language{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=defineLanguageFacet(e.languageData);return new LRLanguage(n,e.parser.configure({props:[languageDataProp.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new LRLanguage(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(o){let e=o.field(Language.state,!1);return e?e.tree:Tree.empty}function ensureSyntaxTree(o,e,n=50){var r;let a=(r=o.field(Language.state,!1))===null||r===void 0?void 0:r.context;if(!a)return null;let s=a.viewport;a.updateViewport({from:0,to:e});let l=a.isDone(e)||a.work(n,e)?a.tree:null;return a.updateViewport(s),l}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let currentContext=null;class ParseContext{constructor(e,n,r=[],a,s,l,c,u){this.parser=e,this.state=n,this.fragments=r,this.tree=a,this.treeLen=s,this.viewport=l,this.skipped=c,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new ParseContext(e,n,[],Tree.empty,0,r,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Tree.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let a=Date.now()+e;e=()=>Date.now()>a}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let a=this.parse.advance();if(a)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(a,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=a,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=currentContext;currentContext=this;try{return e()}finally{currentContext=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=cutFragments(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:a,treeLen:s,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,f,d,p)=>u.push({fromA:h,toA:f,fromB:d,toB:p})),r=TreeFragment.applyChanges(r,u),a=Tree.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let f=e.mapPos(h.from,1),d=e.mapPos(h.to,-1);f<d&&c.push({from:f,to:d})}}}return new ParseContext(this.parser,n,r,a,s,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:a,to:s}=this.skipped[r];a<e.to&&s>e.from&&(this.fragments=cutFragments(this.fragments,a,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Parser{createParse(n,r,a){let s=a[0].from,l=a[a.length-1].to;return{parsedPos:s,advance(){let u=currentContext;if(u){for(let h of a)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=l,new Tree(NodeType.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return currentContext}}function cutFragments(o,e,n){return TreeFragment.applyChanges(o,[{fromA:e,toA:n,fromB:e,toB:n}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new LanguageState(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=ParseContext.create(e.facet(language).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new LanguageState(r)}}Language.state=StateField.define({create:LanguageState.init,update(o,e){for(let n of e.effects)if(n.is(Language.setState))return n.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):o.apply(e)}});let requestIdle=o=>{let e=setTimeout(()=>o(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=o=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(o,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Language.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Language.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:a}}=this.view,s=r.field(Language.state);if(s.tree==s.context.tree&&s.context.isDone(a+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<a&&r.doc.length>a+1e3,u=s.context.work(()=>isInputPending&&isInputPending()||Date.now()>l,a+(c?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(s.context))})),this.chunkBudget>0&&!(u&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>logException(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(o){return o.length?o[0]:null},enables:o=>[Language.state,parseWorker,EditorView.contentAttributes.compute([o],e=>{let n=e.facet(o);return n&&n.name?{"data-language":n.name}:{}})]});class LanguageSupport{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class LanguageDescription{constructor(e,n,r,a,s,l=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=a,this.loadFunc=s,this.support=l,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new LanguageDescription(e.name,(e.alias||[]).concat(e.name).map(a=>a.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let a of e)if(a.filename&&a.filename.test(n))return a;let r=/\.([^.]+)$/.exec(n);if(r){for(let a of e)if(a.extensions.indexOf(r[1])>-1)return a}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let a of e)if(a.alias.some(s=>s==n))return a;if(r)for(let a of e)for(let s of a.alias){let l=n.indexOf(s);if(l>-1&&(s.length>2||!/\w/.test(n[l-1])&&!/\w/.test(n[l+s.length])))return a}return null}}const indentService=Facet.define(),indentUnit=Facet.define({combine:o=>{if(!o.length)return"  ";let e=o[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(o[0]));return e}});function getIndentUnit(o){let e=o.facet(indentUnit);return e.charCodeAt(0)==9?o.tabSize*e.length:e.length}function indentString(o,e){let n="",r=o.tabSize,a=o.facet(indentUnit)[0];if(a=="	"){for(;e>=r;)n+="	",e-=r;a=" "}for(let s=0;s<e;s++)n+=a;return n}function getIndentation(o,e){o instanceof EditorState&&(o=new IndentContext(o));for(let r of o.state.facet(indentService)){let a=r(o,e);if(a!==void 0)return a}let n=syntaxTree(o.state);return n.length>=e?syntaxIndentation(o,n,e):null}class IndentContext{constructor(e,n={}){this.state=e,this.options=n,this.unit=getIndentUnit(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:a,simulateDoubleBreak:s}=this.options;return a!=null&&a>=r.from&&a<=r.to?s&&a==e?{text:"",from:e}:(n<0?a<e:a<=e)?{text:r.text.slice(a-r.from),from:a}:{text:r.text.slice(0,a-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:a}=this.lineAt(e,n);return r.slice(e-a,Math.min(r.length,e+100-a))}column(e,n=1){let{text:r,from:a}=this.lineAt(e,n),s=this.countColumn(r,e-a),l=this.options.overrideIndentation?this.options.overrideIndentation(a):-1;return l>-1&&(s+=l-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return countColumn(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:a}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let l=s(a);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(o,e,n){let r=e.resolveStack(n),a=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(a!=r.node){let s=[];for(let l=a;l&&!(l.from<r.node.from||l.to>r.node.to||l.from==r.node.from&&l.type==r.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)r={node:s[l],next:r}}return indentFor(r,o,n)}function indentFor(o,e,n){for(let r=o;r;r=r.next){let a=indentStrategy(r.node);if(a)return a(TreeIndentContext.create(e,n,r))}return 0}function ignoreClosed(o){return o.pos==o.options.simulateBreak&&o.options.simulateDoubleBreak}function indentStrategy(o){let e=o.type.prop(indentNodeProp);if(e)return e;let n=o.firstChild,r;if(n&&(r=n.type.prop(NodeProp.closedBy))){let a=o.lastChild,s=a&&r.indexOf(a.name)>-1;return l=>delimitedStrategy(l,!0,1,void 0,s&&!ignoreClosed(l)?a.from:void 0)}return o.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new TreeIndentContext(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(isParent(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(o,e){for(let n=e;n;n=n.parent)if(o==n)return!0;return!1}function bracketedAligned(o){let e=o.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let a=o.options.simulateBreak,s=o.state.doc.lineAt(n.from),l=a==null||a<=s.from?s.to:Math.min(s.to,a);for(let c=n.to;;){let u=e.childAfter(c);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=l)return null;let h=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+h}}c=u.to}}function delimitedIndent({closing:o,align:e=!0,units:n=1}){return r=>delimitedStrategy(r,e,n,o)}function delimitedStrategy(o,e,n,r,a){let s=o.textAfter,l=s.match(/^\s*/)[0].length,c=r&&s.slice(l,l+r.length)==r||a==o.pos+l,u=e?bracketedAligned(o):null;return u?c?o.column(u.from):o.column(u.to):o.baseIndent+(c?0:o.unit*n)}const flatIndent=o=>o.baseIndent;function continuedIndent({except:o,units:e=1}={}){return n=>{let r=o&&o.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(o=>{if(!o.docChanged||!o.isUserEvent("input.type")&&!o.isUserEvent("input.complete"))return o;let e=o.startState.languageDataAt("indentOnInput",o.startState.selection.main.head);if(!e.length)return o;let n=o.newDoc,{head:r}=o.newSelection.main,a=n.lineAt(r);if(r>a.from+DontIndentBeyond)return o;let s=n.sliceString(a.from,r);if(!e.some(h=>h.test(s)))return o;let{state:l}=o,c=-1,u=[];for(let{head:h}of l.selection.ranges){let f=l.doc.lineAt(h);if(f.from==c)continue;c=f.from;let d=getIndentation(l,f.from);if(d==null)continue;let p=/^\s*/.exec(f.text)[0],g=indentString(l,d);p!=g&&u.push({from:f.from,to:f.from+p.length,insert:g})}return u.length?[o,{changes:u,sequential:!0}]:o})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(o){let e=o.firstChild,n=o.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?o.to:n.from}:null}function syntaxFolding(o,e,n){let r=syntaxTree(o);if(r.length<n)return null;let a=r.resolveStack(n,1),s=null;for(let l=a;l;l=l.next){let c=l.node;if(c.to<=n||c.from>n)continue;if(s&&c.from<e)break;let u=c.type.prop(foldNodeProp);if(u&&(c.to<r.length-50||r.length==o.doc.length||!isUnfinished(c))){let h=u(c,o);h&&h.from<=n&&h.from>=e&&h.to>n&&(s=h)}}return s}function isUnfinished(o){let e=o.lastChild;return e&&e.to==o.to&&e.type.isError}function foldable(o,e,n){for(let r of o.facet(foldService)){let a=r(o,e,n);if(a)return a}return syntaxFolding(o,e,n)}function mapRange(o,e){let n=e.mapPos(o.from,1),r=e.mapPos(o.to,-1);return n>=r?void 0:{from:n,to:r}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(o){let e=[];for(let{head:n}of o.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(o.lineBlockAt(n));return e}const foldState=StateField.define({create(){return Decoration.none},update(o,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>o=clearTouchedFolds(o,n,r)),o=o.map(e.changes);for(let n of e.effects)if(n.is(foldEffect)&&!foldExists(o,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(foldConfig),a=r?Decoration.replace({widget:new PreparedFoldWidget(r(e.state,n.value))}):foldWidget;o=o.update({add:[a.range(n.value.from,n.value.to)]})}else n.is(unfoldEffect)&&(o=o.update({filter:(r,a)=>n.value.from!=r||n.value.to!=a,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(o=clearTouchedFolds(o,e.selection.main.head)),o},provide:o=>EditorView.decorations.from(o),toJSON(o,e){let n=[];return o.between(0,e.doc.length,(r,a)=>{n.push(r,a)}),n},fromJSON(o){if(!Array.isArray(o)||o.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<o.length;){let r=o[n++],a=o[n++];if(typeof r!="number"||typeof a!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(r,a))}return Decoration.set(e,!0)}});function clearTouchedFolds(o,e,n=e){let r=!1;return o.between(e,n,(a,s)=>{a<n&&s>e&&(r=!0)}),r?o.update({filterFrom:e,filterTo:n,filter:(a,s)=>a>=n||s<=e}):o}function findFold(o,e,n){var r;let a=null;return(r=o.field(foldState,!1))===null||r===void 0||r.between(e,n,(s,l)=>{(!a||a.from>s)&&(a={from:s,to:l})}),a}function foldExists(o,e,n){let r=!1;return o.between(e,e,(a,s)=>{a==e&&s==n&&(r=!0)}),r}function maybeEnable(o,e){return o.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=o=>{for(let e of selectedLines(o)){let n=foldable(o.state,e.from,e.to);if(n)return o.dispatch({effects:maybeEnable(o.state,[foldEffect.of(n),announceFold(o,n)])}),!0}return!1},unfoldCode=o=>{if(!o.state.field(foldState,!1))return!1;let e=[];for(let n of selectedLines(o)){let r=findFold(o.state,n.from,n.to);r&&e.push(unfoldEffect.of(r),announceFold(o,r,!1))}return e.length&&o.dispatch({effects:e}),e.length>0};function announceFold(o,e,n=!0){let r=o.state.doc.lineAt(e.from).number,a=o.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${o.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${o.state.phrase("to")} ${a}.`)}const foldAll=o=>{let{state:e}=o,n=[];for(let r=0;r<e.doc.length;){let a=o.lineBlockAt(r),s=foldable(e,a.from,a.to);s&&n.push(foldEffect.of(s)),r=(s?o.lineBlockAt(s.to):a).to+1}return n.length&&o.dispatch({effects:maybeEnable(o.state,n)}),!!n.length},unfoldAll=o=>{let e=o.state.field(foldState,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,o.state.doc.length,(r,a)=>{n.push(unfoldEffect.of({from:r,to:a}))}),o.dispatch({effects:n}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(o){return combineConfig(o,defaultConfig)}});function codeFolding(o){return[foldState,baseTheme$1$2]}function widgetToDOM(o,e){let{state:n}=o,r=n.facet(foldConfig),a=l=>{let c=o.lineBlockAt(o.posAtDOM(l.target)),u=findFold(o.state,c.from,c.to);u&&o.dispatch({effects:unfoldEffect.of(u)}),l.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(o,a,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=a,s}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(o){return widgetToDOM(o,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function foldGutter(o={}){let e={...foldGutterDefaults,...o},n=new FoldMarker(e,!0),r=new FoldMarker(e,!1),a=ViewPlugin.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(language)!=l.state.facet(language)||l.startState.field(foldState,!1)!=l.state.field(foldState,!1)||syntaxTree(l.startState)!=syntaxTree(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new RangeSetBuilder;for(let u of l.viewportLineBlocks){let h=findFold(l.state,u.from,u.to)?r:foldable(l.state,u.from,u.to)?n:null;h&&c.add(u.from,u.from,h)}return c.finish()}}),{domEventHandlers:s}=e;return[a,gutter({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(a))===null||c===void 0?void 0:c.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:{...s,click:(l,c,u)=>{if(s.click&&s.click(l,c,u))return!0;let h=findFold(l.state,c.from,c.to);if(h)return l.dispatch({effects:unfoldEffect.of(h)}),!0;let f=foldable(l.state,c.from,c.to);return f?(l.dispatch({effects:foldEffect.of(f)}),!0):!1}}}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,n){this.specs=e;let r;function a(c){let u=StyleModule.newName();return(r||(r=Object.create(null)))["."+u]=c,u}const s=typeof n.all=="string"?n.all:n.all?a(n.all):void 0,l=n.scope;this.scope=l instanceof Language?c=>c.prop(languageDataProp)==l.data:l?c=>c==l:void 0,this.style=tagHighlighter(e.map(c=>({tag:c.tag,class:c.class||a(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=r?new StyleModule(r):null,this.themeType=n.themeType}static define(e,n){return new HighlightStyle(e,n||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(o){return o.length?[o[0]]:null}});function getHighlighters(o){let e=o.facet(highlighterFacet);return e.length?e:o.facet(fallbackHighlighter)}function syntaxHighlighting(o,e){let n=[treeHighlighter],r;return o instanceof HighlightStyle&&(o.module&&n.push(EditorView.styleModule.of(o.module)),r=o.themeType),e?.fallback?n.push(fallbackHighlighter.of(o)):r?n.push(highlighterFacet.computeN([EditorView.darkTheme],a=>a.facet(EditorView.darkTheme)==(r=="dark")?[o]:[])):n.push(highlighterFacet.of(o)),n}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=syntaxTree(e.state),r=getHighlighters(e.state),a=r!=getHighlighters(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!a&&n.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(n!=this.tree||e.viewportChanged||a)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Decoration.none;let r=new RangeSetBuilder;for(let{from:a,to:s}of e.visibleRanges)highlightTree(this.tree,n,(l,c,u)=>{r.add(l,c,this.markCache[u]||(this.markCache[u]=Decoration.mark({class:u})))},a,s);return r.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:o=>o.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags$1.meta,color:"#404740"},{tag:tags$1.link,textDecoration:"underline"},{tag:tags$1.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.keyword,color:"#708"},{tag:[tags$1.atom,tags$1.bool,tags$1.url,tags$1.contentSeparator,tags$1.labelName],color:"#219"},{tag:[tags$1.literal,tags$1.inserted],color:"#164"},{tag:[tags$1.string,tags$1.deleted],color:"#a11"},{tag:[tags$1.regexp,tags$1.escape,tags$1.special(tags$1.string)],color:"#e40"},{tag:tags$1.definition(tags$1.variableName),color:"#00f"},{tag:tags$1.local(tags$1.variableName),color:"#30a"},{tag:[tags$1.typeName,tags$1.namespace],color:"#085"},{tag:tags$1.className,color:"#167"},{tag:[tags$1.special(tags$1.variableName),tags$1.macroName],color:"#256"},{tag:tags$1.definition(tags$1.propertyName),color:"#00c"},{tag:tags$1.comment,color:"#940"},{tag:tags$1.invalid,color:"#f00"}]),baseTheme$4=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(o){return combineConfig(o,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(o){let e=[],n=o.matched?matchingMark:nonmatchingMark;return e.push(n.range(o.start.from,o.start.to)),o.end&&e.push(n.range(o.end.from,o.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(o,e){if(!e.docChanged&&!e.selection)return o;let n=[],r=e.state.facet(bracketMatchingConfig);for(let a of e.state.selection.ranges){if(!a.empty)continue;let s=matchBrackets(e.state,a.head,-1,r)||a.head>0&&matchBrackets(e.state,a.head-1,1,r)||r.afterCursor&&(matchBrackets(e.state,a.head,1,r)||a.head<e.state.doc.length&&matchBrackets(e.state,a.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return Decoration.set(n,!0)},provide:o=>EditorView.decorations.from(o)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$4];function bracketMatching(o={}){return[bracketMatchingConfig.of(o),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(o,e,n){let r=o.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(r)return r;if(o.name.length==1){let a=n.indexOf(o.name);if(a>-1&&a%2==(e<0?1:0))return[n[a+e]]}return null}function findHandle(o){let e=o.type.prop(bracketMatchingHandle);return e?e(o.node):o}function matchBrackets(o,e,n,r={}){let a=r.maxScanDistance||DefaultScanDist,s=r.brackets||DefaultBrackets,l=syntaxTree(o),c=l.resolveInner(e,n);for(let u=c;u;u=u.parent){let h=matchingNodes(u.type,n,s);if(h&&u.from<u.to){let f=findHandle(u);if(f&&(n>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return matchMarkedBrackets(o,e,n,u,f,h,s)}}return matchPlainBrackets(o,e,n,l,c.type,a,s)}function matchMarkedBrackets(o,e,n,r,a,s,l){let c=r.parent,u={from:a.from,to:a.to},h=0,f=c?.cursor();if(f&&(n<0?f.childBefore(r.from):f.childAfter(r.to)))do if(n<0?f.to<=r.from:f.from>=r.to){if(h==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let d=findHandle(f);return{start:u,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(matchingNodes(f.type,n,l))h++;else if(matchingNodes(f.type,-n,l)){if(h==0){let d=findHandle(f);return{start:u,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}h--}}while(n<0?f.prevSibling():f.nextSibling());return{start:u,matched:!1}}function matchPlainBrackets(o,e,n,r,a,s,l){let c=n<0?o.sliceDoc(e-1,e):o.sliceDoc(e,e+1),u=l.indexOf(c);if(u<0||u%2==0!=n>0)return null;let h={from:n<0?e-1:e,to:n>0?e+1:e},f=o.doc.iterRange(e,n>0?o.doc.length:0),d=0;for(let p=0;!f.next().done&&p<=s;){let g=f.value;n<0&&(p+=g.length);let y=e+p*n;for(let v=n>0?0:g.length-1,w=n>0?g.length:-1;v!=w;v+=n){let O=l.indexOf(g[v]);if(!(O<0||r.resolveInner(y+v,1).type!=a))if(O%2==0==n>0)d++;else{if(d==1)return{start:h,end:{from:y+v,to:y+v+1},matched:O>>1==u>>1};d--}}n>0&&(p+=g.length)}return f.done?{start:h,matched:!1}:null}function countCol(o,e,n,r=0,a=0){e==null&&(e=o.search(/[^\s\u00a0]/),e==-1&&(e=o.length));let s=a;for(let l=r;l<e;l++)o.charCodeAt(l)==9?s+=n-s%n:s++;return s}class StringStream{constructor(e,n,r,a){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=a,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:countCol(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let a=l=>r?l.toLowerCase():l,s=this.string.substr(this.pos,e.length);return a(s)==a(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let a=this.string.slice(this.pos).match(e);return a&&a.index>0?null:(a&&n!==!1&&(this.pos+=a[0].length),a)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(o){return{name:o.name||"",token:o.token,blankLine:o.blankLine||(()=>{}),startState:o.startState||(()=>!0),copyState:o.copyState||defaultCopyState,indent:o.indent||(()=>null),languageData:o.languageData||{},tokenTable:o.tokenTable||noTokens,mergeTokens:o.mergeTokens!==!1}}function defaultCopyState(o){if(typeof o!="object")return o;let e={};for(let n in o){let r=o[n];e[n]=r instanceof Array?r.slice():r}return e}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(e){let n=defineLanguageFacet(e.languageData),r=fullParser(e),a,s=new class extends Parser{createParse(l,c,u){return new Parse$1(a,l,c,u)}};super(n,s,[],e.name),this.topNode=docID(n,this),a=this,this.streamParser=r,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=e.tokenTable?new TokenTable(r.tokenTable):defaultTokenTable}static define(e){return new StreamLanguage(e)}getIndent(e){let n,{overrideIndentation:r}=e.options;r&&(n=IndentedFrom.get(e.state),n!=null&&n<e.pos-1e4&&(n=void 0));let a=findState(this,e.node.tree,e.node.from,e.node.from,n??e.pos),s,l;if(a?(l=a.state,s=a.pos+1):(l=this.streamParser.startState(e.unit),s=e.node.from),e.pos-s>1e4)return null;for(;s<e.pos;){let u=e.state.doc.lineAt(s),h=Math.min(e.pos,u.to);if(u.length){let f=r?r(u.from):-1,d=new StringStream(u.text,e.state.tabSize,e.unit,f<0?void 0:f);for(;d.pos<h-u.from;)readToken$1(this.streamParser.token,d,l)}else this.streamParser.blankLine(l,e.unit);if(h==e.pos)break;s=u.to+1}let c=e.lineAt(e.pos);return r&&n==null&&IndentedFrom.set(e.state,c.from),this.streamParser.indent(l,/^\s*(.*)/.exec(c.text)[1],e)}get allowsNesting(){return!1}}function findState(o,e,n,r,a){let s=n>=r&&n+e.length<=a&&e.prop(o.stateAfter);if(s)return{state:o.streamParser.copyState(s),pos:n+e.length};for(let l=e.children.length-1;l>=0;l--){let c=e.children[l],u=n+e.positions[l],h=c instanceof Tree&&u<a&&findState(o,c,u,r,a);if(h)return h}return null}function cutTree(o,e,n,r,a){if(a&&n<=0&&r>=e.length)return e;!a&&n==0&&e.type==o.topNode&&(a=!0);for(let s=e.children.length-1;s>=0;s--){let l=e.positions[s],c=e.children[s],u;if(l<r&&c instanceof Tree){if(!(u=cutTree(o,c,n-l,r-l,a)))break;return a?new Tree(e.type,e.children.slice(0,s).concat(u),e.positions.slice(0,s+1),l+u.length):u}}return null}function findStartInFragments(o,e,n,r,a){for(let s of e){let l=s.from+(s.openStart?25:0),c=s.to-(s.openEnd?25:0),u=l<=n&&c>n&&findState(o,s.tree,0-s.offset,n,c),h;if(u&&u.pos<=r&&(h=cutTree(o,s.tree,n+s.offset,u.pos+s.offset,!1)))return{state:u.state,tree:h}}return{state:o.streamParser.startState(a?getIndentUnit(a):4),tree:Tree.empty}}let Parse$1=class{constructor(e,n,r,a){this.lang=e,this.input=n,this.fragments=r,this.ranges=a,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=a[a.length-1].to;let s=ParseContext.get(),l=a[0].from,{state:c,tree:u}=findStartInFragments(e,r,l,this.to,s?.state);this.state=c,this.parsedPos=this.chunkStart=l+u.length;for(let h=0;h<u.children.length;h++)this.chunks.push(u.children[h]),this.chunkPos.push(u.positions[h]);s&&this.parsedPos<s.viewport.from-1e5&&a.some(h=>h.from<=s.viewport.from&&h.to>=s.viewport.from)&&(this.state=this.lang.streamParser.startState(getIndentUnit(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=ParseContext.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let a=this.rangeIndex;;){let s=this.ranges[a].to;if(s>=r||(n=n.slice(0,s-(r-n.length)),a++,a==this.ranges.length))break;let l=this.ranges[a].from,c=this.lineAfter(l);n+=c,r=l+c.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let a=this.ranges[this.rangeIndex].to,s=e+n;if(r>0?a>s:a>=s)break;let l=this.ranges[++this.rangeIndex].from;n+=l-a}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,a){let s=4;if(this.ranges.length>1){a=this.skipGapsTo(n,a,1),n+=a;let c=this.chunk.length;a=this.skipGapsTo(r,a,-1),r+=a,s+=this.chunk.length-c}let l=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&s==4&&l>=0&&this.chunk[l]==e&&this.chunk[l+2]==n?this.chunk[l+2]=r:this.chunk.push(e,n,r,s),a}parseLine(e){let{line:n,end:r}=this.nextLine(),a=0,{streamParser:s}=this.lang,l=new StringStream(n,e?e.state.tabSize:4,e?getIndentUnit(e.state):2);if(l.eol())s.blankLine(this.state,l.indentUnit);else for(;!l.eol();){let c=readToken$1(s.token,l,this.state);if(c&&(a=this.emitToken(this.lang.tokenTable.resolve(c),this.parsedPos+l.start,this.parsedPos+l.pos,a)),l.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new Tree(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function readToken$1(o,e,n){e.start=e.pos;for(let r=0;r<10;r++){let a=o(e,n);if(e.pos>e.start)return a}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[o,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[o]=createTokenType(noTokens,e);class TokenTable{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),defaultTable)}resolve(e){return e?this.table[e]||(this.table[e]=createTokenType(this.extra,e)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(o,e){warned.indexOf(o)>-1||(warned.push(o),console.warn(e))}function createTokenType(o,e){let n=[];for(let c of e.split(" ")){let u=[];for(let h of c.split(".")){let f=o[h]||tags$1[h];f?typeof f=="function"?u.length?u=u.map(f):warnForPart(h,`Modifier ${h} used at start of tag`):u.length?warnForPart(h,`Tag ${h} used as modifier`):u=Array.isArray(f)?f:[f]:warnForPart(h,`Unknown highlighting tag ${h}`)}for(let h of u)n.push(h)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),a=r+" "+n.map(c=>c.id),s=byTag[a];if(s)return s.id;let l=byTag[a]=NodeType.define({id:typeArray.length,name:r,props:[styleTags({[r]:n})]});return typeArray.push(l),l.id}function docID(o,e){let n=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>o),indentNodeProp.add(()=>r=>e.getIndent(r))],top:!0});return typeArray.push(n),n}Direction.RTL,Direction.LTR;const toggleComment=o=>{let{state:e}=o,n=e.doc.lineAt(e.selection.main.from),r=getConfig(o.state,n.from);return r.line?toggleLineComment(o):r.block?toggleBlockCommentByLine(o):!1};function command(o,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let a=o(e,n);return a?(r(n.update(a)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((o,e)=>changeBlockComment(o,e,selectedLineRanges(e)),0);function getConfig(o,e){let n=o.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const SearchMargin=50;function findBlockComment(o,{open:e,close:n},r,a){let s=o.sliceDoc(r-SearchMargin,r),l=o.sliceDoc(a,a+SearchMargin),c=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(l)[0].length,h=s.length-c;if(s.slice(h-e.length,h)==e&&l.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:a+u,margin:u&&1}};let f,d;a-r<=2*SearchMargin?f=d=o.sliceDoc(r,a):(f=o.sliceDoc(r,r+SearchMargin),d=o.sliceDoc(a-SearchMargin,a));let p=/^\s*/.exec(f)[0].length,g=/\s*$/.exec(d)[0].length,y=d.length-g-n.length;return f.slice(p,p+e.length)==e&&d.slice(y,y+n.length)==n?{open:{pos:r+p+e.length,margin:/\s/.test(f.charAt(p+e.length))?1:0},close:{pos:a-g-n.length,margin:/\s/.test(d.charAt(y-1))?1:0}}:null}function selectedLineRanges(o){let e=[];for(let n of o.selection.ranges){let r=o.doc.lineAt(n.from),a=n.to<=r.to?r:o.doc.lineAt(n.to);a.from>r.from&&a.from==n.to&&(a=n.to==r.to+1?r:o.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=a.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:a.to})}return e}function changeBlockComment(o,e,n=e.selection.ranges){let r=n.map(s=>getConfig(e,s.from).block);if(!r.every(s=>s))return null;let a=n.map((s,l)=>findBlockComment(e,r[l],s.from,s.to));if(o!=2&&!a.every(s=>s))return{changes:e.changes(n.map((s,l)=>a[l]?[]:[{from:s.from,insert:r[l].open+" "},{from:s.to,insert:" "+r[l].close}]))};if(o!=1&&a.some(s=>s)){let s=[];for(let l=0,c;l<a.length;l++)if(c=a[l]){let u=r[l],{open:h,close:f}=c;s.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:f.pos-f.margin,to:f.pos+u.close.length})}return{changes:s}}return null}function changeLineComment(o,e,n=e.selection.ranges){let r=[],a=-1;for(let{from:s,to:l}of n){let c=r.length,u=1e9,h=getConfig(e,s).line;if(h){for(let f=s;f<=l;){let d=e.doc.lineAt(f);if(d.from>a&&(s==l||l>d.from)){a=d.from;let p=/^\s*/.exec(d.text)[0].length,g=p==d.length,y=d.text.slice(p,p+h.length)==h?p:-1;p<d.text.length&&p<u&&(u=p),r.push({line:d,comment:y,token:h,indent:p,empty:g,single:!1})}f=d.to+1}if(u<1e9)for(let f=c;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=u);r.length==c+1&&(r[c].single=!0)}}if(o!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:u,indent:h,empty:f,single:d}of r)(d||!f)&&s.push({from:c.from+h,insert:u+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(o!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:c,token:u}of r)if(c>=0){let h=l.from+c,f=h+u.length;l.text[f-l.from]==" "&&f++,s.push({from:h,to:f})}return{changes:s}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(o){return combineConfig(o,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,a)=>e(r,a)||n(r,a)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(o,e){let n=e.state.facet(historyConfig),r=e.annotation(fromHistory);if(r){let u=HistEvent.fromTransaction(e,r.selection),h=r.side,f=h==0?o.undone:o.done;return u?f=updateBranch(f,f.length,n.minDepth,u):f=addSelection(f,e.startState.selection),new HistoryState(h==0?r.rest:f,h==0?f:r.rest)}let a=e.annotation(isolateHistory);if((a=="full"||a=="before")&&(o=o.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?o:o.addMapping(e.changes.desc);let s=HistEvent.fromTransaction(e),l=e.annotation(Transaction.time),c=e.annotation(Transaction.userEvent);return s?o=o.addChanges(s,l,c,n,e):e.selection&&(o=o.addSelection(e.startState.selection,l,c,n.newGroupDelay)),(a=="full"||a=="after")&&(o=o.isolate()),o},toJSON(o){return{done:o.done.map(e=>e.toJSON()),undone:o.undone.map(e=>e.toJSON())}},fromJSON(o){return new HistoryState(o.done.map(HistEvent.fromJSON),o.undone.map(HistEvent.fromJSON))}});function history(o={}){return[historyField_,historyConfig.of(o),EditorView.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return r?(e.preventDefault(),r(n)):!1}})]}function cmd(o,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let a=n.field(historyField_,!1);if(!a)return!1;let s=a.pop(o,n,e);return s?(r(s),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,n,r,a,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=a,this.selectionsAfter=s}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(a=>a.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,n){let r=none$2;for(let a of e.startState.facet(invertedEffects)){let s=a(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,none$2)}static selection(e){return new HistEvent(void 0,none$2,void 0,void 0,e)}}function updateBranch(o,e,n,r){let a=e+1>n+20?e-n-1:0,s=o.slice(a,e);return s.push(r),s}function isAdjacent(o,e){let n=[],r=!1;return o.iterChangedRanges((a,s)=>n.push(a,s)),e.iterChangedRanges((a,s,l,c)=>{for(let u=0;u<n.length;){let h=n[u++],f=n[u++];c>=h&&l<=f&&(r=!0)}}),r}function eqSelectionShape(o,e){return o.ranges.length==e.ranges.length&&o.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function conc(o,e){return o.length?e.length?o.concat(e):o:e}const none$2=[],MaxSelectionsPerEvent=200;function addSelection(o,e){if(o.length){let n=o[o.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-MaxSelectionsPerEvent));return r.length&&r[r.length-1].eq(e)?o:(r.push(e),updateBranch(o,o.length-1,1e9,n.setSelAfter(r)))}else return[HistEvent.selection([e])]}function popSelection(o){let e=o[o.length-1],n=o.slice();return n[o.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function addMappingToBranch(o,e){if(!o.length)return o;let n=o.length,r=none$2;for(;n;){let a=mapEvent(o[n-1],e,r);if(a.changes&&!a.changes.empty||a.effects.length){let s=o.slice(0,n);return s[n-1]=a,s}else e=a.mapped,n--,r=a.selectionsAfter}return r.length?[HistEvent.selection(r)]:none$2}function mapEvent(o,e,n){let r=conc(o.selectionsAfter.length?o.selectionsAfter.map(c=>c.map(e)):none$2,n);if(!o.changes)return HistEvent.selection(r);let a=o.changes.map(e),s=e.mapDesc(o.changes,!0),l=o.mapped?o.mapped.composeDesc(s):s;return new HistEvent(a,StateEffect.mapEffects(o.effects,e),l,o.startSelection.map(s),r)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,n,r=0,a=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=a}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,n,r,a,s){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!r||joinableUserEvent.test(r))&&(!c.selectionsAfter.length&&n-this.prevTime<a.newGroupDelay&&a.joinToEvent(s,isAdjacent(c.changes,e.changes))||r=="input.type.compose")?l=updateBranch(l,l.length-1,a.minDepth,new HistEvent(e.changes.compose(c.changes),conc(StateEffect.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,none$2)):l=updateBranch(l,l.length,a.minDepth,e),new HistoryState(l,none$2,n,r)}addSelection(e,n,r,a){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:none$2;return s.length>0&&n-this.prevTime<a&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&eqSelectionShape(s[s.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,n,r)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let a=e==0?this.done:this.undone;if(a.length==0)return null;let s=a[a.length-1],l=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(a),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let c=a.length==1?none$2:a.slice(0,a.length-1);return s.mapped&&(c=addMappingToBranch(c,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:fromHistory.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$2,none$2);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(o,e){return EditorSelection.create(o.ranges.map(e),o.mainIndex)}function setSel(o,e){return o.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:o,dispatch:e},n){let r=updateSel(o.selection,n);return r.eq(o.selection,!0)?!1:(e(setSel(o,r)),!0)}function rangeEnd(o,e){return EditorSelection.cursor(e?o.to:o.from)}function cursorByChar(o,e){return moveSel(o,n=>n.empty?o.moveByChar(n,e):rangeEnd(n,e))}function ltrAtCursor(o){return o.textDirectionAt(o.state.selection.main.head)==Direction.LTR}const cursorCharLeft=o=>cursorByChar(o,!ltrAtCursor(o)),cursorCharRight=o=>cursorByChar(o,ltrAtCursor(o)),cursorCharBackward=o=>cursorByChar(o,!1);function cursorByGroup(o,e){return moveSel(o,n=>n.empty?o.moveByGroup(n,e):rangeEnd(n,e))}const cursorGroupLeft=o=>cursorByGroup(o,!ltrAtCursor(o)),cursorGroupRight=o=>cursorByGroup(o,ltrAtCursor(o));function interestingNode(o,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(o.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(o,e,n){let r=syntaxTree(o).resolveInner(e.head),a=n?NodeProp.closedBy:NodeProp.openedBy;for(let u=e.head;;){let h=n?r.childAfter(u):r.childBefore(u);if(!h)break;interestingNode(o,h,a)?r=h:u=n?h.to:h.from}let s=r.type.prop(a),l,c;return s&&(l=n?matchBrackets(o,r.from,1):matchBrackets(o,r.to,-1))&&l.matched?c=n?l.end.to:l.end.from:c=n?r.to:r.from,EditorSelection.cursor(c,n?-1:1)}const cursorSyntaxLeft=o=>moveSel(o,e=>moveBySyntax(o.state,e,!ltrAtCursor(o))),cursorSyntaxRight=o=>moveSel(o,e=>moveBySyntax(o.state,e,ltrAtCursor(o)));function cursorByLine(o,e){return moveSel(o,n=>{if(!n.empty)return rangeEnd(n,e);let r=o.moveVertically(n,e);return r.head!=n.head?r:o.moveToLineBoundary(n,e)})}const cursorLineUp=o=>cursorByLine(o,!1),cursorLineDown=o=>cursorByLine(o,!0);function pageInfo(o){let e=o.scrollDOM.clientHeight<o.scrollDOM.scrollHeight-2,n=0,r=0,a;if(e){for(let s of o.state.facet(EditorView.scrollMargins)){let l=s(o);l?.top&&(n=Math.max(l?.top,n)),l?.bottom&&(r=Math.max(l?.bottom,r))}a=o.scrollDOM.clientHeight-n-r}else a=(o.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(o.defaultLineHeight,a-5)}}function cursorByPage(o,e){let n=pageInfo(o),{state:r}=o,a=updateSel(r.selection,l=>l.empty?o.moveVertically(l,e,n.height):rangeEnd(l,e));if(a.eq(r.selection))return!1;let s;if(n.selfScroll){let l=o.coordsAtPos(r.selection.main.head),c=o.scrollDOM.getBoundingClientRect(),u=c.top+n.marginTop,h=c.bottom-n.marginBottom;l&&l.top>u&&l.bottom<h&&(s=EditorView.scrollIntoView(a.main.head,{y:"start",yMargin:l.top-u}))}return o.dispatch(setSel(r,a),{effects:s}),!0}const cursorPageUp=o=>cursorByPage(o,!1),cursorPageDown=o=>cursorByPage(o,!0);function moveByLineBoundary(o,e,n){let r=o.lineBlockAt(e.head),a=o.moveToLineBoundary(e,n);if(a.head==e.head&&a.head!=(n?r.to:r.from)&&(a=o.moveToLineBoundary(e,n,!1)),!n&&a.head==r.from&&r.length){let s=/^\s*/.exec(o.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(a=EditorSelection.cursor(r.from+s))}return a}const cursorLineBoundaryForward=o=>moveSel(o,e=>moveByLineBoundary(o,e,!0)),cursorLineBoundaryBackward=o=>moveSel(o,e=>moveByLineBoundary(o,e,!1)),cursorLineBoundaryLeft=o=>moveSel(o,e=>moveByLineBoundary(o,e,!ltrAtCursor(o))),cursorLineBoundaryRight=o=>moveSel(o,e=>moveByLineBoundary(o,e,ltrAtCursor(o))),cursorLineStart=o=>moveSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).from,1)),cursorLineEnd=o=>moveSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).to,-1));function toMatchingBracket(o,e,n){let r=!1,a=updateSel(o.selection,s=>{let l=matchBrackets(o,s.head,-1)||matchBrackets(o,s.head,1)||s.head>0&&matchBrackets(o,s.head-1,1)||s.head<o.doc.length&&matchBrackets(o,s.head+1,-1);if(!l||!l.end)return s;r=!0;let c=l.start.from==s.head?l.end.to:l.end.from;return EditorSelection.cursor(c)});return r?(e(setSel(o,a)),!0):!1}const cursorMatchingBracket=({state:o,dispatch:e})=>toMatchingBracket(o,e);function extendSel(o,e){let n=updateSel(o.state.selection,r=>{let a=e(r);return EditorSelection.range(r.anchor,a.head,a.goalColumn,a.bidiLevel||void 0)});return n.eq(o.state.selection)?!1:(o.dispatch(setSel(o.state,n)),!0)}function selectByChar(o,e){return extendSel(o,n=>o.moveByChar(n,e))}const selectCharLeft=o=>selectByChar(o,!ltrAtCursor(o)),selectCharRight=o=>selectByChar(o,ltrAtCursor(o));function selectByGroup(o,e){return extendSel(o,n=>o.moveByGroup(n,e))}const selectGroupLeft=o=>selectByGroup(o,!ltrAtCursor(o)),selectGroupRight=o=>selectByGroup(o,ltrAtCursor(o)),selectSyntaxLeft=o=>extendSel(o,e=>moveBySyntax(o.state,e,!ltrAtCursor(o))),selectSyntaxRight=o=>extendSel(o,e=>moveBySyntax(o.state,e,ltrAtCursor(o)));function selectByLine(o,e){return extendSel(o,n=>o.moveVertically(n,e))}const selectLineUp=o=>selectByLine(o,!1),selectLineDown=o=>selectByLine(o,!0);function selectByPage(o,e){return extendSel(o,n=>o.moveVertically(n,e,pageInfo(o).height))}const selectPageUp=o=>selectByPage(o,!1),selectPageDown=o=>selectByPage(o,!0),selectLineBoundaryForward=o=>extendSel(o,e=>moveByLineBoundary(o,e,!0)),selectLineBoundaryBackward=o=>extendSel(o,e=>moveByLineBoundary(o,e,!1)),selectLineBoundaryLeft=o=>extendSel(o,e=>moveByLineBoundary(o,e,!ltrAtCursor(o))),selectLineBoundaryRight=o=>extendSel(o,e=>moveByLineBoundary(o,e,ltrAtCursor(o))),selectLineStart=o=>extendSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).from)),selectLineEnd=o=>extendSel(o,e=>EditorSelection.cursor(o.lineBlockAt(e.head).to)),cursorDocStart=({state:o,dispatch:e})=>(e(setSel(o,{anchor:0})),!0),cursorDocEnd=({state:o,dispatch:e})=>(e(setSel(o,{anchor:o.doc.length})),!0),selectDocStart=({state:o,dispatch:e})=>(e(setSel(o,{anchor:o.selection.main.anchor,head:0})),!0),selectDocEnd=({state:o,dispatch:e})=>(e(setSel(o,{anchor:o.selection.main.anchor,head:o.doc.length})),!0),selectAll=({state:o,dispatch:e})=>(e(o.update({selection:{anchor:0,head:o.doc.length},userEvent:"select"})),!0),selectLine=({state:o,dispatch:e})=>{let n=selectedLineBlocks(o).map(({from:r,to:a})=>EditorSelection.range(r,Math.min(a+1,o.doc.length)));return e(o.update({selection:EditorSelection.create(n),userEvent:"select"})),!0},selectParentSyntax=({state:o,dispatch:e})=>{let n=updateSel(o.selection,r=>{let a=syntaxTree(o),s=a.resolveStack(r.from,1);if(r.empty){let l=a.resolveStack(r.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:c}=l;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&l.next)return EditorSelection.range(c.to,c.from)}return r});return n.eq(o.selection)?!1:(e(setSel(o,n)),!0)},simplifySelection=({state:o,dispatch:e})=>{let n=o.selection,r=null;return n.ranges.length>1?r=EditorSelection.create([n.main]):n.main.empty||(r=EditorSelection.create([EditorSelection.cursor(n.main.head)])),r?(e(setSel(o,r)),!0):!1};function deleteBy(o,e){if(o.state.readOnly)return!1;let n="delete.selection",{state:r}=o,a=r.changeByRange(s=>{let{from:l,to:c}=s;if(l==c){let u=e(s);u<l?(n="delete.backward",u=skipAtomic(o,u,!1)):u>l&&(n="delete.forward",u=skipAtomic(o,u,!0)),l=Math.min(l,u),c=Math.max(c,u)}else l=skipAtomic(o,l,!1),c=skipAtomic(o,c,!0);return l==c?{range:s}:{changes:{from:l,to:c},range:EditorSelection.cursor(l,l<s.head?-1:1)}});return a.changes.empty?!1:(o.dispatch(r.update(a,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?EditorView.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(o,e,n){if(o instanceof EditorView)for(let r of o.state.facet(EditorView.atomicRanges).map(a=>a(o)))r.between(e,e,(a,s)=>{a<e&&s>e&&(e=n?s:a)});return e}const deleteByChar=(o,e,n)=>deleteBy(o,r=>{let a=r.from,{state:s}=o,l=s.doc.lineAt(a),c,u;if(n&&!e&&a>l.from&&a<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,a-l.from))){if(c[c.length-1]=="	")return a-1;let h=countColumn(c,s.tabSize),f=h%getIndentUnit(s)||getIndentUnit(s);for(let d=0;d<f&&c[c.length-1-d]==" ";d++)a--;u=a}else u=findClusterBreak(l.text,a-l.from,e,e)+l.from,u==a&&l.number!=(e?s.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(u-l.from,a-l.from))&&(u=findClusterBreak(l.text,u-l.from,!1,!1)+l.from);return u}),deleteCharBackward=o=>deleteByChar(o,!1,!0),deleteCharForward=o=>deleteByChar(o,!0,!1),deleteByGroup=(o,e)=>deleteBy(o,n=>{let r=n.head,{state:a}=o,s=a.doc.lineAt(r),l=a.charCategorizer(r);for(let c=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?a.doc.lines:1)&&(r+=e?1:-1);break}let u=findClusterBreak(s.text,r-s.from,e)+s.from,h=s.text.slice(Math.min(r,u)-s.from,Math.max(r,u)-s.from),f=l(h);if(c!=null&&f!=c)break;(h!=" "||r!=n.head)&&(c=f),r=u}return r}),deleteGroupBackward=o=>deleteByGroup(o,!1),deleteGroupForward=o=>deleteByGroup(o,!0),deleteToLineEnd=o=>deleteBy(o,e=>{let n=o.lineBlockAt(e.head).to;return e.head<n?n:Math.min(o.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=o=>deleteBy(o,e=>{let n=o.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),deleteLineBoundaryForward=o=>deleteBy(o,e=>{let n=o.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(o.state.doc.length,e.head+1)}),splitLine=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let n=o.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Text$1.of(["",""])},range:EditorSelection.cursor(r.from)}));return e(o.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let n=o.changeByRange(r=>{if(!r.empty||r.from==0||r.from==o.doc.length)return{range:r};let a=r.from,s=o.doc.lineAt(a),l=a==s.from?a-1:findClusterBreak(s.text,a-s.from,!1)+s.from,c=a==s.to?a+1:findClusterBreak(s.text,a-s.from,!0)+s.from;return{changes:{from:l,to:c,insert:o.doc.slice(a,c).append(o.doc.slice(l,a))},range:EditorSelection.cursor(c)}});return n.changes.empty?!1:(e(o.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(o){let e=[],n=-1;for(let r of o.selection.ranges){let a=o.doc.lineAt(r.from),s=o.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=o.doc.lineAt(r.to-1)),n>=a.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(r)}else e.push({from:a.from,to:s.to,ranges:[r]});n=s.number+1}return e}function moveLine(o,e,n){if(o.readOnly)return!1;let r=[],a=[];for(let s of selectedLineBlocks(o)){if(n?s.to==o.doc.length:s.from==0)continue;let l=o.doc.lineAt(n?s.to+1:s.from-1),c=l.length+1;if(n){r.push({from:s.to,to:l.to},{from:s.from,insert:l.text+o.lineBreak});for(let u of s.ranges)a.push(EditorSelection.range(Math.min(o.doc.length,u.anchor+c),Math.min(o.doc.length,u.head+c)))}else{r.push({from:l.from,to:s.from},{from:s.to,insert:o.lineBreak+l.text});for(let u of s.ranges)a.push(EditorSelection.range(u.anchor-c,u.head-c))}}return r.length?(e(o.update({changes:r,scrollIntoView:!0,selection:EditorSelection.create(a,o.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:o,dispatch:e})=>moveLine(o,e,!1),moveLineDown=({state:o,dispatch:e})=>moveLine(o,e,!0);function copyLine(o,e,n){if(o.readOnly)return!1;let r=[];for(let a of selectedLineBlocks(o))n?r.push({from:a.from,insert:o.doc.slice(a.from,a.to)+o.lineBreak}):r.push({from:a.to,insert:o.lineBreak+o.doc.slice(a.from,a.to)});return e(o.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:o,dispatch:e})=>copyLine(o,e,!1),copyLineDown=({state:o,dispatch:e})=>copyLine(o,e,!0),deleteLine=o=>{if(o.state.readOnly)return!1;let{state:e}=o,n=e.changes(selectedLineBlocks(e).map(({from:a,to:s})=>(a>0?a--:s<e.doc.length&&s++,{from:a,to:s}))),r=updateSel(e.selection,a=>{let s;if(o.lineWrapping){let l=o.lineBlockAt(a.head),c=o.coordsAtPos(a.head,a.assoc||1);c&&(s=l.bottom+o.documentTop-c.bottom+o.defaultLineHeight/2)}return o.moveVertically(a,!0,s)}).map(n);return o.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(o,e){if(/\(\)|\[\]|\{\}/.test(o.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=syntaxTree(o).resolveInner(e),r=n.childBefore(e),a=n.childAfter(e),s;return r&&a&&r.to<=e&&a.from>=e&&(s=r.type.prop(NodeProp.closedBy))&&s.indexOf(a.name)>-1&&o.doc.lineAt(r.to).from==o.doc.lineAt(a.from).from&&!/\S/.test(o.sliceDoc(r.to,a.from))?{from:r.to,to:a.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(o){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(a=>{let{from:s,to:l}=a,c=e.doc.lineAt(s),u=!o&&s==l&&isBetweenBrackets(e,s);o&&(s=l=(l<=c.to?c:e.doc.lineAt(l)).to);let h=new IndentContext(e,{simulateBreak:s,simulateDoubleBreak:!!u}),f=getIndentation(h,s);for(f==null&&(f=countColumn(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;u?{from:s,to:l}=u:s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let d=["",indentString(e,f)];return u&&d.push(indentString(e,h.lineIndent(c.from,-1))),{changes:{from:s,to:l,insert:Text$1.of(d)},range:EditorSelection.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(o,e){let n=-1;return o.changeByRange(r=>{let a=[];for(let l=r.from;l<=r.to;){let c=o.doc.lineAt(l);c.number>n&&(r.empty||r.to>c.from)&&(e(c,a,r),n=c.number),l=c.to+1}let s=o.changes(a);return{changes:a,range:EditorSelection.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const indentSelection=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let n=Object.create(null),r=new IndentContext(o,{overrideIndentation:s=>{let l=n[s];return l??-1}}),a=changeBySelectedLine(o,(s,l,c)=>{let u=getIndentation(r,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let h=/^\s*/.exec(s.text)[0],f=indentString(o,u);(h!=f||c.from<s.from+h.length)&&(n[s.from]=u,l.push({from:s.from,to:s.from+h.length,insert:f}))});return a.changes.empty||e(o.update(a,{userEvent:"indent"})),!0},indentMore=({state:o,dispatch:e})=>o.readOnly?!1:(e(o.update(changeBySelectedLine(o,(n,r)=>{r.push({from:n.from,insert:o.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:o,dispatch:e})=>o.readOnly?!1:(e(o.update(changeBySelectedLine(o,(n,r)=>{let a=/^\s*/.exec(n.text)[0];if(!a)return;let s=countColumn(a,o.tabSize),l=0,c=indentString(o,Math.max(0,s-getIndentUnit(o)));for(;l<a.length&&l<c.length&&a.charCodeAt(l)==c.charCodeAt(l);)l++;r.push({from:n.from+l,to:n.from+a.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=o=>(o.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(o=>({mac:o.key,run:o.run,shift:o.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),basicNormalize=typeof String.prototype.normalize=="function"?o=>o.normalize("NFKD"):o=>o;class SearchCursor{constructor(e,n,r=0,a=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,a),this.bufferStart=r,this.normalize=s?c=>s(basicNormalize(c)):basicNormalize,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=fromCodePoint(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let a=this.normalize(n);if(a.length)for(let s=0,l=r;;s++){let c=a.charCodeAt(s),u=this.match(c,l,this.bufferPos+this.bufferStart);if(s==a.length-1){if(u)return this.value=u,this;break}l==r&&s<n.length&&n.charCodeAt(s)==c&&l++}}}match(e,n,r){let a=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?a={from:this.matches[s+1],to:r}:(this.matches[s]++,c=!0)),c||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?a={from:n,to:r}:this.matches.push(1,n)),a&&this.test&&!this.test(a.from,a.to,this.buffer,this.bufferStart)&&(a=null),a}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,n,r,a=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new MultilineRegExpCursor(e,n,r,a,s);this.re=new RegExp(n,baseFlags+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let l=e.lineAt(a);this.curLineStart=l.from,this.matchPos=toCharEnd(e,a),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,a=r+n[0].length;if(this.matchPos=toCharEnd(this.text,a+(r==a?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<a||r>this.value.to)&&(!this.test||this.test(r,a,n)))return this.value={from:r,to:a,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let a=flattened.get(e);if(!a||a.from>=r||a.to<=n){let c=new FlattenedDoc(n,e.sliceString(n,r));return flattened.set(e,c),c}if(a.from==n&&a.to==r)return a;let{text:s,from:l}=a;return l>n&&(s=e.sliceString(n,l)+s,l=n),a.to<r&&(s+=e.sliceString(a.to,r)),flattened.set(e,new FlattenedDoc(l,s)),new FlattenedDoc(n,s.slice(n-l,r-l))}}class MultilineRegExpCursor{constructor(e,n,r,a,s){this.text=e,this.to=s,this.done=!1,this.value=empty,this.matchPos=toCharEnd(e,a),this.re=new RegExp(n,baseFlags+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=FlattenedDoc.get(e,a,this.chunkEnd(a+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,a=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,a,n)))return this.value={from:r,to:a,match:n},this.matchPos=toCharEnd(this.text,a+(r==a?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(o){try{return new RegExp(o,baseFlags),!0}catch{return!1}}function toCharEnd(o,e){if(e>=o.length)return e;let n=o.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function createLineDialog(o){let e=String(o.state.doc.lineAt(o.state.selection.main.head).number),n=crelt("input",{class:"cm-textfield",name:"line",value:e}),r=crelt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),o.dispatch({effects:dialogEffect.of(!1)}),o.focus()):s.keyCode==13&&(s.preventDefault(),a())},onsubmit:s=>{s.preventDefault(),a()}},crelt("label",o.state.phrase("Go to line"),": ",n)," ",crelt("button",{class:"cm-button",type:"submit"},o.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{o.dispatch({effects:dialogEffect.of(!1)}),o.focus()},"aria-label":o.state.phrase("close"),type:"button"},[""]));function a(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:l}=o,c=l.doc.lineAt(l.selection.main.head),[,u,h,f,d]=s,p=f?+f.slice(1):0,g=h?+h:c.number;if(h&&d){let w=g/100;u&&(w=w*(u=="-"?-1:1)+c.number/l.doc.lines),g=Math.round(l.doc.lines*w)}else h&&u&&(g=g*(u=="-"?-1:1)+c.number);let y=l.doc.line(Math.max(1,Math.min(l.doc.lines,g))),v=EditorSelection.cursor(y.from+Math.max(0,Math.min(p,y.length)));o.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(v.from,{y:"center"})],selection:v}),o.focus()}return{dom:r}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(o,e){for(let n of e.effects)n.is(dialogEffect)&&(o=n.value);return o},provide:o=>showPanel.from(o,e=>e?createLineDialog:null)}),gotoLine=o=>{let e=getPanel(o,createLineDialog);if(!e){let n=[dialogEffect.of(!0)];o.state.field(dialogField,!1)==null&&n.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),o.dispatch({effects:n}),e=getPanel(o,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(o){return combineConfig(o,defaultHighlightOptions,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(o){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(o,e,n,r){return(n==0||o(e.sliceDoc(n-1,n))!=CharCategory.Word)&&(r==e.doc.length||o(e.sliceDoc(r,r+1))!=CharCategory.Word)}function insideWord(o,e,n,r){return o(e.sliceDoc(n,n+1))==CharCategory.Word&&o(e.sliceDoc(r-1,r))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(o){this.decorations=this.getDeco(o)}update(o){(o.selectionSet||o.docChanged||o.viewportChanged)&&(this.decorations=this.getDeco(o.view))}getDeco(o){let e=o.state.facet(highlightConfig),{state:n}=o,r=n.selection;if(r.ranges.length>1)return Decoration.none;let a=r.main,s,l=null;if(a.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let u=n.wordAt(a.head);if(!u)return Decoration.none;l=n.charCategorizer(a.head),s=n.sliceDoc(u.from,u.to)}else{let u=a.to-a.from;if(u<e.minSelectionLength||u>200)return Decoration.none;if(e.wholeWords){if(s=n.sliceDoc(a.from,a.to),l=n.charCategorizer(a.head),!(insideWordBoundaries(l,n,a.from,a.to)&&insideWord(l,n,a.from,a.to)))return Decoration.none}else if(s=n.sliceDoc(a.from,a.to),!s)return Decoration.none}let c=[];for(let u of o.visibleRanges){let h=new SearchCursor(n.doc,s,u.from,u.to);for(;!h.next().done;){let{from:f,to:d}=h.value;if((!l||insideWordBoundaries(l,n,f,d))&&(a.empty&&f<=a.from&&d>=a.to?c.push(mainMatchDeco.range(f,d)):(f>=a.to||d<=a.from)&&c.push(matchDeco.range(f,d)),c.length>e.maxMatches))return Decoration.none}}return Decoration.set(c)}},{decorations:o=>o.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:o,dispatch:e})=>{let{selection:n}=o,r=EditorSelection.create(n.ranges.map(a=>o.wordAt(a.head)||EditorSelection.cursor(a.head)),n.mainIndex);return r.eq(n)?!1:(e(o.update({selection:r})),!0)};function findNextOccurrence(o,e){let{main:n,ranges:r}=o.selection,a=o.wordAt(n.head),s=a&&a.from==n.from&&a.to==n.to;for(let l=!1,c=new SearchCursor(o.doc,e,r[r.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new SearchCursor(o.doc,e,0,Math.max(0,r[r.length-1].from-1)),l=!0}else{if(l&&r.some(u=>u.from==c.value.from))continue;if(s){let u=o.wordAt(c.value.from);if(!u||u.from!=c.value.from||u.to!=c.value.to)continue}return c.value}}const selectNextOccurrence=({state:o,dispatch:e})=>{let{ranges:n}=o.selection;if(n.some(s=>s.from===s.to))return selectWord({state:o,dispatch:e});let r=o.sliceDoc(n[0].from,n[0].to);if(o.selection.ranges.some(s=>o.sliceDoc(s.from,s.to)!=r))return!1;let a=findNextOccurrence(o,r);return a?(e(o.update({selection:o.selection.addRange(EditorSelection.range(a.from,a.to),!1),effects:EditorView.scrollIntoView(a.to)})),!0):!1},searchConfigFacet=Facet.define({combine(o){return combineConfig(o,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,n=0,r){let a=e.doc?e:EditorState.create({doc:e});return r==null&&(r=a.doc.length),this.regexp?regexpCursor(this,a,n,r):stringCursor(this,a,n,r)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(o,e,n,r){return new SearchCursor(e.doc,o.unquoted,n,r,o.caseSensitive?void 0:a=>a.toLowerCase(),o.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(o,e){return(n,r,a,s)=>((s>n||s+a.length<r)&&(s=Math.max(0,n-2),a=o.sliceString(s,Math.min(o.length,r+2))),(e(charBefore(a,n-s))!=CharCategory.Word||e(charAfter(a,n-s))!=CharCategory.Word)&&(e(charAfter(a,r-s))!=CharCategory.Word||e(charBefore(a,r-s))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,n,r){let a=stringCursor(this.spec,e,r,e.doc.length).nextOverlapping();if(a.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);a=stringCursor(this.spec,e,0,s).nextOverlapping()}return a.done||a.value.from==n&&a.value.to==r?null:a.value}prevMatchInRange(e,n,r){for(let a=r;;){let s=Math.max(n,a-1e4-this.spec.unquoted.length),l=stringCursor(this.spec,e,s,a),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(s==n)return null;a-=1e4}}prevMatch(e,n,r){let a=this.prevMatchInRange(e,0,n);return a||(a=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),a&&(a.from!=n||a.to!=r)?a:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=stringCursor(this.spec,e,0,e.doc.length),a=[];for(;!r.next().done;){if(a.length>=n)return null;a.push(r.value)}return a}highlight(e,n,r,a){let s=stringCursor(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)a(s.value.from,s.value.to)}}function regexpCursor(o,e,n,r){return new RegExpCursor(e.doc,o.search,{ignoreCase:!o.caseSensitive,test:o.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function charBefore(o,e){return o.slice(findClusterBreak(o,e,!1),e)}function charAfter(o,e){return o.slice(e,findClusterBreak(o,e))}function regexpWordTest(o){return(e,n,r)=>!r[0].length||(o(charBefore(r.input,r.index))!=CharCategory.Word||o(charAfter(r.input,r.index))!=CharCategory.Word)&&(o(charAfter(r.input,r.index+r[0].length))!=CharCategory.Word||o(charBefore(r.input,r.index+r[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,n,r){let a=regexpCursor(this.spec,e,r,e.doc.length).next();return a.done&&(a=regexpCursor(this.spec,e,0,n).next()),a.done?null:a.value}prevMatchInRange(e,n,r){for(let a=1;;a++){let s=Math.max(n,r-a*1e4),l=regexpCursor(this.spec,e,s,r),c=null;for(;!l.next().done;)c=l.value;if(c&&(s==n||c.from>s+10))return c;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let a=r.length;a>0;a--){let s=+r.slice(0,a);if(s>0&&s<e.match.length)return e.match[s]+r.slice(a)}return n})}matchAll(e,n){let r=regexpCursor(this.spec,e,0,e.doc.length),a=[];for(;!r.next().done;){if(a.length>=n)return null;a.push(r.value)}return a}highlight(e,n,r,a){let s=regexpCursor(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)a(s.value.from,s.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(o){return new SearchState(defaultQuery(o).create(),null)},update(o,e){for(let n of e.effects)n.is(setSearchQuery)?o=new SearchState(n.value.create(),o.panel):n.is(togglePanel$1)&&(o=new SearchState(o.query,n.value?createSearchPanel:null));return o},provide:o=>showPanel.from(o,e=>e.panel)});class SearchState{constructor(e,n){this.query=e,this.panel=n}}const matchMark$1=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.decorations=this.highlight(o.state.field(searchState))}update(o){let e=o.state.field(searchState);(e!=o.startState.field(searchState)||o.docChanged||o.selectionSet||o.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:o,panel:e}){if(!e||!o.spec.valid)return Decoration.none;let{view:n}=this,r=new RangeSetBuilder;for(let a=0,s=n.visibleRanges,l=s.length;a<l;a++){let{from:c,to:u}=s[a];for(;a<l-1&&u>s[a+1].from-500;)u=s[++a].to;o.highlight(n.state,c,u,(h,f)=>{let d=n.state.selection.ranges.some(p=>p.from==h&&p.to==f);r.add(h,f,d?selectedMatchMark:matchMark$1)})}return r.finish()}},{decorations:o=>o.decorations});function searchCommand(o){return e=>{let n=e.state.field(searchState,!1);return n&&n.query.spec.valid?o(e,n):openSearchPanel(e)}}const findNext=searchCommand((o,{query:e})=>{let{to:n}=o.state.selection.main,r=e.nextMatch(o.state,n,n);if(!r)return!1;let a=EditorSelection.single(r.from,r.to),s=o.state.facet(searchConfigFacet);return o.dispatch({selection:a,effects:[announceMatch(o,r),s.scrollToMatch(a.main,o)],userEvent:"select.search"}),selectSearchInput(o),!0}),findPrevious=searchCommand((o,{query:e})=>{let{state:n}=o,{from:r}=n.selection.main,a=e.prevMatch(n,r,r);if(!a)return!1;let s=EditorSelection.single(a.from,a.to),l=o.state.facet(searchConfigFacet);return o.dispatch({selection:s,effects:[announceMatch(o,a),l.scrollToMatch(s.main,o)],userEvent:"select.search"}),selectSearchInput(o),!0}),selectMatches=searchCommand((o,{query:e})=>{let n=e.matchAll(o.state,1e3);return!n||!n.length?!1:(o.dispatch({selection:EditorSelection.create(n.map(r=>EditorSelection.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:o,dispatch:e})=>{let n=o.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:a}=n.main,s=[],l=0;for(let c=new SearchCursor(o.doc,o.sliceDoc(r,a));!c.next().done;){if(s.length>1e3)return!1;c.value.from==r&&(l=s.length),s.push(EditorSelection.range(c.value.from,c.value.to))}return e(o.update({selection:EditorSelection.create(s,l),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((o,{query:e})=>{let{state:n}=o,{from:r,to:a}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let l=s,c=[],u,h,f=[];l.from==r&&l.to==a&&(h=n.toText(e.getReplacement(l)),c.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(n,l.from,l.to),f.push(EditorView.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let d=o.state.changes(c);return l&&(u=EditorSelection.single(l.from,l.to).map(d),f.push(announceMatch(o,l)),f.push(n.facet(searchConfigFacet).scrollToMatch(u.main,o))),o.dispatch({changes:d,selection:u,effects:f,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((o,{query:e})=>{if(o.state.readOnly)return!1;let n=e.matchAll(o.state,1e9).map(a=>{let{from:s,to:l}=a;return{from:s,to:l,insert:e.getReplacement(a)}});if(!n.length)return!1;let r=o.state.phrase("replaced $ matches",n.length)+".";return o.dispatch({changes:n,effects:EditorView.announce.of(r),userEvent:"input.replace.all"}),!0});function createSearchPanel(o){return o.state.facet(searchConfigFacet).createPanel(o)}function defaultQuery(o,e){var n,r,a,s,l;let c=o.selection.main,u=c.empty||c.to>c.from+100?"":o.sliceDoc(c.from,c.to);if(e&&!u)return e;let h=o.facet(searchConfigFacet);return new SearchQuery({search:((n=e?.literal)!==null&&n!==void 0?n:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:h.caseSensitive,literal:(a=e?.literal)!==null&&a!==void 0?a:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function getSearchInput(o){let e=getPanel(o,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(o){let e=getSearchInput(o);e&&e==o.root.activeElement&&e.select()}const openSearchPanel=o=>{let e=o.state.field(searchState,!1);if(e&&e.panel){let n=getSearchInput(o);if(n&&n!=o.root.activeElement){let r=defaultQuery(o.state,e.query.spec);r.valid&&o.dispatch({effects:setSearchQuery.of(r)}),n.focus(),n.select()}}else o.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(o.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=o=>{let e=o.state.field(searchState,!1);if(!e||!e.panel)return!1;let n=getPanel(o,createSearchPanel);return n&&n.dom.contains(o.root.activeElement)&&o.focus(),o.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let n=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:n.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:n.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(a,s,l){return crelt("button",{class:"cm-button",name:a,onclick:s,type:"button"},l)}this.dom=crelt("div",{onkeydown:a=>this.keydown(a),class:"cm-search"},[this.searchField,r("next",()=>findNext(e),[phrase(e,"next")]),r("prev",()=>findPrevious(e),[phrase(e,"previous")]),r("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,r("replace",()=>replaceNext(e),[phrase(e,"replace")]),r("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(setSearchQuery)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(o,e){return o.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(o,{from:e,to:n}){let r=o.state.doc.lineAt(e),a=o.state.doc.lineAt(n).to,s=Math.max(r.from,e-AnnounceMargin),l=Math.min(a,n+AnnounceMargin),c=o.state.sliceDoc(s,l);if(s!=r.from){for(let u=0;u<AnnounceMargin;u++)if(!Break.test(c[u+1])&&Break.test(c[u])){c=c.slice(u);break}}if(l!=a){for(let u=c.length-1;u>c.length-AnnounceMargin;u--)if(!Break.test(c[u-1])&&Break.test(c[u])){c=c.slice(0,u);break}}return EditorView.announce.of(`${o.state.phrase("current match")}. ${c} ${o.state.phrase("on line")} ${r.number}.`)}const baseTheme$3=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$3];class CompletionContext{constructor(e,n,r,a){this.state=e,this.pos=n,this.explicit=r,this.view=a,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=syntaxTree(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),a=n.text.slice(r-n.from,this.pos-n.from),s=a.search(ensureAnchor(e,!1));return s<0?null:{from:r+s,to:this.pos,text:a.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(o){let e=Object.keys(o).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(o){let e=Object.create(null),n=Object.create(null);for(let{label:a}of o){e[a[0]]=!0;for(let s=1;s<a.length;s++)n[a[s]]=!0}let r=toSet(e)+toSet(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function completeFromList(o){let e=o.map(a=>typeof a=="string"?{label:a}:a),[n,r]=e.every(a=>/^\w+$/.test(a.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return a=>{let s=a.matchBefore(r);return s||a.explicit?{from:s?s.from:a.pos,options:e,validFor:n}:null}}function ifNotIn(o,e){return n=>{for(let r=syntaxTree(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(o.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class Option{constructor(e,n,r,a){this.completion=e,this.source=n,this.match=r,this.score=a}}function cur(o){return o.selection.main.from}function ensureAnchor(o,e){var n;let{source:r}=o,a=e&&r[0]!="^",s=r[r.length-1]!="$";return!a&&!s?o:new RegExp(`${a?"^":""}(?:${r})${s?"$":""}`,(n=o.flags)!==null&&n!==void 0?n:o.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(o,e,n,r){let{main:a}=o.selection,s=n-a.from,l=r-a.from;return{...o.changeByRange(c=>{if(c!=a&&n!=r&&o.sliceDoc(c.from+s,c.from+l)!=o.sliceDoc(n,r))return{range:c};let u=o.toText(e);return{changes:{from:c.from+s,to:r==a.from?c.to:c.from+l,insert:u},range:EditorSelection.cursor(c.from+s+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const SourceCache=new WeakMap;function asSource(o){if(!Array.isArray(o))return o;let e=SourceCache.get(o);return e||SourceCache.set(o,e=completeFromList(o)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=codePointAt(e,n),a=codePointSize(r);this.chars.push(r);let s=e.slice(n,n+a),l=s.toUpperCase();this.folded.push(codePointAt(l==s?s.toLowerCase():l,0)),n+=a}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:a,precise:s,byWord:l}=this;if(n.length==1){let k=codePointAt(e,0),E=codePointSize(k),I=E==e.length?0:-100;if(k!=n[0])if(k==r[0])I+=-200;else return null;return this.ret(I,[0,E])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,h=0;if(c<0){for(let k=0,E=Math.min(e.length,200);k<E&&h<u;){let I=codePointAt(e,k);(I==n[h]||I==r[h])&&(a[h++]=k),k+=codePointSize(I)}if(h<u)return null}let f=0,d=0,p=!1,g=0,y=-1,v=-1,w=/[a-z]/.test(e),O=!0;for(let k=0,E=Math.min(e.length,200),I=0;k<E&&d<u;){let G=codePointAt(e,k);c<0&&(f<u&&G==n[f]&&(s[f++]=k),g<u&&(G==n[g]||G==r[g]?(g==0&&(y=k),v=k+1,g++):g=0));let J,Q=G<255?G>=48&&G<=57||G>=97&&G<=122?2:G>=65&&G<=90?1:0:(J=fromCodePoint(G))!=J.toLowerCase()?1:J!=J.toUpperCase()?2:0;(!k||Q==1&&w||I==0&&Q!=0)&&(n[d]==G||r[d]==G&&(p=!0)?l[d++]=k:l.length&&(O=!1)),I=Q,k+=codePointSize(G)}return d==u&&l[0]==0&&O?this.result(-100+(p?-200:0),l,e):g==u&&y==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):g==u?this.ret(-900-e.length,[y,v]):d==u?this.result(-100+(p?-200:0)+-700+(O?0:-1100),l,e):n.length==2?null:this.result((a[0]?-700:0)+-200+-1100,a,e)}result(e,n,r){let a=[],s=0;for(let l of n){let c=l+(this.astral?codePointSize(codePointAt(r,l)):1);s&&a[s-1]==l?a[s-1]=c:(a[s++]=l,a[s++]=c)}return this.ret(e-r.length,a)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(o){return combineConfig(o,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>joinClass(e(r),n(r)),optionClass:(e,n)=>r=>joinClass(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function joinClass(o,e){return o?e?o+" "+e:o:e}function defaultPositionInfo(o,e,n,r,a,s){let l=o.textDirection==Direction.RTL,c=l,u=!1,h="top",f,d,p=e.left-a.left,g=a.right-e.right,y=r.right-r.left,v=r.bottom-r.top;if(c&&p<Math.min(y,g)?c=!1:!c&&g<Math.min(y,p)&&(c=!0),y<=(c?p:g))f=Math.max(a.top,Math.min(n.top,a.bottom-v))-e.top,d=Math.min(400,c?p:g);else{u=!0,d=Math.min(400,(l?e.right:a.right-e.left)-30);let k=a.bottom-e.bottom;k>=v||k>e.top?f=n.bottom-e.top:(h="bottom",f=e.bottom-n.top)}let w=(e.bottom-e.top)/s.offsetHeight,O=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${f/w}px; max-width: ${d/O}px`,class:"cm-completionInfo-"+(u?l?"left-narrow":"right-narrow":c?"left":"right")}}function optionContent(o){let e=o.addToOptions.slice();return o.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(a=>"cm-completionIcon-"+a)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,a,s){let l=document.createElement("span");l.className="cm-completionLabel";let c=n.displayLabel||n.label,u=0;for(let h=0;h<s.length;){let f=s[h++],d=s[h++];f>u&&l.appendChild(document.createTextNode(c.slice(u,f)));let p=l.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(c.slice(f,d))),p.className="cm-completionMatchedText",u=d}return u<c.length&&l.appendChild(document.createTextNode(c.slice(u))),l},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function rangeAroundSelected(o,e,n){if(o<=n)return{from:0,to:o};if(e<0&&(e=0),e<=o>>1){let a=Math.floor(e/n);return{from:a*n,to:(a+1)*n}}let r=Math.floor((o-e)/n);return{from:o-(r+1)*n,to:o-r*n}}class CompletionTooltip{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let a=e.state.field(n),{options:s,selected:l}=a.open,c=e.state.facet(completionConfig);this.optionContent=optionContent(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=rangeAroundSelected(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(n).open;for(let f=u.target,d;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(d=/-(\d+)$/.exec(f.id))&&+d[1]<h.length){this.applyCompletion(e,h[+d[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(completionConfig).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(s,a.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),a=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=a){let{options:s,selected:l,disabled:c}=r.open;(!a.open||a.open.options!=s)&&(this.range=rangeAroundSelected(s.length,l,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),c!=((n=a.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=rangeAroundSelected(n.options.length,n.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:a}=r;if(!a)return;let s=typeof a=="string"?document.createTextNode(a):a(r);if(!s)return;"then"in s?s.then(l=>{l&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(l,r)}).catch(l=>logException(this.view.state,l,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:a,destroy:s}=e;r.appendChild(a),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,a=this.range.from;r;r=r.nextSibling,a++)r.nodeName!="LI"||!r.id?a--:a==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&scrollIntoView(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),a=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return a.top>Math.min(s.bottom,n.bottom)-10||a.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,n,a,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const a=document.createElement("ul");a.id=n,a.setAttribute("role","listbox"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",this.view.state.phrase("Completions")),a.addEventListener("mousedown",l=>{l.target==a&&l.preventDefault()});let s=null;for(let l=r.from;l<r.to;l++){let{completion:c,match:u}=e[l],{section:h}=c;if(h){let p=typeof h=="string"?h:h.name;if(p!=s&&(l>r.from||r.from==0))if(s=p,typeof h!="string"&&h.header)a.appendChild(h.header(h));else{let g=a.appendChild(document.createElement("completion-section"));g.textContent=p}}const f=a.appendChild(document.createElement("li"));f.id=n+"-"+l,f.setAttribute("role","option");let d=this.optionClass(c);d&&(f.className=d);for(let p of this.optionContent){let g=p(c,this.view.state,this.view,u);g&&f.appendChild(g)}}return r.from&&a.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&a.classList.add("cm-completionListIncompleteBottom"),a}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(o,e){return n=>new CompletionTooltip(n,o,e)}function scrollIntoView(o,e){let n=o.getBoundingClientRect(),r=e.getBoundingClientRect(),a=n.height/o.offsetHeight;r.top<n.top?o.scrollTop-=(n.top-r.top)/a:r.bottom>n.bottom&&(o.scrollTop+=(r.bottom-n.bottom)/a)}function score(o){return(o.boost||0)*100+(o.apply?10:0)+(o.info?5:0)+(o.type?1:0)}function sortOptions(o,e){let n=[],r=null,a=h=>{n.push(h);let{section:f}=h.completion;if(f){r||(r=[]);let d=typeof f=="string"?f:f.name;r.some(p=>p.name==d)||r.push(typeof f=="string"?{name:d}:f)}},s=e.facet(completionConfig);for(let h of o)if(h.hasResult()){let f=h.result.getMatch;if(h.result.filter===!1)for(let d of h.result.options)a(new Option(d,h.source,f?f(d):[],1e9-n.length));else{let d=e.sliceDoc(h.from,h.to),p,g=s.filterStrict?new StrictMatcher(d):new FuzzyMatcher(d);for(let y of h.result.options)if(p=g.match(y.label)){let v=y.displayLabel?f?f(y,p.matched):[]:p.matched;a(new Option(y,h.source,v,p.score+(y.boost||0)))}}}if(r){let h=Object.create(null),f=0,d=(p,g)=>{var y,v;return((y=p.rank)!==null&&y!==void 0?y:1e9)-((v=g.rank)!==null&&v!==void 0?v:1e9)||(p.name<g.name?-1:1)};for(let p of r.sort(d))f-=1e5,h[p.name]=f;for(let p of n){let{section:g}=p.completion;g&&(p.score+=h[typeof g=="string"?g:g.name])}}let l=[],c=null,u=s.compareCompletions;for(let h of n.sort((f,d)=>d.score-f.score||u(f.completion,d.completion))){let f=h.completion;!c||c.label!=f.label||c.detail!=f.detail||c.type!=null&&f.type!=null&&c.type!=f.type||c.apply!=f.apply||c.boost!=f.boost?l.push(h):score(h.completion)>score(c)&&(l[l.length-1]=h),c=h.completion}return l}class CompletionDialog{constructor(e,n,r,a,s,l){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=a,this.selected=s,this.disabled=l}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,a,s,l){if(a&&!l&&e.some(h=>h.isPending))return a.setDisabled();let c=sortOptions(e,n);if(!c.length)return a&&e.some(h=>h.isPending)?a.setDisabled():null;let u=n.facet(completionConfig).selectOnOpen?0:-1;if(a&&a.selected!=u&&a.selected!=-1){let h=a.options[a.selected].completion;for(let f=0;f<c.length;f++)if(c[f].completion==h){u=f;break}}return new CompletionDialog(c,makeAttrs(r,u),{pos:e.reduce((h,f)=>f.hasResult()?Math.min(h,f.from):h,1e8),create:createTooltip,above:s.aboveCursor},a?a.timestamp:Date.now(),u,!1)}map(e){return new CompletionDialog(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new CompletionState(none$1,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(completionConfig),s=(r.override||n.languageDataAt("autocomplete",cur(n)).map(asSource)).map(u=>(this.active.find(f=>f.source==u)||new ActiveSource(u,this.active.some(f=>f.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((u,h)=>u==this.active[h])&&(s=this.active);let l=this.open,c=e.effects.some(u=>u.is(setActiveEffect));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!sameResults(s,this.active)||c?l=CompletionDialog.build(s,n,this.id,l,r,c):l&&l.disabled&&!s.some(u=>u.isPending)&&(l=null),!l&&s.every(u=>!u.isPending)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new ActiveSource(u.source,0):u));for(let u of e.effects)u.is(setSelectedEffect)&&(l=l&&l.setSelected(u.value,this.id));return s==this.active&&l==this.open?this:new CompletionState(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(o,e){if(o==e)return!0;for(let n=0,r=0;;){for(;n<o.length&&!o[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let a=n==o.length,s=r==e.length;if(a||s)return a==s;if(o[n++].result!=e[r++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(o,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":o};return e>-1&&(n["aria-activedescendant"]=o+"-"+e),n}const none$1=[];function getUpdateType(o,e){if(o.isUserEvent("input.complete")){let r=o.annotation(pickedCompletion);if(r&&e.activateOnCompletion(r))return 12}let n=o.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:o.isUserEvent("delete.backward")?2:o.selection?8:o.docChanged?16:0}class ActiveSource{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=getUpdateType(e,n),a=this;(r&8||r&16&&this.touches(e))&&(a=new ActiveSource(a.source,0)),r&4&&a.state==0&&(a=new ActiveSource(this.source,1)),a=a.updateFor(e,r);for(let s of e.effects)if(s.is(startCompletionEffect))a=new ActiveSource(a.source,1,s.value);else if(s.is(closeCompletionEffect))a=new ActiveSource(a.source,0);else if(s.is(setActiveEffect))for(let l of s.value)l.source==a.source&&(a=l);return a}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,n,r,a,s,l){super(e,3,n),this.limit=r,this.result=a,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let a=this.result;a.map&&!e.changes.empty&&(a=a.map(a,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),c=cur(e.state);if(c>l||!a||n&2&&(cur(e.startState)==this.from||c<this.limit))return new ActiveSource(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return checkValid(a.validFor,e.state,s,l)?new ActiveResult(this.source,this.explicit,u,a,s,l):a.update&&(a=a.update(a,s,l,new CompletionContext(e.state,c,!1)))?new ActiveResult(this.source,this.explicit,u,a,a.from,(r=a.to)!==null&&r!==void 0?r:cur(e.state)):new ActiveSource(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(o,e,n,r){if(!o)return!1;let a=e.sliceDoc(n,r);return typeof o=="function"?o(a,n,r,e):ensureAnchor(o,!0).test(a)}const setActiveEffect=StateEffect.define({map(o,e){return o.map(n=>n.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(o,e){return o.update(e)},provide:o=>[showTooltip.from(o,e=>e.tooltip),EditorView.contentAttributes.from(o,e=>e.attrs)]});function applyCompletion(o,e){const n=e.completion.apply||e.completion.label;let r=o.state.field(completionState).active.find(a=>a.source==e.source);return r instanceof ActiveResult?(typeof n=="string"?o.dispatch({...insertCompletionText(o.state,n,r.from,r.to),annotations:pickedCompletion.of(e.completion)}):n(o,e.completion,r.from,r.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(o,e="option"){return n=>{let r=n.state.field(completionState,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(completionConfig).interactionDelay)return!1;let a=1,s;e=="page"&&(s=getTooltip(n,r.open.tooltip))&&(a=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=r.open.options,c=r.open.selected>-1?r.open.selected+a*(o?1:-1):o?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),n.dispatch({effects:setSelectedEffect.of(c)}),!0}}const acceptCompletion=o=>{let e=o.state.field(completionState,!1);return o.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<o.state.facet(completionConfig).interactionDelay?!1:applyCompletion(o,e.open.options[e.open.selected])},startCompletion=o=>o.state.field(completionState,!1)?(o.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=o=>{let e=o.state.field(completionState,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(o.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of o.state.field(completionState).active)e.isPending&&this.startQuery(e)}update(o){let e=o.state.field(completionState),n=o.state.facet(completionConfig);if(!o.selectionSet&&!o.docChanged&&o.startState.field(completionState)==e)return;let r=o.transactions.some(s=>{let l=getUpdateType(s,n);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(r||l.context.abortOnDocChange&&o.docChanged||l.updates.length+o.transactions.length>MaxUpdateCount&&Date.now()-l.time>MinAbortTime){for(let c of l.context.abortListeners)try{c()}catch(u){logException(this.view.state,u)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...o.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),o.transactions.some(s=>s.effects.some(l=>l.is(startCompletionEffect)))&&(this.pendingStart=!0);let a=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),a):-1,this.composing!=0)for(let s of o.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:o}=this.view,e=o.field(completionState);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(o){let{state:e}=this.view,n=cur(e),r=new CompletionContext(e,n,o.explicit,this.view),a=new RunningQuery(o,r);this.running.push(a),Promise.resolve(o.source(r)).then(s=>{a.context.aborted||(a.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,s)})}scheduleAccept(){this.running.every(o=>o.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var o;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(completionConfig),r=this.view.state.field(completionState);for(let a=0;a<this.running.length;a++){let s=this.running[a];if(s.done===void 0)continue;if(this.running.splice(a--,1),s.done){let c=cur(s.updates.length?s.updates[0].startState:this.view.state),u=Math.min(c,s.done.from+(s.active.explicit?0:1)),h=new ActiveResult(s.active.source,s.active.explicit,u,s.done,s.done.from,(o=s.done.to)!==null&&o!==void 0?o:c);for(let f of s.updates)h=h.update(f,n);if(h.hasResult()){e.push(h);continue}}let l=r.active.find(c=>c.source==s.active.source);if(l&&l.isPending)if(s.done==null){let c=new ActiveSource(s.active.source,0);for(let u of s.updates)c=c.update(u,n);c.isPending||e.push(c)}else this.startQuery(l)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(o){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let n=e.open&&getTooltip(this.view,e.open.tooltip);(!n||!n.dom.contains(o.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(o,e){let n=e.state.field(completionState,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||o.key.length>1||o.ctrlKey&&!(windows&&o.altKey)||o.metaKey)return!1;let r=n.open.options[n.open.selected],a=n.active.find(l=>l.source==r.source),s=r.completion.commitCharacters||a.result.commitCharacters;return s&&s.indexOf(o.key)>-1&&applyCompletion(e,r),!1}})),baseTheme$2=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,n,r,a){this.field=e,this.line=n,this.from=r,this.to=a}}class FieldRange{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,MapMode.TrackDel),r=e.mapPos(this.to,1,MapMode.TrackDel);return n==null||r==null?null:new FieldRange(this.field,n,r)}}class Snippet{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],a=[n],s=e.doc.lineAt(n),l=/^\s*/.exec(s.text)[0];for(let u of this.lines){if(r.length){let h=l,f=/^\t*/.exec(u)[0].length;for(let d=0;d<f;d++)h+=e.facet(indentUnit);a.push(n+h.length-f),u=h+u.slice(f)}r.push(u),n+=u.length+1}let c=this.fieldPositions.map(u=>new FieldRange(u.field,a[u.line]+u.from,a[u.line]+u.to));return{text:r,ranges:c}}static parse(e){let n=[],r=[],a=[],s;for(let l of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(l);){let c=s[1]?+s[1]:null,u=s[2]||s[3]||"",h=-1,f=u.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<n.length;d++)(c!=null?n[d].seq==c:f&&n[d].name==f)&&(h=d);if(h<0){let d=0;for(;d<n.length&&(c==null||n[d].seq!=null&&n[d].seq<c);)d++;n.splice(d,0,{seq:c,name:f}),h=d;for(let p of a)p.field>=h&&p.field++}for(let d of a)if(d.line==r.length&&d.from>s.index){let p=s[2]?3+(s[1]||"").length:2;d.from-=p,d.to-=p}a.push(new FieldPos(h,r.length,s.index,s.index+f.length)),l=l.slice(0,s.index)+u+l.slice(s.index+s[0].length)}l=l.replace(/\\([{}])/g,(c,u,h)=>{for(let f of a)f.line==r.length&&f.from>h&&(f.from--,f.to--);return u}),r.push(l)}return new Snippet(r,a)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let o=document.createElement("span");return o.className="cm-snippetFieldPosition",o}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,n){this.ranges=e,this.active=n,this.deco=Decoration.set(e.map(r=>(r.from==r.to?fieldMarker:fieldRange).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let a=r.map(e);if(!a)return null;n.push(a)}return new ActiveSnippet(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const setActive=StateEffect.define({map(o,e){return o&&o.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(o,e){for(let n of e.effects){if(n.is(setActive))return n.value;if(n.is(moveToField)&&o)return new ActiveSnippet(o.ranges,n.value)}return o&&e.docChanged&&(o=o.map(e.changes)),o&&e.selection&&!o.selectionInsideField(e.selection)&&(o=null),o},provide:o=>EditorView.decorations.from(o,e=>e?e.deco:Decoration.none)});function fieldSelection(o,e){return EditorSelection.create(o.filter(n=>n.field==e).map(n=>EditorSelection.range(n.from,n.to)))}function snippet(o){let e=Snippet.parse(o);return(n,r,a,s)=>{let{text:l,ranges:c}=e.instantiate(n.state,a),{main:u}=n.state.selection,h={changes:{from:a,to:s==u.from?u.to:s,insert:Text$1.of(l)},scrollIntoView:!0,annotations:r?[pickedCompletion.of(r),Transaction.userEvent.of("input.complete")]:void 0};if(c.length&&(h.selection=fieldSelection(c,0)),c.some(f=>f.field>0)){let f=new ActiveSnippet(c,0),d=h.effects=[setActive.of(f)];n.state.field(snippetState,!1)===void 0&&d.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$2]))}n.dispatch(n.state.update(h))}}function moveField(o){return({state:e,dispatch:n})=>{let r=e.field(snippetState,!1);if(!r||o<0&&r.active==0)return!1;let a=r.active+o,s=o>0&&!r.ranges.some(l=>l.field==a+o);return n(e.update({selection:fieldSelection(r.ranges,a),effects:setActive.of(s?null:new ActiveSnippet(r.ranges,a)),scrollIntoView:!0})),!0}}const clearSnippet=({state:o,dispatch:e})=>o.field(snippetState,!1)?(e(o.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(o){return o.length?o[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],o=>o.facet(snippetKeymap)));function snippetCompletion(o,e){return{...e,apply:snippet(o)}}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(o,e){let n=e.state.field(snippetState,!1),r;if(!n||(r=e.posAtCoords({x:o.clientX,y:o.clientY}))==null)return!1;let a=n.ranges.find(s=>s.from<=r&&s.to>=r);return!a||a.field==n.active?!1:(e.dispatch({selection:fieldSelection(n.ranges,a.field),effects:setActive.of(n.ranges.some(s=>s.field>a.field)?new ActiveSnippet(n.ranges,a.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(o,e){let n=e.mapPos(o,-1,MapMode.TrackAfter);return n??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(o,e){if(o=o.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);o=o.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(closeBracketEffect)&&(o=o.update({add:[closedBracket.range(n.value,n.value+1)]}));return o}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(o){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==o)return definedClosing.charAt(e+1);return fromCodePoint(o<128?o:o+1)}function config(o,e){return o.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((o,e,n,r)=>{if((android$1?o.composing:o.compositionStarted)||o.state.readOnly)return!1;let a=o.state.selection.main;if(r.length>2||r.length==2&&codePointSize(codePointAt(r,0))==1||e!=a.from||n!=a.to)return!1;let s=insertBracket(o.state,r);return s?(o.dispatch(s),!0):!1}),deleteBracketPair=({state:o,dispatch:e})=>{if(o.readOnly)return!1;let r=config(o,o.selection.main.head).brackets||defaults.brackets,a=null,s=o.changeByRange(l=>{if(l.empty){let c=prevChar(o.doc,l.head);for(let u of r)if(u==c&&nextChar(o.doc,l.head)==closing(codePointAt(u,0)))return{changes:{from:l.head-u.length,to:l.head+u.length},range:EditorSelection.cursor(l.head-u.length)}}return{range:a=l}});return a||e(o.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!a},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(o,e){let n=config(o,o.selection.main.head),r=n.brackets||defaults.brackets;for(let a of r){let s=closing(codePointAt(a,0));if(e==a)return s==a?handleSame(o,a,r.indexOf(a+a+a)>-1,n):handleOpen(o,a,s,n.before||defaults.before);if(e==s&&closedBracketAt(o,o.selection.main.from))return handleClose(o,a,s)}return null}function closedBracketAt(o,e){let n=!1;return o.field(bracketState).between(0,o.doc.length,r=>{r==e&&(n=!0)}),n}function nextChar(o,e){let n=o.sliceString(e,e+2);return n.slice(0,codePointSize(codePointAt(n,0)))}function prevChar(o,e){let n=o.sliceString(e-2,e);return codePointSize(codePointAt(n,0))==n.length?n:n.slice(1)}function handleOpen(o,e,n,r){let a=null,s=o.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:n,from:l.to}],effects:closeBracketEffect.of(l.to+e.length),range:EditorSelection.range(l.anchor+e.length,l.head+e.length)};let c=nextChar(o.doc,l.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:e+n,from:l.head},effects:closeBracketEffect.of(l.head+e.length),range:EditorSelection.cursor(l.head+e.length)}:{range:a=l}});return a?null:o.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(o,e,n){let r=null,a=o.changeByRange(s=>s.empty&&nextChar(o.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:EditorSelection.cursor(s.head+n.length)}:r={range:s});return r?null:o.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(o,e,n,r){let a=r.stringPrefixes||defaults.stringPrefixes,s=null,l=o.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:closeBracketEffect.of(c.to+e.length),range:EditorSelection.range(c.anchor+e.length,c.head+e.length)};let u=c.head,h=nextChar(o.doc,u),f;if(h==e){if(nodeStart(o,u))return{changes:{insert:e+e,from:u},effects:closeBracketEffect.of(u+e.length),range:EditorSelection.cursor(u+e.length)};if(closedBracketAt(o,u)){let p=n&&o.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+p.length,insert:p},range:EditorSelection.cursor(u+p.length)}}}else{if(n&&o.sliceDoc(u-2*e.length,u)==e+e&&(f=canStartStringAt(o,u-2*e.length,a))>-1&&nodeStart(o,f))return{changes:{insert:e+e+e+e,from:u},effects:closeBracketEffect.of(u+e.length),range:EditorSelection.cursor(u+e.length)};if(o.charCategorizer(u)(h)!=CharCategory.Word&&canStartStringAt(o,u,a)>-1&&!probablyInString(o,u,e,a))return{changes:{insert:e+e,from:u},effects:closeBracketEffect.of(u+e.length),range:EditorSelection.cursor(u+e.length)}}return{range:s=c}});return s?null:o.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(o,e){let n=syntaxTree(o).resolveInner(e+1);return n.parent&&n.from==e}function probablyInString(o,e,n,r){let a=syntaxTree(o).resolveInner(e,-1),s=r.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=o.sliceDoc(a.from,Math.min(a.to,a.from+n.length+s)),u=c.indexOf(n);if(!u||u>-1&&r.indexOf(c.slice(0,u))>-1){let f=a.firstChild;for(;f&&f.from==a.from&&f.to-f.from>n.length+u;){if(o.sliceDoc(f.to-n.length,f.to)==n)return!1;f=f.firstChild}return!0}let h=a.to==e&&a.parent;if(!h)break;a=h}return!1}function canStartStringAt(o,e,n){let r=o.charCategorizer(e);if(r(o.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let a of n){let s=e-a.length;if(o.sliceDoc(s,e)==a&&r(o.sliceDoc(s-1,s))!=CharCategory.Word)return s}return-1}function autocompletion(o={}){return[commitCharacters,completionState,completionConfig.of(o),completionPlugin,completionKeymapExt,baseTheme$2]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{mac:"Alt-i",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],o=>o.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class LintState{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let a=r.facet(lintConfig).markerFilter;a&&(e=a(e,r));let s=e.slice().sort((f,d)=>f.from-d.from||f.to-d.to),l=new RangeSetBuilder,c=[],u=0;for(let f=0;;){let d=f==s.length?null:s[f];if(!d&&!c.length)break;let p,g;for(c.length?(p=u,g=c.reduce((v,w)=>Math.min(v,w.to),d&&d.from>p?d.from:1e8)):(p=d.from,g=d.to,c.push(d),f++);f<s.length;){let v=s[f];if(v.from==p&&(v.to>v.from||v.to==p))c.push(v),f++,g=Math.min(v.to,g);else{g=Math.min(v.from,g);break}}let y=maxSeverity(c);if(c.some(v=>v.from==v.to||v.from==v.to-1&&r.doc.lineAt(v.from).to==v.from))l.add(p,p,Decoration.widget({widget:new DiagnosticWidget(y),diagnostics:c.slice()}));else{let v=c.reduce((w,O)=>O.markClass?w+" "+O.markClass:w,"");l.add(p,g,Decoration.mark({class:"cm-lintRange cm-lintRange-"+y+v,diagnostics:c.slice(),inclusiveEnd:c.some(w=>w.to>g)}))}u=g;for(let v=0;v<c.length;v++)c[v].to<=u&&c.splice(v--,1)}let h=l.finish();return new LintState(h,n,findDiagnostic(h))}}function findDiagnostic(o,e=null,n=0){let r=null;return o.between(n,1e9,(a,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!r)r=new SelectedDiagnostic(a,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new SelectedDiagnostic(r.from,s,r.diagnostic)}}),r}function hideTooltip(o,e){let n=e.pos,r=e.end||n,a=o.state.facet(lintConfig).hideOn(o,n,r);if(a!=null)return a;let s=o.startState.doc.lineAt(e.pos);return!!(o.effects.some(l=>l.is(setDiagnosticsEffect))||o.changes.touchesRange(s.from,Math.max(s.to,r)))}function maybeEnableLint(o,e){return o.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(o,e){if(e.docChanged&&o.diagnostics.size){let n=o.diagnostics.map(e.changes),r=null,a=o.panel;if(o.selected){let s=e.changes.mapPos(o.selected.from,1);r=findDiagnostic(n,o.selected.diagnostic,s)||findDiagnostic(n,null,s)}!n.size&&a&&e.state.facet(lintConfig).autoPanel&&(a=null),o=new LintState(n,a,r)}for(let n of e.effects)if(n.is(setDiagnosticsEffect)){let r=e.state.facet(lintConfig).autoPanel?n.value.length?LintPanel.open:null:o.panel;o=LintState.init(n.value,r,e.state)}else n.is(togglePanel)?o=new LintState(o.diagnostics,n.value?LintPanel.open:null,o.selected):n.is(movePanelSelection)&&(o=new LintState(o.diagnostics,o.panel,n.value));return o},provide:o=>[showPanel.from(o,e=>e.panel),EditorView.decorations.from(o,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(o,e,n){let{diagnostics:r}=o.state.field(lintState),a,s=-1,l=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(u,h,{spec:f})=>{if(e>=u&&e<=h&&(u==h||(e>u||n>0)&&(e<h||n<0)))return a=f.diagnostics,s=u,l=h,!1});let c=o.state.facet(lintConfig).tooltipFilter;return a&&c&&(a=c(a,o.state)),a?{pos:s,end:l,above:o.state.doc.lineAt(s).to<l,create(){return{dom:diagnosticsTooltip(o,a)}}}:null}function diagnosticsTooltip(o,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(n=>renderDiagnostic(o,n,!1)))}const openLintPanel=o=>{let e=o.state.field(lintState,!1);(!e||!e.panel)&&o.dispatch({effects:maybeEnableLint(o.state,[togglePanel.of(!0)])});let n=getPanel(o,LintPanel.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=o=>{let e=o.state.field(lintState,!1);return!e||!e.panel?!1:(o.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=o=>{let e=o.state.field(lintState,!1);if(!e)return!1;let n=o.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(o.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(o){return Object.assign({sources:o.map(e=>e.source).filter(e=>e!=null)},combineConfig(o.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function assignKeys(o){let e=[];if(o)e:for(let{name:n}of o){for(let r=0;r<n.length;r++){let a=n[r];if(/[a-zA-Z]/.test(a)&&!e.some(s=>s.toLowerCase()==a.toLowerCase())){e.push(a);continue e}}e.push("")}return e}function renderDiagnostic(o,e,n){var r;let a=n?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(o):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,l)=>{let c=!1,u=p=>{if(p.preventDefault(),c)return;c=!0;let g=findDiagnostic(o.state.field(lintState).diagnostics,e);g&&s.apply(o,g.from,g.to)},{name:h}=s,f=a[l]?h.indexOf(a[l]):-1,d=f<0?h:[h.slice(0,f),crelt("u",h.slice(f,f+1)),h.slice(f+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${h}${f<0?"":` (access key "${a[l]})"`}.`},d)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let n=a=>{if(a.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(a.keyCode==38||a.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(a.keyCode==40||a.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(a.keyCode==36)this.moveSelection(0);else if(a.keyCode==35)this.moveSelection(this.items.length-1);else if(a.keyCode==13)this.view.focus();else if(a.keyCode>=65&&a.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=assignKeys(s.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==a.keyCode){let u=findDiagnostic(this.view.state.field(lintState).diagnostics,s);u&&s.actions[c].apply(e,u.from,u.to)}}else return;a.preventDefault()},r=a=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(a.target)&&this.moveSelection(s)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(lintState),r=0,a=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(c,u,{spec:h})=>{for(let f of h.diagnostics){if(l.has(f))continue;l.add(f);let d=-1,p;for(let g=r;g<this.items.length;g++)if(this.items[g].diagnostic==f){d=g;break}d<0?(p=new PanelItem(this.view,f),this.items.splice(r,0,p),a=!0):(p=this.items[d],d>r&&(this.items.splice(r,d-r),a=!0)),n&&p.diagnostic==n.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),s=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:u})=>{let h=u.height/this.list.offsetHeight;c.top<u.top?this.list.scrollTop-=(u.top-c.top)/h:c.bottom>u.bottom&&(this.list.scrollTop+=(c.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(lintState),r=findDiagnostic(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:movePanelSelection.of(r)})}static open(e){return new LintPanel(e)}}function svg(o,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(o)}</svg>')`}function underline(o){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${o}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme$1=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(o){return o=="error"?4:o=="warning"?3:o=="info"?2:1}function maxSeverity(o){let e="hint",n=1;for(let r of o){let a=severityWeight(r.severity);a>n&&(n=a,e=r.severity)}return e}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],o=>{let{selected:e,panel:n}=o.field(lintState);return!e||!n||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme$1],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];function initVim(o){var e=o.Pos;function n(b,P,M){if(P.line===M.line&&P.ch>=M.ch-1){var L=b.getLine(P.line),U=L.charCodeAt(P.ch);55296<=U&&U<=55551&&(M.ch+=1)}return{start:P,end:M}}var r=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"g?",type:"operator",operator:"rot13"},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],a=Object.create(null),s=r.length,l=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"marks",excludeFromCommandHistory:!0},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],c=Rt("");function u(b){b.setOption("disableInput",!0),b.setOption("showCursorWhenSelecting",!1),o.signal(b,"vim-mode-change",{mode:"normal"}),b.on("cursorActivity",vr),H(b),o.on(b.getInputField(),"paste",f(b))}function h(b){b.setOption("disableInput",!1),b.off("cursorActivity",vr),o.off(b.getInputField(),"paste",f(b)),b.state.vim=null,Br&&clearTimeout(Br)}function f(b){var P=b.state.vim;return P.onPasteFn||(P.onPasteFn=function(){P.insertMode||(b.setCursor(T(b.getCursor(),0,1)),Pt.enterInsertMode(b,{},P))}),P.onPasteFn}var d=/[\d]/,p=[o.isWordChar,function(b){return b&&!o.isWordChar(b)&&!/\s/.test(b)}],g=[function(b){return/\S/.test(b)}],y=["<",">"],v=["-",'"',".",":","_","/","+"],w=/^\w$/,O=/^[A-Z]$/;try{O=new RegExp("^[\\p{Lu}]$","u")}catch{}function k(b,P){return P>=b.firstLine()&&P<=b.lastLine()}function E(b){return/^[a-z]$/.test(b)}function I(b){return"()[]{}".indexOf(b)!=-1}function G(b){return d.test(b)}function J(b){return O.test(b)}function Q(b){return/^\s*$/.test(b)}function te(b){return".?!".indexOf(b)!=-1}function pe(b,P){for(var M=0;M<P.length;M++)if(P[M]==b)return!0;return!1}var fe={};function ee(b,P,M,L,U){if(P===void 0&&!U)throw Error("defaultValue is required unless callback is provided");if(M||(M="string"),fe[b]={type:M,defaultValue:P,callback:U},L)for(var K=0;K<L.length;K++)fe[L[K]]=fe[b];P&&N(b,P)}function N(b,P,M,L){var U=fe[b];L=L||{};var K=L.scope;if(!U)return new Error("Unknown option: "+b);if(U.type=="boolean"){if(P&&P!==!0)return new Error("Invalid argument: "+b+"="+P);P!==!1&&(P=!0)}U.callback?(K!=="local"&&U.callback(P,void 0),K!=="global"&&M&&U.callback(P,M)):(K!=="local"&&(U.value=U.type=="boolean"?!!P:P),K!=="global"&&M&&(M.state.vim.options[b]={value:P}))}function Z(b,P,M){var L=fe[b];M=M||{};var U=M.scope;if(!L)return new Error("Unknown option: "+b);if(L.callback){let K=P&&L.callback(void 0,P);return U!=="global"&&K!==void 0?K:U!=="local"?L.callback():void 0}else return(U!=="global"&&P&&P.state.vim.options[b]||U!=="local"&&L||{}).value}ee("filetype",void 0,"string",["ft"],function(b,P){if(P!==void 0)if(b===void 0){let M=P.getOption("mode");return M=="null"?"":M}else{let M=b==""?"null":b;P.setOption("mode",M)}}),ee("textwidth",80,"number",["tw"],function(b,P){if(P!==void 0)if(b===void 0){var M=P.getOption("textwidth");return M}else{var L=Math.round(b);L>1&&P.setOption("textwidth",L)}});var R=function(){var b=100,P=-1,M=0,L=0,U=new Array(b);function K(re,Se,Be){var Ge=P%b,et=U[Ge];function ct(Tt){var It=++P%b,Wt=U[It];Wt&&Wt.clear(),U[It]=re.setBookmark(Tt)}if(et){var We=et.find();We&&!Oe(We,Se)&&ct(Se)}else ct(Se);ct(Be),M=P,L=P-b+1,L<0&&(L=0)}function z(re,Se){P+=Se,P>M?P=M:P<L&&(P=L);var Be=U[(b+P)%b];if(Be&&!Be.find()){var Ge=Se>0?1:-1,et,ct=re.getCursor();do if(P+=Ge,Be=U[(b+P)%b],Be&&(et=Be.find())&&!Oe(ct,et))break;while(P<M&&P>L)}return Be}function X(re,Se){var Be=P,Ge=z(re,Se);return P=Be,Ge&&Ge.find()}return{cachedCursor:void 0,add:K,find:X,move:z}},ae=function(b){return b?{changes:b.changes,expectCursorActivityForChange:b.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class de{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=ae()}exitMacroRecordMode(){var P=ne.macroModeState;P.onRecordingDone&&P.onRecordingDone(),P.onRecordingDone=void 0,P.isRecording=!1}enterMacroRecordMode(P,M){var L=ne.registerController.getRegister(M);if(L){if(L.clear(),this.latestRegister=M,P.openDialog){var U=Gn("span",{class:"cm-vim-message"},"recording @"+M);this.onRecordingDone=P.openDialog(U,function(){},{bottom:!0})}this.isRecording=!0}}}function H(b){return b.state.vim||(b.state.vim={inputState:new oe,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:void 0,sel:{anchor:new e(0,0),head:new e(0,0)},options:{},expectLiteralNext:!1,status:""}),b.state.vim}var ne;function V(){ne={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:R(),macroModeState:new de,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new me({}),searchHistoryController:new Xe,exCommandHistoryController:new Xe};for(var b in fe){var P=fe[b];P.value=P.defaultValue}}class Ce{constructor(P,M){this.keyName=P,this.key=M.key,this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.metaKey=M.metaKey,this.shiftKey=M.shiftKey}}var ge,Te={enterVimMode:u,leaveVimMode:h,buildKeyMap:function(){},getRegisterController:function(){return ne.registerController},resetVimGlobalState_:V,getVimGlobalState_:function(){return ne},maybeInitVimState_:H,suppressErrorLogging:!1,InsertModeKey:Ce,map:function(b,P,M){Fn.map(b,P,M)},unmap:function(b,P){return Fn.unmap(b,P)},noremap:function(b,P,M){Fn.map(b,P,M,!0)},mapclear:function(b){var P=r.length,M=s,L=r.slice(0,P-M);if(r=r.slice(P-M),b)for(var U=L.length-1;U>=0;U--){var K=L[U];if(b!==K.context)if(K.context)this._mapCommand(K);else{var z=["normal","insert","visual"];for(var X in z)if(z[X]!==b){var re=Object.assign({},K);re.context=z[X],this._mapCommand(re)}}}},langmap:St,vimKeyFromEvent:Ct,setOption:N,getOption:Z,defineOption:ee,defineEx:function(b,P,M){if(!P)P=b;else if(b.indexOf(P)!==0)throw new Error('(Vim.defineEx) "'+P+'" is not a prefix of "'+b+'", command not registered');Zr[b]=M,Fn.commandMap_[P]={name:b,shortName:P,type:"api"}},handleKey:function(b,P,M){var L=this.findKey(b,P,M);if(typeof L=="function")return L()},multiSelectHandleKey:Pr,findKey:function(b,P,M){var L=H(b),U=b;function K(){var Be=ne.macroModeState;if(Be.isRecording){if(P=="q")return Be.exitMacroRecordMode(),je(U),!0;M!="mapping"&&Dr(Be,P)}}function z(){if(P=="<Esc>"){if(L.visualMode)Gt(U);else if(L.insertMode)sr(U);else return;return je(U),!0}}function X(){if(z())return!0;L.inputState.keyBuffer.push(P);var Be=L.inputState.keyBuffer.join(""),Ge=P.length==1,et=Ee.matchCommand(Be,r,L.inputState,"insert"),ct=L.inputState.changeQueue;if(et.type=="none")return je(U),!1;if(et.type=="partial"){if(et.expectLiteralNext&&(L.expectLiteralNext=!0),ge&&window.clearTimeout(ge),ge=Ge&&window.setTimeout(function(){L.insertMode&&L.inputState.keyBuffer.length&&je(U)},Z("insertModeEscKeysTimeout")),Ge){var We=U.listSelections();(!ct||ct.removed.length!=We.length)&&(ct=L.inputState.changeQueue=new ze),ct.inserted+=P;for(var Tt=0;Tt<We.length;Tt++){var It=ht(We[Tt].anchor,We[Tt].head),Wt=q(We[Tt].anchor,We[Tt].head),Ut=U.getRange(It,U.state.overwrite?T(Wt,0,1):Wt);ct.removed[Tt]=(ct.removed[Tt]||"")+Ut}}return!Ge}else et.type=="full"&&(L.inputState.keyBuffer.length=0);if(L.expectLiteralNext=!1,ge&&window.clearTimeout(ge),et.command&&ct){for(var We=U.listSelections(),Tt=0;Tt<We.length;Tt++){var Ht=We[Tt].head;U.replaceRange(ct.removed[Tt]||"",T(Ht,0,-ct.inserted.length),Ht,"+input")}ne.macroModeState.lastInsertModeChanges.changes.pop()}return et.command||je(U),et.command}function re(){if(K()||z())return!0;L.inputState.keyBuffer.push(P);var Be=L.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(Be))return!0;var Ge=/^(\d*)(.*)$/.exec(Be);if(!Ge)return je(U),!1;var et=L.visualMode?"visual":"normal",ct=Ge[2]||Ge[1];L.inputState.operatorShortcut&&L.inputState.operatorShortcut.slice(-1)==ct&&(ct=L.inputState.operatorShortcut);var We=Ee.matchCommand(ct,r,L.inputState,et);return We.type=="none"?(je(U),!1):We.type=="partial"?(We.expectLiteralNext&&(L.expectLiteralNext=!0),!0):We.type=="clear"?(je(U),!0):(L.expectLiteralNext=!1,L.inputState.keyBuffer.length=0,Ge=/^(\d*)(.*)$/.exec(Be),Ge&&Ge[1]&&Ge[1]!="0"&&L.inputState.pushRepeatDigit(Ge[1]),We.command)}var Se=L.insertMode?X():re();if(Se===!1)return!L.insertMode&&(P.length===1||o.isMac&&/<A-.>/.test(P))?function(){return!0}:void 0;if(Se===!0)return function(){return!0};if(Se)return function(){return U.operation(function(){U.curOp.isVimOp=!0;try{if(typeof Se!="object")return;Se.type=="keyToKey"?vt(U,Se.toKeys,Se):Ee.processCommand(U,L,Se)}catch(Be){throw U.state.vim=void 0,H(U),Te.suppressErrorLogging||console.log(Be),Be}return!0})}},handleEx:function(b,P){Fn.processCommand(b,P)},defineMotion:at,defineAction:Et,defineOperator:ot,mapCommand:ai,_mapCommand:Vr,defineRegister:le,exitVisualMode:Gt,exitInsertMode:sr},Ke=[],Ye=!1,Qe;function rt(b){if(!Qe)throw new Error("No prompt to send key to");if(b[0]=="<"){var P=b.toLowerCase().slice(1,-1),M=P.split("-");if(P=M.pop()||"",P=="lt")b="<";else if(P=="space")b=" ";else if(P=="cr")b=`
`;else if(xt[P]){var L=Qe.value||"",U={key:xt[P],target:{value:L,selectionEnd:L.length,selectionStart:L.length}};Qe.onKeyDown&&Qe.onKeyDown(U,Qe.value,z),Qe&&Qe.onKeyUp&&Qe.onKeyUp(U,Qe.value,z);return}}if(b==`
`){var K=Qe;Qe=null,K.onClose&&K.onClose(K.value)}else Qe.value=(Qe.value||"")+b;function z(X){Qe&&(typeof X=="string"?Qe.value=X:Qe=null)}}function vt(b,P,M){var L=Ye;if(M){if(Ke.indexOf(M)!=-1)return;Ke.push(M),Ye=M.noremap!=!1}try{for(var U=H(b),K=/<(?:[CSMA]-)*\w+>|./gi,z;z=K.exec(P);){var X=z[0],re=U.insertMode;if(Qe){rt(X);continue}var Se=Te.handleKey(b,X,"mapping");if(!Se&&re&&U.insertMode){if(X[0]=="<"){var Be=X.toLowerCase().slice(1,-1),Ge=Be.split("-");if(Be=Ge.pop()||"",Be=="lt")X="<";else if(Be=="space")X=" ";else if(Be=="cr")X=`
`;else if(xt.hasOwnProperty(Be)){X=xt[Be],mt(b,X);continue}else X=X[0],K.lastIndex=z.index+1}b.replaceSelection(X)}}}finally{if(Ke.pop(),Ye=Ke.length?L:!1,!Ke.length&&Qe){var et=Qe;Qe=null,Mr(b,et)}}}var it={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},yt={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},xt={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(it)).forEach(function(b){xt[(it[b]||"").toLowerCase()]=xt[b.toLowerCase()]=b});function Ct(b,P){var M=b.key;if(!yt[M]){M.length>1&&M[0]=="n"&&(M=M.replace("Numpad","")),M=it[M]||M;var L="";if(b.ctrlKey&&(L+="C-"),b.altKey&&(L+="A-"),b.metaKey&&(L+="M-"),o.isMac&&L=="A-"&&M.length==1&&(L=L.slice(2)),(L||M.length>1)&&b.shiftKey&&(L+="S-"),P&&!P.expectLiteralNext&&M.length==1){if(c.keymap&&M in c.keymap)(c.remapCtrl!=!1||!L)&&(M=c.keymap[M]);else if(M.charCodeAt(0)>128&&!a[M]){var U=b.code?.slice(-1)||"";b.shiftKey||(U=U.toLowerCase()),U&&(M=U,!L&&b.altKey&&(L="A-"))}}return L+=M,L.length>1&&(L="<"+L+">"),L}}function St(b,P){c.string!==b&&(c=Rt(b)),c.remapCtrl=P}function Rt(b){let P={};if(!b)return{keymap:P,string:""};function M(L){return L.split(/\\?(.)/).filter(Boolean)}return b.split(/((?:[^\\,]|\\.)+),/).map(L=>{if(!L)return;const U=L.split(/((?:[^\\;]|\\.)+);/);if(U.length==3){const K=M(U[1]),z=M(U[2]);if(K.length!==z.length)return;for(let X=0;X<K.length;++X)P[K[X]]=z[X]}else if(U.length==1){const K=M(L);if(K.length%2!==0)return;for(let z=0;z<K.length;z+=2)P[K[z]]=K[z+1]}}),{keymap:P,string:b}}ee("langmap",void 0,"string",["lmap"],function(b,P){if(b===void 0)return c.string;St(b)});class oe{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=void 0,this.changeQueue=null}pushRepeatDigit(P){this.operator?this.motionRepeat=this.motionRepeat.concat(P):this.prefixRepeat=this.prefixRepeat.concat(P)}getRepeat(){var P=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(P=1,this.prefixRepeat.length>0&&(P*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(P*=parseInt(this.motionRepeat.join(""),10))),P}}function je(b,P){b.state.vim.inputState=new oe,b.state.vim.expectLiteralNext=!1,o.signal(b,"vim-command-done",P)}function ze(){this.removed=[],this.inserted=""}class he{constructor(P,M,L){this.clear(),this.keyBuffer=[P||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!M,this.blockwise=!!L}setText(P,M,L){this.keyBuffer=[P||""],this.linewise=!!M,this.blockwise=!!L}pushText(P,M){M&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(P)}pushInsertModeChanges(P){this.insertModeChanges.push(ae(P))}pushSearchQuery(P){this.searchQueries.push(P)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function le(b,P){var M=ne.registerController.registers;if(!b||b.length!=1)throw Error("Register name must be 1 character");if(M[b])throw Error("Register already defined "+b);M[b]=P,v.push(b)}class me{constructor(P){this.registers=P,this.unnamedRegister=P['"']=new he,P["."]=new he,P[":"]=new he,P["/"]=new he,P["+"]=new he}pushText(P,M,L,U,K){if(P!=="_"){U&&L.charAt(L.length-1)!==`
`&&(L+=`
`);var z=this.isValidRegister(P)?this.getRegister(P):null;if(!z||!P){switch(M){case"yank":this.registers[0]=new he(L,U,K);break;case"delete":case"change":L.indexOf(`
`)==-1?this.registers["-"]=new he(L,U):(this.shiftNumericRegisters_(),this.registers[1]=new he(L,U));break}this.unnamedRegister.setText(L,U,K);return}var X=J(P);X?z.pushText(L,U):z.setText(L,U,K),P==="+"&&navigator.clipboard.writeText(L),this.unnamedRegister.setText(z.toString(),U)}}getRegister(P){return this.isValidRegister(P)?(P=P.toLowerCase(),this.registers[P]||(this.registers[P]=new he),this.registers[P]):this.unnamedRegister}isValidRegister(P){return P&&(pe(P,v)||w.test(P))}shiftNumericRegisters_(){for(var P=9;P>=2;P--)this.registers[P]=this.getRegister(""+(P-1))}}class Xe{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch(P,M){var L=this.historyBuffer,U=M?-1:1;this.initialPrefix===null&&(this.initialPrefix=P);for(var K=this.iterator+U;M?K>=0:K<L.length;K+=U)for(var z=L[K],X=0;X<=z.length;X++)if(this.initialPrefix==z.substring(0,X))return this.iterator=K,z;if(K>=L.length)return this.iterator=L.length,this.initialPrefix;if(K<0)return P}pushInput(P){var M=this.historyBuffer.indexOf(P);M>-1&&this.historyBuffer.splice(M,1),P.length&&this.historyBuffer.push(P)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var Ee={matchCommand:function(b,P,M,L){var U=F(b,P,L,M),K=U.full[0];if(!K)return U.partial.length?{type:"partial",expectLiteralNext:U.partial.length==1&&U.partial[0].keys.slice(-11)=="<character>"}:{type:"none"};if(K.keys.slice(-11)=="<character>"||K.keys.slice(-10)=="<register>"){var z=De(b);if(!z||z.length>1)return{type:"clear"};M.selectedCharacter=z}return{type:"full",command:K}},processCommand:function(b,P,M){switch(P.inputState.repeatOverride=M.repeatOverride,M.type){case"motion":this.processMotion(b,P,M);break;case"operator":this.processOperator(b,P,M);break;case"operatorMotion":this.processOperatorMotion(b,P,M);break;case"action":this.processAction(b,P,M);break;case"search":this.processSearch(b,P,M);break;case"ex":case"keyToEx":this.processEx(b,P,M);break}},processMotion:function(b,P,M){P.inputState.motion=M.motion,P.inputState.motionArgs=ve(M.motionArgs),this.evalInput(b,P)},processOperator:function(b,P,M){var L=P.inputState;if(L.operator)if(L.operator==M.operator){L.motion="expandToLine",L.motionArgs={linewise:!0,repeat:1},this.evalInput(b,P);return}else je(b);L.operator=M.operator,L.operatorArgs=ve(M.operatorArgs),M.keys.length>1&&(L.operatorShortcut=M.keys),M.exitVisualBlock&&(P.visualBlock=!1,ce(b)),P.visualMode&&this.evalInput(b,P)},processOperatorMotion:function(b,P,M){var L=P.visualMode,U=ve(M.operatorMotionArgs);U&&L&&U.visualLine&&(P.visualLine=!0),this.processOperator(b,P,M),L||this.processMotion(b,P,M)},processAction:function(b,P,M){var L=P.inputState,U=L.getRepeat(),K=!!U,z=ve(M.actionArgs)||{repeat:1};L.selectedCharacter&&(z.selectedCharacter=L.selectedCharacter),M.operator&&this.processOperator(b,P,M),M.motion&&this.processMotion(b,P,M),(M.motion||M.operator)&&this.evalInput(b,P),z.repeat=U||1,z.repeatIsExplicit=K,z.registerName=L.registerName,je(b),P.lastMotion=null,M.isEdit&&this.recordLastEdit(P,L,M),Pt[M.action](b,z,P)},processSearch:function(b,P,M){if(!b.getSearchCursor)return;var L=M.searchArgs.forward,U=M.searchArgs.wholeWordOnly;Sn(b).setReversed(!L);var K=L?"/":"?",z=Sn(b).getQuery(),X=b.getScrollInfo(),re="";function Se(Ut,Ht,un){ne.searchHistoryController.pushInput(Ut),ne.searchHistoryController.reset();try{_r(b,Ut,Ht,un)}catch{Cn(b,"Invalid regex: "+Ut),je(b);return}Ee.processMotion(b,P,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:M.searchArgs.toJumplist}})}function Be(Ut){b.scrollTo(X.left,X.top),Se(Ut,!0,!0);var Ht=ne.macroModeState;Ht.isRecording&&ni(Ht,Ut)}function Ge(){return Z("pcre")?"(JavaScript regexp: set pcre)":"(Vim regexp: set nopcre)"}function et(Ut,Ht,un){var bn=Ct(Ut),Tn,Rn;bn=="<Up>"||bn=="<Down>"?(Tn=bn=="<Up>",Rn=Ut.target?Ut.target.selectionEnd:0,Ht=ne.searchHistoryController.nextMatch(Ht,Tn)||"",un(Ht),Rn&&Ut.target&&(Ut.target.selectionEnd=Ut.target.selectionStart=Math.min(Rn,Ut.target.value.length))):bn&&bn!="<Left>"&&bn!="<Right>"&&ne.searchHistoryController.reset(),re=Ht,ct()}function ct(){var Ut;try{Ut=_r(b,re,!0,!0)}catch{}Ut?b.scrollIntoView(Ir(b,!L,Ut),30):(yr(b),b.scrollTo(X.left,X.top))}function We(Ut,Ht,un){var bn=Ct(Ut);bn=="<Esc>"||bn=="<C-c>"||bn=="<C-[>"||bn=="<BS>"&&Ht==""?(ne.searchHistoryController.pushInput(Ht),ne.searchHistoryController.reset(),_r(b,z?.source||""),yr(b),b.scrollTo(X.left,X.top),o.e_stop(Ut),je(b),un(),b.focus()):bn=="<Up>"||bn=="<Down>"?o.e_stop(Ut):bn=="<C-u>"&&(o.e_stop(Ut),un(""))}switch(M.searchArgs.querySrc){case"prompt":var Tt=ne.macroModeState;if(Tt.isPlaying){let Ht=Tt.replaySearchQueries.shift();Se(Ht||"",!0,!1)}else Mr(b,{onClose:Be,prefix:K,desc:Gn("span",{$cursor:"pointer",onmousedown:function(Ht){Ht.preventDefault(),N("pcre",!Z("pcre")),this.textContent=Ge(),ct()}},Ge()),onKeyUp:et,onKeyDown:We});break;case"wordUnderCursor":var It=Vt(b,{noSymbol:!0}),Wt=!0;if(It||(It=Vt(b,{noSymbol:!1}),Wt=!1),!It){Cn(b,"No word under cursor"),je(b);return}let Ut=b.getLine(It.start.line).substring(It.start.ch,It.end.ch);Wt&&U?Ut="\\b"+Ut+"\\b":Ut=Ne(Ut),ne.jumpList.cachedCursor=b.getCursor(),b.setCursor(It.start),Se(Ut,!0,!1);break}},processEx:function(b,P,M){function L(X){ne.exCommandHistoryController.pushInput(X),ne.exCommandHistoryController.reset(),Fn.processCommand(b,X),b.state.vim&&je(b),yr(b)}function U(X,re,Se){var Be=Ct(X),Ge,et;(Be=="<Esc>"||Be=="<C-c>"||Be=="<C-[>"||Be=="<BS>"&&re=="")&&(ne.exCommandHistoryController.pushInput(re),ne.exCommandHistoryController.reset(),o.e_stop(X),je(b),yr(b),Se(),b.focus()),Be=="<Up>"||Be=="<Down>"?(o.e_stop(X),Ge=Be=="<Up>",et=X.target?X.target.selectionEnd:0,re=ne.exCommandHistoryController.nextMatch(re,Ge)||"",Se(re),et&&X.target&&(X.target.selectionEnd=X.target.selectionStart=Math.min(et,X.target.value.length))):Be=="<C-u>"?(o.e_stop(X),Se("")):Be&&Be!="<Left>"&&Be!="<Right>"&&ne.exCommandHistoryController.reset()}function K(X,re){var Se=new o.StringStream(re),Be={};try{if(Fn.parseInput_(b,Se,Be),Be.commandName!="s"){yr(b);return}var Ge=Fn.matchCommand_(Be.commandName);if(!Ge||(Fn.parseCommandArgs_(Se,Be,Ge),!Be.argString))return;var et=Yn(Be.argString.slice(1),!0,!0);et&&Vn(b,et)}catch{}}if(M.type=="keyToEx")Fn.processCommand(b,M.exArgs.input);else{var z={onClose:L,onKeyDown:U,onKeyUp:K,prefix:":"};P.visualMode&&(z.value="'<,'>",z.selectValueOnOpen=!1),Mr(b,z)}},evalInput:function(b,P){var M=P.inputState,L=M.motion,U=M.motionArgs||{repeat:1},K=M.operator,z=M.operatorArgs||{},X=M.registerName,re=P.sel,Se=Ze(P.visualMode?Ft(b,re.head):b.getCursor("head")),Be=Ze(P.visualMode?Ft(b,re.anchor):b.getCursor("anchor")),Ge=Ze(Se),et=Ze(Be),ct,We,Tt;if(K&&this.recordLastEdit(P,M),M.repeatOverride!==void 0?Tt=M.repeatOverride:Tt=M.getRepeat(),Tt>0&&U.explicitRepeat?U.repeatIsExplicit=!0:(U.noRepeat||!U.explicitRepeat&&Tt===0)&&(Tt=1,U.repeatIsExplicit=!1),M.selectedCharacter&&(U.selectedCharacter=z.selectedCharacter=M.selectedCharacter),U.repeat=Tt,je(b),L){var It=Re[L](b,Se,U,P,M);if(P.lastMotion=Re[L],!It)return;if(U.toJumplist){var Wt=ne.jumpList,Ut=Wt.cachedCursor;Ut?($t(b,Ut,It),delete Wt.cachedCursor):$t(b,Se,It)}It instanceof Array?(We=It[0],ct=It[1]):ct=It,ct||(ct=Ze(Se)),P.visualMode?(P.visualBlock&&ct.ch===1/0||(ct=Ft(b,ct,Ge)),We&&(We=Ft(b,We)),We=We||et,re.anchor=We,re.head=ct,ce(b),Zt(b,P,"<",bt(We,ct)?We:ct),Zt(b,P,">",bt(We,ct)?ct:We)):K||(ct=Ft(b,ct,Ge),b.setCursor(ct.line,ct.ch))}if(K){if(z.lastSel){We=et;var Ht=z.lastSel,un=Math.abs(Ht.head.line-Ht.anchor.line),bn=Math.abs(Ht.head.ch-Ht.anchor.ch);Ht.visualLine?ct=new e(et.line+un,et.ch):Ht.visualBlock?ct=new e(et.line+un,et.ch+bn):Ht.head.line==Ht.anchor.line?ct=new e(et.line,et.ch+bn):ct=new e(et.line+un,et.ch),P.visualMode=!0,P.visualLine=Ht.visualLine,P.visualBlock=Ht.visualBlock,re=P.sel={anchor:We,head:ct},ce(b)}else P.visualMode&&(z.lastSel={anchor:Ze(re.anchor),head:Ze(re.head),visualBlock:P.visualBlock,visualLine:P.visualLine});var Tn,Rn,kn,vn,Mn;if(P.visualMode){Tn=ht(re.head,re.anchor),Rn=q(re.head,re.anchor),kn=P.visualLine||z.linewise,vn=P.visualBlock?"block":kn?"line":"char";var ir=n(b,Tn,Rn);if(Mn=st(b,{anchor:ir.start,head:ir.end},vn),kn){var Ln=Mn.ranges;if(vn=="block")for(var Kn=0;Kn<Ln.length;Kn++)Ln[Kn].head.ch=gt(b,Ln[Kn].head.line);else vn=="line"&&(Ln[0].head=new e(Ln[0].head.line+1,0))}}else{if(Tn=Ze(We||et),Rn=Ze(ct||Ge),bt(Rn,Tn)){var ar=Tn;Tn=Rn,Rn=ar}kn=U.linewise||z.linewise,kn?yn(b,Tn,Rn):U.forward&&On(b,Tn,Rn),vn="char";var Er=!U.inclusive||kn,ir=n(b,Tn,Rn);Mn=st(b,{anchor:ir.start,head:ir.end},vn,Er)}b.setSelections(Mn.ranges,Mn.primary),P.lastMotion=null,z.repeat=Tt,z.registerName=X,z.linewise=kn;var $r=qe[K](b,z,Mn.ranges,et,ct);P.visualMode&&Gt(b,$r!=null),$r&&b.setCursor($r)}},recordLastEdit:function(b,P,M){var L=ne.macroModeState;L.isPlaying||(b.lastEditInputState=P,b.lastEditActionCommand=M,L.lastInsertModeChanges.changes=[],L.lastInsertModeChanges.expectCursorActivityForChange=!1,L.lastInsertModeChanges.visualBlock=b.visualBlock?b.sel.head.line-b.sel.anchor.line:0)}},Re={moveToTopLine:function(b,P,M){var L=Lr(b).top+M.repeat-1;return new e(L,Kt(b.getLine(L)))},moveToMiddleLine:function(b){var P=Lr(b),M=Math.floor((P.top+P.bottom)*.5);return new e(M,Kt(b.getLine(M)))},moveToBottomLine:function(b,P,M){var L=Lr(b).bottom-M.repeat+1;return new e(L,Kt(b.getLine(L)))},expandToLine:function(b,P,M){var L=P;return new e(L.line+M.repeat-1,1/0)},findNext:function(b,P,M){var L=Sn(b),U=L.getQuery();if(U){var K=!M.forward;K=L.isReversed()?!K:K,Vn(b,U);var z=Ir(b,K,U,M.repeat);return z||Cn(b,"No match found "+U+(Z("pcre")?" (set nopcre to use Vim regexps)":"")),z}},findAndSelectNextInclusive:function(b,P,M,L,U){var K=Sn(b),z=K.getQuery();if(z){var X=!M.forward;X=K.isReversed()?!X:X;var re=In(b,X,z,M.repeat,L);if(re){if(U.operator)return re;var Se=re[0],Be=new e(re[1].line,re[1].ch-1);if(L.visualMode){(L.visualLine||L.visualBlock)&&(L.visualLine=!1,L.visualBlock=!1,o.signal(b,"vim-mode-change",{mode:"visual",subMode:""}));var Ge=L.sel.anchor;if(Ge)return K.isReversed()?M.forward?[Ge,Se]:[Ge,Be]:M.forward?[Ge,Be]:[Ge,Se]}else L.visualMode=!0,L.visualLine=!1,L.visualBlock=!1,o.signal(b,"vim-mode-change",{mode:"visual",subMode:""});return X?[Be,Se]:[Se,Be]}}},goToMark:function(b,P,M,L){var U=qr(b,L,M.selectedCharacter||"");return U?M.linewise?{line:U.line,ch:Kt(b.getLine(U.line))}:U:null},moveToOtherHighlightedEnd:function(b,P,M,L){var U=L.sel;return L.visualBlock&&M.sameLine?[Ft(b,new e(U.anchor.line,U.head.ch)),Ft(b,new e(U.head.line,U.anchor.ch))]:[U.head,U.anchor]},jumpToMark:function(b,P,M,L){for(var U=P,K=0;K<M.repeat;K++){var z=U;for(var X in L.marks)if(E(X)){var re=L.marks[X].find(),Se=M.forward?bt(re,z):bt(z,re);if(!Se&&!(M.linewise&&re.line==z.line)){var Be=Oe(z,U),Ge=M.forward?dt(z,re,U):dt(U,re,z);(Be||Ge)&&(U=re)}}}return M.linewise&&(U=new e(U.line,Kt(b.getLine(U.line)))),U},moveByCharacters:function(b,P,M){var L=P,U=M.repeat,K=M.forward?L.ch+U:L.ch-U;return new e(L.line,K)},moveByLines:function(b,P,M,L){var U=P,K=U.ch;switch(L.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:K=L.lastHPos;break;default:L.lastHPos=K}var z=M.repeat+(M.repeatOffset||0),X=M.forward?U.line+z:U.line-z,re=b.firstLine(),Se=b.lastLine(),Be=b.findPosV(U,M.forward?z:-z,"line",L.lastHSPos),Ge=M.forward?Be.line>X:Be.line<X;return Ge&&(X=Be.line,K=Be.ch),X<re&&U.line==re?this.moveToStartOfLine(b,P,M,L):X>Se&&U.line==Se?Qt(b,P,M,L,!0):(M.toFirstChar&&(K=Kt(b.getLine(X)),L.lastHPos=K),L.lastHSPos=b.charCoords(new e(X,K),"div").left,new e(X,K))},moveByDisplayLines:function(b,P,M,L){var U=P;switch(L.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:L.lastHSPos=b.charCoords(U,"div").left}var K=M.repeat,z=b.findPosV(U,M.forward?K:-K,"line",L.lastHSPos);if(z.hitSide)if(M.forward){var X=b.charCoords(z,"div"),re={top:X.top+8,left:L.lastHSPos};z=b.coordsChar(re,"div")}else{var Se=b.charCoords(new e(b.firstLine(),0),"div");Se.left=L.lastHSPos,z=b.coordsChar(Se,"div")}return L.lastHPos=z.ch,z},moveByPage:function(b,P,M){var L=P,U=M.repeat;return b.findPosV(L,M.forward?U:-U,"page")},moveByParagraph:function(b,P,M){var L=M.forward?1:-1;return ln(b,P,M.repeat,L).start},moveBySentence:function(b,P,M){var L=M.forward?1:-1;return xn(b,P,M.repeat,L)},moveByScroll:function(b,P,M,L){var U=b.getScrollInfo(),K=null,z=M.repeat;z||(z=U.clientHeight/(2*b.defaultTextHeight()));var X=b.charCoords(P,"local");if(M.repeat=z,K=Re.moveByDisplayLines(b,P,M,L),!K)return null;var re=b.charCoords(K,"local");return b.scrollTo(null,U.top+re.top-X.top),K},moveByWords:function(b,P,M){return kt(b,P,M.repeat,!!M.forward,!!M.wordEnd,!!M.bigWord)},moveTillCharacter:function(b,P,M){var L=M.repeat,U=jt(b,L,M.forward,M.selectedCharacter,P),K=M.forward?-1:1;return Lt(K,M),U?(U.ch+=K,U):null},moveToCharacter:function(b,P,M){var L=M.repeat;return Lt(0,M),jt(b,L,M.forward,M.selectedCharacter,P)||P},moveToSymbol:function(b,P,M){var L=M.repeat;return M.selectedCharacter&&wt(b,L,M.forward,M.selectedCharacter)||P},moveToColumn:function(b,P,M,L){var U=M.repeat;return L.lastHPos=U-1,L.lastHSPos=b.charCoords(P,"div").left,fn(b,U)},moveToEol:function(b,P,M,L){return Qt(b,P,M,L,!1)},moveToFirstNonWhiteSpaceCharacter:function(b,P){var M=P;return new e(M.line,Kt(b.getLine(M.line)))},moveToMatchedSymbol:function(b,P){for(var M=P,L=M.line,U=M.ch,K=b.getLine(L),z;U<K.length;U++)if(z=K.charAt(U),z&&I(z)){var X=b.getTokenTypeAt(new e(L,U+1));if(X!=="string"&&X!=="comment")break}if(U<K.length){var re=z==="<"||z===">"?/[(){}[\]<>]/:/[(){}[\]]/,Se=b.findMatchingBracket(new e(L,U),{bracketRegex:re});return Se.to}else return M},moveToStartOfLine:function(b,P){return new e(P.line,0)},moveToLineOrEdgeOfDocument:function(b,P,M){var L=M.forward?b.lastLine():b.firstLine();return M.repeatIsExplicit&&(L=M.repeat-b.getOption("firstLineNumber")),new e(L,Kt(b.getLine(L)))},moveToStartOfDisplayLine:function(b){return b.execCommand("goLineLeft"),b.getCursor()},moveToEndOfDisplayLine:function(b){b.execCommand("goLineRight");var P=b.getCursor();return P.sticky=="before"&&P.ch--,P},textObjectManipulation:function(b,P,M,L){var U={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},K={"'":!0,'"':!0,"`":!0},z=M.selectedCharacter||"";z=="b"?z="(":z=="B"&&(z="{");var X=!M.textObjectInner,re,Se;if(U[z]){if(Se=!0,re=mn(b,P,z,X),!re){var Be=b.getSearchCursor(new RegExp("\\"+z,"g"),P);Be.find()&&(re=mn(b,Be.from(),z,X))}}else if(K[z])Se=!0,re=gn(b,P,z,X);else if(z==="W"||z==="w")for(var Ge=M.repeat||1;Ge-- >0;){var et=Vt(b,{inclusive:X,innerWord:!X,bigWord:z==="W",noSymbol:z==="W",multiline:!0},re&&re.end);et&&(re||(re=et),re.end=et.end)}else if(z==="p")if(re=ln(b,P,M.repeat,0,X),M.linewise=!0,L.visualMode)L.visualLine||(L.visualLine=!0);else{var ct=L.inputState.operatorArgs;ct&&(ct.linewise=!0),re.end.line--}else if(z==="t")re=an(b,P,X);else if(z==="s"){var We=b.getLine(P.line);P.ch>0&&te(We[P.ch])&&(P.ch-=1);var Tt=Jt(b,P,M.repeat,1,X),It=Jt(b,P,M.repeat,-1,X);Q(b.getLine(It.line)[It.ch])&&Q(b.getLine(Tt.line)[Tt.ch-1])&&(It={line:It.line,ch:It.ch+1}),re={start:It,end:Tt}}return re?b.state.vim.visualMode?_e(b,re.start,re.end,Se):[re.start,re.end]:null},repeatLastCharacterSearch:function(b,P,M){var L=ne.lastCharacterSearch,U=M.repeat,K=M.forward===L.forward,z=(L.increment?1:0)*(K?-1:1);b.moveH(-z,"char"),M.inclusive=!!K;var X=jt(b,U,K,L.selectedCharacter);return X?(X.ch+=z,X):(b.moveH(z,"char"),P)}};function at(b,P){Re[b]=P}function Ve(b,P){for(var M=[],L=0;L<P;L++)M.push(b);return M}var qe={change:function(b,P,M){var L,U,K=b.state.vim,z=M[0].anchor,X=M[0].head;if(K.visualMode)if(P.fullLine)X.ch=Number.MAX_VALUE,X.line--,b.setSelection(z,X),U=b.getSelection(),b.replaceSelection(""),L=z;else{U=b.getSelection();var Be=Ve("",M.length);b.replaceSelections(Be),L=ht(M[0].head,M[0].anchor)}else{U=b.getRange(z,X);var re=K.lastEditInputState;if(re?.motion=="moveByWords"&&!Q(U)){var Se=/\s+$/.exec(U);Se&&re.motionArgs&&re.motionArgs.forward&&(X=T(X,0,-Se[0].length),U=U.slice(0,-Se[0].length))}P.linewise&&(z=new e(z.line,Kt(b.getLine(z.line))),X.line>z.line&&(X=new e(X.line-1,Number.MAX_VALUE))),b.replaceRange("",z,X),L=z}ne.registerController.pushText(P.registerName,"change",U,P.linewise,M.length>1),Pt.enterInsertMode(b,{head:L},b.state.vim)},delete:function(b,P,M){var L,U,K=b.state.vim;if(K.visualBlock){U=b.getSelection();var re=Ve("",M.length);b.replaceSelections(re),L=ht(M[0].head,M[0].anchor)}else{var z=M[0].anchor,X=M[0].head;P.linewise&&X.line!=b.firstLine()&&z.line==b.lastLine()&&z.line==X.line-1&&(z.line==b.firstLine()?z.ch=0:z=new e(z.line-1,gt(b,z.line-1))),U=b.getRange(z,X),b.replaceRange("",z,X),L=z,P.linewise&&(L=Re.moveToFirstNonWhiteSpaceCharacter(b,z))}return ne.registerController.pushText(P.registerName,"delete",U,P.linewise,K.visualBlock),Ft(b,L)},indent:function(b,P,M){var L=b.state.vim,U=L.visualMode&&P.repeat||1;if(L.visualBlock){for(var K=b.getOption("tabSize"),z=b.getOption("indentWithTabs")?"	":" ".repeat(K),X,re=M.length-1;re>=0;re--)if(X=ht(M[re].anchor,M[re].head),P.indentRight)b.replaceRange(z.repeat(U),X,X);else{for(var Se=b.getLine(X.line),Be=0,Ge=0;Ge<U;Ge++){var et=Se[X.ch+Be];if(et=="	")Be++;else if(et==" "){Be++;for(var ct=1;ct<z.length&&(et=Se[X.ch+Be],et===" ");ct++)Be++}else break}b.replaceRange("",X,T(X,0,Be))}return X}else if(b.indentMore)for(var Ge=0;Ge<U;Ge++)P.indentRight?b.indentMore():b.indentLess();else{var We=M[0].anchor.line,Tt=L.visualBlock?M[M.length-1].anchor.line:M[0].head.line;P.linewise&&Tt--;for(var re=We;re<=Tt;re++)for(var Ge=0;Ge<U;Ge++)b.indentLine(re,P.indentRight)}return Re.moveToFirstNonWhiteSpaceCharacter(b,M[0].anchor)},indentAuto:function(b,P,M){return b.execCommand("indentAuto"),Re.moveToFirstNonWhiteSpaceCharacter(b,M[0].anchor)},hardWrap:function(b,P,M,L){if(b.hardWrap){var U=M[0].anchor.line,K=M[0].head.line;P.linewise&&K--;var z=b.hardWrap({from:U,to:K});return z>U&&P.linewise&&z--,P.keepCursor?L:new e(z,0)}},changeCase:function(b,P,M,L,U){for(var K=b.getSelections(),z=[],X=P.toLower,re=0;re<K.length;re++){var Se=K[re],Be="";if(X===!0)Be=Se.toLowerCase();else if(X===!1)Be=Se.toUpperCase();else for(var Ge=0;Ge<Se.length;Ge++){var et=Se.charAt(Ge);Be+=J(et)?et.toLowerCase():et.toUpperCase()}z.push(Be)}return b.replaceSelections(z),P.shouldMoveCursor?U:!b.state.vim.visualMode&&P.linewise&&M[0].anchor.line+1==M[0].head.line?Re.moveToFirstNonWhiteSpaceCharacter(b,L):P.linewise?L:ht(M[0].anchor,M[0].head)},yank:function(b,P,M,L){var U=b.state.vim,K=b.getSelection(),z=U.visualMode?ht(U.sel.anchor,U.sel.head,M[0].head,M[0].anchor):L;return ne.registerController.pushText(P.registerName,"yank",K,P.linewise,U.visualBlock),z},rot13:function(b,P,M,L,U){for(var K=b.getSelections(),z=[],X=0;X<K.length;X++){const re=K[X].split("").map(Se=>{const Be=Se.charCodeAt(0);return Be>=65&&Be<=90?String.fromCharCode(65+(Be-65+13)%26):Be>=97&&Be<=122?String.fromCharCode(97+(Be-97+13)%26):Se}).join("");z.push(re)}return b.replaceSelections(z),P.shouldMoveCursor?U:!b.state.vim.visualMode&&P.linewise&&M[0].anchor.line+1==M[0].head.line?Re.moveToFirstNonWhiteSpaceCharacter(b,L):P.linewise?L:ht(M[0].anchor,M[0].head)}};function ot(b,P){qe[b]=P}var Pt={jumpListWalk:function(b,P,M){if(!M.visualMode){var L=P.repeat||1,U=P.forward,K=ne.jumpList,z=K.move(b,U?L:-L),X=z?z.find():void 0;X=X||b.getCursor(),b.setCursor(X)}},scroll:function(b,P,M){if(!M.visualMode){var L=P.repeat||1,U=b.defaultTextHeight(),K=b.getScrollInfo().top,z=U*L,X=P.forward?K+z:K-z,re=Ze(b.getCursor()),Se=b.charCoords(re,"local");if(P.forward)X>Se.top?(re.line+=(X-Se.top)/U,re.line=Math.ceil(re.line),b.setCursor(re),Se=b.charCoords(re,"local"),b.scrollTo(null,Se.top)):b.scrollTo(null,X);else{var Be=X+b.getScrollInfo().clientHeight;Be<Se.bottom?(re.line-=(Se.bottom-Be)/U,re.line=Math.floor(re.line),b.setCursor(re),Se=b.charCoords(re,"local"),b.scrollTo(null,Se.bottom-b.getScrollInfo().clientHeight)):b.scrollTo(null,X)}}},scrollToCursor:function(b,P){var M=b.getCursor().line,L=b.charCoords(new e(M,0),"local"),U=b.getScrollInfo().clientHeight,K=L.top;switch(P.position){case"center":K=L.bottom-U/2;break;case"bottom":var z=new e(M,b.getLine(M).length-1),X=b.charCoords(z,"local"),re=X.bottom-K;K=K-U+re;break}b.scrollTo(null,K)},replayMacro:function(b,P,M){var L=P.selectedCharacter||"",U=P.repeat||1,K=ne.macroModeState;for(L=="@"?L=K.latestRegister||"":K.latestRegister=L;U--;)Or(b,M,K,L)},enterMacroRecordMode:function(b,P){var M=ne.macroModeState,L=P.selectedCharacter;ne.registerController.isValidRegister(L)&&M.enterMacroRecordMode(b,L)},toggleOverwrite:function(b){b.state.overwrite?(b.toggleOverwrite(!1),b.setOption("keyMap","vim-insert"),o.signal(b,"vim-mode-change",{mode:"insert"})):(b.toggleOverwrite(!0),b.setOption("keyMap","vim-replace"),o.signal(b,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(b,P,M){if(!b.getOption("readOnly")){M.insertMode=!0,M.insertModeRepeat=P&&P.repeat||1;var L=P?P.insertAt:null,U=M.sel,K=P.head||b.getCursor("head"),z=b.listSelections().length;if(L=="eol")K=new e(K.line,gt(b,K.line));else if(L=="bol")K=new e(K.line,0);else if(L=="charAfter"){var X=n(b,K,T(K,0,1));K=X.end}else if(L=="firstNonBlank"){var X=n(b,K,Re.moveToFirstNonWhiteSpaceCharacter(b,K));K=X.end}else if(L=="startOfSelectedArea"){if(!M.visualMode)return;M.visualBlock?(K=new e(Math.min(U.head.line,U.anchor.line),Math.min(U.head.ch,U.anchor.ch)),z=Math.abs(U.head.line-U.anchor.line)+1):U.head.line<U.anchor.line?K=U.head:K=new e(U.anchor.line,0)}else if(L=="endOfSelectedArea"){if(!M.visualMode)return;M.visualBlock?(K=new e(Math.min(U.head.line,U.anchor.line),Math.max(U.head.ch,U.anchor.ch)+1),z=Math.abs(U.head.line-U.anchor.line)+1):U.head.line>=U.anchor.line?K=T(U.head,0,1):K=new e(U.anchor.line,0)}else if(L=="inplace"){if(M.visualMode)return}else L=="lastEdit"&&(K=zn(b)||K);b.setOption("disableInput",!1),P&&P.replace?(b.toggleOverwrite(!0),b.setOption("keyMap","vim-replace"),o.signal(b,"vim-mode-change",{mode:"replace"})):(b.toggleOverwrite(!1),b.setOption("keyMap","vim-insert"),o.signal(b,"vim-mode-change",{mode:"insert"})),ne.macroModeState.isPlaying||(b.on("change",Ar),M.insertEnd&&M.insertEnd.clear(),M.insertEnd=b.setBookmark(K,{insertLeft:!0}),o.on(b.getInputField(),"keydown",Nr)),M.visualMode&&Gt(b),Ue(b,K,z)}},toggleVisualMode:function(b,P,M){var L=P.repeat,U=b.getCursor(),K;if(M.visualMode)M.visualLine!=!!P.linewise||M.visualBlock!=!!P.blockwise?(M.visualLine=!!P.linewise,M.visualBlock=!!P.blockwise,o.signal(b,"vim-mode-change",{mode:"visual",subMode:M.visualLine?"linewise":M.visualBlock?"blockwise":""}),ce(b)):Gt(b);else{M.visualMode=!0,M.visualLine=!!P.linewise,M.visualBlock=!!P.blockwise,K=Ft(b,new e(U.line,U.ch+L-1));var z=n(b,U,K);M.sel={anchor:z.start,head:z.end},o.signal(b,"vim-mode-change",{mode:"visual",subMode:M.visualLine?"linewise":M.visualBlock?"blockwise":""}),ce(b),Zt(b,M,"<",ht(U,K)),Zt(b,M,">",q(U,K))}},reselectLastSelection:function(b,P,M){var L=M.lastSelection;if(M.visualMode&&W(b,M),L){var U=L.anchorMark.find(),K=L.headMark.find();if(!U||!K)return;M.sel={anchor:U,head:K},M.visualMode=!0,M.visualLine=L.visualLine,M.visualBlock=L.visualBlock,ce(b),Zt(b,M,"<",ht(U,K)),Zt(b,M,">",q(U,K)),o.signal(b,"vim-mode-change",{mode:"visual",subMode:M.visualLine?"linewise":M.visualBlock?"blockwise":""})}},joinLines:function(b,P,M){var L,U;if(M.visualMode){if(L=b.getCursor("anchor"),U=b.getCursor("head"),bt(U,L)){var K=U;U=L,L=K}U.ch=gt(b,U.line)-1}else{var z=Math.max(P.repeat,2);L=b.getCursor(),U=Ft(b,new e(L.line+z-1,1/0))}for(var X=0,re=L.line;re<U.line;re++){X=gt(b,L.line);var Se="",Be=0;if(!P.keepSpaces){var Ge=b.getLine(L.line+1);Be=Ge.search(/\S/),Be==-1?Be=Ge.length:Se=" "}b.replaceRange(Se,new e(L.line,X),new e(L.line+1,Be))}var et=Ft(b,new e(L.line,X));M.visualMode&&Gt(b,!1),b.setCursor(et)},newLineAndEnterInsertMode:function(b,P,M){M.insertMode=!0;var L=Ze(b.getCursor());if(L.line===b.firstLine()&&!P.after)b.replaceRange(`
`,new e(b.firstLine(),0)),b.setCursor(b.firstLine(),0);else{L.line=P.after?L.line:L.line-1,L.ch=gt(b,L.line),b.setCursor(L);var U=o.commands.newlineAndIndentContinueComment||o.commands.newlineAndIndent;U(b)}this.enterInsertMode(b,{repeat:P.repeat},M)},paste:function(b,P,M){var L=ne.registerController.getRegister(P.registerName);if(P.registerName==="+")navigator.clipboard.readText().then(K=>{this.continuePaste(b,P,M,K,L)});else{var U=L.toString();this.continuePaste(b,P,M,U,L)}},continuePaste:function(b,P,M,L,U){var K=Ze(b.getCursor());if(L){if(P.matchIndent){var z=b.getOption("tabSize"),X=function(Ln){var Kn=Ln.split("	").length-1,ar=Ln.split(" ").length-1;return Kn*z+ar*1},re=b.getLine(b.getCursor().line),Se=X(re.match(/^\s*/)[0]),Be=L.replace(/\n$/,""),Ge=L!==Be,et=X(L.match(/^\s*/)[0]),L=Be.replace(/^\s*/gm,function(Ln){var Kn=Se+(X(Ln)-et);if(Kn<0)return"";if(b.getOption("indentWithTabs")){var ar=Math.floor(Kn/z);return Array(ar+1).join("	")}else return Array(Kn+1).join(" ")});L+=Ge?`
`:""}P.repeat>1&&(L=Array(P.repeat+1).join(L));var ct=U.linewise,We=U.blockwise,Tt=We?L.split(`
`):void 0;if(Tt){ct&&Tt.pop();for(var It=0;It<Tt.length;It++)Tt[It]=Tt[It]==""?" ":Tt[It];K.ch+=P.after?1:0,K.ch=Math.min(gt(b,K.line),K.ch)}else ct?M.visualMode?L=M.visualLine?L.slice(0,-1):`
`+L.slice(0,L.length-1)+`
`:P.after?(L=`
`+L.slice(0,L.length-1),K.ch=gt(b,K.line)):K.ch=0:K.ch+=P.after?1:0;var Wt;if(M.visualMode){M.lastPastedText=L;var Ut,Ht=D(b),un=Ht[0],bn=Ht[1],Tn=b.getSelection(),Rn=b.listSelections(),kn=new Array(Rn.length).join("1").split("1");M.lastSelection&&(Ut=M.lastSelection.headMark.find()),ne.registerController.unnamedRegister.setText(Tn),We?(b.replaceSelections(kn),bn=new e(un.line+L.length-1,un.ch),b.setCursor(un),Me(b,bn),b.replaceSelections(L),Wt=un):M.visualBlock?(b.replaceSelections(kn),b.setCursor(un),b.replaceRange(L,un,un),Wt=un):(b.replaceRange(L,un,bn),Wt=b.posFromIndex(b.indexFromPos(un)+L.length-1)),Ut&&(M.lastSelection.headMark=b.setBookmark(Ut)),ct&&(Wt.ch=0)}else if(We&&Tt){b.setCursor(K);for(var It=0;It<Tt.length;It++){var vn=K.line+It;vn>b.lastLine()&&b.replaceRange(`
`,new e(vn,0));var Mn=gt(b,vn);Mn<K.ch&&Pe(b,vn,K.ch)}b.setCursor(K),Me(b,new e(K.line+Tt.length-1,K.ch)),b.replaceSelections(Tt),Wt=K}else if(b.replaceRange(L,K),ct){var vn=P.after?K.line+1:K.line;Wt=new e(vn,Kt(b.getLine(vn)))}else Wt=Ze(K),/\n/.test(L)||(Wt.ch+=L.length-(P.after?1:0));M.visualMode&&Gt(b,!1),b.setCursor(Wt)}},undo:function(b,P){b.operation(function(){$e(b,o.commands.undo,P.repeat)(),b.setCursor(Ft(b,b.getCursor("start")))})},redo:function(b,P){$e(b,o.commands.redo,P.repeat)()},setRegister:function(b,P,M){M.inputState.registerName=P.selectedCharacter},insertRegister:function(b,P,M){var L=P.selectedCharacter,U=ne.registerController.getRegister(L),K=U&&U.toString();K&&b.replaceSelection(K)},oneNormalCommand:function(b,P,M){sr(b,!0),M.insertModeReturn=!0,o.on(b,"vim-command-done",function L(){M.visualMode||(M.insertModeReturn&&(M.insertModeReturn=!1,M.insertMode||Pt.enterInsertMode(b,{},M)),o.off(b,"vim-command-done",L))})},setMark:function(b,P,M){var L=P.selectedCharacter;L&&Zt(b,M,L,b.getCursor())},replace:function(b,P,M){var L=P.selectedCharacter||"",U=b.getCursor(),K,z,X=b.listSelections();if(M.visualMode)U=b.getCursor("start"),z=b.getCursor("end");else{var re=b.getLine(U.line);K=U.ch+P.repeat,K>re.length&&(K=re.length),z=new e(U.line,K)}var Se=n(b,U,z);if(U=Se.start,z=Se.end,L==`
`)M.visualMode||b.replaceRange("",U,z),(o.commands.newlineAndIndentContinueComment||o.commands.newlineAndIndent)(b);else{var Be=b.getRange(U,z);if(Be=Be.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,L),Be=Be.replace(/[^\n]/g,L),M.visualBlock){var Ge=new Array(b.getOption("tabSize")+1).join(" ");Be=b.getSelection(),Be=Be.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,L);var et=Be.replace(/\t/g,Ge).replace(/[^\n]/g,L).split(`
`);b.replaceSelections(et)}else b.replaceRange(Be,U,z);M.visualMode?(U=bt(X[0].anchor,X[0].head)?X[0].anchor:X[0].head,b.setCursor(U),Gt(b,!1)):b.setCursor(T(z,0,-1))}},incrementNumberToken:function(b,P){for(var M=b.getCursor(),L=b.getLine(M.line),U=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,K,z,X,re;(K=U.exec(L))!==null&&(z=K.index,X=z+K[0].length,!(M.ch<X)););if(!(!P.backtrack&&X<=M.ch)){if(K){var Se=K[2]||K[4],Be=K[3]||K[5],Ge=P.increase?1:-1,et={"0b":2,0:8,"":10,"0x":16}[Se.toLowerCase()],ct=parseInt(K[1]+Be,et)+Ge*P.repeat;re=ct.toString(et);var We=Se?new Array(Be.length-re.length+1+K[1].length).join("0"):"";re.charAt(0)==="-"?re="-"+Se+We+re.substr(1):re=Se+We+re;var Tt=new e(M.line,z),It=new e(M.line,X);b.replaceRange(re,Tt,It)}else return;b.setCursor(new e(M.line,z+re.length-1))}},repeatLastEdit:function(b,P,M){var L=M.lastEditInputState;if(L){var U=P.repeat;U&&P.repeatIsExplicit?L.repeatOverride=U:U=L.repeatOverride||U,cn(b,M,U,!1)}},indent:function(b,P){b.indentLine(b.getCursor().line,P.indentRight)},exitInsertMode:function(b,P){sr(b)}};function Et(b,P){Pt[b]=P}function Ft(b,P,M){var L=b.state.vim,U=L.insertMode||L.visualMode,K=Math.min(Math.max(b.firstLine(),P.line),b.lastLine()),z=b.getLine(K),X=z.length-1+ +!!U,re=Math.min(Math.max(0,P.ch),X),Se=z.charCodeAt(re);if(56320<=Se&&Se<=57343){var Be=1;M&&M.line==K&&M.ch>re&&(Be=-1),re+=Be,re>X&&(re-=2)}return new e(K,re)}function ve(b){var P={};for(var M in b)Object.prototype.hasOwnProperty.call(b,M)&&(P[M]=b[M]);return P}function T(b,P,M){return typeof P=="object"&&(M=P.ch,P=P.line),new e(b.line+P,b.ch+M)}function F(b,P,M,L){L.operator&&(M="operatorPending");for(var U,K=[],z=[],X=Ye?P.length-s:0,re=X;re<P.length;re++){var Se=P[re];M=="insert"&&Se.context!="insert"||Se.context&&Se.context!=M||L.operator&&Se.type=="action"||!(U=ye(b,Se.keys))||(U=="partial"&&K.push(Se),U=="full"&&z.push(Se))}return{partial:K,full:z}}function ye(b,P){const M=P.slice(-11)=="<character>",L=P.slice(-10)=="<register>";if(M||L){var U=P.length-(M?11:10),K=b.slice(0,U),z=P.slice(0,U);return K==z&&b.length>U?"full":z.indexOf(K)==0?"partial":!1}else return b==P?"full":P.indexOf(b)==0?"partial":!1}function De(b){var P=/^.*(<[^>]+>)$/.exec(b),M=P?P[1]:b.slice(-1);if(M.length>1)switch(M){case"<CR>":case"<S-CR>":M=`
`;break;case"<Space>":case"<S-Space>":M=" ";break;default:M="";break}return M}function $e(b,P,M){return function(){for(var L=0;L<M;L++)P(b)}}function Ze(b){return new e(b.line,b.ch)}function Oe(b,P){return b.ch==P.ch&&b.line==P.line}function bt(b,P){return b.line<P.line||b.line==P.line&&b.ch<P.ch}function ht(b,P){return arguments.length>2&&(P=ht.apply(void 0,Array.prototype.slice.call(arguments,1))),bt(b,P)?b:P}function q(b,P){return arguments.length>2&&(P=q.apply(void 0,Array.prototype.slice.call(arguments,1))),bt(b,P)?P:b}function dt(b,P,M){var L=bt(b,P),U=bt(P,M);return L&&U}function gt(b,P){return b.getLine(P).length}function be(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")}function Ne(b){return b.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function Pe(b,P,M){var L=gt(b,P),U=new Array(M-L+1).join(" ");b.setCursor(new e(P,L)),b.replaceRange(U,b.getCursor())}function Me(b,P){var M=[],L=b.listSelections(),U=Ze(b.clipPos(P)),K=!Oe(P,U),z=b.getCursor("head"),X=Y(L,z),re=Oe(L[X].head,L[X].anchor),Se=L.length-1,Be=Se-X>X?Se:0,Ge=L[Be].anchor,et=Math.min(Ge.line,U.line),ct=Math.max(Ge.line,U.line),We=Ge.ch,Tt=U.ch,It=L[Be].head.ch-We,Wt=Tt-We;It>0&&Wt<=0?(We++,K||Tt--):It<0&&Wt>=0?(We--,re||Tt++):It<0&&Wt==-1&&(We--,Tt++);for(var Ut=et;Ut<=ct;Ut++){var Ht={anchor:new e(Ut,We),head:new e(Ut,Tt)};M.push(Ht)}return b.setSelections(M),P.ch=Tt,Ge.ch=We,Ge}function Ue(b,P,M){for(var L=[],U=0;U<M;U++){var K=T(P,U,0);L.push({anchor:K,head:K})}b.setSelections(L,0)}function Y(b,P,M){for(var L=0;L<b.length;L++){var U=Oe(b[L].anchor,P),K=Oe(b[L].head,P);if(U||K)return L}return-1}function D(b,P){var M=b.listSelections(),L=M[0],U=M[M.length-1],K=bt(L.anchor,L.head)?L.anchor:L.head,z=bt(U.anchor,U.head)?U.head:U.anchor;return[K,z]}function W(b,P){var M=P.sel.anchor,L=P.sel.head;P.lastPastedText&&(L=b.posFromIndex(b.indexFromPos(M)+P.lastPastedText.length),P.lastPastedText=void 0),P.lastSelection={anchorMark:b.setBookmark(M),headMark:b.setBookmark(L),anchor:Ze(M),head:Ze(L),visualMode:P.visualMode,visualLine:P.visualLine,visualBlock:P.visualBlock}}function _e(b,P,M,L){var U=b.state.vim.sel,K=L?P:U.head,z=L?P:U.anchor,X;return bt(M,P)&&(X=M,M=P,P=X),bt(K,z)?(K=ht(P,K),z=q(z,M)):(z=ht(P,z),K=q(K,M),K=T(K,0,-1),K.ch==-1&&K.line!=b.firstLine()&&(K=new e(K.line-1,gt(b,K.line-1)))),[z,K]}function ce(b,P,M){var L=b.state.vim;P=P||L.sel,M||(M=L.visualLine?"line":L.visualBlock?"block":"char");var U=st(b,P,M);b.setSelections(U.ranges,U.primary)}function st(b,P,M,L){var U=Ze(P.head),K=Ze(P.anchor);if(M=="char"){var z=!L&&!bt(P.head,P.anchor)?1:0,X=bt(P.head,P.anchor)?1:0;return U=T(P.head,0,z),K=T(P.anchor,0,X),{ranges:[{anchor:K,head:U}],primary:0}}else if(M=="line"){if(bt(P.head,P.anchor))U.ch=0,K.ch=gt(b,K.line);else{K.ch=0;var re=b.lastLine();U.line>re&&(U.line=re),U.ch=gt(b,U.line)}return{ranges:[{anchor:K,head:U}],primary:0}}else if(M=="block"){var Se=Math.min(K.line,U.line),Be=K.ch,Ge=Math.max(K.line,U.line),et=U.ch;Be<et?et+=1:Be+=1;for(var ct=Ge-Se+1,We=U.line==Se?0:ct-1,Tt=[],It=0;It<ct;It++)Tt.push({anchor:new e(Se+It,Be),head:new e(Se+It,et)});return{ranges:Tt,primary:We}}throw"never happens"}function Ot(b){var P=b.getCursor("head");return b.getSelection().length==1&&(P=ht(P,b.getCursor("anchor"))),P}function Gt(b,P){var M=b.state.vim;P!==!1&&b.setCursor(Ft(b,M.sel.head)),W(b,M),M.visualMode=!1,M.visualLine=!1,M.visualBlock=!1,M.insertMode||o.signal(b,"vim-mode-change",{mode:"normal"})}function On(b,P,M){var L=b.getRange(P,M);if(/\n\s*$/.test(L)){var U=L.split(`
`);U.pop();for(var K=U.pop();U.length>0&&K&&Q(K);K=U.pop())M.line--,M.ch=0;K?(M.line--,M.ch=gt(b,M.line)):M.ch=0}}function yn(b,P,M){P.ch=0,M.ch=0,M.line++}function Kt(b){if(!b)return 0;var P=b.search(/\S/);return P==-1?b.length:P}function Vt(b,{inclusive:P,innerWord:M,bigWord:L,noSymbol:U,multiline:K},z){var X=z||Ot(b),re=b.getLine(X.line),Se=re,Be=X.line,Ge=Be,et=X.ch,ct,We=U?p[0]:g[0];if(M&&/\s/.test(re.charAt(et)))We=function(un){return/\s/.test(un)};else{for(;!We(re.charAt(et));)if(et++,et>=re.length){if(!K)return null;et--,ct=Bt(b,X,!0,L,!0);break}L?We=g[0]:(We=p[0],We(re.charAt(et))||(We=p[1]))}for(var Tt=et,It=et;We(re.charAt(It))&&It>=0;)It--;if(It++,ct)Tt=ct.to,Ge=ct.line,Se=b.getLine(Ge),!Se&&Tt==0&&Tt++;else for(;We(re.charAt(Tt))&&Tt<re.length;)Tt++;if(P){var Wt=Tt,Ut=X.ch<=It&&/\s/.test(re.charAt(X.ch));if(!Ut)for(;/\s/.test(Se.charAt(Tt))&&Tt<Se.length;)Tt++;if(Wt==Tt||Ut){for(var Ht=It;/\s/.test(re.charAt(It-1))&&It>0;)It--;!It&&!Ut&&(It=Ht)}}return{start:new e(Be,It),end:new e(Ge,Tt)}}function an(b,P,M){var L=P;if(!o.findMatchingTag||!o.findEnclosingTag)return{start:L,end:L};var U=o.findMatchingTag(b,P)||o.findEnclosingTag(b,P);return!U||!U.open||!U.close?{start:L,end:L}:M?{start:U.open.from,end:U.close.to}:{start:U.open.to,end:U.close.from}}function $t(b,P,M){Oe(P,M)||ne.jumpList.add(b,P,M)}function Lt(b,P){ne.lastCharacterSearch.increment=b,ne.lastCharacterSearch.forward=P.forward,ne.lastCharacterSearch.selectedCharacter=P.selectedCharacter}var nt={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Nt={bracket:{isComplete:function(b){if(b.nextCh===b.symb){if(b.depth++,b.depth>=1)return!0}else b.nextCh===b.reverseSymb&&b.depth--;return!1}},section:{init:function(b){b.curMoveThrough=!0,b.symb=(b.forward?"]":"[")===b.symb?"{":"}"},isComplete:function(b){return b.index===0&&b.nextCh===b.symb}},comment:{isComplete:function(b){var P=b.lastCh==="*"&&b.nextCh==="/";return b.lastCh=b.nextCh,P}},method:{init:function(b){b.symb=b.symb==="m"?"{":"}",b.reverseSymb=b.symb==="{"?"}":"{"},isComplete:function(b){return b.nextCh===b.symb}},preprocess:{init:function(b){b.index=0},isComplete:function(b){if(b.nextCh==="#"){var P=b.lineText.match(/^#(\w+)/)?.[1];if(P==="endif"){if(b.forward&&b.depth===0)return!0;b.depth++}else if(P==="if"){if(!b.forward&&b.depth===0)return!0;b.depth--}if(P==="else"&&b.depth===0)return!0}return!1}}};function wt(b,P,M,L){var U=Ze(b.getCursor()),K=M?1:-1,z=M?b.lineCount():-1,X=U.ch,re=U.line,Se=b.getLine(re),Be={lineText:Se,nextCh:Se.charAt(X),lastCh:null,index:X,symb:L,reverseSymb:(M?{")":"(","}":"{"}:{"(":")","{":"}"})[L],forward:M,depth:0,curMoveThrough:!1},Ge=nt[L];if(!Ge)return U;var et=Nt[Ge].init,ct=Nt[Ge].isComplete;for(et&&et(Be);re!==z&&P;){if(Be.index+=K,Be.nextCh=Be.lineText.charAt(Be.index),!Be.nextCh){if(re+=K,Be.lineText=b.getLine(re)||"",K>0)Be.index=0;else{var We=Be.lineText.length;Be.index=We>0?We-1:0}Be.nextCh=Be.lineText.charAt(Be.index)}ct(Be)&&(U.line=re,U.ch=Be.index,P--)}return Be.nextCh||Be.curMoveThrough?new e(re,Be.index):U}function Bt(b,P,M,L,U){var K=P.line,z=P.ch,X=b.getLine(K),re=M?1:-1,Se=L?g:p;if(U&&X==""){if(K+=re,X=b.getLine(K),!k(b,K))return null;z=M?0:X.length}for(;;){if(U&&X=="")return{from:0,to:0,line:K};for(var Be=re>0?X.length:-1,Ge=Be,et=Be;z!=Be;){for(var ct=!1,We=0;We<Se.length&&!ct;++We)if(Se[We](X.charAt(z))){for(Ge=z;z!=Be&&Se[We](X.charAt(z));)z+=re;if(et=z,ct=Ge!=et,Ge==P.ch&&K==P.line&&et==Ge+re)continue;return{from:Math.min(Ge,et+1),to:Math.max(Ge,et),line:K}}ct||(z+=re)}if(K+=re,!k(b,K))return null;X=b.getLine(K),z=re>0?0:X.length}}function kt(b,P,M,L,U,K){var z=Ze(P),X=[];(L&&!U||!L&&U)&&M++;for(var re=!(L&&U),Se=0;Se<M;Se++){var Be=Bt(b,P,L,K,re);if(!Be){var Ge=gt(b,b.lastLine());X.push(L?{line:b.lastLine(),from:Ge,to:Ge}:{line:0,from:0,to:0});break}X.push(Be),P=new e(Be.line,L?Be.to-1:Be.from)}var et=X.length!=M,ct=X[0],We=X.pop();return L&&!U?(!et&&(ct.from!=z.ch||ct.line!=z.line)&&(We=X.pop()),We&&new e(We.line,We.from)):L&&U?We&&new e(We.line,We.to-1):!L&&U?(!et&&(ct.to!=z.ch||ct.line!=z.line)&&(We=X.pop()),We&&new e(We.line,We.to)):We&&new e(We.line,We.from)}function Qt(b,P,M,L,U){var K=P,z=new e(K.line+M.repeat-1,1/0),X=b.clipPos(z);return X.ch--,U||(L.lastHPos=1/0,L.lastHSPos=b.charCoords(X,"div").left),z}function jt(b,P,M,L,U){if(L){for(var K=U||b.getCursor(),z=K.ch,X,re=0;re<P;re++){var Se=b.getLine(K.line);if(X=rn(z,Se,L,M),X==-1)return;z=X}if(X!=null)return new e(b.getCursor().line,X)}}function fn(b,P){var M=b.getCursor().line;return Ft(b,new e(M,P-1))}function Zt(b,P,M,L){!pe(M,y)&&!w.test(M)||(P.marks[M]&&P.marks[M].clear(),P.marks[M]=b.setBookmark(L))}function rn(b,P,M,L,U){var K;return L?K=P.indexOf(M,b+1):K=P.lastIndexOf(M,b-1),K}function ln(b,P,M,L,U){var K=P.line,z=b.firstLine(),X=b.lastLine(),re,Se,Be=K;function Ge(It){return!b.getLine(It)}function et(It,Wt,Ut){return Ut?Ge(It)!=Ge(It+Wt):!Ge(It)&&Ge(It+Wt)}if(L){for(;z<=Be&&Be<=X&&M>0;)et(Be,L)&&M--,Be+=L;return{start:new e(Be,0),end:P}}var ct=b.state.vim;if(ct.visualLine&&et(K,1,!0)){var We=ct.sel.anchor;et(We.line,-1,!0)&&(!U||We.line!=K)&&(K+=1)}var Tt=Ge(K);for(Be=K;Be<=X&&M;Be++)et(Be,1,!0)&&(!U||Ge(Be)!=Tt)&&M--;for(Se=new e(Be,0),Be>X&&!Tt?Tt=!0:U=!1,Be=K;Be>z&&!((!U||Ge(Be)==Tt||Be==K)&&et(Be,-1,!0));Be--);return re=new e(Be,0),{start:re,end:Se}}function Jt(b,P,M,L,U){function K(Se){Se.line!==null&&(Se.pos+Se.dir<0||Se.pos+Se.dir>=Se.line.length?Se.line=null:Se.pos+=Se.dir)}function z(Se,Be,Ge,et){var ct=Se.getLine(Be),We={line:ct,ln:Be,pos:Ge,dir:et};if(We.line==="")return{ln:We.ln,pos:We.pos};var Tt=We.pos;for(K(We);We.line!==null;){if(Tt=We.pos,te(We.line[We.pos]))if(U){for(K(We);We.line!==null&&Q(We.line[We.pos]);)Tt=We.pos,K(We);return{ln:We.ln,pos:Tt+1}}else return{ln:We.ln,pos:We.pos+1};K(We)}return{ln:We.ln,pos:Tt+1}}function X(Se,Be,Ge,et){var ct=Se.getLine(Be),We={line:ct,ln:Be,pos:Ge,dir:et};if(We.line==="")return{ln:We.ln,pos:We.pos};var Tt=We.pos;for(K(We);We.line!==null;){if(!Q(We.line[We.pos])&&!te(We.line[We.pos]))Tt=We.pos;else if(te(We.line[We.pos]))return U?Q(We.line[We.pos+1])?{ln:We.ln,pos:We.pos+1}:{ln:We.ln,pos:Tt}:{ln:We.ln,pos:Tt};K(We)}return We.line=ct,U&&Q(We.line[We.pos])?{ln:We.ln,pos:We.pos}:{ln:We.ln,pos:Tt}}for(var re={ln:P.line,pos:P.ch};M>0;)L<0?re=X(b,re.ln,re.pos,L):re=z(b,re.ln,re.pos,L),M--;return new e(re.ln,re.pos)}function xn(b,P,M,L){function U(re,Se){if(Se.line!==null)if(Se.pos+Se.dir<0||Se.pos+Se.dir>=Se.line.length){if(Se.ln+=Se.dir,!k(re,Se.ln)){Se.line=null;return}Se.line=re.getLine(Se.ln),Se.pos=Se.dir>0?0:Se.line.length-1}else Se.pos+=Se.dir}function K(re,Se,Be,Ge){var It=re.getLine(Se),et=It==="",ct={line:It,ln:Se,pos:Be,dir:Ge},We={ln:ct.ln,pos:ct.pos},Tt=ct.line==="";for(U(re,ct);ct.line!==null;){if(We.ln=ct.ln,We.pos=ct.pos,ct.line===""&&!Tt)return{ln:ct.ln,pos:ct.pos};if(et&&ct.line!==""&&!Q(ct.line[ct.pos]))return{ln:ct.ln,pos:ct.pos};te(ct.line[ct.pos])&&!et&&(ct.pos===ct.line.length-1||Q(ct.line[ct.pos+1]))&&(et=!0),U(re,ct)}var It=re.getLine(We.ln);We.pos=0;for(var Wt=It.length-1;Wt>=0;--Wt)if(!Q(It[Wt])){We.pos=Wt;break}return We}function z(re,Se,Be,Ge){var It=re.getLine(Se),et={line:It,ln:Se,pos:Be,dir:Ge},ct=et.ln,We=null,Tt=et.line==="";for(U(re,et);et.line!==null;){if(et.line===""&&!Tt)return We!==null?{ln:ct,pos:We}:{ln:et.ln,pos:et.pos};if(te(et.line[et.pos])&&We!==null&&!(et.ln===ct&&et.pos+1===We))return{ln:ct,pos:We};et.line!==""&&!Q(et.line[et.pos])&&(Tt=!1,ct=et.ln,We=et.pos),U(re,et)}var It=re.getLine(ct);We=0;for(var Wt=0;Wt<It.length;++Wt)if(!Q(It[Wt])){We=Wt;break}return{ln:ct,pos:We}}for(var X={ln:P.line,pos:P.ch};M>0;)L<0?X=z(b,X.ln,X.pos,L):X=K(b,X.ln,X.pos,L),M--;return new e(X.ln,X.pos)}function mn(b,P,M,L){var U=P,K={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[M],z={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[M],X=b.getLine(U.line).charAt(U.ch),re=X===z?1:0,Se=b.scanForBracket(new e(U.line,U.ch+re),-1,void 0,{bracketRegex:K}),Be=b.scanForBracket(new e(U.line,U.ch+re),1,void 0,{bracketRegex:K});if(!Se||!Be)return null;var Ge=Se.pos,et=Be.pos;if(Ge.line==et.line&&Ge.ch>et.ch||Ge.line>et.line){var ct=Ge;Ge=et,et=ct}return L?et.ch+=1:Ge.ch+=1,{start:Ge,end:et}}function gn(b,P,M,L){var U=Ze(P),K=b.getLine(U.line),z=K.split(""),X,re,Se,Be,Ge=z.indexOf(M);if(U.ch<Ge)U.ch=Ge;else if(Ge<U.ch&&z[U.ch]==M){var et=/string/.test(b.getTokenTypeAt(T(P,0,1))),ct=/string/.test(b.getTokenTypeAt(P)),We=et&&!ct;We||(re=U.ch,--U.ch)}if(z[U.ch]==M&&!re)X=U.ch+1;else for(Se=U.ch;Se>-1&&!X;Se--)z[Se]==M&&(X=Se+1);if(X&&!re)for(Se=X,Be=z.length;Se<Be&&!re;Se++)z[Se]==M&&(re=Se);return!X||!re?{start:U,end:U}:(L&&(--X,++re),{start:new e(U.line,X),end:new e(U.line,re)})}ee("pcre",!0,"boolean");class _n{constructor(){this.highlightTimeout}getQuery(){return ne.query}setQuery(P){ne.query=P}getOverlay(){return this.searchOverlay}setOverlay(P){this.searchOverlay=P}isReversed(){return ne.isReversed}setReversed(P){ne.isReversed=P}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate(P){this.annotate=P}}function Sn(b){var P=b.state.vim;return P.searchState_||(P.searchState_=new _n)}function En(b){return An(b,"/")}function wn(b){return Bn(b,"/")}function An(b,P){var M=Bn(b,P)||[];if(!M.length)return[];var L=[];if(M[0]===0){for(var U=0;U<M.length;U++)typeof M[U]=="number"&&L.push(b.substring(M[U]+1,M[U+1]));return L}}function Bn(b,P){P||(P="/");for(var M=!1,L=[],U=0;U<b.length;U++){var K=b.charAt(U);!M&&K==P&&L.push(U),M=!M&&K=="\\"}return L}function jn(b){var P={V:"|(){+?*.[$^",M:"|(){+?*.[",m:"|(){+?",v:"<>"},M={">":"(?<=[\\w])(?=[^\\w]|$)","<":"(?<=[^\\w]|^)(?=[\\w])"},L=P.m,U=b.replace(/\\.|[\[|(){+*?.$^<>]/g,function(z){if(z[0]==="\\"){var X=z[1];return X==="}"||L.indexOf(X)!=-1?X:X in P?(L=P[X],""):X in M?M[X]:z}else return L.indexOf(z)!=-1?M[z]||"\\"+z:z}),K=U.indexOf("\\zs");return K!=-1&&(U="(?<="+U.slice(0,K)+")"+U.slice(K+3)),K=U.indexOf("\\ze"),K!=-1&&(U=U.slice(0,K)+"(?="+U.slice(K+3)+")"),U}var tr={"\\n":`
`,"\\r":"\r","\\t":"	"};function nr(b){for(var P=!1,M=[],L=-1;L<b.length;L++){var U=b.charAt(L)||"",K=b.charAt(L+1)||"";tr[U+K]?(M.push(tr[U+K]),L++):P?(M.push(U),P=!1):U==="\\"?(P=!0,G(K)||K==="$"?M.push("$"):K!=="/"&&K!=="\\"&&M.push("\\")):(U==="$"&&M.push("$"),M.push(U),K==="/"&&M.push("\\"))}return M.join("")}var Un={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function rr(b){for(var P=new o.StringStream(b),M=[];!P.eol();){for(;P.peek()&&P.peek()!="\\";)M.push(P.next());var L=!1;for(var U in Un)if(P.match(U,!0)){L=!0,M.push(Un[U]);break}L||M.push(P.next())}return M.join("")}function Yn(b,P,M){var L=ne.registerController.getRegister("/");L.setText(b);var U=wn(b),K,z;if(!U.length)K=b;else{K=b.substring(0,U[0]);var X=b.substring(U[0]);z=X.indexOf("i")!=-1}if(!K)return null;Z("pcre")||(K=jn(K)),M&&(P=/^[^A-Z]*$/.test(K));var re=new RegExp(K,P||z?"im":"m");return re}function Gn(b){typeof b=="string"&&(b=document.createElement(b));for(var P=1;P<arguments.length;P++){var M=arguments[P];if(M)if(typeof M!="object"&&(M=document.createTextNode(M)),M.nodeType)b.appendChild(M);else for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(L[0]==="$"?b.style[L.slice(1)]=M[L]:typeof M[L]=="function"?b[L]=M[L]:b.setAttribute(L,M[L]))}return b}function Cn(b,P,M){var L=Gn("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},P);b.openNotification?M?(L=Gn("div",{},L,Gn("div",{},"Press ENTER or type command to continue")),b.state.closeVimNotification&&b.state.closeVimNotification(),b.state.closeVimNotification=b.openNotification(L,{bottom:!0,duration:0})):b.openNotification(L,{bottom:!0,duration:15e3}):alert(L.innerText)}function hr(b,P){return Gn("div",{$display:"flex",$flex:1},Gn("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1,$display:"flex"},b,Gn("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$flex:1})),P&&Gn("span",{$color:"#888"},P))}function Mr(b,P){if(Ke.length){P.value||(P.value=""),Qe=P;return}var M=hr(P.prefix,P.desc);if(b.openDialog)b.openDialog(M,P.onClose,{onKeyDown:P.onKeyDown,onKeyUp:P.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:P.value});else{var L="";typeof P.prefix!="string"&&P.prefix&&(L+=P.prefix.textContent),P.desc&&(L+=" "+P.desc),P.onClose?.(prompt(L,""))}}function Sr(b,P){return b instanceof RegExp&&P instanceof RegExp?b.flags==P.flags&&b.source==P.source:!1}function _r(b,P,M,L){if(P){var U=Sn(b),K=Yn(P,!!M,!!L);if(K)return Vn(b,K),Sr(K,U.getQuery())||U.setQuery(K),K}}function Jr(b){if(b.source.charAt(0)=="^")var P=!0;return{token:function(M){if(P&&!M.sol()){M.skipToEnd();return}var L=M.match(b,!1);if(L)return L[0].length==0?(M.next(),"searching"):!M.sol()&&(M.backUp(1),!b.exec(M.next()+L[0]))?(M.next(),null):(M.match(b),"searching");for(;!M.eol()&&(M.next(),!M.match(b,!1)););},query:b}}var Br=0;function Vn(b,P){clearTimeout(Br);var M=Sn(b);M.highlightTimeout=Br,Br=setTimeout(function(){if(b.state.vim){var L=Sn(b);L.highlightTimeout=void 0;var U=L.getOverlay();(!U||P!=U.query)&&(U&&b.removeOverlay(U),U=Jr(P),b.addOverlay(U),b.showMatchesOnScrollbar&&(L.getScrollbarAnnotate()&&L.getScrollbarAnnotate().clear(),L.setScrollbarAnnotate(b.showMatchesOnScrollbar(P))),L.setOverlay(U))}},50)}function Ir(b,P,M,L){return b.operation(function(){L===void 0&&(L=1);for(var U=b.getCursor(),K=b.getSearchCursor(M,U),z=0;z<L;z++){var X=K.find(P);if(z==0&&X&&Oe(K.from(),U)){var re=P?K.from():K.to();X=K.find(P),X&&!X[0]&&Oe(K.from(),re)&&b.getLine(re.line).length==re.ch&&(X=K.find(P))}if(!X&&(K=b.getSearchCursor(M,P?new e(b.lastLine()):new e(b.firstLine(),0)),!K.find(P)))return}return K.from()})}function In(b,P,M,L,U){return b.operation(function(){L===void 0&&(L=1);var K=b.getCursor(),z=b.getSearchCursor(M,K),X=z.find(!P);!U.visualMode&&X&&Oe(z.from(),K)&&z.find(!P);for(var re=0;re<L;re++)if(X=z.find(P),!X&&(z=b.getSearchCursor(M,P?new e(b.lastLine()):new e(b.firstLine(),0)),!z.find(P)))return;var Se=z.from(),Be=z.to();return Se&&Be&&[Se,Be]})}function yr(b){var P=Sn(b);P.highlightTimeout&&(clearTimeout(P.highlightTimeout),P.highlightTimeout=void 0),b.removeOverlay(Sn(b).getOverlay()),P.setOverlay(null),P.getScrollbarAnnotate()&&(P.getScrollbarAnnotate().clear(),P.setScrollbarAnnotate(null))}function Hn(b,P,M){return typeof b!="number"&&(b=b.line),P instanceof Array?pe(b,P):typeof M=="number"?b>=P&&b<=M:b==P}function Lr(b){var P=b.getScrollInfo(),M=6,L=10,U=b.coordsChar({left:0,top:M+P.top},"local"),K=P.clientHeight-L+P.top,z=b.coordsChar({left:0,top:K},"local");return{top:U.line,bottom:z.line}}function qr(b,P,M){if(M=="'"||M=="`")return ne.jumpList.find(b,-1)||new e(0,0);if(M==".")return zn(b);var L=P.marks[M];return L&&L.find()}function zn(b){if(b.getLastEditEnd)return b.getLastEditEnd();for(var P=b.doc.history.done,M=P.length;M--;)if(P[M].changes)return Ze(P[M].changes[0].to)}class mr{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand(P,M,L){var U=this;P.operation(function(){P.curOp&&(P.curOp.isVimOp=!0),U._processCommand(P,M,L)})}_processCommand(P,M,L){var U=P.state.vim,K=ne.registerController.getRegister(":"),z=K.toString(),X=new o.StringStream(M);K.setText(M);var re=L||{};re.input=M;try{this.parseInput_(P,X,re)}catch(Ge){throw Cn(P,Ge+""),Ge}U.visualMode&&Gt(P);var Se,Be;if(!re.commandName)re.line!==void 0&&(Be="move");else if(Se=this.matchCommand_(re.commandName),Se){if(Be=Se.name,Se.excludeFromCommandHistory&&K.setText(z),this.parseCommandArgs_(X,re,Se),Se.type=="exToKey"){vt(P,Se.toKeys||"",Se);return}else if(Se.type=="exToEx"){this.processCommand(P,Se.toInput||"");return}}if(!Be){Cn(P,'Not an editor command ":'+M+'"');return}try{Zr[Be](P,re),(!Se||!Se.possiblyAsync)&&re.callback&&re.callback()}catch(Ge){throw Cn(P,Ge+""),Ge}}parseInput_(P,M,L){M.eatWhile(":"),M.eat("%")?(L.line=P.firstLine(),L.lineEnd=P.lastLine()):(L.line=this.parseLineSpec_(P,M),L.line!==void 0&&M.eat(",")&&(L.lineEnd=this.parseLineSpec_(P,M))),L.line==null?P.state.vim.visualMode?(L.selectionLine=qr(P,P.state.vim,"<")?.line,L.selectionLineEnd=qr(P,P.state.vim,">")?.line):L.selectionLine=P.getCursor().line:(L.selectionLine=L.line,L.selectionLineEnd=L.lineEnd);var U=M.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return U?L.commandName=U[1]:L.commandName=(M.match(/.*/)||[""])[0],L}parseLineSpec_(P,M){var L=M.match(/^(\d+)/);if(L)return parseInt(L[1],10)-1;switch(M.next()){case".":return this.parseLineSpecOffset_(M,P.getCursor().line);case"$":return this.parseLineSpecOffset_(M,P.lastLine());case"'":var U=M.next()||"",K=qr(P,P.state.vim,U);if(!K)throw new Error("Mark not set");return this.parseLineSpecOffset_(M,K.line);case"-":case"+":return M.backUp(1),this.parseLineSpecOffset_(M,P.getCursor().line);default:M.backUp(1);return}}parseLineSpecOffset_(P,M){var L=P.match(/^([+-])?(\d+)/);if(L){var U=parseInt(L[2],10);L[1]=="-"?M-=U:M+=U}return M}parseCommandArgs_(P,M,L){if(!P.eol()){M.argString=P.match(/.*/)?.[0];var U=L.argDelimiter||/\s+/,K=be(M.argString||"").split(U);K.length&&K[0]&&(M.args=K)}}matchCommand_(P){for(var M=P.length;M>0;M--){var L=P.substring(0,M);if(this.commandMap_[L]){var U=this.commandMap_[L];if(U.name.indexOf(P)===0)return U}}}buildCommandMap_(){this.commandMap_={};for(var P=0;P<l.length;P++){var M=l[P],L=M.shortName||M.name;this.commandMap_[L]=M}}map(P,M,L,U){if(P!=":"&&P.charAt(0)==":"){if(L)throw Error("Mode not supported for ex mappings");var K=P.substring(1);M!=":"&&M.charAt(0)==":"?this.commandMap_[K]={name:K,type:"exToEx",toInput:M.substring(1),user:!0}:this.commandMap_[K]={name:K,type:"exToKey",toKeys:M,user:!0}}else{var z={keys:P,type:"keyToKey",toKeys:M,noremap:!!U};L&&(z.context=L),Vr(z)}}unmap(P,M){if(P!=":"&&P.charAt(0)==":"){if(M)throw Error("Mode not supported for ex mappings");var L=P.substring(1);if(this.commandMap_[L]&&this.commandMap_[L].user)return delete this.commandMap_[L],!0}else for(var U=P,K=0;K<r.length;K++)if(U==r[K].keys&&r[K].context===M)return r.splice(K,1),oi(U),!0}}var Zr={colorscheme:function(b,P){if(!P.args||P.args.length<1){Cn(b,b.getOption("theme"));return}b.setOption("theme",P.args[0])},map:function(b,P,M,L){var U=P.args;if(!U||U.length<2){b&&Cn(b,"Invalid mapping: "+P.input);return}Fn.map(U[0],U[1],M,L)},imap:function(b,P){this.map(b,P,"insert")},nmap:function(b,P){this.map(b,P,"normal")},vmap:function(b,P){this.map(b,P,"visual")},omap:function(b,P){this.map(b,P,"operatorPending")},noremap:function(b,P){this.map(b,P,void 0,!0)},inoremap:function(b,P){this.map(b,P,"insert",!0)},nnoremap:function(b,P){this.map(b,P,"normal",!0)},vnoremap:function(b,P){this.map(b,P,"visual",!0)},onoremap:function(b,P){this.map(b,P,"operatorPending",!0)},unmap:function(b,P,M){var L=P.args;(!L||L.length<1||!Fn.unmap(L[0],M))&&b&&Cn(b,"No such mapping: "+P.input)},mapclear:function(b,P){Te.mapclear()},imapclear:function(b,P){Te.mapclear("insert")},nmapclear:function(b,P){Te.mapclear("normal")},vmapclear:function(b,P){Te.mapclear("visual")},omapclear:function(b,P){Te.mapclear("operatorPending")},move:function(b,P){Ee.processCommand(b,b.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:P.line+1})},set:function(b,P){var M=P.args,L=P.setCfg||{};if(!M||M.length<1){b&&Cn(b,"Invalid mapping: "+P.input);return}var U=M[0].split("="),K=U.shift()||"",z=U.length>0?U.join("="):void 0,X=!1,re=!1;if(K.charAt(K.length-1)=="?"){if(z)throw Error("Trailing characters: "+P.argString);K=K.substring(0,K.length-1),X=!0}else K.charAt(K.length-1)=="!"&&(K=K.substring(0,K.length-1),re=!0);z===void 0&&K.substring(0,2)=="no"&&(K=K.substring(2),z=!1);var Se=fe[K]&&fe[K].type=="boolean";if(Se&&(re?z=!Z(K,b,L):z==null&&(z=!0)),!Se&&z===void 0||X){var Be=Z(K,b,L);Be instanceof Error?Cn(b,Be.message):Be===!0||Be===!1?Cn(b," "+(Be?"":"no")+K):Cn(b,"  "+K+"="+Be)}else{var Ge=N(K,z,b,L);Ge instanceof Error&&Cn(b,Ge.message)}},setlocal:function(b,P){P.setCfg={scope:"local"},this.set(b,P)},setglobal:function(b,P){P.setCfg={scope:"global"},this.set(b,P)},registers:function(b,P){var M=P.args,L=ne.registerController.registers,U=`----------Registers----------

`;if(M)for(var X=M.join(""),re=0;re<X.length;re++){var K=X.charAt(re);if(ne.registerController.isValidRegister(K)){var Se=L[K]||new he;U+='"'+K+"    "+Se.toString()+`
`}}else for(var K in L){var z=L[K].toString();z.length&&(U+='"'+K+"    "+z+`
`)}Cn(b,U,!0)},marks:function(b,P){var M=P.args,L=b.state.vim.marks,U=`-----------Marks-----------
mark	line	col

`;if(M)for(var X=M.join(""),re=0;re<X.length;re++){var K=X.charAt(re),z=L[K]&&L[K].find();z&&(U+=K+"	"+z.line+"	"+z.ch+`
`)}else for(var K in L){var z=L[K]&&L[K].find();z&&(U+=K+"	"+z.line+"	"+z.ch+`
`)}Cn(b,U,!0)},sort:function(b,P){var M,L,U,K,z;function X(){if(P.argString){var kn=new o.StringStream(P.argString);if(kn.eat("!")&&(M=!0),kn.eol())return;if(!kn.eatSpace())return"Invalid arguments";var vn=kn.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!vn||!kn.eol())return"Invalid arguments";if(vn[1]){L=vn[1].indexOf("i")!=-1,U=vn[1].indexOf("u")!=-1;var Mn=vn[1].indexOf("d")!=-1||vn[1].indexOf("n")!=-1,ir=vn[1].indexOf("x")!=-1,Ln=vn[1].indexOf("o")!=-1;if(Number(Mn)+Number(ir)+Number(Ln)>1)return"Invalid arguments";K=Mn&&"decimal"||ir&&"hex"||Ln&&"octal"}vn[2]&&(z=new RegExp(vn[2].substr(1,vn[2].length-2),L?"i":""))}}var re=X();if(re){Cn(b,re+": "+P.argString);return}var Se=P.line||b.firstLine(),Be=P.lineEnd||P.line||b.lastLine();if(Se==Be)return;var Ge=new e(Se,0),et=new e(Be,gt(b,Be)),ct=b.getRange(Ge,et).split(`
`),We=K=="decimal"?/(-?)([\d]+)/:K=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:K=="octal"?/([0-7]+)/:null,Tt=K=="decimal"?10:K=="hex"?16:K=="octal"?8:void 0,It=[],Wt=[];if(K||z)for(var Ut=0;Ut<ct.length;Ut++){var Ht=z?ct[Ut].match(z):null;Ht&&Ht[0]!=""?It.push(Ht):We&&We.exec(ct[Ut])?It.push(ct[Ut]):Wt.push(ct[Ut])}else Wt=ct;function un(kn,vn){if(M){var Mn;Mn=kn,kn=vn,vn=Mn}L&&(kn=kn.toLowerCase(),vn=vn.toLowerCase());var ir=We&&We.exec(kn),Ln=We&&We.exec(vn);if(!ir||!Ln)return kn<vn?-1:1;var Kn=parseInt((ir[1]+ir[2]).toLowerCase(),Tt),ar=parseInt((Ln[1]+Ln[2]).toLowerCase(),Tt);return Kn-ar}function bn(kn,vn){if(M){var Mn;Mn=kn,kn=vn,vn=Mn}return L&&(kn[0]=kn[0].toLowerCase(),vn[0]=vn[0].toLowerCase()),kn[0]<vn[0]?-1:1}if(It.sort(z?bn:un),z)for(var Ut=0;Ut<It.length;Ut++)It[Ut]=It[Ut].input;else K||Wt.sort(un);if(ct=M?It.concat(Wt):Wt.concat(It),U){var Tn=ct,Rn;ct=[];for(var Ut=0;Ut<Tn.length;Ut++)Tn[Ut]!=Rn&&ct.push(Tn[Ut]),Rn=Tn[Ut]}b.replaceRange(ct.join(`
`),Ge,et)},vglobal:function(b,P){this.global(b,P)},normal:function(b,P){var M=!1,L=P.argString;if(L&&L[0]=="!"&&(L=L.slice(1),M=!0),L=L.trimStart(),!L){Cn(b,"Argument is required.");return}var U=P.line;if(typeof U=="number")for(var K=isNaN(P.lineEnd)?U:P.lineEnd,z=U;z<=K;z++)b.setCursor(z,0),vt(b,P.argString.trimStart(),{noremap:M}),b.state.vim.insertMode&&sr(b,!0);else vt(b,P.argString.trimStart(),{noremap:M}),b.state.vim.insertMode&&sr(b,!0)},global:function(b,P){var M=P.argString;if(!M){Cn(b,"Regular Expression missing from global");return}var L=P.commandName[0]==="v";M[0]==="!"&&P.commandName[0]==="g"&&(L=!0,M=M.slice(1));var U=P.line!==void 0?P.line:b.firstLine(),K=P.lineEnd||P.line||b.lastLine(),z=En(M),X=M,re="";if(z&&z.length&&(X=z[0],re=z.slice(1,z.length).join("/")),X)try{_r(b,X,!0,!0)}catch{Cn(b,"Invalid regex: "+X);return}for(var Se=Sn(b).getQuery(),Be=[],Ge=U;Ge<=K;Ge++){var et=b.getLine(Ge),ct=Se.test(et);ct!==L&&Be.push(re?b.getLineHandle(Ge):et)}if(!re){Cn(b,Be.join(`
`));return}var We=0,Tt=function(){if(We<Be.length){var It=Be[We++],Wt=b.getLineNumber(It);if(Wt==null){Tt();return}var Ut=Wt+1+re;Fn.processCommand(b,Ut,{callback:Tt})}else b.releaseLineHandles&&b.releaseLineHandles()};Tt()},substitute:function(b,P){if(!b.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var M=P.argString,L=M?An(M,M[0]):[],U="",K="",z,X,re,Se=!1,Be=!1;if(L&&L.length)U=L[0],Z("pcre")&&U!==""&&(U=new RegExp(U).source),K=L[1],K!==void 0&&(Z("pcre")?K=rr(K.replace(/([^\\])&/g,"$1$$&")):K=nr(K),ne.lastSubstituteReplacePart=K),z=L[2]?L[2].split(" "):[];else if(M&&M.length){Cn(b,"Substitutions should be of the form :s/pattern/replace/");return}if(z&&(X=z[0],re=parseInt(z[1]),X&&(X.indexOf("c")!=-1&&(Se=!0),X.indexOf("g")!=-1&&(Be=!0),Z("pcre")?U=U+"/"+X:U=U.replace(/\//g,"\\/")+"/"+X)),U)try{_r(b,U,!0,!0)}catch{Cn(b,"Invalid regex: "+U);return}if(K=K||ne.lastSubstituteReplacePart,K===void 0){Cn(b,"No previous substitute regular expression");return}var Ge=Sn(b),et=Ge.getQuery(),ct=P.line!==void 0?P.line:b.getCursor().line,We=P.lineEnd||ct;ct==b.firstLine()&&We==b.lastLine()&&(We=1/0),re&&(ct=We,We=ct+re-1);var Tt=Ft(b,new e(ct,0)),It=b.getSearchCursor(et,Tt);ei(b,Se,Be,ct,We,It,et,K,P.callback)},startinsert:function(b,P){vt(b,P.argString=="!"?"A":"i",{})},redo:o.commands.redo,undo:o.commands.undo,write:function(b){o.commands.save?o.commands.save(b):b.save&&b.save()},nohlsearch:function(b){yr(b)},yank:function(b){var P=Ze(b.getCursor()),M=P.line,L=b.getLine(M);ne.registerController.pushText("0","yank",L,!0,!0)},delete:function(b,P){var M=P.selectionLine,L=isNaN(P.selectionLineEnd)?M:P.selectionLineEnd;qe.delete(b,{linewise:!0},[{anchor:new e(M,0),head:new e(L+1,0)}])},join:function(b,P){var M=P.selectionLine,L=isNaN(P.selectionLineEnd)?M:P.selectionLineEnd;b.setCursor(new e(M,0)),Pt.joinLines(b,{repeat:L-M},b.state.vim)},delmarks:function(b,P){if(!P.argString||!be(P.argString)){Cn(b,"Argument required");return}for(var M=b.state.vim,L=new o.StringStream(be(P.argString));!L.eol();){L.eatSpace();var U=L.pos;if(!L.match(/[a-zA-Z]/,!1)){Cn(b,"Invalid argument: "+P.argString.substring(U));return}var K=L.next();if(L.match("-",!0)){if(!L.match(/[a-zA-Z]/,!1)){Cn(b,"Invalid argument: "+P.argString.substring(U));return}var z=K,X=L.next();if(z&&X&&E(z)==E(X)){var re=z.charCodeAt(0),Se=X.charCodeAt(0);if(re>=Se){Cn(b,"Invalid argument: "+P.argString.substring(U));return}for(var Be=0;Be<=Se-re;Be++){var Ge=String.fromCharCode(re+Be);delete M.marks[Ge]}}else{Cn(b,"Invalid argument: "+z+"-");return}}else K&&delete M.marks[K]}}},Fn=new mr;Te.defineEx("version","ve",b=>{Cn(b,"Codemirror-vim version: 6.3.0")});function ei(b,P,M,L,U,K,z,X,re){b.state.vim.exMode=!0;var Se=!1,Be=0,Ge,et,ct;function We(){b.operation(function(){for(;!Se;)Tt(),Wt();Ut()})}function Tt(){var un="",bn=K.match||K.pos&&K.pos.match;if(bn)un=X.replace(/\$(\d{1,3}|[$&])/g,function(kn,vn){if(vn=="$")return"$";if(vn=="&")return bn[0];for(var Mn=vn;parseInt(Mn)>=bn.length&&Mn.length>0;)Mn=Mn.slice(0,Mn.length-1);return Mn?bn[Mn]+vn.slice(Mn.length,vn.length):kn});else{var Tn=b.getRange(K.from(),K.to());un=Tn.replace(z,X)}var Rn=K.to().line;K.replace(un),et=K.to().line,U+=et-Rn,ct=et<Rn}function It(){var un=Ge&&Ze(K.to()),bn=K.findNext();return bn&&!bn[0]&&un&&Oe(K.from(),un)&&(bn=K.findNext()),bn&&Be++,bn}function Wt(){for(;It()&&Hn(K.from(),L,U);)if(!(!M&&K.from().line==et&&!ct)){b.scrollIntoView(K.from(),30),b.setSelection(K.from(),K.to()),Ge=K.from(),Se=!1;return}Se=!0}function Ut(un){if(un&&un(),b.focus(),Ge){b.setCursor(Ge);var bn=b.state.vim;bn.exMode=!1,bn.lastHPos=bn.lastHSPos=Ge.ch}re?re():Se&&Cn(b,(Be?"Found "+Be+" matches":"No matches found")+" for pattern: "+z+(Z("pcre")?" (set nopcre to use Vim regexps)":""))}function Ht(un,bn,Tn){o.e_stop(un);var Rn=Ct(un);switch(Rn){case"y":Tt(),Wt();break;case"n":Wt();break;case"a":var kn=re;re=void 0,b.operation(We),re=kn;break;case"l":Tt();case"q":case"<Esc>":case"<C-c>":case"<C-[>":Ut(Tn);break}return Se&&Ut(Tn),!0}if(Wt(),Se){Cn(b,"No matches for "+z+(Z("pcre")?" (set nopcre to use vim regexps)":""));return}if(!P){We(),re&&re();return}Mr(b,{prefix:Gn("span","replace with ",Gn("strong",X)," (y/n/a/q/l)"),onKeyDown:Ht})}function sr(b,P){var M=b.state.vim,L=ne.macroModeState,U=ne.registerController.getRegister("."),K=L.isPlaying,z=L.lastInsertModeChanges;K||(b.off("change",Ar),M.insertEnd&&M.insertEnd.clear(),M.insertEnd=void 0,o.off(b.getInputField(),"keydown",Nr)),!K&&M.insertModeRepeat&&M.insertModeRepeat>1&&(cn(b,M,M.insertModeRepeat-1,!0),M.lastEditInputState.repeatOverride=M.insertModeRepeat),delete M.insertModeRepeat,M.insertMode=!1,P||b.setCursor(b.getCursor().line,b.getCursor().ch-1),b.setOption("keyMap","vim"),b.setOption("disableInput",!0),b.toggleOverwrite(!1),U.setText(z.changes.join("")),o.signal(b,"vim-mode-change",{mode:"normal"}),L.isRecording&&si(L)}function Vr(b){r.unshift(b),b.keys&&ti(b.keys)}function ti(b){b.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(P){P&&(a[P]||(a[P]=0),a[P]++)})}function oi(b){b.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(P){a[P]&&a[P]--})}function ai(b,P,M,L,U){var K={keys:b,type:P};K[P]=M,K[P+"Args"]=L;for(var z in U)K[z]=U[z];Vr(K)}ee("insertModeEscKeysTimeout",200,"number");function Or(b,P,M,L){var U=ne.registerController.getRegister(L);if(L==":"){U.keyBuffer[0]&&Fn.processCommand(b,U.keyBuffer[0]),M.isPlaying=!1;return}var K=U.keyBuffer,z=0;M.isPlaying=!0,M.replaySearchQueries=U.searchQueries.slice(0);for(var X=0;X<K.length;X++)for(var re=K[X],Se,Be,Ge=/<(?:[CSMA]-)*\w+>|./gi;Se=Ge.exec(re);)if(Be=Se[0],Te.handleKey(b,Be,"macro"),P.insertMode){var et=U.insertModeChanges[z++].changes;ne.macroModeState.lastInsertModeChanges.changes=et,Cr(b,et,1),sr(b)}M.isPlaying=!1}function Dr(b,P){if(!b.isPlaying){var M=b.latestRegister,L=ne.registerController.getRegister(M);L&&L.pushText(P)}}function si(b){if(!b.isPlaying){var P=b.latestRegister,M=ne.registerController.getRegister(P);M&&M.pushInsertModeChanges&&M.pushInsertModeChanges(b.lastInsertModeChanges)}}function ni(b,P){if(!b.isPlaying){var M=b.latestRegister,L=ne.registerController.getRegister(M);L&&L.pushSearchQuery&&L.pushSearchQuery(P)}}function Ar(b,P){var M=ne.macroModeState,L=M.lastInsertModeChanges;if(!M.isPlaying)for(var U=b.state.vim;P;){if(L.expectCursorActivityForChange=!0,L.ignoreCount>1)L.ignoreCount--;else if(P.origin=="+input"||P.origin=="paste"||P.origin===void 0){var K=b.listSelections().length;K>1&&(L.ignoreCount=K);var z=P.text.join(`
`);if(L.maybeReset&&(L.changes=[],L.maybeReset=!1),z)if(b.state.overwrite&&!/\n/.test(z))L.changes.push([z]);else{if(z.length>1){var X=U&&U.insertEnd&&U.insertEnd.find(),re=b.getCursor();if(X&&X.line==re.line){var Se=X.ch-re.ch;Se>0&&Se<z.length&&(L.changes.push([z,Se]),z="")}}z&&L.changes.push(z)}}P=P.next}}function vr(b){var P=b.state.vim;if(P.insertMode){var M=ne.macroModeState;if(M.isPlaying)return;var L=M.lastInsertModeChanges;L.expectCursorActivityForChange?L.expectCursorActivityForChange=!1:(L.maybeReset=!0,P.insertEnd&&P.insertEnd.clear(),P.insertEnd=b.setBookmark(b.getCursor(),{insertLeft:!0}))}else b.curOp?.isVimOp||qn(b,P)}function qn(b,P){var M=b.getCursor("anchor"),L=b.getCursor("head");if(P.visualMode&&!b.somethingSelected()?Gt(b,!1):!P.visualMode&&!P.insertMode&&b.somethingSelected()&&(P.visualMode=!0,P.visualLine=!1,o.signal(b,"vim-mode-change",{mode:"visual"})),P.visualMode){var U=bt(L,M)?0:-1,K=bt(L,M)?-1:0;L=T(L,0,U),M=T(M,0,K),P.sel={anchor:M,head:L},Zt(b,P,"<",ht(L,M)),Zt(b,P,">",q(L,M))}else P.insertMode||(P.lastHPos=b.getCursor().ch)}function Nr(b){var P=ne.macroModeState,M=P.lastInsertModeChanges,L=o.keyName?o.keyName(b):b.key;L&&(L.indexOf("Delete")!=-1||L.indexOf("Backspace")!=-1)&&(M.maybeReset&&(M.changes=[],M.maybeReset=!1),M.changes.push(new Ce(L,b)))}function cn(b,P,M,L){var U=ne.macroModeState;U.isPlaying=!0;var K=P.lastEditActionCommand,z=P.inputState;function X(){K?Ee.processAction(b,P,K):Ee.evalInput(b,P)}function re(Be){if(U.lastInsertModeChanges.changes.length>0){Be=P.lastEditActionCommand?Be:1;var Ge=U.lastInsertModeChanges;Cr(b,Ge.changes,Be)}}if(P.inputState=P.lastEditInputState,K&&K.interlaceInsertRepeat)for(var Se=0;Se<M;Se++)X(),re(1);else L||X(),re(M);P.inputState=z,P.insertMode&&!L&&sr(b),U.isPlaying=!1}function mt(b,P){o.lookupKey(P,"vim-insert",function(L){return typeof L=="string"?o.commands[L](b):L(b),!0})}function Cr(b,P,M){var L=b.getCursor("head"),U=ne.macroModeState.lastInsertModeChanges.visualBlock;U&&(Ue(b,L,U+1),M=b.listSelections().length,b.setCursor(L));for(var K=0;K<M;K++){U&&b.setCursor(T(L,K,0));for(var z=0;z<P.length;z++){var X=P[z];if(X instanceof Ce)mt(b,X.keyName);else if(typeof X=="string")b.replaceSelection(X);else{var re=b.getCursor(),Se=T(re,0,X[0].length-(X[1]||0));b.replaceRange(X[0],re,X[1]?re:Se),b.setCursor(Se)}}}U&&b.setCursor(T(L,0,1))}function Tr(b){var P=new b.constructor;return Object.keys(b).forEach(function(M){if(M!="insertEnd"){var L=b[M];Array.isArray(L)?L=L.slice():L&&typeof L=="object"&&L.constructor!=Object&&(L=Tr(L)),P[M]=L}}),b.sel&&(P.sel={head:b.sel.head&&Ze(b.sel.head),anchor:b.sel.anchor&&Ze(b.sel.anchor)}),P}function Pr(b,P,M){var K=H(b),L=b,U=!1,K=Te.maybeInitVimState_(L),z=K.visualBlock||K.wasInVisualBlock;if(L.state.closeVimNotification){var X=L.state.closeVimNotification;if(L.state.closeVimNotification=null,X(),P=="<CR>")return je(L),!0}var re=L.isInMultiSelectMode();if(K.wasInVisualBlock&&!re?K.wasInVisualBlock=!1:re&&K.visualBlock&&(K.wasInVisualBlock=!0),P=="<Esc>"&&!K.insertMode&&!K.visualMode&&re&&K.status=="<Esc>")je(L);else if(z||!re||L.inVirtualSelectionMode)U=Te.handleKey(L,P,M);else{var Se=Tr(K),Be=K.inputState.changeQueueList||[];L.operation(function(){L.curOp&&(L.curOp.isVimOp=!0);var Ge=0;L.forEachSelection(function(){L.state.vim.inputState.changeQueue=Be[Ge];var et=L.getCursor("head"),ct=L.getCursor("anchor"),We=bt(et,ct)?0:-1,Tt=bt(et,ct)?-1:0;et=T(et,0,We),ct=T(ct,0,Tt),L.state.vim.sel.head=et,L.state.vim.sel.anchor=ct,U=Te.handleKey(L,P,M),L.virtualSelection&&(Be[Ge]=L.state.vim.inputState.changeQueue,L.state.vim=Tr(Se)),Ge++}),L.curOp?.cursorActivity&&!U&&(L.curOp.cursorActivity=!1),L.state.vim=K,K.inputState.changeQueueList=Be,K.inputState.changeQueue=null},!0)}return U&&!K.visualMode&&!K.insertMode&&K.visualMode!=L.somethingSelected()&&qn(L,K),U}return V(),Te}function indexFromPos(o,e){var n=e.ch,r=e.line+1;r<1&&(r=1,n=0),r>o.lines&&(r=o.lines,n=Number.MAX_VALUE);var a=o.line(r);return Math.min(a.from+Math.max(0,n),a.to)}function posFromIndex(o,e){let n=o.lineAt(e);return{line:n.number-1,ch:e-n.from}}class Pos{constructor(e,n){this.line=e,this.ch=n}}function on(o,e,n){if(o.addEventListener)o.addEventListener(e,n,!1);else{var r=o._handlers||(o._handlers={});r[e]=(r[e]||[]).concat(n)}}function off(o,e,n){if(o.removeEventListener)o.removeEventListener(e,n,!1);else{var r=o._handlers,a=r&&r[e];if(a){var s=a.indexOf(n);s>-1&&(r[e]=a.slice(0,s).concat(a.slice(s+1)))}}}function signal(o,e,...n){var r,a=(r=o._handlers)===null||r===void 0?void 0:r[e];if(a)for(var s=0;s<a.length;++s)a[s](...n)}function signalTo(o,...e){if(o)for(var n=0;n<o.length;++n)o[n](...e)}let wordChar;try{wordChar=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{wordChar=/[\w]/}function dispatchChange(o,e){var n=o.cm6;if(!n.state.readOnly){var r="input.type.compose";if(o.curOp&&(o.curOp.lastChange||(r="input.type.compose.start")),e.annotations)try{e.annotations.some(function(a){a.value=="input"&&(a.value=r)})}catch(a){console.error(a)}else e.userEvent=r;return n.dispatch(e)}}function runHistoryCommand(o,e){var n;o.curOp&&(o.curOp.$changeStart=void 0),(e?undo:redo)(o.cm6);let r=(n=o.curOp)===null||n===void 0?void 0:n.$changeStart;r!=null&&o.cm6.dispatch({selection:{anchor:r}})}var keys$1={Left:o=>runScopeHandlers(o.cm6,{key:"Left"},"editor"),Right:o=>runScopeHandlers(o.cm6,{key:"Right"},"editor"),Up:o=>runScopeHandlers(o.cm6,{key:"Up"},"editor"),Down:o=>runScopeHandlers(o.cm6,{key:"Down"},"editor"),Backspace:o=>runScopeHandlers(o.cm6,{key:"Backspace"},"editor"),Delete:o=>runScopeHandlers(o.cm6,{key:"Delete"},"editor")};class CodeMirror{openDialog(e,n,r){return openDialog(this,e,n,r)}openNotification(e,n){return openNotification(this,e,n)}constructor(e){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=e,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(e,n){on(this,e,n)}off(e,n){off(this,e,n)}signal(e,n,r){signal(this,e,n,r)}indexFromPos(e){return indexFromPos(this.cm6.state.doc,e)}posFromIndex(e){return posFromIndex(this.cm6.state.doc,e)}foldCode(e){let n=this.cm6,r=n.state.selection.ranges,a=this.cm6.state.doc,s=indexFromPos(a,e),l=EditorSelection.create([EditorSelection.range(s,s)],0).ranges;n.state.selection.ranges=l,foldCode(n),n.state.selection.ranges=r}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(e,n){typeof e=="object"&&(n=e.ch,e=e.line);var r=indexFromPos(this.cm6.state.doc,{line:e,ch:n||0});this.cm6.dispatch({selection:{anchor:r}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(e){var n=this.cm6.state.selection.main,r=e=="head"||!e?n.head:e=="anchor"?n.anchor:e=="start"?n.from:e=="end"?n.to:null;if(r==null)throw new Error("Invalid cursor type");return this.posFromIndex(r)}listSelections(){var e=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(n=>({anchor:posFromIndex(e,n.anchor),head:posFromIndex(e,n.head)}))}setSelections(e,n){var r=this.cm6.state.doc,a=e.map(s=>{var l=indexFromPos(r,s.head),c=indexFromPos(r,s.anchor);return l==c?EditorSelection.cursor(l,1):EditorSelection.range(c,l)});this.cm6.dispatch({selection:EditorSelection.create(a,n)})}setSelection(e,n,r){this.setSelections([{anchor:e,head:n}],0),r&&r.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(e){var n=this.cm6.state.doc;return e<0||e>=n.lines?"":this.cm6.state.doc.line(e+1).text}getLineHandle(e){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:e,index:this.indexFromPos(new Pos(e,0))}}getLineNumber(e){var n=this.$lineHandleChanges;if(!n)return null;for(var r=e.index,a=0;a<n.length;a++)if(r=n[a].changes.mapPos(r,1,MapMode.TrackAfter),r==null)return null;var s=this.posFromIndex(r);return s.ch==0?s.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(e,n){var r=this.cm6.state.doc;return this.cm6.state.sliceDoc(indexFromPos(r,e),indexFromPos(r,n))}replaceRange(e,n,r,a){r||(r=n);var s=this.cm6.state.doc,l=indexFromPos(s,n),c=indexFromPos(s,r);dispatchChange(this,{changes:{from:l,to:c,insert:e}})}replaceSelection(e){dispatchChange(this,this.cm6.state.replaceSelection(e))}replaceSelections(e){var n=this.cm6.state.selection.ranges,r=n.map((a,s)=>({from:a.from,to:a.to,insert:e[s]||""}));dispatchChange(this,{changes:r})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var e=this.cm6;return e.state.selection.ranges.map(n=>e.state.sliceDoc(n.from,n.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(e=>!e.empty)}getInputField(){return this.cm6.contentDOM}clipPos(e){var n=this.cm6.state.doc,r=e.ch,a=e.line+1;a<1&&(a=1,r=0),a>n.lines&&(a=n.lines,r=Number.MAX_VALUE);var s=n.line(a);return r=Math.min(Math.max(0,r),s.to-s.from),new Pos(a-1,r)}getValue(){return this.cm6.state.doc.toString()}setValue(e){var n=this.cm6;return n.dispatch({changes:{from:0,to:n.state.doc.length,insert:e},selection:EditorSelection.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(e,n){var r=this.cm6.state,a=indexFromPos(r.doc,e),s=matchBrackets(r,a+1,-1);return s&&s.end?{to:posFromIndex(r.doc,s.end.from)}:(s=matchBrackets(r,a,1),s&&s.end?{to:posFromIndex(r.doc,s.end.from)}:{to:void 0})}scanForBracket(e,n,r,a){return scanForBracket(this,e,n,r,a)}indentLine(e,n){n?this.indentMore():this.indentLess()}indentMore(){indentMore(this.cm6)}indentLess(){indentLess(this.cm6)}execCommand(e){if(e=="indentAuto")CodeMirror.commands.indentAuto(this);else if(e=="goLineLeft")cursorLineBoundaryBackward(this.cm6);else if(e=="goLineRight"){cursorLineBoundaryForward(this.cm6);let n=this.cm6.state,r=n.selection.main.head;r<n.doc.length&&n.sliceDoc(r,r+1)!==`
`&&cursorCharBackward(this.cm6)}else console.log(e+" is not implemented")}setBookmark(e,n){var r=n?.insertLeft?1:-1,a=this.indexFromPos(e),s=new Marker(this,a,r);return s}addOverlay({query:e}){let n=new SearchQuery({regexp:!0,search:e.source,caseSensitive:!/i/.test(e.flags)});if(n.valid){n.forVim=!0,this.cm6Query=n;let r=setSearchQuery.of(n);return this.cm6.dispatch({effects:r}),n}}removeOverlay(e){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let n=setSearchQuery.of(this.cm6Query);this.cm6.dispatch({effects:n})}getSearchCursor(e,n){var r=this,a=null,s=null,l=!1;n.ch==null&&(n.ch=Number.MAX_VALUE);var c=indexFromPos(r.cm6.state.doc,n),u=e.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(g,y){return y||"\\"+g});function h(g,y=0,v=g.length){return new RegExpCursor(g,u,{ignoreCase:e.ignoreCase},y,v)}function f(g){var y=r.cm6.state.doc;if(g>y.length)return null;let v=h(y,g).next();return v.done?null:v.value}var d=1e4;function p(g,y){var v=r.cm6.state.doc;for(let w=1;;w++){let O=Math.max(g,y-w*d),k=h(v,O,y),E=null;for(;!k.next().done;)E=k.value;if(E&&(O==g||E.from>O+10))return E;if(O==g)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(g){var y=r.cm6.state.doc;if(g){let v=a?l?a.to-1:a.from:c;a=p(0,v)}else{let v=a?l?a.to+1:a.to:c;a=f(v)}return s=a&&{from:posFromIndex(y,a.from),to:posFromIndex(y,a.to),match:a.match},l=a?a.from==a.to:!1,a&&a.match},from:function(){return s?.from},to:function(){return s?.to},replace:function(g){a&&(dispatchChange(r,{changes:{from:a.from,to:a.to,insert:g}}),a.to=a.from+g.length,s&&(s.to=posFromIndex(r.cm6.state.doc,a.to)))},get match(){return s&&s.match}}}findPosV(e,n,r,a){let{cm6:s}=this;const l=s.state.doc;let c=r=="page"?s.dom.clientHeight:0;const u=indexFromPos(l,e);let h=EditorSelection.cursor(u,1,void 0,a),f=Math.round(Math.abs(n));for(let p=0;p<f;p++)r=="page"?h=s.moveVertically(h,n>0,c):r=="line"&&(h=s.moveVertically(h,n>0));let d=posFromIndex(l,h.head);return(n<0&&h.head==0&&a!=0&&e.line==0&&e.ch!=0||n>0&&h.head==l.length&&d.ch!=a&&e.line==d.line)&&(d.hitSide=!0),d}charCoords(e,n){var r=this.cm6.contentDOM.getBoundingClientRect(),a=indexFromPos(this.cm6.state.doc,e),s=this.cm6.coordsAtPos(a),l=-r.top;return{left:(s?.left||0)-r.left,top:(s?.top||0)+l,bottom:(s?.bottom||0)+l}}coordsChar(e,n){var r=this.cm6.contentDOM.getBoundingClientRect(),a=this.cm6.posAtCoords({x:e.left+r.left,y:e.top+r.top})||0;return posFromIndex(this.cm6.state.doc,a)}getScrollInfo(){var e=this.cm6.scrollDOM;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight,width:e.scrollWidth,clientHeight:e.clientHeight,clientWidth:e.clientWidth}}scrollTo(e,n){e!=null&&(this.cm6.scrollDOM.scrollLeft=e),n!=null&&(this.cm6.scrollDOM.scrollTop=n)}scrollIntoView(e,n){if(e){var r=this.indexFromPos(e);this.cm6.dispatch({effects:EditorView.scrollIntoView(r)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(e,n){this.cm6.dom.style.width=e+4+"px",this.cm6.dom.style.height=n+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(e){this.$lineHandleChanges&&this.$lineHandleChanges.push(e);for(let r in this.marks)this.marks[r].update(e.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(r=>r.map(e.changes)));var n=this.curOp=this.curOp||{};e.changes.iterChanges((r,a,s,l,c)=>{(n.$changeStart==null||n.$changeStart>s)&&(n.$changeStart=s),this.$lastChangeEndOffset=l;var u={text:c.toJSON()};n.lastChange?n.lastChange.next=n.lastChange=u:n.lastChange=n.change=u},!0),n.changeHandlers||(n.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var e=this.curOp=this.curOp||{};e.cursorActivityHandlers||(e.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(e,n){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var r=e()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return r}onBeforeEndOperation(){var e=this.curOp,n=!1;e&&(e.change&&signalTo(e.changeHandlers,this,e.change),e&&e.cursorActivity&&(signalTo(e.cursorActivityHandlers,this,null),e.isVimOp&&(n=!0)),this.curOp=null),n&&this.scrollIntoView()}moveH(e,n){if(n=="char"){var r=this.getCursor();this.setCursor(r.line,r.ch+e)}}setOption(e,n){switch(e){case"keyMap":this.state.keyMap=n;break;case"textwidth":this.state.textwidth=n;break}}getOption(e){switch(e){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(indentUnit)=="	";case"indentUnit":return this.cm6.state.facet(indentUnit).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(e){this.state.overwrite=e}getTokenTypeAt(e){var n,r=this.indexFromPos(e),a=ensureSyntaxTree(this.cm6.state,r),s=a?.resolve(r),l=((n=s?.type)===null||n===void 0?void 0:n.name)||"";return/comment/i.test(l)?"comment":/string/i.test(l)?"string":""}overWriteSelection(e){var n=this.cm6.state.doc,r=this.cm6.state.selection,a=r.ranges.map(s=>{if(s.empty){var l=s.to<n.length?n.sliceString(s.from,s.to+1):"";if(l&&!/\n/.test(l))return EditorSelection.range(s.from,s.to+1)}return s});this.cm6.dispatch({selection:EditorSelection.create(a,r.mainIndex)}),this.replaceSelection(e)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(e){var n=this.cm6.state.selection;this.virtualSelection=EditorSelection.create(n.ranges,n.mainIndex);for(var r=0;r<this.virtualSelection.ranges.length;r++){var a=this.virtualSelection.ranges[r];a&&(this.cm6.dispatch({selection:EditorSelection.create([a])}),e(),this.virtualSelection.ranges[r]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(e){return hardWrap(this,e)}}CodeMirror.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);CodeMirror.Pos=Pos;CodeMirror.StringStream=StringStream;CodeMirror.commands={cursorCharLeft:function(o){cursorCharLeft(o.cm6)},redo:function(o){runHistoryCommand(o,!1)},undo:function(o){runHistoryCommand(o,!0)},newlineAndIndent:function(o){insertNewlineAndIndent({state:o.cm6.state,dispatch:e=>dispatchChange(o,e)})},indentAuto:function(o){indentSelection(o.cm6)},newlineAndIndentContinueComment:void 0,save:void 0};CodeMirror.isWordChar=function(o){return wordChar.test(o)};CodeMirror.keys=keys$1;CodeMirror.addClass=function(o,e){};CodeMirror.rmClass=function(o,e){};CodeMirror.e_preventDefault=function(o){o.preventDefault()};CodeMirror.e_stop=function(o){var e,n;(e=o?.stopPropagation)===null||e===void 0||e.call(o),(n=o?.preventDefault)===null||n===void 0||n.call(o)};CodeMirror.lookupKey=function(e,n,r){var a=CodeMirror.keys[e];!a&&/^Arrow/.test(e)&&(a=CodeMirror.keys[e.slice(5)]),a&&r(a)};CodeMirror.on=on;CodeMirror.off=off;CodeMirror.signal=signal;CodeMirror.findMatchingTag=findMatchingTag;CodeMirror.findEnclosingTag=findEnclosingTag;CodeMirror.keyName=void 0;function dialogDiv(o,e,n){var r=document.createElement("div");return r.appendChild(e),r}function closeNotification(o,e){o.state.currentNotificationClose&&o.state.currentNotificationClose(),o.state.currentNotificationClose=e}function openNotification(o,e,n){closeNotification(o,c);var r=dialogDiv(o,e,n&&n.bottom),a=!1,s,l=n&&typeof n.duration<"u"?n.duration:5e3;function c(){a||(a=!0,clearTimeout(s),r.remove(),hideDialog(o,r))}return r.onclick=function(u){u.preventDefault(),c()},showDialog(o,r),l&&(s=setTimeout(c,l)),c}function showDialog(o,e){var n=o.state.dialog;o.state.dialog=e,e.style.flex="1",e&&n!==e&&(n&&n.contains(document.activeElement)&&o.focus(),n&&n.parentElement?n.parentElement.replaceChild(e,n):n&&n.remove(),CodeMirror.signal(o,"dialog"))}function hideDialog(o,e){o.state.dialog==e&&(o.state.dialog=null,CodeMirror.signal(o,"dialog"))}function openDialog(o,e,n,r){r||(r={}),closeNotification(o,void 0);var a=dialogDiv(o,e,r.bottom),s=!1;showDialog(o,a);function l(u){if(typeof u=="string")c.value=u;else{if(s)return;s=!0,hideDialog(o,a),o.state.dialog||o.focus(),r.onClose&&r.onClose(a)}}var c=a.getElementsByTagName("input")[0];return c&&(r.value&&(c.value=r.value,r.selectValueOnOpen!==!1&&c.select()),r.onInput&&CodeMirror.on(c,"input",function(u){r.onInput(u,c.value,l)}),r.onKeyUp&&CodeMirror.on(c,"keyup",function(u){r.onKeyUp(u,c.value,l)}),CodeMirror.on(c,"keydown",function(u){r&&r.onKeyDown&&r.onKeyDown(u,c.value,l)||(u.keyCode==13&&n&&n(c.value),(u.keyCode==27||r.closeOnEnter!==!1&&u.keyCode==13)&&(c.blur(),CodeMirror.e_stop(u),l()))}),r.closeOnBlur!==!1&&CodeMirror.on(c,"blur",function(){setTimeout(function(){document.activeElement!==c&&l()})}),c.focus()),l}var matching={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function bracketRegex(o){return o&&o.bracketRegex||/[(){}[\]]/}function scanForBracket(o,e,n,r,a){for(var s=a&&a.maxScanLineLength||1e4,l=a&&a.maxScanLines||1e3,c=[],u=bracketRegex(a),h=n>0?Math.min(e.line+l,o.lastLine()+1):Math.max(o.firstLine()-1,e.line-l),f=e.line;f!=h;f+=n){var d=o.getLine(f);if(d){var p=n>0?0:d.length-1,g=n>0?d.length:-1;if(!(d.length>s))for(f==e.line&&(p=e.ch-(n<0?1:0));p!=g;p+=n){var y=d.charAt(p);if(u.test(y)){var v=matching[y];if(v&&v.charAt(1)==">"==n>0)c.push(y);else if(c.length)c.pop();else return{pos:new Pos(f,p),ch:y}}}}}return f-n==(n>0?o.lastLine():o.firstLine())?!1:null}function findMatchingTag(o,e){return null}function findEnclosingTag(o,e){var n,r,a=o.cm6.state,s=o.indexFromPos(e);if(s<a.doc.length){var l=a.sliceDoc(s,s+1);l=="<"&&s++}for(var c=ensureSyntaxTree(a,s),u=c?.resolve(s)||null;u;){if(((n=u.firstChild)===null||n===void 0?void 0:n.type.name)=="OpenTag"&&((r=u.lastChild)===null||r===void 0?void 0:r.type.name)=="CloseTag")return{open:convertRange(a.doc,u.firstChild),close:convertRange(a.doc,u.lastChild)};u=u.parent}}function convertRange(o,e){return{from:posFromIndex(o,e.from),to:posFromIndex(o,e.to)}}class Marker{constructor(e,n,r){this.cm=e,this.id=e.$mid++,this.offset=n,this.assoc=r,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,MapMode.TrackDel))}}function hardWrap(o,e){for(var n,r=e.column||o.getOption("textwidth")||80,a=e.allowMerge!=!1,s=Math.min(e.from,e.to),l=Math.max(e.from,e.to);s<=l;){var c=o.getLine(s);if(c.length>r){var u=y(c,r,5);if(u){var h=(n=/^\s*/.exec(c))===null||n===void 0?void 0:n[0];o.replaceRange(`
`+h,new Pos(s,u.start),new Pos(s,u.end))}l++}else if(a&&/\S/.test(c)&&s!=l){var f=o.getLine(s+1);if(f&&/\S/.test(f)){var d=c.replace(/\s+$/,""),p=f.replace(/^\s+/,""),g=d+" "+p,u=y(g,r,5);u&&u.start>d.length||g.length<r?(o.replaceRange(" ",new Pos(s,d.length),new Pos(s+1,f.length-p.length)),s--,l--):d.length<c.length&&o.replaceRange("",new Pos(s,d.length),new Pos(s,c.length))}}s++}return s;function y(v,w,O){if(!(v.length<w)){var k=v.slice(0,w),E=v.slice(w),I=/^(?:(\s+)|(\S+)(\s+))/.exec(E),G=/(?:(\s+)|(\s+)(\S+))$/.exec(k),J=0,Q=0;if(G&&!G[2]&&(J=w-G[1].length,Q=w),I&&!I[2]&&(J||(J=w),Q=w+I[1].length),J)return{start:J,end:Q};if(G&&G[2]&&G.index>O)return{start:G.index,end:G.index+G[2].length};if(I&&I[2])return J=w+I[2].length,{start:J,end:J+I[3].length}}}}let getDrawSelectionConfig=getDrawSelectionConfig$1||(function(){let o={cursorBlinkRate:1200};return function(){return o}})();class Piece{constructor(e,n,r,a,s,l,c,u,h,f){this.left=e,this.top=n,this.height=r,this.fontFamily=a,this.fontSize=s,this.fontWeight=l,this.color=c,this.className=u,this.letter=h,this.partial=f}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}}class BlockCursorPlugin{constructor(e,n){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=n,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let n=getDrawSelectionConfig(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=n+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),configChanged(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,n=[];for(let r of e.selection.ranges){let a=r==e.selection.main,s=measureCursor(this.cm,this.view,r,a);s&&n.push(s)}return{cursors:n}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((n,r)=>!n.eq(this.cursors[r]))){let n=this.cursorLayer.children;if(n.length!==e.length){this.cursorLayer.textContent="";for(const r of e)this.cursorLayer.appendChild(r.draw())}else e.forEach((r,a)=>r.adjust(n[a]));this.cursors=e}}destroy(){this.cursorLayer.remove()}}function configChanged(o){return getDrawSelectionConfig(o.startState)!=getDrawSelectionConfig(o.state)}const themeSpec={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function getBase(o){let e=o.scrollDOM.getBoundingClientRect();return{left:(o.textDirection==Direction.LTR?e.left:e.right-o.scrollDOM.clientWidth)-o.scrollDOM.scrollLeft*o.scaleX,top:e.top-o.scrollDOM.scrollTop*o.scaleY}}function measureCursor(o,e,n,r){var a,s,l,c;let u=n.head,h=!1,f=1,d=o.state.vim;if(d&&(!d.insertMode||o.state.overwrite)){if(h=!0,d.visualBlock&&!r)return null;n.anchor<n.head&&(u<e.state.doc.length&&e.state.sliceDoc(u,u+1))!=`
`&&u--,o.state.overwrite?f=.2:d.status&&(f=.5)}if(h){let g=u<e.state.doc.length&&e.state.sliceDoc(u,u+1);g&&/[\uDC00-\uDFFF]/.test(g)&&u>1&&(u--,g=e.state.sliceDoc(u,u+1));let y=e.coordsAtPos(u,1);if(!y)return null;let v=getBase(e),w=e.domAtPos(u),O=w?w.node:e.contentDOM;for(O instanceof Text&&w.offset>=O.data.length&&!((a=O.parentElement)===null||a===void 0)&&a.nextSibling&&(O=(s=O.parentElement)===null||s===void 0?void 0:s.nextSibling,w={node:O,offset:0});w&&w.node instanceof HTMLElement;)O=w.node,w={node:w.node.childNodes[w.offset],offset:0};if(!(O instanceof HTMLElement)){if(!O.parentNode)return null;O=O.parentNode}let k=getComputedStyle(O),E=y.left,I=(c=(l=e).coordsForChar)===null||c===void 0?void 0:c.call(l,u);if(I&&(E=I.left),!g||g==`
`||g=="\r")g="";else if(g=="	"){g="";var p=e.coordsAtPos(u+1,-1);p&&(E=p.left-(p.left-y.left)/parseInt(k.tabSize))}else/[\uD800-\uDBFF]/.test(g)&&u<e.state.doc.length-1&&(g+=e.state.sliceDoc(u+1,u+2));let G=y.bottom-y.top;return new Piece((E-v.left)/e.scaleX,(y.top-v.top+G*(1-f))/e.scaleY,G*f/e.scaleY,k.fontFamily,k.fontSize,k.fontWeight,k.color,r?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",g,f!=1)}else return null}var FIREFOX_LINUX=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const Vim=initVim(CodeMirror),HighlightMargin=250,vimStyle=EditorView.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em",display:"flex"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),vimPlugin=ViewPlugin.fromClass(class{constructor(o){this.status="",this.query=null,this.decorations=Decoration.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=o;const e=this.cm=new CodeMirror(o);Vim.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new BlockCursorPlugin(o,e),this.updateClass(),this.cm.on("vim-command-done",()=>{e.state.vim&&(e.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",n=>{e.state.vim&&(e.state.vim.mode=n.mode,n.subMode&&(e.state.vim.mode+=" block"),e.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():o.dispatch({effects:showVimPanel.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.spacer=document.createElement("span"),this.spacer.style.flex="1",this.statusButton=document.createElement("span"),this.statusButton.onclick=n=>{Vim.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(o){var e;if((o.viewportChanged||o.docChanged)&&this.query&&this.highlight(this.query),o.docChanged&&this.cm.onChange(o),o.selectionSet&&this.cm.onSelectionChange(),o.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),o.transactions){for(let n of o.transactions)for(let r of n.effects)if(r.is(setSearchQuery))if(!((e=r.value)===null||e===void 0?void 0:e.forVim))this.highlight(null);else{let s=r.value.create();this.highlight(s)}}this.blockCursor.update(o)}updateClass(){const o=this.cm.state;!o.vim||o.vim.insertMode&&!o.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let o=this.cm.state.statusbar,e=this.cm.state.vim;if(!o||!e)return;let n=this.cm.state.dialog;if(n)n.parentElement!=o&&(o.textContent="",o.appendChild(n));else{o.textContent="";var r=(e.mode||"normal").toUpperCase();e.insertModeReturn&&(r+="(C-O)"),this.statusButton.textContent=`--${r}--`,o.appendChild(this.statusButton),o.appendChild(this.spacer)}this.dom.textContent=e.status,o.appendChild(this.dom)}destroy(){Vim.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(o){if(this.query=o,!o)return this.decorations=Decoration.none;let{view:e}=this,n=new RangeSetBuilder;for(let r=0,a=e.visibleRanges,s=a.length;r<s;r++){let{from:l,to:c}=a[r];for(;r<s-1&&c>a[r+1].from-2*HighlightMargin;)c=a[++r].to;o.highlight(e.state,l,c,(u,h)=>{n.add(u,h,matchMark)})}return this.decorations=n.finish()}handleKey(o,e){const n=this.cm;let r=n.state.vim;if(!r)return;const a=Vim.vimKeyFromEvent(o,r);if(CodeMirror.signal(this.cm,"inputEvent",{type:"handleKey",key:a}),!a)return;if(a=="<Esc>"&&!r.insertMode&&!r.visualMode&&this.query){const c=r.searchState_;c&&(n.removeOverlay(c.getOverlay()),c.setOverlay(null))}if(a==="<C-c>"&&!CodeMirror.isMac&&n.somethingSelected())return this.waitForCopy=!0,!0;r.status=(r.status||"")+a;let l=Vim.multiSelectHandleKey(n,a,"user");return r=Vim.maybeInitVimState_(n),!l&&r.insertMode&&n.state.overwrite&&(o.key&&o.key.length==1&&!/\n/.test(o.key)?(l=!0,n.overWriteSelection(o.key)):o.key=="Backspace"&&(l=!0,CodeMirror.commands.cursorCharLeft(n))),l&&(CodeMirror.signal(this.cm,"vim-keypress",a),o.preventDefault(),o.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!l}},{eventHandlers:{copy:function(o,e){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var n=this.cm,r=n.state.vim;r&&(r.insertMode?n.setSelection(n.getCursor(),n.getCursor()):n.operation(()=>{n.curOp&&(n.curOp.isVimOp=!0),Vim.handleKey(n,"<Esc>","user")}))}))},compositionstart:function(o,e){this.useNextTextInput=!0,CodeMirror.signal(this.cm,"inputEvent",o)},compositionupdate:function(o,e){CodeMirror.signal(this.cm,"inputEvent",o)},compositionend:function(o,e){CodeMirror.signal(this.cm,"inputEvent",o)},keypress:function(o,e){CodeMirror.signal(this.cm,"inputEvent",o),this.lastKeydown=="Dead"&&this.handleKey(o,e)},keydown:function(o,e){CodeMirror.signal(this.cm,"inputEvent",o),this.lastKeydown=o.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(o,e))}},provide:()=>[EditorView.inputHandler.of((o,e,n,r)=>{var a,s,l=getCM(o);if(!l)return!1;var c=(a=l.state)===null||a===void 0?void 0:a.vim,u=l.state.vimPlugin;if(c&&!c.insertMode&&!(!((s=l.curOp)===null||s===void 0)&&s.isVimOp)){if(r==="\0\0")return!0;if(CodeMirror.signal(l,"inputEvent",{type:"text",text:r,from:e,to:n}),r.length==1&&u.useNextTextInput){if(c.expectLiteralNext&&o.composing)return u.compositionText=r,!1;if(u.compositionText){var h=u.compositionText;u.compositionText="";var f=o.state.selection.main.head,d=o.state.sliceDoc(f-h.length,f);if(h===d){var p=l.getCursor();l.replaceRange("",l.posFromIndex(f-h.length),p)}}return u.handleKey({key:r,preventDefault:()=>{},stopPropagation:()=>{}}),forceEndComposition(o),!0}}return!1})],decorations:o=>o.decorations});function forceEndComposition(o){var e=o.scrollDOM.parentElement;if(e){if(FIREFOX_LINUX){o.contentDOM.textContent="\0\0",o.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var n=o.scrollDOM.nextSibling,r=window.getSelection(),a=r&&{anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset};o.scrollDOM.remove(),e.insertBefore(o.scrollDOM,n);try{a&&r&&(r.setPosition(a.anchorNode,a.anchorOffset),a.focusNode&&r.extend(a.focusNode,a.focusOffset))}catch(s){console.error(s)}o.focus(),o.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),showVimPanel=StateEffect.define(),vimPanelState=StateField.define({create:()=>!1,update(o,e){for(let n of e.effects)n.is(showVimPanel)&&(o=n.value);return o},provide:o=>showPanel.from(o,e=>e?createVimPanel:null)});function createVimPanel(o){let e=document.createElement("div");e.className="cm-vim-panel";let n=o.cm;return n.state.dialog&&e.appendChild(n.state.dialog),{top:!1,dom:e}}function statusPanel(o){let e=document.createElement("div");e.className="cm-vim-panel";let n=o.cm;return n.state.statusbar=e,n.state.vimPlugin.updateStatus(),{dom:e}}function vim(o={}){return[vimStyle,vimPlugin,hideNativeSelection,o.status?showPanel.of(statusPanel):vimPanelState]}function getCM(o){return o.cm||null}class CompositeBlock{static create(e,n,r,a,s){let l=a+(a<<8)+e+(n<<4)|0;return new CompositeBlock(e,n,r,l,s,[],[])}constructor(e,n,r,a,s,l,c){this.type=e,this.value=n,this.from=r,this.hash=a,this.end=s,this.children=l,this.positions=c,this.hashProp=[[NodeProp.contextHash,a]]}addChild(e,n){e.prop(NodeProp.contextHash)!=this.hash&&(e=new Tree(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Tree(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(a,s,l)=>new Tree(NodeType.none,a,s,l,this.hashProp)})}}var Type;(function(o){o[o.Document=1]="Document",o[o.CodeBlock=2]="CodeBlock",o[o.FencedCode=3]="FencedCode",o[o.Blockquote=4]="Blockquote",o[o.HorizontalRule=5]="HorizontalRule",o[o.BulletList=6]="BulletList",o[o.OrderedList=7]="OrderedList",o[o.ListItem=8]="ListItem",o[o.ATXHeading1=9]="ATXHeading1",o[o.ATXHeading2=10]="ATXHeading2",o[o.ATXHeading3=11]="ATXHeading3",o[o.ATXHeading4=12]="ATXHeading4",o[o.ATXHeading5=13]="ATXHeading5",o[o.ATXHeading6=14]="ATXHeading6",o[o.SetextHeading1=15]="SetextHeading1",o[o.SetextHeading2=16]="SetextHeading2",o[o.HTMLBlock=17]="HTMLBlock",o[o.LinkReference=18]="LinkReference",o[o.Paragraph=19]="Paragraph",o[o.CommentBlock=20]="CommentBlock",o[o.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",o[o.Escape=22]="Escape",o[o.Entity=23]="Entity",o[o.HardBreak=24]="HardBreak",o[o.Emphasis=25]="Emphasis",o[o.StrongEmphasis=26]="StrongEmphasis",o[o.Link=27]="Link",o[o.Image=28]="Image",o[o.InlineCode=29]="InlineCode",o[o.HTMLTag=30]="HTMLTag",o[o.Comment=31]="Comment",o[o.ProcessingInstruction=32]="ProcessingInstruction",o[o.Autolink=33]="Autolink",o[o.HeaderMark=34]="HeaderMark",o[o.QuoteMark=35]="QuoteMark",o[o.ListMark=36]="ListMark",o[o.LinkMark=37]="LinkMark",o[o.EmphasisMark=38]="EmphasisMark",o[o.CodeMark=39]="CodeMark",o[o.CodeText=40]="CodeText",o[o.CodeInfo=41]="CodeInfo",o[o.LinkTitle=42]="LinkTitle",o[o.LinkLabel=43]="LinkLabel",o[o.URL=44]="URL"})(Type||(Type={}));class LeafBlock{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class Line{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return skipSpace(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let a=n;a<e;a++)r+=this.text.charCodeAt(a)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function skipForList(o,e,n){if(n.pos==n.text.length||o!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(o.type==Type.OrderedList?isOrderedList:isBulletList)(n,e,!1);return r>0&&(o.type!=Type.BulletList||isHorizontalRule(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==o.value}const DefaultSkipMarkup={[Type.Blockquote](o,e,n){return n.next!=62?!1:(n.markers.push(elt(Type.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(space$2(n.text.charCodeAt(n.pos+1))?2:1)),o.end=e.lineStart+n.text.length,!0)},[Type.ListItem](o,e,n){return n.indent<n.baseIndent+o.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+o.value),!0)},[Type.OrderedList]:skipForList,[Type.BulletList]:skipForList,[Type.Document](){return!0}};function space$2(o){return o==32||o==9||o==10||o==13}function skipSpace(o,e=0){for(;e<o.length&&space$2(o.charCodeAt(e));)e++;return e}function skipSpaceBack(o,e,n){for(;e>n&&space$2(o.charCodeAt(e-1));)e--;return e}function isFencedCode(o){if(o.next!=96&&o.next!=126)return-1;let e=o.pos+1;for(;e<o.text.length&&o.text.charCodeAt(e)==o.next;)e++;if(e<o.pos+3)return-1;if(o.next==96){for(let n=e;n<o.text.length;n++)if(o.text.charCodeAt(n)==96)return-1}return e}function isBlockquote(o){return o.next!=62?-1:o.text.charCodeAt(o.pos+1)==32?2:1}function isHorizontalRule(o,e,n){if(o.next!=42&&o.next!=45&&o.next!=95)return-1;let r=1;for(let a=o.pos+1;a<o.text.length;a++){let s=o.text.charCodeAt(a);if(s==o.next)r++;else if(!space$2(s))return-1}return n&&o.next==45&&isSetextUnderline(o)>-1&&o.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(DefaultLeafBlocks.SetextHeading)>-1||r<3?-1:1}function inList(o,e){for(let n=o.stack.length-1;n>=0;n--)if(o.stack[n].type==e)return!0;return!1}function isBulletList(o,e,n){return(o.next==45||o.next==43||o.next==42)&&(o.pos==o.text.length-1||space$2(o.text.charCodeAt(o.pos+1)))&&(!n||inList(e,Type.BulletList)||o.skipSpace(o.pos+2)<o.text.length)?1:-1}function isOrderedList(o,e,n){let r=o.pos,a=o.next;for(;a>=48&&a<=57;){r++;if(r==o.text.length)return-1;a=o.text.charCodeAt(r)}return r==o.pos||r>o.pos+9||a!=46&&a!=41||r<o.text.length-1&&!space$2(o.text.charCodeAt(r+1))||n&&!inList(e,Type.OrderedList)&&(o.skipSpace(r+1)==o.text.length||r>o.pos+1||o.next!=49)?-1:r+1-o.pos}function isAtxHeading(o){if(o.next!=35)return-1;let e=o.pos+1;for(;e<o.text.length&&o.text.charCodeAt(e)==35;)e++;if(e<o.text.length&&o.text.charCodeAt(e)!=32)return-1;let n=e-o.pos;return n>6?-1:n}function isSetextUnderline(o){if(o.next!=45&&o.next!=61||o.indent>=o.baseIndent+4)return-1;let e=o.pos+1;for(;e<o.text.length&&o.text.charCodeAt(e)==o.next;)e++;let n=e;for(;e<o.text.length&&space$2(o.text.charCodeAt(e));)e++;return e==o.text.length?n:-1}const EmptyLine=/^[ \t]*$/,CommentEnd=/-->/,ProcessingEnd=/\?>/,HTMLBlockStyle=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,CommentEnd],[/^\s*<\?/,ProcessingEnd],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,EmptyLine],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,EmptyLine]];function isHTMLBlock(o,e,n){if(o.next!=60)return-1;let r=o.text.slice(o.pos);for(let a=0,s=HTMLBlockStyle.length-(n?1:0);a<s;a++)if(HTMLBlockStyle[a][0].test(r))return a;return-1}function getListIndent(o,e){let n=o.countIndent(e,o.pos,o.indent),r=o.countIndent(o.skipSpace(e),e,n);return r>=n+5?n+1:r}function addCodeText(o,e,n){let r=o.length-1;r>=0&&o[r].to==e&&o[r].type==Type.CodeText?o[r].to=n:o.push(elt(Type.CodeText,e,n))}const DefaultBlockParsers={LinkReference:void 0,IndentedCode(o,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),a=o.lineStart+r,s=o.lineStart+e.text.length,l=[],c=[];for(addCodeText(l,a,s);o.nextLine()&&e.depth>=o.stack.length;)if(e.pos==e.text.length){addCodeText(c,o.lineStart-1,o.lineStart);for(let u of e.markers)c.push(u)}else{if(e.indent<n)break;{if(c.length){for(let h of c)h.type==Type.CodeText?addCodeText(l,h.from,h.to):l.push(h);c=[]}addCodeText(l,o.lineStart-1,o.lineStart);for(let h of e.markers)l.push(h);s=o.lineStart+e.text.length;let u=o.lineStart+e.findColumn(e.baseIndent+4);u<s&&addCodeText(l,u,s)}}return c.length&&(c=c.filter(u=>u.type!=Type.CodeText),c.length&&(e.markers=c.concat(e.markers))),o.addNode(o.buffer.writeElements(l,-a).finish(Type.CodeBlock,s-a),a),!0},FencedCode(o,e){let n=isFencedCode(e);if(n<0)return!1;let r=o.lineStart+e.pos,a=e.next,s=n-e.pos,l=e.skipSpace(n),c=skipSpaceBack(e.text,e.text.length,l),u=[elt(Type.CodeMark,r,r+s)];l<c&&u.push(elt(Type.CodeInfo,o.lineStart+l,o.lineStart+c));for(let h=!0;o.nextLine()&&e.depth>=o.stack.length;h=!1){let f=e.pos;if(e.indent-e.baseIndent<4)for(;f<e.text.length&&e.text.charCodeAt(f)==a;)f++;if(f-e.pos>=s&&e.skipSpace(f)==e.text.length){for(let d of e.markers)u.push(d);u.push(elt(Type.CodeMark,o.lineStart+e.pos,o.lineStart+f)),o.nextLine();break}else{h||addCodeText(u,o.lineStart-1,o.lineStart);for(let g of e.markers)u.push(g);let d=o.lineStart+e.basePos,p=o.lineStart+e.text.length;d<p&&addCodeText(u,d,p)}}return o.addNode(o.buffer.writeElements(u,-r).finish(Type.FencedCode,o.prevLineEnd()-r),r),!0},Blockquote(o,e){let n=isBlockquote(e);return n<0?!1:(o.startContext(Type.Blockquote,e.pos),o.addNode(Type.QuoteMark,o.lineStart+e.pos,o.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(o,e){if(isHorizontalRule(e,o,!1)<0)return!1;let n=o.lineStart+e.pos;return o.nextLine(),o.addNode(Type.HorizontalRule,n),!0},BulletList(o,e){let n=isBulletList(e,o,!1);if(n<0)return!1;o.block.type!=Type.BulletList&&o.startContext(Type.BulletList,e.basePos,e.next);let r=getListIndent(e,e.pos+1);return o.startContext(Type.ListItem,e.basePos,r-e.baseIndent),o.addNode(Type.ListMark,o.lineStart+e.pos,o.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(o,e){let n=isOrderedList(e,o,!1);if(n<0)return!1;o.block.type!=Type.OrderedList&&o.startContext(Type.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=getListIndent(e,e.pos+n);return o.startContext(Type.ListItem,e.basePos,r-e.baseIndent),o.addNode(Type.ListMark,o.lineStart+e.pos,o.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(o,e){let n=isAtxHeading(e);if(n<0)return!1;let r=e.pos,a=o.lineStart+r,s=skipSpaceBack(e.text,e.text.length,r),l=s;for(;l>r&&e.text.charCodeAt(l-1)==e.next;)l--;(l==s||l==r||!space$2(e.text.charCodeAt(l-1)))&&(l=e.text.length);let c=o.buffer.write(Type.HeaderMark,0,n).writeElements(o.parser.parseInline(e.text.slice(r+n+1,l),a+n+1),-a);l<e.text.length&&c.write(Type.HeaderMark,l-r,s-r);let u=c.finish(Type.ATXHeading1-1+n,e.text.length-r);return o.nextLine(),o.addNode(u,a),!0},HTMLBlock(o,e){let n=isHTMLBlock(e,o,!1);if(n<0)return!1;let r=o.lineStart+e.pos,a=HTMLBlockStyle[n][1],s=[],l=a!=EmptyLine;for(;!a.test(e.text)&&o.nextLine();){if(e.depth<o.stack.length){l=!1;break}for(let h of e.markers)s.push(h)}l&&o.nextLine();let c=a==CommentEnd?Type.CommentBlock:a==ProcessingEnd?Type.ProcessingInstructionBlock:Type.HTMLBlock,u=o.prevLineEnd();return o.addNode(o.buffer.writeElements(s,-r).finish(c,u-r),r),!0},SetextHeading:void 0};class LinkReferenceParser{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let a=r.content+`
`+n.scrub(),s=this.advance(a);return s>-1&&s<a.length?this.complete(e,r,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&skipSpace(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,elt(Type.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(parseLinkLabel(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(elt(Type.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(parseURL(e,skipSpace(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=skipSpace(e,this.pos),r=0;if(n>this.pos){let a=parseLinkTitle(e,n,this.start);if(a){let s=lineEnd(e,a.to-this.start);s>0&&(this.nextStage(a),r=s)}}return r||(r=lineEnd(e,this.pos)),r>0&&r<e.length?r:-1}else return lineEnd(e,this.pos)}}}function lineEnd(o,e){for(;e<o.length;e++){let n=o.charCodeAt(e);if(n==10)break;if(!space$2(n))return-1}return e}class SetextHeadingParser{nextLine(e,n,r){let a=n.depth<e.stack.length?-1:isSetextUnderline(n),s=n.next;if(a<0)return!1;let l=elt(Type.HeaderMark,e.lineStart+n.pos,e.lineStart+a);return e.nextLine(),e.addLeafElement(r,elt(s==61?Type.SetextHeading1:Type.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),l])),!0}finish(){return!1}}const DefaultLeafBlocks={LinkReference(o,e){return e.content.charCodeAt(0)==91?new LinkReferenceParser(e):null},SetextHeading(){return new SetextHeadingParser}},DefaultEndLeaf=[(o,e)=>isAtxHeading(e)>=0,(o,e)=>isFencedCode(e)>=0,(o,e)=>isBlockquote(e)>=0,(o,e)=>isBulletList(e,o,!0)>=0,(o,e)=>isOrderedList(e,o,!0)>=0,(o,e)=>isHorizontalRule(e,o,!0)>=0,(o,e)=>isHTMLBlock(e,o,!0)>=0],scanLineResult={text:"",end:0};class BlockContext{constructor(e,n,r,a){this.parser=e,this.input=n,this.ranges=a,this.line=new Line,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=a[a.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=a[0].from,this.block=CompositeBlock.create(Type.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new FragmentCursor$1(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let a=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!a||e.markers[r].from<a.end);){let s=e.markers[r++];this.addNode(s.type,s.from,s.to)}if(!a)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let a=r(this,e);if(a!=!1){if(a==!0)return null;e.forward();continue e}}break}let n=new LeafBlock(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let a=r(this,n);a&&n.parsers.push(a)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=toRelative(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=scanLineResult;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,a=this.rangeI;for(;this.ranges[a].to<n.end;){a++;let s=this.ranges[a].from,l=this.lineChunkAt(s);n.end=s+l.length,n.text=n.text.slice(0,this.ranges[a-1].to-r)+l,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let a=this.stack[e.depth],s=this.parser.skipContextMarkup[a.type];if(!s)throw new Error("Unhandled block context "+Type[a.type]);if(!s(a,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let a=n.indexOf(`
`);r=a<0?n:n.slice(0,a)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=CompositeBlock.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new Tree(this.parser.nodeSet.types[e],none,none,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(injectMarks(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?injectGaps(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=injectMarks(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Type.Paragraph,e.content.length),e.start)}elt(e,n,r,a){return typeof e=="string"?elt(this.parser.getNodeType(e),n,r,a):new TreeElement(e,n)}get buffer(){return new Buffer(this.parser.nodeSet)}}function injectGaps(o,e,n,r,a){let s=o[e].to,l=[],c=[],u=n.from+r;function h(f,d){for(;d?f>=s:f>s;){let p=o[e+1].from-s;r+=p,f+=p,e++,s=o[e].to}}for(let f=n.firstChild;f;f=f.nextSibling){h(f.from+r,!0);let d=f.from+r,p,g=a.get(f.tree);g?p=g:f.to+r>s?(p=injectGaps(o,e,f,r,a),h(f.to+r,!1)):p=f.toTree(),l.push(p),c.push(d-u)}return h(n.to+r,!1),new Tree(n.type,l,c,n.to+r-u,n.tree?n.tree.propValues:void 0)}class MarkdownParser extends Parser{constructor(e,n,r,a,s,l,c,u,h){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=a,this.endLeafBlock=s,this.skipContextMarkup=l,this.inlineParsers=c,this.inlineNames=u,this.wrappers=h,this.nodeTypes=Object.create(null);for(let f of e.types)this.nodeTypes[f.name]=f.id}createParse(e,n,r){let a=new BlockContext(this,e,n,r);for(let s of this.wrappers)a=s(a,e,n,r);return a}configure(e){let n=resolveConfig(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:a}=this,s=this.blockParsers.slice(),l=this.leafBlockParsers.slice(),c=this.blockNames.slice(),u=this.inlineParsers.slice(),h=this.inlineNames.slice(),f=this.endLeafBlock.slice(),d=this.wrappers;if(nonEmpty(n.defineNodes)){a=Object.assign({},a);let p=r.types.slice(),g;for(let y of n.defineNodes){let{name:v,block:w,composite:O,style:k}=typeof y=="string"?{name:y}:y;if(p.some(G=>G.name==v))continue;O&&(a[p.length]=(G,J,Q)=>O(J,Q,G.value));let E=p.length,I=O?["Block","BlockContext"]:w?E>=Type.ATXHeading1&&E<=Type.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;p.push(NodeType.define({id:E,name:v,props:I&&[[NodeProp.group,I]]})),k&&(g||(g={}),Array.isArray(k)||k instanceof Tag$1?g[v]=k:Object.assign(g,k))}r=new NodeSet(p),g&&(r=r.extend(styleTags(g)))}if(nonEmpty(n.props)&&(r=r.extend(...n.props)),nonEmpty(n.remove))for(let p of n.remove){let g=this.blockNames.indexOf(p),y=this.inlineNames.indexOf(p);g>-1&&(s[g]=l[g]=void 0),y>-1&&(u[y]=void 0)}if(nonEmpty(n.parseBlock))for(let p of n.parseBlock){let g=c.indexOf(p.name);if(g>-1)s[g]=p.parse,l[g]=p.leaf;else{let y=p.before?findName(c,p.before):p.after?findName(c,p.after)+1:c.length-1;s.splice(y,0,p.parse),l.splice(y,0,p.leaf),c.splice(y,0,p.name)}p.endLeaf&&f.push(p.endLeaf)}if(nonEmpty(n.parseInline))for(let p of n.parseInline){let g=h.indexOf(p.name);if(g>-1)u[g]=p.parse;else{let y=p.before?findName(h,p.before):p.after?findName(h,p.after)+1:h.length-1;u.splice(y,0,p.parse),h.splice(y,0,p.name)}}return n.wrap&&(d=d.concat(n.wrap)),new MarkdownParser(r,s,l,c,f,a,u,h,d)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new InlineContext(this,e,n);e:for(let a=n;a<r.end;){let s=r.char(a);for(let l of this.inlineParsers)if(l){let c=l(r,s,a);if(c>=0){a=c;continue e}}a++}return r.resolveMarkers(0)}}function nonEmpty(o){return o!=null&&o.length>0}function resolveConfig(o){if(!Array.isArray(o))return o;if(o.length==0)return null;let e=resolveConfig(o[0]);if(o.length==1)return e;let n=resolveConfig(o.slice(1));if(!n||!e)return e||n;let r=(l,c)=>(l||none).concat(c||none),a=e.wrap,s=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:a?s?(l,c,u,h)=>a(s(l,c,u,h),c,u,h):a:s}}function findName(o,e){let n=o.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let nodeTypes=[NodeType.none];for(let o=1,e;e=Type[o];o++)nodeTypes[o]=NodeType.define({id:o,name:e,props:o>=Type.Escape?[]:[[NodeProp.group,o in DefaultSkipMarkup?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const none=[];class Buffer{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,a=0){return this.content.push(e,n,r,4+a*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return Tree.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}}let Element$4=class{constructor(e,n,r,a=none){this.type=e,this.from=n,this.to=r,this.children=a}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new Buffer(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class TreeElement{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return none}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function elt(o,e,n,r){return new Element$4(o,e,n,r)}const EmphasisUnderscore={resolve:"Emphasis",mark:"EmphasisMark"},EmphasisAsterisk={resolve:"Emphasis",mark:"EmphasisMark"},LinkStart={},ImageStart={};class InlineDelimiter{constructor(e,n,r,a){this.type=e,this.from=n,this.to=r,this.side=a}}const Escapable="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Punctuation=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Punctuation=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const DefaultInline={Escape(o,e,n){if(e!=92||n==o.end-1)return-1;let r=o.char(n+1);for(let a=0;a<Escapable.length;a++)if(Escapable.charCodeAt(a)==r)return o.append(elt(Type.Escape,n,n+2));return-1},Entity(o,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(o.slice(n+1,n+31));return r?o.append(elt(Type.Entity,n,n+1+r[0].length)):-1},InlineCode(o,e,n){if(e!=96||n&&o.char(n-1)==96)return-1;let r=n+1;for(;r<o.end&&o.char(r)==96;)r++;let a=r-n,s=0;for(;r<o.end;r++)if(o.char(r)==96){if(s++,s==a&&o.char(r+1)!=96)return o.append(elt(Type.InlineCode,n,r+1,[elt(Type.CodeMark,n,n+a),elt(Type.CodeMark,r+1-a,r+1)]))}else s=0;return-1},HTMLTag(o,e,n){if(e!=60||n==o.end-1)return-1;let r=o.slice(n+1,o.end),a=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(a)return o.append(elt(Type.Autolink,n,n+1+a[0].length,[elt(Type.LinkMark,n,n+1),elt(Type.URL,n+1,n+a[0].length),elt(Type.LinkMark,n+a[0].length,n+1+a[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return o.append(elt(Type.Comment,n,n+1+s[0].length));let l=/^\?[^]*?\?>/.exec(r);if(l)return o.append(elt(Type.ProcessingInstruction,n,n+1+l[0].length));let c=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return c?o.append(elt(Type.HTMLTag,n,n+1+c[0].length)):-1},Emphasis(o,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;o.char(r)==e;)r++;let a=o.slice(n-1,n),s=o.slice(r,r+1),l=Punctuation.test(a),c=Punctuation.test(s),u=/\s|^$/.test(a),h=/\s|^$/.test(s),f=!h&&(!c||u||l),d=!u&&(!l||h||c),p=f&&(e==42||!d||l),g=d&&(e==42||!f||c);return o.append(new InlineDelimiter(e==95?EmphasisUnderscore:EmphasisAsterisk,n,r,(p?1:0)|(g?2:0)))},HardBreak(o,e,n){if(e==92&&o.char(n+1)==10)return o.append(elt(Type.HardBreak,n,n+2));if(e==32){let r=n+1;for(;o.char(r)==32;)r++;if(o.char(r)==10&&r>=n+2)return o.append(elt(Type.HardBreak,n,r+1))}return-1},Link(o,e,n){return e==91?o.append(new InlineDelimiter(LinkStart,n,n+1,1)):-1},Image(o,e,n){return e==33&&o.char(n+1)==91?o.append(new InlineDelimiter(ImageStart,n,n+2,1)):-1},LinkEnd(o,e,n){if(e!=93)return-1;for(let r=o.parts.length-1;r>=0;r--){let a=o.parts[r];if(a instanceof InlineDelimiter&&(a.type==LinkStart||a.type==ImageStart)){if(!a.side||o.skipSpace(a.to)==n&&!/[(\[]/.test(o.slice(n+1,n+2)))return o.parts[r]=null,-1;let s=o.takeContent(r),l=o.parts[r]=finishLink(o,s,a.type==LinkStart?Type.Link:Type.Image,a.from,n+1);if(a.type==LinkStart)for(let c=0;c<r;c++){let u=o.parts[c];u instanceof InlineDelimiter&&u.type==LinkStart&&(u.side=0)}return l.to}}return-1}};function finishLink(o,e,n,r,a){let{text:s}=o,l=o.char(a),c=a;if(e.unshift(elt(Type.LinkMark,r,r+(n==Type.Image?2:1))),e.push(elt(Type.LinkMark,a-1,a)),l==40){let u=o.skipSpace(a+1),h=parseURL(s,u-o.offset,o.offset),f;h&&(u=o.skipSpace(h.to),u!=h.to&&(f=parseLinkTitle(s,u-o.offset,o.offset),f&&(u=o.skipSpace(f.to)))),o.char(u)==41&&(e.push(elt(Type.LinkMark,a,a+1)),c=u+1,h&&e.push(h),f&&e.push(f),e.push(elt(Type.LinkMark,u,c)))}else if(l==91){let u=parseLinkLabel(s,a-o.offset,o.offset,!1);u&&(e.push(u),c=u.to)}return elt(n,r,c,e)}function parseURL(o,e,n){if(o.charCodeAt(e)==60){for(let a=e+1;a<o.length;a++){let s=o.charCodeAt(a);if(s==62)return elt(Type.URL,e+n,a+1+n);if(s==60||s==10)return!1}return null}else{let a=0,s=e;for(let l=!1;s<o.length;s++){let c=o.charCodeAt(s);if(space$2(c))break;if(l)l=!1;else if(c==40)a++;else if(c==41){if(!a)break;a--}else c==92&&(l=!0)}return s>e?elt(Type.URL,e+n,s+n):s==o.length?null:!1}}function parseLinkTitle(o,e,n){let r=o.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let a=r==40?41:r;for(let s=e+1,l=!1;s<o.length;s++){let c=o.charCodeAt(s);if(l)l=!1;else{if(c==a)return elt(Type.LinkTitle,e+n,s+1+n);c==92&&(l=!0)}}return null}function parseLinkLabel(o,e,n,r){for(let a=!1,s=e+1,l=Math.min(o.length,s+999);s<l;s++){let c=o.charCodeAt(s);if(a)a=!1;else{if(c==93)return r?!1:elt(Type.LinkLabel,e+n,s+1+n);if(r&&!space$2(c)&&(r=!1),c==91)return!1;c==92&&(a=!0)}}return null}class InlineContext{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,a,s){return this.append(new InlineDelimiter(e,n,r,(a?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof InlineDelimiter&&(n.type==LinkStart||n.type==ImageStart))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let a=this.parts[r];if(!(a instanceof InlineDelimiter&&a.type.resolve&&a.side&2))continue;let s=a.type==EmphasisUnderscore||a.type==EmphasisAsterisk,l=a.to-a.from,c,u=r-1;for(;u>=e;u--){let v=this.parts[u];if(v instanceof InlineDelimiter&&v.side&1&&v.type==a.type&&!(s&&(a.side&1||v.side&2)&&(v.to-v.from+l)%3==0&&((v.to-v.from)%3||l%3))){c=v;break}}if(!c)continue;let h=a.type.resolve,f=[],d=c.from,p=a.to;if(s){let v=Math.min(2,c.to-c.from,l);d=c.to-v,p=a.from+v,h=v==1?"Emphasis":"StrongEmphasis"}c.type.mark&&f.push(this.elt(c.type.mark,d,c.to));for(let v=u+1;v<r;v++)this.parts[v]instanceof Element$4&&f.push(this.parts[v]),this.parts[v]=null;a.type.mark&&f.push(this.elt(a.type.mark,a.from,p));let g=this.elt(h,d,p,f);this.parts[u]=s&&c.from!=d?new InlineDelimiter(c.type,c.from,d,c.side):null,(this.parts[r]=s&&a.to!=p?new InlineDelimiter(a.type,p,a.to,a.side):null)?this.parts.splice(r,0,g):this.parts[r]=g}let n=[];for(let r=e;r<this.parts.length;r++){let a=this.parts[r];a instanceof Element$4&&n.push(a)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof InlineDelimiter&&r.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return skipSpace(this.text,e-this.offset)+this.offset}elt(e,n,r,a){return typeof e=="string"?elt(this.parser.getNodeType(e),n,r,a):new TreeElement(e,n)}}function injectMarks(o,e){if(!e.length)return o;if(!o.length)return e;let n=o.slice(),r=0;for(let a of e){for(;r<n.length&&n[r].to<a.to;)r++;if(r<n.length&&n[r].from<a.from){let s=n[r];s instanceof Element$4&&(n[r]=new Element$4(s.type,s.from,s.to,injectMarks(s.children,[a])))}else n.splice(r++,0,a)}return n}const NotLast=[Type.CodeBlock,Type.ListItem,Type.OrderedList,Type.BulletList];let FragmentCursor$1=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let a=e+this.fragment.offset;for(;r.to<=a;)if(!r.parent())return!1;for(;;){if(r.from>=a)return this.fragment.from<=n;if(!r.childAfter(a))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(NodeProp.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,a=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,l=s,c=e.block.children.length,u=l,h=c;for(;;){if(n.to-r>a){if(n.type.isAnonymous&&n.firstChild())continue;break}let f=toRelative(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,f);else{let d=new Tree(e.parser.nodeSet.types[Type.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(d,n.tree),e.addNode(d,f)}if(n.type.is("Block")&&(NotLast.indexOf(n.type.id)<0?(l=n.to-r,c=e.block.children.length):(l=u,c=h,u=n.to-r,h=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>c;)e.block.children.pop(),e.block.positions.pop();return l-s}};function toRelative(o,e){let n=o;for(let r=1;r<e.length;r++){let a=e[r-1].to,s=e[r].from;a<o&&(n-=s-a)}return n}const markdownHighlighting=styleTags({"Blockquote/...":tags$1.quote,HorizontalRule:tags$1.contentSeparator,"ATXHeading1/... SetextHeading1/...":tags$1.heading1,"ATXHeading2/... SetextHeading2/...":tags$1.heading2,"ATXHeading3/...":tags$1.heading3,"ATXHeading4/...":tags$1.heading4,"ATXHeading5/...":tags$1.heading5,"ATXHeading6/...":tags$1.heading6,"Comment CommentBlock":tags$1.comment,Escape:tags$1.escape,Entity:tags$1.character,"Emphasis/...":tags$1.emphasis,"StrongEmphasis/...":tags$1.strong,"Link/... Image/...":tags$1.link,"OrderedList/... BulletList/...":tags$1.list,"BlockQuote/...":tags$1.quote,"InlineCode CodeText":tags$1.monospace,"URL Autolink":tags$1.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":tags$1.processingInstruction,"CodeInfo LinkLabel":tags$1.labelName,LinkTitle:tags$1.string,Paragraph:tags$1.content}),parser$6=new MarkdownParser(new NodeSet(nodeTypes).extend(markdownHighlighting),Object.keys(DefaultBlockParsers).map(o=>DefaultBlockParsers[o]),Object.keys(DefaultBlockParsers).map(o=>DefaultLeafBlocks[o]),Object.keys(DefaultBlockParsers),DefaultEndLeaf,DefaultSkipMarkup,Object.keys(DefaultInline).map(o=>DefaultInline[o]),Object.keys(DefaultInline),[]);function leftOverSpace(o,e,n){let r=[];for(let a=o.firstChild,s=e;;a=a.nextSibling){let l=a?a.from:n;if(l>s&&r.push({from:s,to:l}),!a)break;s=a.to}return r}function parseCode(o){let{codeParser:e,htmlParser:n}=o;return{wrap:parseMixed((a,s)=>{let l=a.type.id;if(e&&(l==Type.CodeBlock||l==Type.FencedCode)){let c="";if(l==Type.FencedCode){let h=a.node.getChild(Type.CodeInfo);h&&(c=s.read(h.from,h.to))}let u=e(c);if(u)return{parser:u,overlay:h=>h.type.id==Type.CodeText}}else if(n&&(l==Type.HTMLBlock||l==Type.HTMLTag||l==Type.CommentBlock))return{parser:n,overlay:leftOverSpace(a.node,a.from,a.to)};return null})}}const StrikethroughDelim={resolve:"Strikethrough",mark:"StrikethroughMark"},Strikethrough={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":tags$1.strikethrough}},{name:"StrikethroughMark",style:tags$1.processingInstruction}],parseInline:[{name:"Strikethrough",parse(o,e,n){if(e!=126||o.char(n+1)!=126||o.char(n+2)==126)return-1;let r=o.slice(n-1,n),a=o.slice(n+2,n+3),s=/\s|^$/.test(r),l=/\s|^$/.test(a),c=Punctuation.test(r),u=Punctuation.test(a);return o.addDelimiter(StrikethroughDelim,n,n+2,!l&&(!u||s||c),!s&&(!c||l||u))},after:"Emphasis"}]};function parseRow(o,e,n=0,r,a=0){let s=0,l=!0,c=-1,u=-1,h=!1,f=()=>{r.push(o.elt("TableCell",a+c,a+u,o.parser.parseInline(e.slice(c,u),a+c)))};for(let d=n;d<e.length;d++){let p=e.charCodeAt(d);p==124&&!h?((!l||c>-1)&&s++,l=!1,r&&(c>-1&&f(),r.push(o.elt("TableDelimiter",d+a,d+a+1))),c=u=-1):(h||p!=32&&p!=9)&&(c<0&&(c=d),u=d+1),h=!h&&p==92}return c>-1&&(s++,r&&f()),s}function hasPipe(o,e){for(let n=e;n<o.length;n++){let r=o.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const delimiterLine=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TableParser{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let a;if((n.next==45||n.next==58||n.next==124)&&delimiterLine.test(a=n.text.slice(n.pos))){let s=[];parseRow(e,r.content,0,s,r.start)==parseRow(e,a,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let a=[];parseRow(e,n.text,n.pos,a,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,a))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const Table={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":tags$1.heading}},"TableRow",{name:"TableCell",style:tags$1.content},{name:"TableDelimiter",style:tags$1.processingInstruction}],parseBlock:[{name:"Table",leaf(o,e){return hasPipe(e.content,0)?new TableParser:null},endLeaf(o,e,n){if(n.parsers.some(a=>a instanceof TableParser)||!hasPipe(e.text,e.basePos))return!1;let r=o.peekLine();return delimiterLine.test(r)&&parseRow(o,e.text,e.basePos)==parseRow(o,r,e.basePos)},before:"SetextHeading"}]};class TaskParser{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const TaskList={defineNodes:[{name:"Task",block:!0,style:tags$1.list},{name:"TaskMarker",style:tags$1.atom}],parseBlock:[{name:"TaskList",leaf(o,e){return/^\[[ xX]\][ \t]/.test(e.content)&&o.parentType().name=="ListItem"?new TaskParser:null},after:"SetextHeading"}]},autolinkRE=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,urlRE=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,lastTwoDomainWords=/[\w-]+\.[\w-]+($|\/)/,emailRE=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,xmppResourceRE=/\/[a-zA-Z\d@.]+/gy;function count(o,e,n,r){let a=0;for(let s=e;s<n;s++)o[s]==r&&a++;return a}function autolinkURLEnd(o,e){urlRE.lastIndex=e;let n=urlRE.exec(o);if(!n||lastTwoDomainWords.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let a=o[r-1],s;if(/[?!.,:*_~]/.test(a)||a==")"&&count(o,e,r,")")>count(o,e,r,"("))r--;else if(a==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(o.slice(e,r))))r=e+s.index;else break}return r}function autolinkEmailEnd(o,e){emailRE.lastIndex=e;let n=emailRE.exec(o);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const Autolink={parseInline:[{name:"Autolink",parse(o,e,n){let r=n-o.offset;if(r&&/\w/.test(o.text[r-1]))return-1;autolinkRE.lastIndex=r;let a=autolinkRE.exec(o.text),s=-1;if(!a)return-1;if(a[1]||a[2]){if(s=autolinkURLEnd(o.text,r+a[0].length),s>-1&&o.hasOpenLink){let l=/([^\[\]]|\[[^\]]*\])*/.exec(o.text.slice(r,s));s=r+l[0].length}}else a[3]?s=autolinkEmailEnd(o.text,r):(s=autolinkEmailEnd(o.text,r+a[0].length),s>-1&&a[0]=="xmpp:"&&(xmppResourceRE.lastIndex=s,a=xmppResourceRE.exec(o.text),a&&(s=a.index+a[0].length)));return s<0?-1:(o.addElement(o.elt("URL",n,s+o.offset)),s+o.offset)}}]},GFM=[Table,TaskList,Strikethrough,Autolink];function parseSubSuper(o,e,n){return(r,a,s)=>{if(a!=o||r.char(s+1)==o)return-1;let l=[r.elt(n,s,s+1)];for(let c=s+1;c<r.end;c++){let u=r.char(c);if(u==o)return r.addElement(r.elt(e,s,c+1,l.concat(r.elt(n,c,c+1))));if(u==92&&l.push(r.elt("Escape",c,c+++2)),space$2(u))break}return-1}}const Superscript={defineNodes:[{name:"Superscript",style:tags$1.special(tags$1.content)},{name:"SuperscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Superscript",parse:parseSubSuper(94,"Superscript","SuperscriptMark")}]},Subscript={defineNodes:[{name:"Subscript",style:tags$1.special(tags$1.content)},{name:"SubscriptMark",style:tags$1.processingInstruction}],parseInline:[{name:"Subscript",parse:parseSubSuper(126,"Subscript","SubscriptMark")}]},Emoji={defineNodes:[{name:"Emoji",style:tags$1.character}],parseInline:[{name:"Emoji",parse(o,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(o.slice(n+1,o.end)))?-1:o.addElement(o.elt("Emoji",n,n+1+r[0].length))}}]};function getDefaultExportFromCjs$1(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var browser$1={exports:{}},process=browser$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(o){if(cachedSetTimeout===setTimeout)return setTimeout(o,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(o,0);try{return cachedSetTimeout(o,0)}catch{try{return cachedSetTimeout.call(null,o,0)}catch{return cachedSetTimeout.call(this,o,0)}}}function runClearTimeout(o){if(cachedClearTimeout===clearTimeout)return clearTimeout(o);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(o);try{return cachedClearTimeout(o)}catch{try{return cachedClearTimeout.call(null,o)}catch{return cachedClearTimeout.call(this,o)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var o=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(o)}}process.nextTick=function(o){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];queue.push(new Item(o,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(o,e){this.fun=o,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(o){return[]};process.binding=function(o){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(o){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$1.exports;const process$1=getDefaultExportFromCjs$1(browserExports);var define_process_env_default={};class Stack{constructor(e,n,r,a,s,l,c,u,h,f=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=a,this.pos=s,this.score=l,this.buffer=c,this.bufferBase=u,this.curContext=h,this.lookAhead=f,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let a=e.parser.context;return new Stack(e,[],n,r,r,0,[],0,a?new StackContext(a,a.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,a=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25;l&&this.setLookAhead(this.pos);let c=s.dynamicPrecedence(a);if(c&&(this.score+=c),r==0){this.pushState(s.getGoto(this.state,a,!0),this.reducePos),a<s.minRepeatTerm&&this.storeNode(a,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(a,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),h=u?this.stack[u-2]:this.p.ranges[0].from,f=this.reducePos-h;f>=2e3&&!(!((n=this.p.parser.nodeSet.types[a])===null||n===void 0)&&n.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=f));let d=u?this.stack[u-1]:0,p=this.bufferBase+this.buffer.length-d;if(a<s.minRepeatTerm||e&131072){let g=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(a,h,g,p+4,!0)}if(e&262144)this.state=this.stack[u];else{let g=this.stack[u-3];this.state=s.getGoto(g,a,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(a,h)}storeNode(e,n,r,a=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(n==r)return;if(l.buffer[c-2]>=n){l.buffer[c-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,a);else{let l=this.buffer.length;if(l>0&&this.buffer[l-4]!=0){let c=!1;for(let u=l;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,a>4&&(a-=4)}this.buffer[l]=e,this.buffer[l+1]=n,this.buffer[l+2]=r,this.buffer[l+3]=a}}shift(e,n,r,a){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;(a>this.pos||n<=l.maxNode)&&(this.pos=a,l.stateFlag(s,1)||(this.reducePos=a)),this.pushState(s,r),this.shiftContext(n,r),n<=l.maxNode&&this.buffer.push(n,r,a,4)}else this.pos=a,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,a,4)}apply(e,n,r,a){e&65536?this.reduce(e):this.shift(e,n,r,a)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let a=this.pos;this.reducePos=this.pos=a+e.length,this.pushState(n,a),this.buffer.push(r,a,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),a=e.bufferBase+n;for(;e&&a==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,a,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new SimulatedStack(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let a=[];for(let s=0,l;s<n.length;s+=2)(l=n[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&a.push(n[s],l);if(this.stack.length<120)for(let s=0;a.length<8&&s<n.length;s+=2){let l=n[s+1];a.some((c,u)=>u&1&&c==l)||a.push(n[s],l)}n=a}let r=[];for(let a=0;a<n.length&&r.length<4;a+=2){let s=n[a+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(n[a],this.pos),l.reducePos=this.pos,l.score-=200,r.push(l)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,a=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],a,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;n=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(a,s)=>{if(!n.includes(a))return n.push(a),e.allActions(a,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-s;if(c>1){let u=l&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],u,!1)>=0)return c<<19|65536|u}}else{let c=r(l,s+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new StackContext(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let a=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=a}}class StackBufferCursor{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(o,e=Uint16Array){if(typeof o!="string")return o;let n=null;for(let r=0,a=0;r<o.length;){let s=0;for(;;){let l=o.charCodeAt(r++),c=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let u=l-32;if(u>=46&&(u-=46,c=!0),s+=u,c)break;s*=46}n?n[a++]=s:n=new e(s)}return n}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,a=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!a)return null;let l=this.ranges[--a];s-=r.from-l.to,r=l}for(;n<0?s>r.to:s>=r.to;){if(a==this.ranges.length-1)return null;let l=this.ranges[++a];s+=l.from-r.to,r=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,a;if(n>=0&&n<this.chunk.length)r=this.pos+e,a=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)a=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),a=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),a}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let a of this.ranges){if(a.from>=n)break;a.to>e&&(r+=this.input.read(Math.max(a.from,e),Math.min(a.to,n)))}return r}}class TokenGroup{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;readToken(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?decodeArray(e):e}token(e,n){let r=e.pos,a=0;for(;;){let s=e.next<0,l=e.resolveOffset(1,1);if(readToken(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||a++,l==null)break;e.reset(l,e.token)}a&&(e.reset(r,e.token),e.acceptToken(this.elseToken,a))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function readToken(o,e,n,r,a,s){let l=0,c=1<<r,{dialect:u}=n.p.parser;e:for(;(c&o[l])!=0;){let h=o[l+1];for(let g=l+3;g<h;g+=2)if((o[g+1]&c)>0){let y=o[g];if(u.allows(y)&&(e.token.value==-1||e.token.value==y||overrides(y,e.token.value,a,s))){e.acceptToken(y);break}}let f=e.next,d=0,p=o[l+2];if(e.next<0&&p>d&&o[h+p*3-3]==65535){l=o[h+p*3-1];continue e}for(;d<p;){let g=d+p>>1,y=h+g+(g<<1),v=o[y],w=o[y+1]||65536;if(f<v)p=g;else if(f>=w)d=g+1;else{l=o[y+2],e.advance();continue e}}break}}function findOffset(o,e,n){for(let r=e,a;(a=o[r])!=65535;r++)if(a==n)return r-e;return-1}function overrides(o,e,n,r){let a=findOffset(n,r,e);return a<0||findOffset(n,r,o)<a}const verbose=typeof process$1<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(o,e,n){let r=o.cursor(IterMode.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(o.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:o.length}}class FragmentCursor{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],a=this.index[n];if(a==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[a],l=this.start[n]+r.positions[a];if(l>e)return this.nextStart=l,null;if(s instanceof Tree){if(l==e){if(l<this.safeFrom)return null;let c=l+s.length;if(c<=this.safeTo){let u=s.prop(NodeProp.lookAhead);if(!u||c+u<this.fragment.to)return s}}this.index[n]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[n]++,this.nextStart=l+s.length}}}class TokenCache{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new CachedToken)}getActions(e){let n=0,r=null,{parser:a}=e.p,{tokenizers:s}=a,l=a.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,u=0;for(let h=0;h<s.length;h++){if((1<<h&l)==0)continue;let f=s[h],d=this.tokens[h];if(!(r&&!f.fallback)&&((f.contextual||d.start!=e.pos||d.mask!=l||d.context!=c)&&(this.updateCachedToken(d,f,e),d.mask=l,d.context=c),d.lookAhead>d.end+25&&(u=Math.max(d.lookAhead,u)),d.value!=0)){let p=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!f.extend&&(r=d,n>p))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new CachedToken,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new CachedToken,{pos:r,p:a}=e;return n.start=r,n.end=Math.min(r+1,a.stream.end),n.value=r==a.stream.end?a.parser.eofTerm:0,n}updateCachedToken(e,n,r){let a=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(a,e),r),e.value>-1){let{parser:s}=r.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let c=s.specializers[l](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(a+1)}putAction(e,n,r,a){for(let s=0;s<a;s+=3)if(this.actions[s]==e)return a;return this.actions[a++]=e,this.actions[a++]=n,this.actions[a++]=r,a}addActions(e,n,r,a){let{state:s}=e,{parser:l}=e.p,{data:c}=l;for(let u=0;u<2;u++)for(let h=l.stateSlot(s,u?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=pair(c,h+2);else{a==0&&c[h+1]==2&&(a=this.putAction(pair(c,h+2),n,r,a));break}c[h]==n&&(a=this.putAction(pair(c,h+1),n,r,a))}return a}}class Parse{constructor(e,n,r,a){this.parser=e,this.input=n,this.ranges=a,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(n,a),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:s}=a[0];this.stacks=[Stack.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new FragmentCursor(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],a,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>n)r.push(c);else{if(this.advanceStack(c,r,e))continue;{a||(a=[],s=[]),a.push(c);let u=this.tokens.getMainToken(c);s.push(u.value,u.end)}}break}}if(!r.length){let l=a&&findFinished(a);if(l)return verbose&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw verbose&&a&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&a){let l=this.stoppedAt!=null&&a[0].pos>this.stoppedAt?a[0]:this.runRecovery(a,s,r);if(l)return verbose&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(r.length>l)for(r.sort((c,u)=>u.score-c.score);r.length>l;)r.pop();r.some(c=>c.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let l=0;l<r.length-1;l++){let c=r[l];for(let u=l+1;u<r.length;u++){let h=r[u];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)r.splice(u--,1);else{r.splice(l--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let l=1;l<r.length;l++)r[l].pos<this.minStackPos&&(this.minStackPos=r[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let a=e.pos,{parser:s}=this,l=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&a>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,f=h?e.curContext.hash:0;for(let d=this.fragments.nodeAt(a);d;){let p=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(p>-1&&d.length&&(!h||(d.prop(NodeProp.contextHash)||0)==f))return e.useNode(d,p),verbose&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof Tree)||d.children.length==0||d.positions[0]>0)break;let g=d.children[0];if(g instanceof Tree&&d.positions[0]==0)d=g;else break}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),verbose&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let h=0;h<u.length;){let f=u[h++],d=u[h++],p=u[h++],g=h==u.length||!r,y=g?e:e.split(),v=this.tokens.mainToken;if(y.apply(f,d,v?v.start:y.pos,p),verbose&&console.log(l+this.stackID(y)+` (via ${(f&65536)==0?"shift":`reduce of ${s.getName(f&65535)}`} for ${s.getName(d)} @ ${a}${y==e?"":", split"})`),g)return!0;y.pos>a?n.push(y):r.push(y)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return pushStackDedup(e,n),!0}}runRecovery(e,n,r){let a=null,s=!1;for(let l=0;l<e.length;l++){let c=e[l],u=n[l<<1],h=n[(l<<1)+1],f=verbose?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),verbose&&console.log(f+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let d=c.split(),p=f;for(let g=0;d.forceReduce()&&g<10&&(verbose&&console.log(p+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));g++)verbose&&(p=this.stackID(d)+" -> ");for(let g of c.recoverByInsert(u))verbose&&console.log(f+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,r);this.stream.end>c.pos?(h==c.pos&&(h++,u=0),c.recoverByDelete(u,h),verbose&&console.log(f+this.stackID(c)+` (via recover-delete ${this.parser.getName(u)})`),pushStackDedup(c,r)):(!a||a.score<c.score)&&(a=c)}return a}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(stackIDs||(stackIDs=new WeakMap)).get(e);return n||stackIDs.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function pushStackDedup(o,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==o.pos&&r.sameState(o)){e[n].score<o.score&&(e[n]=o);return}}e.push(o)}class Dialect{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const id=o=>o;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id,this.reduce=e.reduce||id,this.reuse=e.reuse||id,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let c=0;c<e.repeatNodeCount;c++)n.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),a=[];for(let c=0;c<n.length;c++)a.push([]);function s(c,u,h){a[c].push([u,u.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let u=c[0];typeof u=="string"&&(u=NodeProp[u]);for(let h=1;h<c.length;){let f=c[h++];if(f>=0)s(f,u,c[h++]);else{let d=c[h+-f];for(let p=-f;p>0;p--)s(c[h++],u,d);h++}}}this.nodeSet=new NodeSet(n.map((c,u)=>NodeType.define({name:u>=this.minRepeatTerm?void 0:c,id:u,props:a[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let l=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new TokenGroup(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let a=new Parse(this,e,n,r);for(let s of this.wrappers)a=s(a,e,n,r);return a}getGoto(e,n,r=!1){let a=this.goto;if(n>=a[0])return-1;for(let s=a[n+1];;){let l=a[s++],c=l&1,u=a[s++];if(c&&r)return u;for(let h=s+(l>>1);s<h;s++)if(a[s]==e)return u;if(c)return-1}}hasAction(e,n){let r=this.data;for(let a=0;a<2;a++)for(let s=this.stateSlot(e,a?2:1),l;;s+=3){if((l=r[s])==65535)if(r[s+1]==1)l=r[s=pair(r,s+2)];else{if(r[s+1]==2)return pair(r,s+2);break}if(l==n||l==0)return pair(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),a=r?n(r):void 0;for(let s=this.stateSlot(e,1);a==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=pair(this.data,s+2);else break;a=n(pair(this.data,s+1))}return a}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=pair(this.data,r+2);else break;if((this.data[r+2]&1)==0){let a=this.data[r+1];n.some((s,l)=>l&1&&s==a)||n.push(this.data[r],a)}}return n}configure(e){let n=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let a=e.tokenizers.find(s=>s.from==r);return a?a.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,a)=>{let s=e.specializers.find(c=>c.from==r.external);if(!s)return r;let l=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[a]=getSpecializer(l),l})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let l=n.indexOf(s);l>=0&&(r[l]=!0)}let a=null;for(let s=0;s<n.length;s++)if(!r[s])for(let l=this.dialects[n[s]],c;(c=this.data[l++])!=65535;)(a||(a=new Uint8Array(this.maxTerm+1)))[c]=1;return new Dialect(e,r,a)}static deserialize(e){return new LRParser(e)}}function pair(o,e){return o[e]|o[e+1]<<16}function findFinished(o){let e=null;for(let n of o){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function getSpecializer(o){if(o.external){let e=o.extend?1:0;return(n,r)=>o.external(n,r)<<1|e}return o.get}const scriptText=54,StartCloseScriptTag=1,styleText=55,StartCloseStyleTag=2,textareaText=56,StartCloseTextareaTag=3,EndTag=4,SelfClosingEndTag=5,StartTag$1=6,StartScriptTag=7,StartStyleTag=8,StartTextareaTag=9,StartSelfClosingTag=10,StartCloseTag$1=11,NoMatchStartCloseTag=12,MismatchedStartCloseTag=13,missingCloseTag=57,IncompleteCloseTag=14,commentContent$1$1=58,Element$3=20,TagName=22,Attribute=23,AttributeName=24,AttributeValue=26,UnquotedAttributeValue=27,ScriptText=28,StyleText=31,TextareaText=34,OpenTag$1=36,CloseTag=37,Dialect_noMatch=0,Dialect_selfClosing=1,selfClosers$1={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},closeOnOpen={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function nameChar$1(o){return o==45||o==46||o==58||o>=65&&o<=90||o==95||o>=97&&o<=122||o>=161}function isSpace$2(o){return o==9||o==10||o==13||o==32}let cachedName$1=null,cachedInput$1=null,cachedPos$1=0;function tagNameAfter$1(o,e){let n=o.pos+e;if(cachedPos$1==n&&cachedInput$1==o)return cachedName$1;let r=o.peek(e);for(;isSpace$2(r);)r=o.peek(++e);let a="";for(;nameChar$1(r);)a+=String.fromCharCode(r),r=o.peek(++e);return cachedInput$1=o,cachedPos$1=n,cachedName$1=a?a.toLowerCase():r==question$1||r==bang?void 0:null}const lessThan=60,greaterThan=62,slash$1=47,question$1=63,bang=33,dash$1=45;function ElementContext$1(o,e){this.name=o,this.parent=e}const startTagTerms=[StartTag$1,StartSelfClosingTag,StartScriptTag,StartStyleTag,StartTextareaTag],elementContext$1=new ContextTracker({start:null,shift(o,e,n,r){return startTagTerms.indexOf(e)>-1?new ElementContext$1(tagNameAfter$1(r,1)||"",o):o},reduce(o,e){return e==Element$3&&o?o.parent:o},reuse(o,e,n,r){let a=e.type.id;return a==StartTag$1||a==OpenTag$1?new ElementContext$1(tagNameAfter$1(r,1)||"",o):o},strict:!1}),tagStart=new ExternalTokenizer((o,e)=>{if(o.next!=lessThan){o.next<0&&e.context&&o.acceptToken(missingCloseTag);return}o.advance();let n=o.next==slash$1;n&&o.advance();let r=tagNameAfter$1(o,0);if(r===void 0)return;if(!r)return o.acceptToken(n?IncompleteCloseTag:StartTag$1);let a=e.context?e.context.name:null;if(n){if(r==a)return o.acceptToken(StartCloseTag$1);if(a&&implicitlyClosed[a])return o.acceptToken(missingCloseTag,-2);if(e.dialectEnabled(Dialect_noMatch))return o.acceptToken(NoMatchStartCloseTag);for(let s=e.context;s;s=s.parent)if(s.name==r)return;o.acceptToken(MismatchedStartCloseTag)}else{if(r=="script")return o.acceptToken(StartScriptTag);if(r=="style")return o.acceptToken(StartStyleTag);if(r=="textarea")return o.acceptToken(StartTextareaTag);if(selfClosers$1.hasOwnProperty(r))return o.acceptToken(StartSelfClosingTag);a&&closeOnOpen[a]&&closeOnOpen[a][r]?o.acceptToken(missingCloseTag,-1):o.acceptToken(StartTag$1)}},{contextual:!0}),commentContent$2=new ExternalTokenizer(o=>{for(let e=0,n=0;;n++){if(o.next<0){n&&o.acceptToken(commentContent$1$1);break}if(o.next==dash$1)e++;else if(o.next==greaterThan&&e>=2){n>=3&&o.acceptToken(commentContent$1$1,-2);break}else e=0;o.advance()}});function inForeignElement(o){for(;o;o=o.parent)if(o.name=="svg"||o.name=="math")return!0;return!1}const endTag=new ExternalTokenizer((o,e)=>{if(o.next==slash$1&&o.peek(1)==greaterThan){let n=e.dialectEnabled(Dialect_selfClosing)||inForeignElement(e.context);o.acceptToken(n?SelfClosingEndTag:EndTag,2)}else o.next==greaterThan&&o.acceptToken(EndTag,1)});function contentTokenizer(o,e,n){let r=2+o.length;return new ExternalTokenizer(a=>{for(let s=0,l=0,c=0;;c++){if(a.next<0){c&&a.acceptToken(e);break}if(s==0&&a.next==lessThan||s==1&&a.next==slash$1||s>=2&&s<r&&a.next==o.charCodeAt(s-2))s++,l++;else if((s==2||s==r)&&isSpace$2(a.next))l++;else if(s==r&&a.next==greaterThan){c>l?a.acceptToken(e,-l):a.acceptToken(n,-(l-2));break}else if((a.next==10||a.next==13)&&c){a.acceptToken(e,1);break}else s=l=0;a.advance()}})}const scriptTokens=contentTokenizer("script",scriptText,StartCloseScriptTag),styleTokens=contentTokenizer("style",styleText,StartCloseStyleTag),textareaTokens=contentTokenizer("textarea",textareaText,StartCloseTextareaTag),htmlHighlighting=styleTags({"Text RawText":tags$1.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":tags$1.angleBracket,TagName:tags$1.tagName,"MismatchedCloseTag/TagName":[tags$1.tagName,tags$1.invalid],AttributeName:tags$1.attributeName,"AttributeValue UnquotedAttributeValue":tags$1.attributeValue,Is:tags$1.definitionOperator,"EntityReference CharacterReference":tags$1.character,Comment:tags$1.blockComment,ProcessingInst:tags$1.processingInstruction,DoctypeDecl:tags$1.documentMeta}),parser$5=LRParser.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:elementContext$1,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[htmlHighlighting],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[scriptTokens,styleTokens,textareaTokens,endTag,tagStart,commentContent$2,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function getAttrs(o,e){let n=Object.create(null);for(let r of o.getChildren(Attribute)){let a=r.getChild(AttributeName),s=r.getChild(AttributeValue)||r.getChild(UnquotedAttributeValue);a&&(n[e.read(a.from,a.to)]=s?s.type.id==AttributeValue?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function findTagName(o,e){let n=o.getChild(TagName);return n?e.read(n.from,n.to):" "}function maybeNest(o,e,n){let r;for(let a of n)if(!a.attrs||a.attrs(r||(r=getAttrs(o.node.parent.firstChild,e))))return{parser:a.parser};return null}function configureNesting(o=[],e=[]){let n=[],r=[],a=[],s=[];for(let c of o)(c.tag=="script"?n:c.tag=="style"?r:c.tag=="textarea"?a:s).push(c);let l=e.length?Object.create(null):null;for(let c of e)(l[c.name]||(l[c.name]=[])).push(c);return parseMixed((c,u)=>{let h=c.type.id;if(h==ScriptText)return maybeNest(c,u,n);if(h==StyleText)return maybeNest(c,u,r);if(h==TextareaText)return maybeNest(c,u,a);if(h==Element$3&&s.length){let f=c.node,d=f.firstChild,p=d&&findTagName(d,u),g;if(p){for(let y of s)if(y.tag==p&&(!y.attrs||y.attrs(g||(g=getAttrs(d,u))))){let v=f.lastChild,w=v.type.id==CloseTag?v.from:f.to;if(w>d.to)return{parser:y.parser,overlay:[{from:d.to,to:w}]}}}}if(l&&h==Attribute){let f=c.node,d;if(d=f.firstChild){let p=l[u.read(d.from,d.to)];if(p)for(let g of p){if(g.tagName&&g.tagName!=findTagName(f.parent,u))continue;let y=f.lastChild;if(y.type.id==AttributeValue){let v=y.from+1,w=y.lastChild,O=y.to-(w&&w.isError?0:1);if(O>v)return{parser:g.parser,overlay:[{from:v,to:O}]}}else if(y.type.id==UnquotedAttributeValue)return{parser:g.parser,overlay:[{from:y.from,to:y.to}]}}}}return null})}const descendantOp=122,Unit=1,identifier$2=123,callee=124,VariableName=2,queryIdentifier=125,queryVariableName=3,QueryCallee=4,space$1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],colon=58,parenL=40,underscore=95,bracketL$1=91,dash=45,period=46,hash$1=35,percent=37,ampersand=38,backslash=92,newline$1=10,asterisk=42;function isAlpha(o){return o>=65&&o<=90||o>=97&&o<=122||o>=161}function isDigit(o){return o>=48&&o<=57}function isHex(o){return isDigit(o)||o>=97&&o<=102||o>=65&&o<=70}const identifierTokens=(o,e,n)=>(r,a)=>{for(let s=!1,l=0,c=0;;c++){let{next:u}=r;if(isAlpha(u)||u==dash||u==underscore||s&&isDigit(u))!s&&(u!=dash||c>0)&&(s=!0),l===c&&u==dash&&l++,r.advance();else if(u==backslash&&r.peek(1)!=newline$1){if(r.advance(),isHex(r.next)){do r.advance();while(isHex(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(l==2&&a.canShift(VariableName)?e:u==parenL?n:o);break}}},identifiers=new ExternalTokenizer(identifierTokens(identifier$2,VariableName,callee)),queryIdentifiers=new ExternalTokenizer(identifierTokens(queryIdentifier,queryVariableName,QueryCallee)),descendant=new ExternalTokenizer(o=>{if(space$1.includes(o.peek(-1))){let{next:e}=o;(isAlpha(e)||e==underscore||e==hash$1||e==period||e==asterisk||e==bracketL$1||e==colon&&isAlpha(o.peek(1))||e==dash||e==ampersand)&&o.acceptToken(descendantOp)}}),unitToken=new ExternalTokenizer(o=>{if(!space$1.includes(o.peek(-1))){let{next:e}=o;if(e==percent&&(o.advance(),o.acceptToken(Unit)),isAlpha(e)){do o.advance();while(isAlpha(o.next)||isDigit(o.next));o.acceptToken(Unit)}}}),cssHighlighting=styleTags({"AtKeyword import charset namespace keyframes media supports":tags$1.definitionKeyword,"from to selector":tags$1.keyword,NamespaceName:tags$1.namespace,KeyframeName:tags$1.labelName,KeyframeRangeName:tags$1.operatorKeyword,TagName:tags$1.tagName,ClassName:tags$1.className,PseudoClassName:tags$1.constant(tags$1.className),IdName:tags$1.labelName,"FeatureName PropertyName":tags$1.propertyName,AttributeName:tags$1.attributeName,NumberLiteral:tags$1.number,KeywordQuery:tags$1.keyword,UnaryQueryOp:tags$1.operatorKeyword,"CallTag ValueName":tags$1.atom,VariableName:tags$1.variableName,Callee:tags$1.operatorKeyword,Unit:tags$1.unit,"UniversalSelector NestingSelector":tags$1.definitionOperator,"MatchOp CompareOp":tags$1.compareOperator,"ChildOp SiblingOp, LogicOp":tags$1.logicOperator,BinOp:tags$1.arithmeticOperator,Important:tags$1.modifier,Comment:tags$1.blockComment,ColorLiteral:tags$1.color,"ParenthesizedContent StringLiteral":tags$1.string,":":tags$1.punctuation,"PseudoOp #":tags$1.derefOperator,"; ,":tags$1.separator,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),spec_callee={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},spec_queryIdentifier={__proto__:null,or:98,and:98,not:106,only:106,layer:170},spec_QueryCallee={__proto__:null,selector:112,layer:166},spec_AtKeyword={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},spec_identifier$1={__proto__:null,to:207},parser$4=LRParser.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[cssHighlighting],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[descendant,unitToken,identifiers,queryIdentifiers,1,2,3,4,new LocalTokenGroup("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:o=>spec_callee[o]||-1},{term:125,get:o=>spec_queryIdentifier[o]||-1},{term:4,get:o=>spec_QueryCallee[o]||-1},{term:25,get:o=>spec_AtKeyword[o]||-1},{term:123,get:o=>spec_identifier$1[o]||-1}],tokenPrec:1963});let _properties=null;function properties(){if(!_properties&&typeof document=="object"&&document.body){let{style:o}=document.body,e=[],n=new Set;for(let r in o)r!="cssText"&&r!="cssFloat"&&typeof o[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,a=>"-"+a.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));_properties=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return _properties||[]}const pseudoClasses=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(o=>({type:"class",label:o})),values=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(o=>({type:"keyword",label:o})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(o=>({type:"constant",label:o}))),tags=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(o=>({type:"type",label:o})),atRules=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(o=>({type:"keyword",label:o})),identifier$1=/^(\w[\w-]*|-\w[\w-]*|)$/,variable=/^-(-[\w-]*)?$/;function isVarArg(o,e){var n;if((o.name=="("||o.type.isError)&&(o=o.parent||o),o.name!="ArgList")return!1;let r=(n=o.parent)===null||n===void 0?void 0:n.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const VariablesByNode=new NodeWeakMap,declSelector=["Declaration"];function astTop(o){for(let e=o;;){if(e.type.isTop)return e;if(!(e=e.parent))return o}}function variableNames(o,e,n){if(e.to-e.from>4096){let r=VariablesByNode.get(e);if(r)return r;let a=[],s=new Set,l=e.cursor(IterMode.IncludeAnonymous);if(l.firstChild())do for(let c of variableNames(o,l.node,n))s.has(c.label)||(s.add(c.label),a.push(c));while(l.nextSibling());return VariablesByNode.set(e,a),a}else{let r=[],a=new Set;return e.cursor().iterate(s=>{var l;if(n(s)&&s.matchContext(declSelector)&&((l=s.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let c=o.sliceString(s.from,s.to);a.has(c)||(a.add(c),r.push({label:c,type:"variable"}))}}),r}}const defineCSSCompletionSource=o=>e=>{let{state:n,pos:r}=e,a=syntaxTree(n).resolveInner(r,-1),s=a.type.isError&&a.from==a.to-1&&n.doc.sliceString(a.from,a.to)=="-";if(a.name=="PropertyName"||(s||a.name=="TagName")&&/^(Block|Styles)$/.test(a.resolve(a.to).name))return{from:a.from,options:properties(),validFor:identifier$1};if(a.name=="ValueName")return{from:a.from,options:values,validFor:identifier$1};if(a.name=="PseudoClassName")return{from:a.from,options:pseudoClasses,validFor:identifier$1};if(o(a)||(e.explicit||s)&&isVarArg(a,n.doc))return{from:o(a)||s?a.from:r,options:variableNames(n.doc,astTop(a),o),validFor:variable};if(a.name=="TagName"){for(let{parent:u}=a;u;u=u.parent)if(u.name=="Block")return{from:a.from,options:properties(),validFor:identifier$1};return{from:a.from,options:tags,validFor:identifier$1}}if(a.name=="AtKeyword")return{from:a.from,options:atRules,validFor:identifier$1};if(!e.explicit)return null;let l=a.resolve(r),c=l.childBefore(r);return c&&c.name==":"&&l.name=="PseudoClassSelector"?{from:r,options:pseudoClasses,validFor:identifier$1}:c&&c.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:r,options:values,validFor:identifier$1}:l.name=="Block"||l.name=="Styles"?{from:r,options:properties(),validFor:identifier$1}:null},cssCompletionSource=defineCSSCompletionSource(o=>o.name=="VariableName"),cssLanguage=LRLanguage.define({name:"css",parser:parser$4.configure({props:[indentNodeProp.add({Declaration:continuedIndent()}),foldNodeProp.add({"Block KeyframeList":foldInside})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function css(){return new LanguageSupport(cssLanguage,cssLanguage.data.of({autocomplete:cssCompletionSource}))}const noSemi=316,noSemiType=317,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=318,spaces=320,newline=321,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(o,e){return e==LineComment||e==BlockComment||e==spaces?o:e==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((o,e)=>{let{next:n}=o;(n==braceR||n==-1||e.context)&&o.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((o,e)=>{let{next:n}=o,r;space.indexOf(n)>-1||n==slash&&((r=o.peek(1))==slash||r==star)||n!=braceR&&n!=semicolon&&n!=-1&&!e.context&&o.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((o,e)=>{o.next==bracketL&&!e.context&&o.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((o,e)=>{let{next:n}=o;if(n==plus||n==minus){if(o.advance(),n==o.next){o.advance();let r=!e.context&&e.canShift(incdec);o.acceptToken(r?incdec:incdecPrefix)}}else n==question&&o.peek(1)==dot&&(o.advance(),o.advance(),(o.next<48||o.next>57)&&o.acceptToken(questionDot))},{contextual:!0});function identifierChar(o,e){return o>=65&&o<=90||o>=97&&o<=122||o==95||o>=192||!e&&o>=48&&o<=57}const jsx=new ExternalTokenizer((o,e)=>{if(o.next!=lt||!e.dialectEnabled(Dialect_jsx)||(o.advance(),o.next==slash))return;let n=0;for(;space.indexOf(o.next)>-1;)o.advance(),n++;if(identifierChar(o.next,!0)){for(o.advance(),n++;identifierChar(o.next,!1);)o.advance(),n++;for(;space.indexOf(o.next)>-1;)o.advance(),n++;if(o.next==comma)return;for(let r=0;;r++){if(r==7){if(!identifierChar(o.next,!0))return;break}if(o.next!="extends".charCodeAt(r))break;o.advance(),n++}}o.acceptToken(JSXStartTag,-n)}),jsHighlight=styleTags({"get set async static":tags$1.modifier,"for while do if else switch try catch finally return throw break continue default case defer":tags$1.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags$1.operatorKeyword,"let var const using function class extends":tags$1.definitionKeyword,"import export from":tags$1.moduleKeyword,"with debugger new":tags$1.keyword,TemplateString:tags$1.special(tags$1.string),super:tags$1.atom,BooleanLiteral:tags$1.bool,this:tags$1.self,null:tags$1.null,Star:tags$1.modifier,VariableName:tags$1.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags$1.function(tags$1.variableName),VariableDefinition:tags$1.definition(tags$1.variableName),Label:tags$1.labelName,PropertyName:tags$1.propertyName,PrivatePropertyName:tags$1.special(tags$1.propertyName),"CallExpression/MemberExpression/PropertyName":tags$1.function(tags$1.propertyName),"FunctionDeclaration/VariableDefinition":tags$1.function(tags$1.definition(tags$1.variableName)),"ClassDeclaration/VariableDefinition":tags$1.definition(tags$1.className),"NewExpression/VariableName":tags$1.className,PropertyDefinition:tags$1.definition(tags$1.propertyName),PrivatePropertyDefinition:tags$1.definition(tags$1.special(tags$1.propertyName)),UpdateOp:tags$1.updateOperator,"LineComment Hashbang":tags$1.lineComment,BlockComment:tags$1.blockComment,Number:tags$1.number,String:tags$1.string,Escape:tags$1.escape,ArithOp:tags$1.arithmeticOperator,LogicOp:tags$1.logicOperator,BitOp:tags$1.bitwiseOperator,CompareOp:tags$1.compareOperator,RegExp:tags$1.regexp,Equals:tags$1.definitionOperator,Arrow:tags$1.function(tags$1.punctuation),": Spread":tags$1.punctuation,"( )":tags$1.paren,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace,"InterpolationStart InterpolationEnd":tags$1.special(tags$1.brace),".":tags$1.derefOperator,", ;":tags$1.separator,"@":tags$1.meta,TypeName:tags$1.typeName,TypeDefinition:tags$1.definition(tags$1.typeName),"type enum interface implements namespace module declare":tags$1.definitionKeyword,"abstract global Privacy readonly override":tags$1.modifier,"is keyof unique infer asserts":tags$1.operatorKeyword,JSXAttributeValue:tags$1.attributeValue,JSXText:tags$1.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags$1.angleBracket,"JSXIdentifier JSXNameSpacedName":tags$1.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags$1.attributeName,"JSXBuiltin/JSXIdentifier":tags$1.standard(tags$1.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser$3=LRParser.deserialize({version:14,states:"$FjQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3]Q(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ yQpO'#GbO$!aQ!dO,5<sO$!hQ`O'#K[O9eQ`O'#K[O$!vQ`O,5<uO!,TQMhO,5<tO$!{Q`O'#GZO$#^Q`O,5<tO$#cQ!dO'#GWO$#pQ!dO'#K]O$#zQ`O'#K]O!&zQMhO'#K]O$$PQ`O,5<xO$$UQlO'#JvO$$`QpO'#GcO#$`QpO'#GcO$$qQ`O'#GgO!3oQ`O'#GkO$$vQ!0LrO'#ItO$%RQpO,5<|OOQ!0Lp,5<|,5<|O$%YQpO'#GcO$%gQpO'#GdO$%xQpO'#GdO$%}QMjO,5=XO$&_QMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$&oQ`O'#IyO$'TQ`O,5@UO$']Q`O,59aOOQ!0Lh,59i,59iO$'bQ`O,5@VO$(bQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)TQMjO,5<kO$)vQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*QQ`O,5<vO$*VQMjO,5<{O$*gQ`O'#KPO!$wQlO1G2RO$*lQ`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$*qQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,sQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$.wQMhO'#EkOOQ!0Lb,5@T,5@TO$/UQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$/gQ`O1G0uO$/lQ`O'#CiO$/wQ`O'#KeO$0PQ`O,5=|O$0UQ`O'#KeO$0ZQ`O'#KeO$0iQ`O'#JRO$0wQ`O,5AOO$1PQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1WQ`O1G3fO$1]Q`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$1bQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$1gQ`O1G3SO$1oQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1wQMhO,5=tO9kQ`O,5=tO$$qQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2VQ`O'#KcO$2bQ`O,5=wOOQ[1G.k1G.kO$2gQ!0LrO1G.kO@zQ`O1G.kO$2rQ`O1G.kO9uQ!0LrO1G.kO$4zQ!fO,5AQO$5XQ`O,5AQO9eQ`O,5AQO$5dQlO,5>PO$5kQ`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$5pQlO1G3uO$9tQlO'#HtOOQ[1G3x1G3xO$:RQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:ZQlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$>bQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$>gQ?MtO,5:XOOQO,5;`,5;`O$>qQpO'#IeO$?XQ`O,5@aOOQ!0Lf1G/r1G/rO$?aQpO'#IkO$?kQ`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$?sQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?zQ!0LrO1G0mO$@VQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$@eQ!0LrO1G0mOOQO1G0^1G0^O$@yQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$ATQ!bO,5<iO$A]Q!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$AgQ`O1G5zO$AoQ`O1G6YO$AwQ!fO1G6ZO9eQ`O,5?UO$BRQ!0MxO1G6WO%[QlO1G6WO$BcQ!0LrO1G6WO$BtQ`O1G6VO$BtQ`O1G6VO9eQ`O1G6VO$B|Q`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$CbQ`O,5?XO$*gQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$CpQ`O7+(eO$C{QMhO7+(eO$DZQ!0MzO,5=XO$FfQ!0MzO,5=ZO$HqQ!0MzO,5=XO$KSQ!0MzO,5=ZO$MeQ!0MzO,59uO% jQ!0MzO,5<kO%#uQ!0MzO,5<mO%&QQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%(cQ!0MxO7+&aO%)VQlO'#IfO%)dQ`O,5@cO%)lQ!fO,5@cOOQ!0Lf1G0P1G0PO%)vQ`O7+&jOOQ!0Lf7+&j7+&jO%){Q?MtO,5:fO%[QlO7+&zO%*VQ?MtO,5:bO%*dQ?MtO,5:jO%*nQ?MtO,5:lO%*xQMhO'#IiO%+SQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+[Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%+gQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+lQ!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%+sQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%,gQMhO1G2fP%,nQ`O'#IrPOQ!0Lh-E<p-E<pO%-[QMjO,5?aOOQ!0Lh-E<s-E<sO%-}QMjO,5?cOOQ!0Lh-E<u-E<uO%.XQ!dO1G2wO%.`Q!dO'#CrO%.vQMhO'#KSO$$UQlO'#JvOOQ!0Lh1G2_1G2_O%.}Q`O'#IqO%/cQ`O,5@vO%/cQ`O,5@vO%/kQ`O,5@vO%/vQ`O,5@vOOQO1G2a1G2aO%0UQMjO1G2`O!,TQMhO1G2`O%0fQ(CWO'#IsO%0sQ`O,5@wO!&zQMhO,5@wO%0{Q!dO,5@wOOQ!0Lh1G2d1G2dO%3]Q!fO'#CiO%3gQ`O,5=POOQ!0Lb,5<},5<}O%3oQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%3zQpO,5<}OOQ!0Lb,5=R,5=RO$*gQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$UQlO,5=PO%4YQ`O,5=OO%4eQpO,5=OO!,TQMhO'#IuO%5_QMjO1G2sO!,TQMhO'#IwO%6QQMjO1G2uO%6[QMjO1G5qO%6fQMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6sQ`O1G2ZO!,TQMhO1G2bO%6xQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%7lQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%7qQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$CsQ`O7+(eO%7{Q!0MvO'#CiO%8`Q!0MvO,5=SO%9QQ`O,5=SO%9YQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9_Q`O'#JQO%9vQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%9vQ`O,5APO%:OQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:TQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:YQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:_Q!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%:iQ`O'#KbO%:tQ`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<WQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<_Q`O1G3`O%<jQMhO1G3`O9uQ!0LrO1G3bO$$qQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%<xQ`O'#JPO%=^Q`O,5@}O%=fQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%=qQ`O7+$VO%[QlO1G6lO%[QlO1G6mO%=vQ!0LrO1G6lO%>QQlO1G3kO%>XQ`O1G3kO%>^QlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%>eQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%>rQ`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%>wQpO1G5|O%?cQ?MtO1G0zO%?mQ`O1G0zOOQO1G/s1G/sO%?xQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$@yQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@SQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@_Q!0LrO7+&XO%@mQ!0MxO7++rO%[QlO7++rO%@}Q`O7++qO%@}Q`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AVQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%AeQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%AmQ`O<<LPO%AxQ!0MzO,5?aO%DTQ!0MzO,5?cO%F`Q!0MzO1G2`O%HqQ!0MzO1G2sO%J|Q!0MzO1G2uO%MXQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%McQ`O1G5}OOQ!0Lf<<JU<<JUO%MkQ?MtO1G0uO& rQ?MtO1G1PO& yQ?MtO1G1PO&#zQ?MtO1G1PO&$RQ?MtO1G1PO&&SQ?MtO1G1PO&(TQ?MtO1G1PO&([Q?MtO1G1PO&(cQ?MtO1G1PO&*dQ?MtO1G1PO&*kQ?MtO1G1PO&*rQ!0MxO<<JfO&,jQ?MtO1G1PO&-gQ?MvO1G1PO&.jQ?MvO'#JlO&0pQ?MtO1G1cO&0}Q?MtO1G0UO&1XQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1cQ`O1G1tO&1hQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&1rQ!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&1yQ`O,5?]O9eQ`O,5?]OOQO-E<o-E<oO&2XQ`O1G6bO&2XQ`O1G6bO&2aQ`O1G6bO&2lQMjO7+'zO&2|Q!dO,5?_O&3WQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3]Q!dO1G6cO&3gQ`O1G6cO&3oQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3oQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&3tQpO1G2iO&4SQ`O1G2kO$*gQ`O1G2jOCwQ`O1G2jO$$UQlO1G2kO&4[Q`O1G2jO&5OQMjO,5?aOOQ!0Lh-E<t-E<tO&5qQMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&5{QMjO7++]O&6VQMjO7++]OOQ!0Lh1G/c1G/cO&6dQ`O1G/cOOQ!0Lh7+'u7+'uO&6iQMjO7+'|O&6yQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&7mQ`O1G0zO!&zQMhO'#IzO&7rQ`O,5@xO&9tQ!fO<<LPO!&zQMhO1G2nO&9{Q!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:^Q!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;QQ`O,5?lO&;VQ`O,5?lOOQO-E=O-E=OO&;eQ`O1G6kO&;eQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&;mQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:_Q!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&;rQpO'#I|O&;}Q`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<VQpO,5=uOOQ[,5=u,5=uO&<^QpO'#EgO&<eQpO'#GeO&<jQ`O7+(zO&<oQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&<wQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$$qQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=SQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=_Q`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&=gQ`O7+,WO&=lQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&=qQ`O7+)VO&=vQlO7+)VO&=}Q`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>SQ`O,5>aOOQ[,5>c,5>cO&>XQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>^Q?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$@yQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&>hQ!0LrO<<IsO&>sQ!0MxO<= ^O&?TQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?]Q!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&?dQ`OANAkO%[QlOANAkO&?lQ!0MzO7+'zO&A}Q!0MzO,5?aO&DYQ!0MzO,5?cO&FeQ!0MzO7+'|O&HvQ!fO1G4lO&IQQ?MtO7+&aO&KUQ?MvO,5=XO&M]Q?MvO,5=ZO&MmQ?MvO,5=XO&M}Q?MvO,5=ZO&N_Q?MvO,59uO'!eQ?MvO,5<kO'$hQ?MvO,5<mO'&|Q?MvO,5<{O'(rQ?MtO7+'kO')PQ?MtO7+'mO')^Q`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')cQMjO<<K}OOQO1G4w1G4wO')jQ`O1G4wO')uQ`O1G4wO'*TQ`O7++|O'*TQ`O7++|O!&zQMhO1G4yO'*]Q!dO1G4yO'*gQ`O7++}O'*oQ`O7+(VO'*zQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+UQ`O7+(VO!&zQMhO7+(VO$*gQ`O7+(UO'+ZQ`O7+(VOCwQ`O7+(UO'+cQMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O'+mQ!dO,5?fOOQO-E<x-E<xO'+wQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',XQ`O1G5WO',^Q`O7+,VO',^Q`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO',fQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO',kQ`O,5?hOOQO-E<z-E<zO',vQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-QQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&<jQ`O<<LfO'-VQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$$qQ`O<<LhO9`Q`O<<LhO'-_QpO1G5VO'-jQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'-rQ`O<= rO'-wQ`O<= sOOQ[<<Lq<<LqO'-|Q`O<<LqO'.RQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.YQ`O<<JQO'.eQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@yQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'.oQ!fOG27VO4UQ!fOG27VO'.vQ`OG27VO'/OQ?MtO<<JfO'/]Q?MvO1G2`O'1RQ?MvO,5?aO'3UQ?MvO,5?cO'5XQ?MvO1G2sO'7[Q?MvO1G2uO'9_Q?MtO<<KXO'9lQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO'9yQ`O7+*cO':UQ`O<= hO':^Q!dO7+*eOOQ!0Lb<<Kq<<KqO$*gQ`O<<KqOCwQ`O<<KqO':hQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO':sQ!dO<<KqOOQ!0Lb<<Kp<<KpO':}Q`O<<KqO!&zQMhO<<KqO$*gQ`O<<KpO';SQMjOANDcO';^Q!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO';nQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO';vQ`O7+,SO'<OQ`O1G2kO&<jQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<TQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$$qQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<]Q`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$@yQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<bQ!fOLD,qO'<iQ?MvO7+'zO'>_Q?MvO,5?aO'@bQ?MvO,5?cO'BeQ?MvO7+'|O'DZQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$*gQ`OANA]OCwQ`OANA]O'DkQ!dOANA]OOQ!0LbANAZANAZO'DrQ`OANA]O!&zQMhOANA]O'D}Q!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EXQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&<jQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'EcQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'EmQ!0MzOG27TOOQ!0LbG26wG26wO$*gQ`OG26wO'HOQ`OG26wOCwQ`OG26wO'HZQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&<jQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$*gQ`OLD,cOCwQ`OLD,cO'HbQ`OLD,cO'HmQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HtQ?MvOG27TOOQ!0Lb!$( }!$( }O$*gQ`O!$( }OCwQ`O!$( }O'JjQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$*gQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$*gQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'JuQ!fO'#JrO'J|Q!L^O'#DvO'KTQlO'#EOO'K[Q!fO'#CiO'MrQ!fO'#CiO!)[QlO'#EQO'NSQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!VQ`O,5<iO!)[QlO,5;eO(!_QMhO,5;eO(#xQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!_QMhO'#GmO!&zQMhO'#GoO(!_QMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!_QMhO'#GPO!&zQMhO'#GRO(!_QMhO'#GRO!&zQMhO'#GaO(!_QMhO'#GaO!)[QlO,5:jO($PQpO'#D_O($ZQpO'#JvO!)[QlO,5@oO'NSQlO1G0uO($eQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!_QMhO'#IuO!&zQMhO'#IwO(!_QMhO'#IwO($oQ!dO'#CrO!&zQMhO,5<tO(!_QMhO,5<tO'NSQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!_QMhO1G2`O!&zQMhO'#IuO(!_QMhO'#IuO!&zQMhO'#IwO(!_QMhO'#IwO!&zQMhO1G2bO(!_QMhO1G2bO'NSQlO7+'mO'NSQlO7+&aO!&zQMhOANAiO(!_QMhOANAiO(%SQ`O'#EoO(%XQ`O'#EoO(%aQ`O'#F]O(%fQ`O'#EyO(%kQ`O'#KTO(%vQ`O'#KRO(&RQ`O,5;ZO(&WQMjO,5<eO(&_Q`O'#GYO(&dQ`O'#GYO(&iQ`O,5<eO(&qQ`O,5<gO(&yQ`O,5;ZO('RQ?MtO1G1`O('YQ`O,5<tO('_Q`O,5<tO('dQ`O,5<vO('iQ`O,5<vO('nQ`O1G2RO('sQ`O1G0uO('xQMjO<<K}O((PQMjO<<K}O((WQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.XQ!dO1G2wO%.XQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()^~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<SO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<WO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<XO!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<SO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<pO!S${O!_$|O!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<ROQ<ROSfOd>OOe!iOpkOr<ROskOtkOzkO|<RO!O<RO!SWO!WkO!XkO!_!eO!i<UO!lZO!o<RO!p<RO!q<RO!s<VO!u<YO!x!hO$W!kO$n=|O(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<pO!S*YO!_*ZO!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~O![*^O(T*XO!k)OP~P!1uO#k*`O~O!l*aO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<pO!S${O!_$|O!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(T*cO(VTO(YUO(a$uO(y$}O(z%PO~O![*fO!Y)PP~P!3tOr*rOs!nO!S*hO!b*pO!c*jO!d*jO!l*aO#[*qO%`*lO(U!lO(VTO(YUO(e!mO~O!^*oO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*wO#`*vOg(_X!](_X~O!]*xOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*{O~Og)}O(T&ZO~O!l+RO~O(T(vO~Op+VO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+WO~O!S%hO![+YO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+[O![+ZO(VTO(YUO(e(|O~O!^(xP~P!9|O!]+]Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+fO!_'`O%i+eO~O!g+hOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+sO%j+tO(T+pO(VTO(YUO!^)XP~O!]+uO`)WX~O[+yO~O`+zO~O!_&PO(T%gO(U!lO`)WP~O%j+}O~P;SOh%VO#`,RO~Oh%VOn,UO!_$|O~O!_,WO~O!Q,YO!_XO~O%n%vO~O!x,_O~Oe,dO~Ob,eO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,jO`,iO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,iOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,oOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,uO~O!_,wO~O&o,yO&q,zOP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-PO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-UO#`-TOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-WO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<ROQ<ROSfOd>OOe!iOpkOr<ROskOtkOzkO|<RO!O<RO!SWO!WkO!XkO!_!eO!i<UO!lZO!o<RO!p<RO!q<RO!s<VO!u<YO!x!hO$W!kO$n=|O(VTO(YUO(aVO(o[O~O(T<}O~P#$qO!]-[O!^(iX~O!^-^O~O!g-UO#`-TO!]#hX!^#hX~O!]-_O!^(xX~O!^-aO~O!c-bO!d-bO(U!lO~P#$`O!^-eO~P'_On-hO!_'`O~O!Y-mO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-rO#`-pO~PChO!c-tO!d-tO(U!lO~PDWOa%nO#`-pO'z%nO~Oa%nO!g#vO#`-pO'z%nO~Oa%nO!g#vO!p-rO#`-pO'z%nO(r'pO~O(P'xO(Q'xO(R-yO~Ov-zO~O!Y'Wa!]'Wa~P!:tO![.OO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.SO!_%iO(T%gO!Y'^X!]'^X~O#`.UO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.YO(T%gO~Op._O!S%hO![.[O!_%iO!|]O#i.^O#j.[O(T%gO!]'aX!k'aX~OR.cO!l#xO~Oh%VOn.fO!_'`O%i.eO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>YO!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].sO!k(kX~P!:tO!k.vO~O!Y.xO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO#v<`O#x<bO#z<dO#{<eO(aVO(r$YO(y#|O(z#}O~O$O.zO~P#BwO#S$dO#`<kO$Q<kO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>YO!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/OOg(pX~P!1WOg/QO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/RO$_/RO~O$]/SO$_/SO~O!g)hO#`/TO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/UO~O!_)kO$Z/WO$])jO$_)jO$f/XO~O!]<fO!^(fX~P#BwO!^/YO~O!g)hO$f({X~O$f/[O~Ov/]O~P!&zOx)yO(b)zO(c/`O~O!S/cO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SO![/lO!](^O(T/kO!Y(vP!Y)PP~P!1uOr*rO!b*pO!c*jO!d*jO!l*aO#[*qO%`*lO(U!lO(VTO(YUO~Os<zO!S/mO![+ZO!^*oO(e<yO!^(xP~P$ XO!k/nO~P#/sO!]/oO!g#vO(r'pO!k)OX~O!k/tO~O!S%hO![*^O!_%iO(T%gO!k)OP~O#k/vO~O!Y$zX!]$zX!g%RX~P!0SO!]/wO!Y)PX~P#/sO!g/yO~O!Y/{O~OpkO(T/|O~P.iOh%VOr0RO!g#vO!l%eO(r'pO~O!g+hO~Oa%nO!]0VO'z%nO~O!^0XO~P!5iO!c0YO!d0YO(U!lO~P#$`Os!nO!S0ZO(VTO(YUO(e!mO~O#[0]O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*xOg(^a~Og0fO~On0hO#`0gOg(_a!](_a~OR0iO!Q0iO!S0jO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$'pO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$(lO!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$)_O#k0mO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0pO~O!]+]Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*|Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<pO!S${O!_$|O!i>SO!l$xO#j<vO$W%`O$t<rO$v<tO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0yO%]0zO(T0xO~P$-dO!g+hOa(]a!_(]a'z(]a!](]a~O#k1QO~O[]X!]fX!^fX~O!]1RO!^)XX~O!^1TO~O[1UO~Ob1WO(T+pO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+uO`)Wa~O!k1ZO~P!:tO[1^O~O`1_O~O#`1dO~On1gO!_$|O~O(e(|O!^)UP~Oh%VOn1pO!_1mO%i1oO~O[1zO!]1xO!^)VX~O!^1{O~O`1}Oa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2QO&[2ROa(gX~P$2}Oj2QO#`$eO&[2RO~Oa2TO~P%[Oa2VO~O&e2YOP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2`O!^2^O&j2_O~P`O!_XO!l2bO~O&q,zOP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2hO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2nO(e!mO!]'XX!^'XX~P@nO!]-[O!^(ia~O!]'_X!^'_X~P!9|O!]-_O!^(xa~O!^2uO~P'_Oa%nO#`3OO'z%nO~Oa%nO!g#vO#`3OO'z%nO~Oa%nO!g#vO!p3SO#`3OO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3UO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3ZO#j3YO(T%gO~O!S%hO!_%iO#j3YO(T%gO~On3bO!_'`O%i3aO~Oh%VOn3bO!_'`O%i3aO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$'pO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$(lO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$)_O#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3jO!]'YX!k'YX~P%[O!].sO!k(ka~O!].sO!k(ka~P!:tO!Y3mO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/OOg(pa~OSfO!_4RO$d4SO~O!^4WO~Ov4XO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4ZO~P!&zO!S4[O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%,sO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%-fO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SO(T=TO~P!1uO!S%hO![4_O!_%iO(T%gO!]'eX!k'eX~O!]/oO!k)Oa~O!]/oO!g#vO!k)Oa~O!]/oO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4gO!Y'gX!]'gX~P!3tO!]/wO!Y)Pa~O!]/wO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%1VOj4lO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4qO!l%eO(r'pO~Or4vO!g#vO(r'pO~Os!nO!S4wO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%4vO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%5iOg(_i!](_i~P!1WO#`4}Og(_i!](_i~P!1WO!k5SO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5WO~O!]5XO!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5[OaoXnoX!QoX!_oX'yoX'zoX(yoX(zoX!]oX~Op5]O(T#nO~O%^5[O~Ob5cO%j5dO(T+pO(VTO(YUO!]'tX!^'tX~O!]1RO!^)Xa~O[5hO~O`5iO~O[5mO~Oa%nO'z%nO~P#/sO!]5rO#`5tO!^)UX~O!^5uO~Or5{Os!nO!S*hO!b!yO!c!vO!d!vO!|<SO#T!pO#U!pO#V!pO#W!pO#X!pO#[5zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5yO~P%:yOn6QO!_1mO%i6PO~Oh%VOn6QO!_1mO%i6PO~Ob6XO(T#nO(VTO(YUO!]'sX!^'sX~O!]1xO!^)Va~O(VTO(YUO(e6ZO~O`6_O~Oj6bO&[6cO~PNXO!k6dO~P%[Oa6fO~Oa6fO~P%[Ob2`O!^6kO&j2_O~P`O!g6mO~O!g6oOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6pO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6yO'z%nO~Oa%nO!g#vO#`6yO'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7QO(T%gO~O!_'`O%i7TO~On7XO!_'`O%i7TO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%,sO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%-fO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%4vO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%5iO!]'Ya!k'Ya~P!:tO!].sO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%MxO#n<[O~P%MxOP$[OR#zOr<hO!Q#yO!S#{O!l#xO!p$[O#n<[O#o<]O#p<]O#q<]O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!QO#r<^O~P&!QOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$YOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO#v<`O(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<bO~P&&ZO#x#mi~P&&ZO#v<`O~P&$YOP$[OR#zO[<jOj<_Or<hO!Q#yO!S#{O!l#xO!p$[O#R<_O#n<[O#o<]O#p<]O#q<]O#r<^O#s<_O#t<_O#u<iO#v<`O#x<bO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&(jO#z<dO~P&(jOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<[O#o<]O#p<]O#q<]O(aVO(y#mi(z#mi~P&+fOn>ZO!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&+fO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$*|Og']a!]']a~P!1WO!^7kO~O!]'da!^'da~P#BwO!Y7lO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/oO!k)Oi~O!]/oO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7sO~O!]/wO!Y)Pi~P#/sO!]/wO!Y)Pi~O!Y7vO~Oh%VOr7{O!l%eO(r'pO~Oj7}O!g#vO~Or8QO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&4gO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5YOg(_q!](_q~P!1WO#`8SOg(_q!](_q~P!1WO!Y8TO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6oO~O!]5XO!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7TO~P&7zO%^8XOa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8ZO~Ob8]O(T+pO(VTO(YUO~O!]1RO!^)Xi~O`8aO~O(e(|O!]'pX!^'pX~O!]5rO!^)Ua~O!^8kO~P%:yO(o!sO~P$%gO#[8lO~O!_1mO~O!_1mO%i8nO~On8qO!_1mO%i8nO~O[8vO!]'sa!^'sa~O!]1xO!^)Vi~O!k8zO~O!k8{O~O!k9OO~O!k9OO~P%[Oa9QO~O!g9RO~O!k9SO~O!](wi!^(wi~P#BwOa%nO#`9[O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9_O~P&7zO!_'`O%i9_O~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&4gO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5YO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&I_O(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&KfOn>ZO!Q*OO'y*PO(z%PO~P&I_On>ZO!Q*OO'y*PO(y$}O~P&KfOR0iO!Q0iO!S0jO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>ZO!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P'&kO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9lO~O$O9mO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/oO!k)Oq~O!Y'gi!]'gi~P#/sO!]/wO!Y)Pq~Or9tO!g#vO(r'pO~O[9vO!Y9uO~P#/sO!Y9uO~Oj9|O!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:RO~O!]1RO!^)Xq~O`:VO~O#`:WO!]'pa!^'pa~O!]5rO!^)Ui~P#BwO!S:YO~O!_1mO%i:]O~O(VTO(YUO(e:bO~O!]1xO!^)Vq~O!k:eO~O!k:fO~O!k:gO~O!k:gO~P%[O#`:jO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:oO~P&7zO!_'`O%i:oO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P'&kO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/oO!k)Oy~O!Y'gq!]'gq~P#/sOr:yO!g#vO(r'pO~O[:}O!Y:|O~P#/sO!Y:|O~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1RO!^)Xy~O!]5rO!^)Uq~O(T;UO~O!_1mO%i;XO~O!k;[O~O%i;aO~P&7zOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P'&kO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P'&kOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;eO~P#/sOr;fO!g#vO(r'pO~O[;hO!Y;eO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;qO!g#vO(r'pO~O!Y;rO~P#/sOr;yO!g#vO(r'pO~O!Y;zO~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P'&kOr;}O!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%1VOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'KiOP<ROQ<ROSfOd>OOe!iOpkOr<ROskOtkOzkO|<RO!O<RO!SWO!WkO!XkO!_XO!i<UO!lZO!o<RO!p<RO!q<RO!s<VO!u<YO!x!hO$W!kO$n=|O(T)]O(VTO(YUO(aVO(o[O~O!]<fO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<qO!S${O!_$|O!i>TO!l$xO#j<wO$W%`O$t<sO$v<uO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!_Or!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'KiO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<ZO~O!g#vO#k<ZO~O#`<kO~Oj<_O~O#`<{O!](wX!^(wX~O#`<kO!](uX!^(uX~O#k<|O~Og=OO~P!1WO#k=UO~O#k=VO~Og=OO(T&ZO~O!g#vO#k=WO~O!g#vO#k<|O~O$O=XO~P#BwO#k=YO~O#k=ZO~O#k=`O~O#k=aO~O#k=bO~O#k=cO~O$O=dO~P!1WO$O=eO~P!1WOl=pO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9V)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2fI[I[!2k!5w!:e!:e!>dPPP!>lI[PPPPPPPPP!A{P!CYPPI[!DkPI[PI[I[I[I[I[PI[!E}P!IXP!L_P!Lc!Lm!Lq!LqP!IUP!Lu!LuP# {P#!PI[PI[#!V#%[CjA^PA^PA^A^P#&iA^A^#({A^#+sA^#.PA^A^#.o#1T#1T#1Y#1c#1T#1nPP#1TPA^#2WA^#6VA^A^6mPPP#:[PPP#:u#:uP#:uP#;]#:uPP#;cP#;YP#;Y#;v#;Y#<b#<h#<k)aP#<n)aP#<w#<w#<wP)aP)aP)aP)aPP)aP#<}#=QP#=Q)aP#=UP#=XP)aP)aP)aP)aP)aP)a)aPP#=_#=e#=p#=v#=|#>S#>Y#>h#>n#>x#?O#?Y#?`#?p#?v#@h#@z#AQ#AW#Af#A{#Cp#DO#DV#Eq#FP#Gq#HP#HV#H]#Hc#Hm#Hs#Hy#IT#Ig#ImPPPPPPPPPPP#IsPPPPPPP#Jh#Mu$ _$ f$ nPPP$'YP$'c$*[$0u$0x$0{$1z$1}$2U$2^P$2d$2gP$3T$3X$4P$5_$5d$5zPP$6P$6V$6Z$6^$6b$6f$7b$7y$8b$8f$8i$8l$8v$8y$8}$9RR!|RoqOXst!Z#d%m&r&t&u&w,r,w2Y2]Y!vQ'`-d1m5xQ%tvQ%|yQ&T|Q&j!VS'W!e-[Q'f!iS'l!r!yU*j$|*Z*nQ+n%}S+{&V&WQ,c&dQ-b'_Q-l'gQ-t'mQ0Y*pQ1`+}Q1w,dR<x<V%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[,o,r,w-h-p.O.U.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3j4w6Q6b6c6f6y8q9Q9[S#q]<S!r)_$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PU+O%]<p<qQ+s&PQ,e&gQ,l&oQ0v+fQ0{+hQ1W+tQ2P,jQ3^.fQ5]0zQ5c1RQ6X1xQ7V3bQ8]5dR9b7X'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>P!S!nQ!r!v!y!z$|'W'_'`'l'm'n*j*n*p*q-[-b-d-t0Y0]1m5x5z%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*`*f*v*w+e+h,R,U.e/O/c/l/v/w/y0^0`0g0h0m1d1g1o3a4[4]4g4l4}5X5[6P7T7s7}8S8X8n9_9m9v9|:]:o:};X;a;h<i<j<l<m<n<o<r<s<t<u<v<w=P=Q=R=S=U=V=Y=Z=[=]=^=_=`=a=d=e=|>U>V>Y>ZQ&X|Q'U!eS'[%i-_Q+s&PQ,O&WQ,e&gQ0l+RQ1W+tQ1]+zQ2O,iQ2P,jQ5c1RQ5l1_Q6X1xQ6[1zQ6]1}Q8]5dQ8`5iQ8y6_Q:U8aQ:c8vQ;S:VR<z*ZrnOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]R,g&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>O>P[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*a+Y+Z+],n-U.S.Y.Z.[.^/l/o2b3Y3Z4_6o7QQ%wxQ%{yW&Q|&V&W+}Q&_!TQ'c!hQ'e!iQ(q#sS+m%|%}Q+q&PQ,^&bQ,b&dS-k'f'gQ.h(rQ1P+nQ1V+tQ1X+uQ1[+yQ1r,_S1v,c,dQ2z-lQ5b1RQ5f1UQ5k1^Q6W1wQ8[5dQ8_5hQ8c5mQ:Q8ZR;Q:R!U$zi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V!^%yy!i!u%{%|%}'V'e'f'g'k'u*i+m+n-X-k-l-s0P0S1P2s2z3R4o4p4s7z9xQ+g%wQ,S&[Q,V&]Q,a&dQ.g(qQ1q,^U1u,b,c,dQ3c.hQ6R1rS6V1v1wQ8u6W#f>Q#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zo>R<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=eW%Ti%V*x=|S&[!Q&iQ&]!RQ&^!SU*|%[%d=pR,Q&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*`*f*v*w+e+h,R,U.e/O/c/l/v/w/y0^0`0g0h0m1d1g1o3a4[4]4g4l4}5X5[6P7T7s7}8S8X8n9_9m9v9|:]:o:};X;a;h<i<j<l<m<n<o<r<s<t<u<v<w=P=Q=R=S=U=V=Y=Z=[=]=^=_=`=a=d=e=|>U>V>Y>ZT)z$u){V+O%]<p<qW'[!e%i*Z-_S(}#y#zQ+b%rQ+x&SS.a(m(nQ1h,WQ5Q0iR8f5r'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>P$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+c+w-Y-w-|.R.T.r.u.y.{.|.}/a0n2i2l2|3T3i3n3o3p3q3r3s3t3u3v3w3x3y3z3}4O4V5U5`6r6x6}7^7_7h7i8h9U9Y9d9j9k:l;T;]<T=sT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PQ'Y!eR2o-[!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*j*n*p*q-[-b-d-t0Y0]1m5x5zR1j,YnqOXst!Z#d%m&r&t&u&w,r,w2Y2]Q&y!^Q'v!xS(s#u<ZQ+k%zQ,[&_Q,]&aQ-i'dQ-v'oS.q(x<|S0o+W=WQ0}+lQ1l,ZQ2a,yQ2c,zQ2k-VQ2x-jQ2{-nS5V0p=bQ5^1OS5a1Q=cQ6q2mQ6u2yQ6z3QQ8Y5_Q9V6sQ9W6vQ9Z6{R:i9S$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+c+w-Y-w-|.R.T.r.u.y.|.}/a0n2i2l2|3T3i3n3o3p3q3r3s3t3u3v3w3x3y3z3}4O4V5U5`6r6x6}7^7_7h7i8h9U9Y9d9j9k:l;T;]<T=sS(o#p'iQ)P#zS+a%q.{S.b(n(pR3[.c'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PS#q]<SQ&t!XQ&u!YQ&w![Q&x!]R2X,uQ'a!hQ+d%wQ-g'cS.d(q+gQ2v-fW3`.g.h0u0wQ6t2wW7R3]3_3c5ZU9^7S7U7WU:n9`9a9cS;_:m:pQ;m;`R;u;nU!wQ'`-dT5v1m5x!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,r,w.Z2Y2]]!pQ!r'`-d1m5xT#q]<S%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[S(}#y#zS.a(m(n!s=i$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PU$fd)_,lS(p#p'iU*u%R(w3|U0k*}.m7dQ5Z0vQ7S3^Q9a7VR:p9bm!tQ!r!v!y!z'`'l'm'n-d-t1m5x5zQ't!uS(f#g2SS-r'k'wQ/r*]Q0P*iQ3S-uQ4c/sQ4o0RQ4p0SQ4u0[Q7o4^S7z4q4sS8O4v4xQ9o7pQ9s7vQ9x7{Q9}8QS:x9t9uS;d:y:|S;p;e;fS;x;q;rS;|;y;zR<P;}Q#wbQ's!uS(e#g2SS(g#m+VQ+X%fQ+i%xQ+o&OU-q'k't'wQ.V(fQ/q*]Q0Q*iQ0T*kQ0|+jQ1s,`S3P-r-uQ3X._S4b/r/sQ4k/}S4n0P0[Q4r0UQ6T1tQ6|3SQ7n4^Q7r4cU7y4o4u4xQ7|4tQ8s6US9n7o7pQ9r7vQ9z8OQ9{8PQ:`8tQ:v9oS:w9s9uQ;P9}Q;Z:aS;c:x:|S;o;d;eS;w;p;rS;{;x;zQ<O;|Q<Q<PQ=l=gQ=x=qR=y=rV!wQ'`-d%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[S#wz!j!r=f$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PR=l>O%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*i+m+n-X-k-l-s0P0S1P2s2z3R4o4p4s7z9xS&Oz!jQ+j%yQ,`&dW1t,a,b,c,dU6U1u1v1wS8t6V6WQ:a8u!r=g$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PQ=q=}R=r>O%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*a+Y+Z+],n-U.S.Y.Z.[.^/l/o2b3Y3Z4_6o7QQ,m&o!p=h$Z$n)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PR=k'XU']!e%i*ZR2q-_%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[,o,r,w-h-p.O.U.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3j4w6Q6b6c6f6y8q9Q9[!r)_$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PQ,l&oQ0v+fQ3^.fQ7V3bR9b7X!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+w-w-|.R.T.r.u/a0n2|3T3i3y5U5`6x6}7^9Y:l<T!P<a)^)q-Y.{2i2l3n3w3x3}4V6r7_7h7i8h9U9d9j9k;T;]=s!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+w-w-|.R.T.r.u/a0n2|3T3i3y5U5`6x6}7^9Y:l<T!T<c)^)q-Y.{2i2l3n3t3u3w3x3}4V6r7_7h7i8h9U9d9j9k;T;]=s!^$Zc#Y%q(S(Y(t(y)`)g+w-w-|.R.T.r.u/a0n2|3T3i3y5U5`6x6}7^9Y:l<TQ4]/jz>P)^)q-Y.{2i2l3n3}4V6r7_7h7i8h9U9d9j9k;T;]=sQ>U>WR>V>X'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PS$oh$pR4S/T'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/T/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PT$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*h+W+[+f,o,r,w-T-W-h-p.O.U.f.s.z/T/U/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_2n3O3U3b3j4R4w5t6Q6b6c6f6p6y7X8q9Q9[:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>PT$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*h+W+[+f,o,r,w-h-p.O.U.f.s.z/m0Z0j0p1Q1p2Q2R2T2V2Y2]2_3O3U3b3j4w6Q6b6c6f6y7X8q9Q9[!s=}$Z$n'X)s-T-W/U2n4R5t6p:W:j<R<U<V<Y<Z<[<]<^<_<`<a<b<c<d<e<f<h<k<x<{<|=O=W=X=b=c>P#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*h+[+f,o,r,w-h.f/U/m0Z0j1p2Q2R2T2V2Y2]2_3b4R4w6Q6b6c6f7X8q9Q!U%Ri$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V#f(w#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>ZQ+S%aQ/b*Oo3|<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=e!U$yi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>VQ*b$zU*k$|*Z*nQ+T%bQ0U*l#f=n#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zn=o<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=eQ=t>QQ=u>RQ=v>SR=w>T!U%Ri$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V#f(w#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zo3|<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=enoOXst!Z#d%m&r&t&u&w,r,w2Y2]S*e${*YQ-Q'OQ-R'QR4f/w%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*`*f*v*w+e+h,R,U.e/O/c/l/v/w/y0^0`0g0h0m1d1g1o3a4[4]4g4l4}5X5[6P7T7s7}8S8X8n9_9m9v9|:]:o:};X;a;h<i<j<l<m<n<o<r<s<t<u<v<w=P=Q=R=S=U=V=Y=Z=[=]=^=_=`=a=d=e=|>U>V>Y>ZQ,T&]Q1f,VQ5p1eR8e5qV*m$|*Z*nU*m$|*Z*nT5w1m5xS/}*h/mQ4t0ZT8P4w:YQ+i%xQ0T*kQ0|+jQ1s,`Q6T1tQ8s6UQ:`8tR;Z:a!U%Oi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>Vx*R$v)e*S*t+U/u0b0c4P4d5O5P5T7m8R:O:u=m=z={S0^*s0_#f<l#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zn<m<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=e!d=P(u)c*[*d.i.l.p/^/j/z0t1c3f4Y4e4i5o7Y7]7t7w8U8W9q9y:P:z;O;b;g;s>W>X`=Q3{7`7c7g9e:q:t;vS=[.k3gT=]7b9h!U%Qi$d%O%Q%^%_%c*R*T*`*v*w/O/v0^0`0g0h0m4]4}8S9m=|>U>V|*T$v)e*U*s+U/f/u0b0c4P4d4y5O5P5T7m8R:O:u=m=z={S0`*t0a#f<n#v$b$c$x${)y*V*Y*f+e+h,R,U.e/c/l/w/y1d1g1o3a4[4g4l5X5[6P7T7s7}8X8n9_9v9|:]:o:};X;a;h<l<n<r<t<v=P=R=U=Y=[=^=`=d>Y>Zn<o<i<j<m<o<s<u<w=Q=S=V=Z=]=_=a=e!h=R(u)c*[*d.j.k.p/^/j/z0t1c3d3f4Y4e4i5o7Y7Z7]7t7w8U8W9q9y:P:z;O;b;g;s>W>Xd=S3{7a7b7g9e9f:q:r:t;vS=^.l3hT=_7c9irnOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]Q&f!UR,o&ornOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]R&f!UQ,X&^R1b,QsnOXst!V!Z#d%m&i&r&t&u&w,r,w2Y2]Q1n,^S6O1q1rU8m5|5}6RS:[8o8pS;V:Z:^Q;j;WR;t;kQ&m!VR,h&iR6[1zR:c8vW&Q|&V&W+}R1X+uQ&r!WR,r&sR,x&xT2Z,w2]R,|&yQ,{&yR2d,|Q'y!{R-x'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/_){Q#UVR(Q#UQ#XWU(W#X(X.PQ(X#YR.P(YQ-]'YR2p-]Q.t(yS3k.t3lR3l.uQ-d'`R2t-dY!rQ'`-d1m5xR'j!rQ/P)eR4Q/PU#_W%h*YU(_#_(`.QQ(`#`R.Q(ZQ-`']R2r-`t`OXst!V!Z#d%m&i&k&r&t&u&w,r,w2Y2]S#hZ%eU#r`#h.ZR.Z(jQ(k#jQ.W(gW.`(k.W3V7OQ3V.XR7O3WQ)n$lR/V)nQ$phR)t$pQ$`cU)a$`-{<gQ-{<TR<g)qQ/p*]W4`/p4a7q9pU4a/q/r/sS7q4b4cR9p7r$e*Q$v(u)c)e*[*d*s*t+P+Q+U.k.l.n.o.p/^/f/h/j/u/z0b0c0t1c3d3e3f3{4P4Y4d4e4i4y4{5O5P5T5o7Y7Z7[7]7b7c7e7f7g7m7t7w8R8U8W9e9f9g9q9y:O:P:q:r:s:t:u:z;O;b;g;s;v=m=z={>W>XQ/x*dU4h/x4j7uQ4j/zR7u4iS*n$|*ZR0W*nx*S$v)e*s*t+U/u0b0c4P4d5O5P5T7m8R:O:u=m=z={!d.i(u)c*[*d.k.l.p/^/j/z0t1c3f4Y4e4i5o7Y7]7t7w8U8W9q9y:P:z;O;b;g;s>W>XU/g*S.i7`a7`3{7b7c7g9e:q:t;vQ0_*sQ3g.kU4z0_3g9hR9h7b|*U$v)e*s*t+U/f/u0b0c4P4d4y5O5P5T7m8R:O:u=m=z={!h.j(u)c*[*d.k.l.p/^/j/z0t1c3d3f4Y4e4i5o7Y7Z7]7t7w8U8W9q9y:P:z;O;b;g;s>W>XU/i*U.j7ae7a3{7b7c7g9e9f:q:r:t;vQ0a*tQ3h.lU4|0a3h9iR9i7cQ*y%UR0e*yQ5Y0tR8V5YQ+^%kR0s+^Q5s1hS8g5s:XR:X8hQ,Z&_R1k,ZQ5x1mR8j5xQ1y,eS6Y1y8wR8w6[Q1S+qW5e1S5g8^:SQ5g1VQ8^5fR:S8_Q+v&QR1Y+vQ2],wR6j2]YrOXst#dQ&v!ZQ+`%mQ,q&rQ,s&tQ,t&uQ,v&wQ2W,rS2Z,w2]R6i2YQ%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+_%lQ+k%zQ,P&XQ,g&mQ-O&|W-o'k's't'wQ-v'oQ0V*mQ0}+lQ1a,OS1|,h,kQ2e,}Q2f-QQ2g-RQ2{-nW2}-q-r-u-wQ5^1OQ5j1]Q5n1cQ6S1sQ6^2OQ6h2XU6w2|3P3SQ6z3QQ8Y5_Q8b5lQ8d5oQ8i5wQ8r6TQ8x6]S9X6x6|Q9Z6{Q:T8`Q:_8sQ:d8yQ:k9YQ;R:UQ;Y:`Q;^:lQ;i;SR;l;ZQ%zyQ'd!iQ'o!uU+l%{%|%}Q-V'VU-j'e'f'gS-n'k'uQ0O*iS1O+m+nQ2m-XS2y-k-lQ3Q-sS4m0P0SQ5_1PQ6s2sQ6v2zQ6{3RU7x4o4p4sQ9w7zR:{9xS$wi=|R*z%VU%Ui%V=|R0d*xQ$viS(u#v+hS)c$b$cQ)e$dQ*[$xS*d${*YQ*s%OQ*t%QQ+P%^Q+Q%_Q+U%cQ.k<lQ.l<nQ.n<rQ.o<tQ.p<vQ/^)yQ/f*RQ/h*TQ/j*VQ/u*`S/z*f/lQ0b*vQ0c*wl0t+e,U.e1g1o3a6P7T8n9_:]:o;X;aQ1c,RQ3d=PQ3e=RQ3f=US3{<i<jQ4P/OS4Y/c4[Q4d/vQ4e/wQ4i/yQ4y0^Q4{0`Q5O0gQ5P0hQ5T0mQ5o1dQ7Y=YQ7Z=[Q7[=^Q7]=`Q7b<mQ7c<oQ7e<sQ7f<uQ7g<wQ7m4]Q7t4gQ7w4lQ8R4}Q8U5XQ8W5[Q9e=VQ9f=QQ9g=SQ9q7sQ9y7}Q:O8SQ:P8XQ:q=ZQ:r=]Q:s=_Q:t=aQ:u9mQ:z9vQ;O9|Q;b=dQ;g:}Q;s;hQ;v=eQ=m=|Q=z>UQ={>VQ>W>YR>X>ZQ*}%]Q.m<pR7d<qnpOXst!Z#d%m&r&t&u&w,r,w2Y2]Q!fPS#fZ#oQ&|!`W'h!o*h0Z4wQ(P#SQ)Q#{Q)r$nS,k&k&nQ,p&oQ,}&{S-S'T/mQ-f'bQ.w)OQ/Z)sQ0q+[Q0w+fQ2U,oQ2w-hQ3_.fQ4U/UQ5R0jQ5}1pQ6`2QQ6a2RQ6e2TQ6g2VQ6l2_Q7W3bQ7j4RQ8p6QQ8|6bQ8}6cQ9P6fQ9c7XQ:^8qR:h9Q#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*h+[+f,o,r,w-h.f/m0Z0j1p2Q2R2T2V2Y2]2_3b4w6Q6b6c6f7X8q9QQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/U4RQ+c%tQ+w&RS-Y'X2nQ-w'rS-|(T.OQ.R(]Q.T(dQ.r(xQ.u(zQ.y<RQ.{<UQ.|<VQ.}<YQ/a)}Q0n+WQ2i-TQ2l-WQ2|-pQ3T.UQ3i.sQ3n<ZQ3o<[Q3p<]Q3q<^Q3r<_Q3s<`Q3t<aQ3u<bQ3v<cQ3w<dQ3x<eQ3y.zQ3z<hQ3}<kQ4O<xQ4V<fQ5U0pQ5`1QQ6r<{Q6x3OQ6}3UQ7^3jQ7_<|Q7h=OQ7i=WQ8h5tQ9U6pQ9Y6yQ9d=XQ9j=bQ9k=cQ:l9[Q;T:WQ;]:jQ<T#SR=s>PR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-d-t1m5x5zS'V!e-[U*i$|*Z*nS-X'W'_S0S*j*pQ0[*qQ2s-bQ4s0YR4x0]R({#xQ!fQT-c'`-d]!qQ!r'`-d1m5xQ#p]R'i<SR)f$dY!uQ'`-d1m5xQ'k!rS'u!v!yS'w!z5zS-s'l'mQ-u'nR3R-tT#kZ%eS#jZ%eS%km,nU(g#h#i#lS.X(h(iQ.](jQ0r+]Q3W.YU3X.Z.[.^S7P3Y3ZR9]7Qd#^W#W#Z%h(T(^*Y+Y.S/lr#gZm#h#i#l%e(h(i(j+].Y.Z.[.^3Y3Z7QS*]$x*aQ/s*^Q2S,nQ2j-UQ4^/oQ6n2bQ7p4_Q9T6oT=j'X+ZV#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Y/lS-Z'X+ZT-}(T.SV'^!e%i*ZQ$lfR)x$qT)m$l)nR4T/TT*_$x*aT*g${*YQ0u+eQ1e,UQ3].eQ5q1gQ5|1oQ7U3aQ8o6PQ9`7TQ:Z8nQ:m9_Q;W:]Q;`:oQ;k;XR;n;anqOXst!Z#d%m&r&t&u&w,r,w2Y2]Q&l!VR,g&itmOXst!U!V!Z#d%m&i&r&t&u&w,r,w2Y2]R,n&oT%lm,nR1i,WR,f&gQ&U|S+|&V&WR1[+}R+r&PT&p!W&sT&q!W&sT2[,w2]",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new LocalTokenGroup("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15149},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:o=>spec_identifier[o]||-1},{term:343,get:o=>spec_word[o]||-1},{term:95,get:o=>spec_LessThan[o]||-1}],tokenPrec:15175}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(o){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,o),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(o,e){o.matchContext(functionContext)||e(o,"variable")},TypeDefinition(o,e){e(o,"type")},__proto__:null};function getScope(o,e){let n=cache.get(e);if(n)return n;let r=[],a=!0;function s(l,c){let u=o.sliceString(l.from,l.to);r.push({label:u,type:c})}return e.cursor(IterMode.IncludeAnonymous).iterate(l=>{if(a)a=!1;else if(l.name){let c=gatherCompletions[l.name];if(c&&c(l,s)||ScopeNodes.has(l.name))return!1}else if(l.to-l.from>8192){for(let c of getScope(o,l.node))r.push(c);return!1}}),cache.set(e,r),r}const Identifier$1=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(o){let e=syntaxTree(o.state).resolveInner(o.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&Identifier$1.test(o.state.sliceDoc(e.from,e.to));if(!n&&!o.explicit)return null;let r=[];for(let a=e;a;a=a.parent)ScopeNodes.has(a.name)&&(r=r.concat(getScope(o.state.doc,a)));return{options:r,from:n?e.from:o.pos,validFor:Identifier$1}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser$3.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:o=>{let e=o.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return o.baseIndent+(n?0:r?1:2)*o.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:o=>o.baseIndent+o.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^\s*{/}),JSXElement(o){let e=/^\s*<\//.test(o.textAfter);return o.lineIndent(o.node.from)+(e?0:o.unit)},JSXEscape(o){let e=/\s*\}/.test(o.textAfter);return o.lineIndent(o.node.from)+(e?0:o.unit)},"JSXOpenTag JSXSelfClosingTag"(o){return o.column(o.node.from)+o.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(o){return{from:o.from+2,to:o.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:o=>/^JSX/.test(o.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(o=>o.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(o=>o.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=o=>({label:o,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(o={}){let e=o.jsx?o.typescript?tsxLanguage:jsxLanguage:o.typescript?typescriptLanguage:javascriptLanguage,n=o.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(n))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),o.jsx?autoCloseTags$2:[]])}function findOpenTag(o){for(;;){if(o.name=="JSXOpenTag"||o.name=="JSXSelfClosingTag"||o.name=="JSXFragmentTag")return o;if(o.name=="JSXEscape"||!o.parent)return null;o=o.parent}}function elementName$3(o,e,n=o.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return o.sliceString(r.from,Math.min(r.to,n));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags$2=EditorView.inputHandler.of((o,e,n,r,a)=>{if((android?o.composing:o.compositionStarted)||o.state.readOnly||e!=n||r!=">"&&r!="/"||!javascriptLanguage.isActiveAt(o.state,e,-1))return!1;let s=a(),{state:l}=s,c=l.changeByRange(u=>{var h;let{head:f}=u,d=syntaxTree(l).resolveInner(f-1,-1),p;if(d.name=="JSXStartTag"&&(d=d.parent),!(l.doc.sliceString(f-1,f)!=r||d.name=="JSXAttributeValue"&&d.to>f)){if(r==">"&&d.name=="JSXFragmentTag")return{range:u,changes:{from:f,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let g=d.parent,y=g.parent;if(y&&g.from==f-2&&((p=elementName$3(l.doc,y.firstChild,f))||((h=y.firstChild)===null||h===void 0?void 0:h.name)=="JSXFragmentTag")){let v=`${p}>`;return{range:EditorSelection.cursor(f+v.length,-1),changes:{from:f,insert:v}}}}else if(r==">"){let g=findOpenTag(d);if(g&&g.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(f,f+2))&&(p=elementName$3(l.doc,g,f)))return{range:u,changes:{from:f,insert:`</${p}>`}}}}return{range:u}});return c.changes.empty?!1:(o.dispatch([s,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Targets=["_blank","_self","_top","_parent"],Charsets=["ascii","utf-8","utf-16","latin1","latin1"],Methods=["get","post","put","delete"],Encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Bool=["true","false"],S={},Tags={a:{attrs:{href:null,ping:null,type:null,media:null,target:Targets,hreflang:null}},abbr:S,address:S,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:S,aside:S,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:S,base:{attrs:{href:null,target:Targets}},bdi:S,bdo:S,blockquote:{attrs:{cite:null}},body:S,br:S,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:S,center:S,cite:S,code:S,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:S,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:S,div:S,dl:S,dt:S,em:S,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:S,figure:S,footer:S,form:{attrs:{action:null,name:null,"accept-charset":Charsets,autocomplete:["on","off"],enctype:Encs,method:Methods,novalidate:["novalidate"],target:Targets}},h1:S,h2:S,h3:S,h4:S,h5:S,h6:S,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:S,hgroup:S,hr:S,html:{attrs:{manifest:null}},i:S,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Encs,formmethod:Methods,formnovalidate:["novalidate"],formtarget:Targets,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:S,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:S,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:S,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Charsets,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:S,noscript:S,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:S,param:{attrs:{name:null,value:null}},pre:S,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:S,rt:S,ruby:S,samp:S,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Charsets}},section:S,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:S,source:{attrs:{src:null,type:null,media:null}},span:S,strong:S,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:S,summary:S,sup:S,table:S,tbody:S,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:S,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:S,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:S,time:{attrs:{datetime:null}},title:S,tr:S,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:S,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:S},GlobalAttrs={accesskey:null,class:null,contenteditable:Bool,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Bool,autocorrect:Bool,autocapitalize:Bool,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Bool,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Bool,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Bool,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Bool,"aria-hidden":Bool,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Bool,"aria-multiselectable":Bool,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Bool,"aria-relevant":null,"aria-required":Bool,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},eventAttributes="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(o=>"on"+o);for(let o of eventAttributes)GlobalAttrs[o]=null;class Schema{constructor(e,n){this.tags={...Tags,...e},this.globalAttrs={...GlobalAttrs,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Schema.default=new Schema;function elementName$2(o,e,n=o.length){if(!e)return"";let r=e.firstChild,a=r&&r.getChild("TagName");return a?o.sliceString(a.from,Math.min(a.to,n)):""}function findParentElement$1(o,e=!1){for(;o;o=o.parent)if(o.name=="Element")if(e)e=!1;else return o;return null}function allowedChildren(o,e,n){let r=n.tags[elementName$2(o,findParentElement$1(e))];return r?.children||n.allTags}function openTags(o,e){let n=[];for(let r=findParentElement$1(e);r&&!r.type.isTop;r=findParentElement$1(r.parent)){let a=elementName$2(o,r);if(a&&r.lastChild.name=="CloseTag")break;a&&n.indexOf(a)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(a)}return n}const identifier=/^[:\-\.\w\u00b7-\uffff]*$/;function completeTag(o,e,n,r,a){let s=/\s*>/.test(o.sliceDoc(a,a+5))?"":">",l=findParentElement$1(n,!0);return{from:r,to:a,options:allowedChildren(o.doc,l,e).map(c=>({label:c,type:"type"})).concat(openTags(o.doc,n).map((c,u)=>({label:"/"+c,apply:"/"+c+s,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeCloseTag(o,e,n,r){let a=/\s*>/.test(o.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:openTags(o.doc,e).map((s,l)=>({label:s,apply:s+a,type:"type",boost:99-l})),validFor:identifier}}function completeStartTag(o,e,n,r){let a=[],s=0;for(let l of allowedChildren(o.doc,n,e))a.push({label:"<"+l,type:"type"});for(let l of openTags(o.doc,n))a.push({label:"</"+l+">",type:"type",boost:99-s++});return{from:r,to:r,options:a,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function completeAttrName(o,e,n,r,a){let s=findParentElement$1(n),l=s?e.tags[elementName$2(o.doc,s)]:null,c=l&&l.attrs?Object.keys(l.attrs):[],u=l&&l.globalAttrs===!1?c:c.length?c.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:a,options:u.map(h=>({label:h,type:"property"})),validFor:identifier}}function completeAttrValue(o,e,n,r,a){var s;let l=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),c=[],u;if(l){let h=o.sliceDoc(l.from,l.to),f=e.globalAttrs[h];if(!f){let d=findParentElement$1(n),p=d?e.tags[elementName$2(o.doc,d)]:null;f=p?.attrs&&p.attrs[h]}if(f){let d=o.sliceDoc(r,a).toLowerCase(),p='"',g='"';/^['"]/.test(d)?(u=d[0]=='"'?/^[^"]*$/:/^[^']*$/,p="",g=o.sliceDoc(a,a+1)==d[0]?"":d[0],d=d.slice(1),r++):u=/^[^\s<>='"]*$/;for(let y of f)c.push({label:y,apply:p+y+g,type:"constant"})}}return{from:r,to:a,options:c,validFor:u}}function htmlCompletionFor(o,e){let{state:n,pos:r}=e,a=syntaxTree(n).resolveInner(r,-1),s=a.resolve(r);for(let l=r,c;s==a&&(c=a.childBefore(l));){let u=c.lastChild;if(!u||!u.type.isError||u.from<u.to)break;s=a=c,l=u.from}return a.name=="TagName"?a.parent&&/CloseTag$/.test(a.parent.name)?completeCloseTag(n,a,a.from,r):completeTag(n,o,a,a.from,r):a.name=="StartTag"?completeTag(n,o,a,r,r):a.name=="StartCloseTag"||a.name=="IncompleteCloseTag"?completeCloseTag(n,a,r,r):a.name=="OpenTag"||a.name=="SelfClosingTag"||a.name=="AttributeName"?completeAttrName(n,o,a,a.name=="AttributeName"?a.from:r,r):a.name=="Is"||a.name=="AttributeValue"||a.name=="UnquotedAttributeValue"?completeAttrValue(n,o,a,a.name=="Is"?r:a.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?completeStartTag(n,o,a,r):null}function htmlCompletionSource(o){return htmlCompletionFor(Schema.default,o)}function htmlCompletionSourceWith(o){let{extraTags:e,extraGlobalAttributes:n}=o,r=n||e?new Schema(e,n):Schema.default;return a=>htmlCompletionFor(r,a)}const jsonParser=javascriptLanguage.parser.configure({top:"SingleExpression"}),defaultNesting=[{tag:"script",attrs:o=>o.type=="text/typescript"||o.lang=="ts",parser:typescriptLanguage.parser},{tag:"script",attrs:o=>o.type=="text/babel"||o.type=="text/jsx",parser:jsxLanguage.parser},{tag:"script",attrs:o=>o.type=="text/typescript-jsx",parser:tsxLanguage.parser},{tag:"script",attrs(o){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(o.type)},parser:jsonParser},{tag:"script",attrs(o){return!o.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(o.type)},parser:javascriptLanguage.parser},{tag:"style",attrs(o){return(!o.lang||o.lang=="css")&&(!o.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(o.type))},parser:cssLanguage.parser}],defaultAttrs=[{name:"style",parser:cssLanguage.parser.configure({top:"Styles"})}].concat(eventAttributes.map(o=>({name:o,parser:javascriptLanguage.parser}))),htmlPlain=LRLanguage.define({name:"html",parser:parser$5.configure({props:[indentNodeProp.add({Element(o){let e=/^(\s*)(<\/)?/.exec(o.textAfter);return o.node.to<=o.pos+e[0].length?o.continue():o.lineIndent(o.node.from)+(e[2]?0:o.unit)},"OpenTag CloseTag SelfClosingTag"(o){return o.column(o.node.from)+o.unit},Document(o){if(o.pos+/\s*/.exec(o.textAfter)[0].length<o.node.to)return o.continue();let e=null,n;for(let r=o.node;;){let a=r.lastChild;if(!a||a.name!="Element"||a.to!=r.to)break;e=r=a}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?o.lineIndent(e.from)+o.unit:null}}),foldNodeProp.add({Element(o){let e=o.firstChild,n=o.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:o.to}}}),bracketMatchingHandle.add({"OpenTag CloseTag":o=>o.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),htmlLanguage=htmlPlain.configure({wrap:configureNesting(defaultNesting,defaultAttrs)});function html(o={}){let e="",n;o.matchClosingTags===!1&&(e="noMatch"),o.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(o.nestedLanguages&&o.nestedLanguages.length||o.nestedAttributes&&o.nestedAttributes.length)&&(n=configureNesting((o.nestedLanguages||[]).concat(defaultNesting),(o.nestedAttributes||[]).concat(defaultAttrs)));let r=n?htmlPlain.configure({wrap:n,dialect:e}):e?htmlLanguage.configure({dialect:e}):htmlLanguage;return new LanguageSupport(r,[htmlLanguage.data.of({autocomplete:htmlCompletionSourceWith(o)}),o.autoCloseTags!==!1?autoCloseTags$1:[],javascript().support,css().support])}const selfClosers=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),autoCloseTags$1=EditorView.inputHandler.of((o,e,n,r,a)=>{if(o.composing||o.state.readOnly||e!=n||r!=">"&&r!="/"||!htmlLanguage.isActiveAt(o.state,e,-1))return!1;let s=a(),{state:l}=s,c=l.changeByRange(u=>{var h,f,d;let p=l.doc.sliceString(u.from-1,u.to)==r,{head:g}=u,y=syntaxTree(l).resolveInner(g,-1),v;if(p&&r==">"&&y.name=="EndTag"){let w=y.parent;if(((f=(h=w.parent)===null||h===void 0?void 0:h.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(v=elementName$2(l.doc,w.parent,g))&&!selfClosers.has(v)){let O=g+(l.doc.sliceString(g,g+1)===">"?1:0),k=`</${v}>`;return{range:u,changes:{from:g,to:O,insert:k}}}}else if(p&&r=="/"&&y.name=="IncompleteCloseTag"){let w=y.parent;if(y.from==g-2&&((d=w.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(v=elementName$2(l.doc,w,g))&&!selfClosers.has(v)){let O=g+(l.doc.sliceString(g,g+1)===">"?1:0),k=`${v}>`;return{range:EditorSelection.cursor(g+k.length,-1),changes:{from:g,to:O,insert:k}}}}return{range:u}});return c.changes.empty?!1:(o.dispatch([s,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),data=defineLanguageFacet({commentTokens:{block:{open:"<!--",close:"-->"}}}),headingProp=new NodeProp,commonmark=parser$6.configure({props:[foldNodeProp.add(o=>!o.is("Block")||o.is("Document")||isHeading(o)!=null||isList(o)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),headingProp.add(isHeading),indentNodeProp.add({Document:()=>null}),languageDataProp.add({Document:data})]});function isHeading(o){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(o.name);return e?+e[1]:void 0}function isList(o){return o.name=="OrderedList"||o.name=="BulletList"}function findSectionEnd(o,e){let n=o;for(;;){let r=n.nextSibling,a;if(!r||(a=isHeading(r.type))!=null&&a<=e)break;n=r}return n.to}const headerIndent=foldService.of((o,e,n)=>{for(let r=syntaxTree(o).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let a=r.type.prop(headingProp);if(a==null)continue;let s=findSectionEnd(r,a);if(s>n)return{from:n,to:s}}return null});function mkLang(o){return new Language(data,o,[],"markdown")}const commonmarkLanguage=mkLang(commonmark),extended=commonmark.configure([GFM,Subscript,Superscript,Emoji,{props:[foldNodeProp.add({Table:(o,e)=>({from:e.doc.lineAt(o.from).to,to:o.to})})]}]),markdownLanguage=mkLang(extended);function getCodeParser(o,e){return n=>{if(n&&o){let r=null;if(n=/\S*/.exec(n)[0],typeof o=="function"?r=o(n):r=LanguageDescription.matchLanguageName(o,n,!0),r instanceof LanguageDescription)return r.support?r.support.language.parser:ParseContext.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}let Context$1=class{constructor(e,n,r,a,s,l,c){this.node=e,this.from=n,this.to=r,this.spaceBefore=a,this.spaceAfter=s,this.type=l,this.item=c}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let a=this.to-this.from-r.length-this.spaceAfter.length;a>0;a--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+itemNumber(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}};function getContext(o,e){let n=[],r=[];for(let a=o;a;a=a.parent){if(a.name=="FencedCode")return r;(a.name=="ListItem"||a.name=="Blockquote")&&n.push(a)}for(let a=n.length-1;a>=0;a--){let s=n[a],l,c=e.lineAt(s.from),u=s.from-c.from;if(s.name=="Blockquote"&&(l=/^ *>( ?)/.exec(c.text.slice(u))))r.push(new Context$1(s,u,u+l[0].length,"",l[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(l=/^( *)\d+([.)])( *)/.exec(c.text.slice(u)))){let h=l[3],f=l[0].length;h.length>=4&&(h=h.slice(0,h.length-4),f-=4),r.push(new Context$1(s.parent,u,u+f,l[1],h,l[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(l=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(c.text.slice(u)))){let h=l[4],f=l[0].length;h.length>4&&(h=h.slice(0,h.length-4),f-=4);let d=l[2];l[3]&&(d+=l[3].replace(/[xX]/," ")),r.push(new Context$1(s.parent,u,u+f,l[1],h,d,s))}}return r}function itemNumber(o,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(o.from,o.from+10))}function renumberList(o,e,n,r=0){for(let a=-1,s=o;;){if(s.name=="ListItem"){let c=itemNumber(s,e),u=+c[2];if(a>=0){if(u!=a+1)return;n.push({from:s.from+c[1].length,to:s.from+c[0].length,insert:String(a+2+r)})}a=u}let l=s.nextSibling;if(!l)break;s=l}}function normalizeIndent(o,e){let n=/^[ \t]*/.exec(o)[0].length;if(!n||e.facet(indentUnit)!="	")return o;let r=countColumn(o,4,n),a="";for(let s=r;s>0;)s>=4?(a+="	",s-=4):(a+=" ",s--);return a+o.slice(n)}const insertNewlineContinueMarkup=({state:o,dispatch:e})=>{let n=syntaxTree(o),{doc:r}=o,a=null,s=o.changeByRange(l=>{if(!l.empty||!markdownLanguage.isActiveAt(o,l.from,-1)&&!markdownLanguage.isActiveAt(o,l.from,1))return a={range:l};let c=l.from,u=r.lineAt(c),h=getContext(n.resolveInner(c,-1),r);for(;h.length&&h[h.length-1].from>c-u.from;)h.pop();if(!h.length)return a={range:l};let f=h[h.length-1];if(f.to-f.spaceAfter.length>c-u.from)return a={range:l};let d=c>=f.to-f.spaceAfter.length&&!/\S/.test(u.text.slice(f.to));if(f.item&&d){let w=f.node.firstChild,O=f.node.getChild("ListItem","ListItem");if(w.to>=c||O&&O.to<c||u.from>0&&!/[^\s>]/.test(r.lineAt(u.from-1).text)){let k=h.length>1?h[h.length-2]:null,E,I="";k&&k.item?(E=u.from+k.from,I=k.marker(r,1)):E=u.from+(k?k.to:0);let G=[{from:E,to:c,insert:I}];return f.node.name=="OrderedList"&&renumberList(f.item,r,G,-2),k&&k.node.name=="OrderedList"&&renumberList(k.item,r,G),{range:EditorSelection.cursor(E+I.length),changes:G}}else{let k=blankLine(h,o,u);return{range:EditorSelection.cursor(c+k.length+1),changes:{from:u.from,insert:k+o.lineBreak}}}}if(f.node.name=="Blockquote"&&d&&u.from){let w=r.lineAt(u.from-1),O=/>\s*$/.exec(w.text);if(O&&O.index==f.from){let k=o.changes([{from:w.from+O.index,to:w.to},{from:u.from+f.from,to:u.to}]);return{range:l.map(k),changes:k}}}let p=[];f.node.name=="OrderedList"&&renumberList(f.item,r,p);let g=f.item&&f.item.from<u.from,y="";if(!g||/^[\s\d.)\-+*>]*/.exec(u.text)[0].length>=f.to)for(let w=0,O=h.length-1;w<=O;w++)y+=w==O&&!g?h[w].marker(r,1):h[w].blank(w<O?countColumn(u.text,4,h[w+1].from)-y.length:null);let v=c;for(;v>u.from&&/\s/.test(u.text.charAt(v-u.from-1));)v--;return y=normalizeIndent(y,o),nonTightList(f.node,o.doc)&&(y=blankLine(h,o,u)+o.lineBreak+y),p.push({from:v,to:c,insert:o.lineBreak+y}),{range:EditorSelection.cursor(v+y.length+1),changes:p}});return a?!1:(e(o.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function isMark(o){return o.name=="QuoteMark"||o.name=="ListMark"}function nonTightList(o,e){if(o.name!="OrderedList"&&o.name!="BulletList")return!1;let n=o.firstChild,r=o.getChild("ListItem","ListItem");if(!r)return!1;let a=e.lineAt(n.to),s=e.lineAt(r.from),l=/^[\s>]*$/.test(a.text);return a.number+(l?0:1)<s.number}function blankLine(o,e,n){let r="";for(let a=0,s=o.length-2;a<=s;a++)r+=o[a].blank(a<s?countColumn(n.text,4,o[a+1].from)-r.length:null,a<s);return normalizeIndent(r,e)}function contextNodeForDelete(o,e){let n=o.resolveInner(e,-1),r=e;isMark(n)&&(r=n.from,n=n.parent);for(let a;a=n.childBefore(r);)if(isMark(a))r=a.from;else if(a.name=="OrderedList"||a.name=="BulletList")n=a.lastChild,r=n.to;else break;return n}const deleteMarkupBackward=({state:o,dispatch:e})=>{let n=syntaxTree(o),r=null,a=o.changeByRange(s=>{let l=s.from,{doc:c}=o;if(s.empty&&markdownLanguage.isActiveAt(o,s.from)){let u=c.lineAt(l),h=getContext(contextNodeForDelete(n,l),c);if(h.length){let f=h[h.length-1],d=f.to-f.spaceAfter.length+(f.spaceAfter?1:0);if(l-u.from>d&&!/\S/.test(u.text.slice(d,l-u.from)))return{range:EditorSelection.cursor(u.from+d),changes:{from:u.from+d,to:l}};if(l-u.from==d&&(!f.item||u.from<=f.item.from||!/\S/.test(u.text.slice(0,f.to)))){let p=u.from+f.from;if(f.item&&f.node.from<f.item.from&&/\S/.test(u.text.slice(f.from,f.to))){let g=f.blank(countColumn(u.text,4,f.to)-countColumn(u.text,4,f.from));return p==u.from&&(g=normalizeIndent(g,o)),{range:EditorSelection.cursor(p+g.length),changes:{from:p,to:u.from+f.to,insert:g}}}if(p<l)return{range:EditorSelection.cursor(p),changes:{from:p,to:l}}}}}return r={range:s}});return r?!1:(e(o.update(a,{scrollIntoView:!0,userEvent:"delete"})),!0)},markdownKeymap=[{key:"Enter",run:insertNewlineContinueMarkup},{key:"Backspace",run:deleteMarkupBackward}],htmlNoMatch=html({matchClosingTags:!1});function markdown(o={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:a}=commonmarkLanguage,completeHTMLTags:s=!0,htmlTagLanguage:l=htmlNoMatch}=o;if(!(a instanceof MarkdownParser))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let c=o.extensions?[o.extensions]:[],u=[l.support,headerIndent],h;n instanceof LanguageSupport?(u.push(n.support),h=n.language):n&&(h=n);let f=e||h?getCodeParser(e,h):void 0;c.push(parseCode({codeParser:f,htmlParser:l.language.parser})),r&&u.push(Prec.high(keymap.of(markdownKeymap)));let d=mkLang(a.configure(c));return s&&u.push(d.data.of({autocomplete:htmlTagCompletion})),new LanguageSupport(d,u)}function htmlTagCompletion(o){let{state:e,pos:n}=o,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let a=syntaxTree(e).resolveInner(n,-1);for(;a&&!a.type.isTop;){if(a.name=="CodeBlock"||a.name=="FencedCode"||a.name=="ProcessingInstructionBlock"||a.name=="CommentBlock"||a.name=="Link"||a.name=="Image")return null;a=a.parent}return{from:n-r[0].length,to:n,options:htmlTagCompletions(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let _tagCompletions=null;function htmlTagCompletions(){if(_tagCompletions)return _tagCompletions;let o=htmlCompletionSource(new CompletionContext(EditorState.create({extensions:htmlNoMatch}),0,!0));return _tagCompletions=o?o.options:[]}const jsonHighlighting=styleTags({String:tags$1.string,Number:tags$1.number,"True False":tags$1.bool,PropertyName:tags$1.propertyName,Null:tags$1.null,", :":tags$1.separator,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),parser$2=LRParser.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[jsonHighlighting],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),jsonLanguage=LRLanguage.define({name:"json",parser:parser$2.configure({props:[indentNodeProp.add({Object:continuedIndent({except:/^\s*\}/}),Array:continuedIndent({except:/^\s*\]/})}),foldNodeProp.add({"Object Array":foldInside})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function json(){return new LanguageSupport(jsonLanguage)}const StartTag=1,StartCloseTag=2,MissingCloseTag=3,mismatchedStartCloseTag=4,incompleteStartCloseTag=5,commentContent$1=36,piContent$1=37,cdataContent$1=38,Element$2=11,OpenTag=13;function nameChar(o){return o==45||o==46||o==58||o>=65&&o<=90||o==95||o>=97&&o<=122||o>=161}function isSpace$1(o){return o==9||o==10||o==13||o==32}let cachedName=null,cachedInput=null,cachedPos=0;function tagNameAfter(o,e){let n=o.pos+e;if(cachedInput==o&&cachedPos==n)return cachedName;for(;isSpace$1(o.peek(e));)e++;let r="";for(;;){let a=o.peek(e);if(!nameChar(a))break;r+=String.fromCharCode(a),e++}return cachedInput=o,cachedPos=n,cachedName=r||null}function ElementContext(o,e){this.name=o,this.parent=e}const elementContext=new ContextTracker({start:null,shift(o,e,n,r){return e==StartTag?new ElementContext(tagNameAfter(r,1)||"",o):o},reduce(o,e){return e==Element$2&&o?o.parent:o},reuse(o,e,n,r){let a=e.type.id;return a==StartTag||a==OpenTag?new ElementContext(tagNameAfter(r,1)||"",o):o},strict:!1}),startTag=new ExternalTokenizer((o,e)=>{if(o.next==60){if(o.advance(),o.next==47){o.advance();let n=tagNameAfter(o,0);if(!n)return o.acceptToken(incompleteStartCloseTag);if(e.context&&n==e.context.name)return o.acceptToken(StartCloseTag);for(let r=e.context;r;r=r.parent)if(r.name==n)return o.acceptToken(MissingCloseTag,-2);o.acceptToken(mismatchedStartCloseTag)}else if(o.next!=33&&o.next!=63)return o.acceptToken(StartTag)}},{contextual:!0});function scanTo(o,e){return new ExternalTokenizer(n=>{let r=0,a=e.charCodeAt(0);e:for(;!(n.next<0);n.advance(),r++)if(n.next==a){for(let s=1;s<e.length;s++)if(n.peek(s)!=e.charCodeAt(s))continue e;break}r&&n.acceptToken(o)})}const commentContent=scanTo(commentContent$1,"-->"),piContent=scanTo(piContent$1,"?>"),cdataContent=scanTo(cdataContent$1,"]]>"),xmlHighlighting=styleTags({Text:tags$1.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":tags$1.angleBracket,TagName:tags$1.tagName,"MismatchedCloseTag/TagName":[tags$1.tagName,tags$1.invalid],AttributeName:tags$1.attributeName,AttributeValue:tags$1.attributeValue,Is:tags$1.definitionOperator,"EntityReference CharacterReference":tags$1.character,Comment:tags$1.blockComment,ProcessingInst:tags$1.processingInstruction,DoctypeDecl:tags$1.documentMeta,Cdata:tags$1.special(tags$1.string)}),parser$1=LRParser.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:" StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:elementContext,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[xmlHighlighting],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[startTag,commentContent,piContent,cdataContent,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0});function tagName(o,e){let n=e&&e.getChild("TagName");return n?o.sliceString(n.from,n.to):""}function elementName$1(o,e){let n=e&&e.firstChild;return!n||n.name!="OpenTag"?"":tagName(o,n)}function attrName(o,e,n){let r=e&&e.getChildren("Attribute").find(s=>s.from<=n&&s.to>=n),a=r&&r.getChild("AttributeName");return a?o.sliceString(a.from,a.to):""}function findParentElement(o){for(let e=o&&o.parent;e;e=e.parent)if(e.name=="Element")return e;return null}function findLocation(o,e){var n;let r=syntaxTree(o).resolveInner(e,-1),a=null;for(let s=r;!a&&s.parent;s=s.parent)(s.name=="OpenTag"||s.name=="CloseTag"||s.name=="SelfClosingTag"||s.name=="MismatchedCloseTag")&&(a=s);if(a&&(a.to>e||a.lastChild.type.isError)){let s=a.parent;if(r.name=="TagName")return a.name=="CloseTag"||a.name=="MismatchedCloseTag"?{type:"closeTag",from:r.from,context:s}:{type:"openTag",from:r.from,context:findParentElement(s)};if(r.name=="AttributeName")return{type:"attrName",from:r.from,context:a};if(r.name=="AttributeValue")return{type:"attrValue",from:r.from,context:a};let l=r==a||r.name=="Attribute"?r.childBefore(e):r;return l?.name=="StartTag"?{type:"openTag",from:e,context:findParentElement(s)}:l?.name=="StartCloseTag"&&l.to<=e?{type:"closeTag",from:e,context:s}:l?.name=="Is"?{type:"attrValue",from:e,context:a}:l?{type:"attrName",from:e,context:a}:null}else if(r.name=="StartCloseTag")return{type:"closeTag",from:e,context:r.parent};for(;r.parent&&r.to==e&&!(!((n=r.lastChild)===null||n===void 0)&&n.type.isError);)r=r.parent;return r.name=="Element"||r.name=="Text"||r.name=="Document"?{type:"tag",from:e,context:r.name=="Element"?r:findParentElement(r)}:null}let Element$1=class{constructor(e,n,r){this.attrs=n,this.attrValues=r,this.children=[],this.name=e.name,this.completion=Object.assign(Object.assign({type:"type"},e.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=e.textContent?e.textContent.map(a=>({label:a,type:"text"})):[]}};const Identifier=/^[:\-\.\w\u00b7-\uffff]*$/;function attrCompletion(o){return Object.assign(Object.assign({type:"property"},o.completion||{}),{label:o.name})}function valueCompletion(o){return typeof o=="string"?{label:`"${o}"`,type:"constant"}:/^"/.test(o.label)?o:Object.assign(Object.assign({},o),{label:`"${o.label}"`})}function completeFromSchema(o,e){let n=[],r=[],a=Object.create(null);for(let u of e){let h=attrCompletion(u);n.push(h),u.global&&r.push(h),u.values&&(a[u.name]=u.values.map(valueCompletion))}let s=[],l=[],c=Object.create(null);for(let u of o){let h=r,f=a;u.attributes&&(h=h.concat(u.attributes.map(p=>typeof p=="string"?n.find(g=>g.label==p)||{label:p,type:"property"}:(p.values&&(f==a&&(f=Object.create(f)),f[p.name]=p.values.map(valueCompletion)),attrCompletion(p)))));let d=new Element$1(u,h,f);c[d.name]=d,s.push(d),u.top&&l.push(d)}l.length||(l=s);for(let u=0;u<s.length;u++){let h=o[u],f=s[u];if(h.children)for(let d of h.children)c[d]&&f.children.push(c[d]);else f.children=s}return u=>{var h;let{doc:f}=u.state,d=findLocation(u.state,u.pos);if(!d||d.type=="tag"&&!u.explicit)return null;let{type:p,from:g,context:y}=d;if(p=="openTag"){let v=l,w=elementName$1(f,y);if(w){let O=c[w];v=O?.children||s}return{from:g,options:v.map(O=>O.completion),validFor:Identifier}}else if(p=="closeTag"){let v=elementName$1(f,y);return v?{from:g,to:u.pos+(f.sliceString(u.pos,u.pos+1)==">"?1:0),options:[((h=c[v])===null||h===void 0?void 0:h.closeNameCompletion)||{label:v+">",type:"type"}],validFor:Identifier}:null}else if(p=="attrName"){let v=c[tagName(f,y)];return{from:g,options:v?.attrs||r,validFor:Identifier}}else if(p=="attrValue"){let v=attrName(f,y,g);if(!v)return null;let w=c[tagName(f,y)],O=(w?.attrValues||a)[v];return!O||!O.length?null:{from:g,to:u.pos+(f.sliceString(u.pos,u.pos+1)=='"'?1:0),options:O,validFor:/^"[^"]*"?$/}}else if(p=="tag"){let v=elementName$1(f,y),w=c[v],O=[],k=y&&y.lastChild;v&&(!k||k.name!="CloseTag"||tagName(f,k)!=v)&&O.push(w?w.closeCompletion:{label:"</"+v+">",type:"type",boost:2});let E=O.concat((w?.children||(y?s:l)).map(I=>I.openCompletion));if(y&&w?.text.length){let I=y.firstChild;I.to>u.pos-20&&!/\S/.test(u.state.sliceDoc(I.to,u.pos))&&(E=E.concat(w.text))}return{from:g,options:E,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}else return null}}const xmlLanguage=LRLanguage.define({name:"xml",parser:parser$1.configure({props:[indentNodeProp.add({Element(o){let e=/^\s*<\//.test(o.textAfter);return o.lineIndent(o.node.from)+(e?0:o.unit)},"OpenTag CloseTag SelfClosingTag"(o){return o.column(o.node.from)+o.unit}}),foldNodeProp.add({Element(o){let e=o.firstChild,n=o.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:o.to}}}),bracketMatchingHandle.add({"OpenTag CloseTag":o=>o.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/$/}});function xml(o={}){let e=[xmlLanguage.data.of({autocomplete:completeFromSchema(o.elements||[],o.attributes||[])})];return o.autoCloseTags!==!1&&e.push(autoCloseTags),new LanguageSupport(xmlLanguage,e)}function elementName(o,e,n=o.length){if(!e)return"";let r=e.firstChild,a=r&&r.getChild("TagName");return a?o.sliceString(a.from,Math.min(a.to,n)):""}const autoCloseTags=EditorView.inputHandler.of((o,e,n,r,a)=>{if(o.composing||o.state.readOnly||e!=n||r!=">"&&r!="/"||!xmlLanguage.isActiveAt(o.state,e,-1))return!1;let s=a(),{state:l}=s,c=l.changeByRange(u=>{var h,f,d;let{head:p}=u,g=l.doc.sliceString(p-1,p)==r,y=syntaxTree(l).resolveInner(p,-1),v;if(g&&r==">"&&y.name=="EndTag"){let w=y.parent;if(((f=(h=w.parent)===null||h===void 0?void 0:h.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(v=elementName(l.doc,w.parent,p))){let O=p+(l.doc.sliceString(p,p+1)===">"?1:0),k=`</${v}>`;return{range:u,changes:{from:p,to:O,insert:k}}}}else if(g&&r=="/"&&y.name=="StartCloseTag"){let w=y.parent;if(y.from==p-2&&((d=w.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(v=elementName(l.doc,w,p))){let O=p+(l.doc.sliceString(p,p+1)===">"?1:0),k=`${v}>`;return{range:EditorSelection.cursor(p+k.length,-1),changes:{from:p,to:O,insert:k}}}}return{range:u}});return c.changes.empty?!1:(o.dispatch([s,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),blockEnd=63,eof=64,DirectiveEnd=1,DocEnd=2,sequenceStartMark=3,sequenceContinueMark=4,explicitMapStartMark=5,explicitMapContinueMark=6,flowMapMark=7,mapStartMark=65,mapContinueMark=66,Literal=8,QuotedLiteral=9,Anchor=10,Alias=11,Tag=12,BlockLiteralContent=13,BracketL=19,FlowSequence=20,Colon=29,BraceL=33,FlowMapping=34,BlockLiteralHeader=47,type_Top=0,type_Seq=1,type_Map=2,type_Flow=3,type_Lit=4;class Context{constructor(e,n,r){this.parent=e,this.depth=n,this.type=r,this.hash=(e?e.hash+e.hash<<8:0)+n+(n<<4)+r}}Context.top=new Context(null,-1,type_Top);function findColumn(o,e){for(let n=0,r=e-o.pos-1;;r--,n++){let a=o.peek(r);if(isBreakSpace(a)||a==-1)return n}}function isNonBreakSpace(o){return o==32||o==9}function isBreakSpace(o){return o==10||o==13}function isSpace(o){return isNonBreakSpace(o)||isBreakSpace(o)}function isSep(o){return o<0||isSpace(o)}const indentation=new ContextTracker({start:Context.top,reduce(o,e){return o.type==type_Flow&&(e==FlowSequence||e==FlowMapping)?o.parent:o},shift(o,e,n,r){if(e==sequenceStartMark)return new Context(o,findColumn(r,r.pos),type_Seq);if(e==mapStartMark||e==explicitMapStartMark)return new Context(o,findColumn(r,r.pos),type_Map);if(e==blockEnd)return o.parent;if(e==BracketL||e==BraceL)return new Context(o,0,type_Flow);if(e==BlockLiteralContent&&o.type==type_Lit)return o.parent;if(e==BlockLiteralHeader){let a=/[1-9]/.exec(r.read(r.pos,n.pos));if(a)return new Context(o,o.depth+ +a[0],type_Lit)}return o},hash(o){return o.hash}});function three(o,e,n=0){return o.peek(n)==e&&o.peek(n+1)==e&&o.peek(n+2)==e&&isSep(o.peek(n+3))}const newlines=new ExternalTokenizer((o,e)=>{if(o.next==-1&&e.canShift(eof))return o.acceptToken(eof);let n=o.peek(-1);if((isBreakSpace(n)||n<0)&&e.context.type!=type_Flow){if(three(o,45))if(e.canShift(blockEnd))o.acceptToken(blockEnd);else return o.acceptToken(DirectiveEnd,3);if(three(o,46))if(e.canShift(blockEnd))o.acceptToken(blockEnd);else return o.acceptToken(DocEnd,3);let r=0;for(;o.next==32;)r++,o.advance();(r<e.context.depth||r==e.context.depth&&e.context.type==type_Seq&&(o.next!=45||!isSep(o.peek(1))))&&o.next!=-1&&!isBreakSpace(o.next)&&o.next!=35&&o.acceptToken(blockEnd,-r)}},{contextual:!0}),blockMark=new ExternalTokenizer((o,e)=>{if(e.context.type==type_Flow){o.next==63&&(o.advance(),isSep(o.next)&&o.acceptToken(flowMapMark));return}if(o.next==45)o.advance(),isSep(o.next)&&o.acceptToken(e.context.type==type_Seq&&e.context.depth==findColumn(o,o.pos-1)?sequenceContinueMark:sequenceStartMark);else if(o.next==63)o.advance(),isSep(o.next)&&o.acceptToken(e.context.type==type_Map&&e.context.depth==findColumn(o,o.pos-1)?explicitMapContinueMark:explicitMapStartMark);else{let n=o.pos;for(;;)if(isNonBreakSpace(o.next)){if(o.pos==n)return;o.advance()}else if(o.next==33)readTag(o);else if(o.next==38)readAnchor(o);else if(o.next==42){readAnchor(o);break}else if(o.next==39||o.next==34){if(readQuoted(o,!0))break;return}else if(o.next==91||o.next==123){if(!scanBrackets(o))return;break}else{readPlain(o,!0,!1,0);break}for(;isNonBreakSpace(o.next);)o.advance();if(o.next==58){if(o.pos==n&&e.canShift(Colon))return;let r=o.peek(1);isSep(r)&&o.acceptTokenTo(e.context.type==type_Map&&e.context.depth==findColumn(o,n)?mapContinueMark:mapStartMark,n)}}},{contextual:!0});function uriChar(o){return o>32&&o<127&&o!=34&&o!=37&&o!=44&&o!=60&&o!=62&&o!=92&&o!=94&&o!=96&&o!=123&&o!=124&&o!=125}function hexChar(o){return o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70}function readUriChar(o,e){return o.next==37?(o.advance(),hexChar(o.next)&&o.advance(),hexChar(o.next)&&o.advance(),!0):uriChar(o.next)||e&&o.next==44?(o.advance(),!0):!1}function readTag(o){if(o.advance(),o.next==60){for(o.advance();;)if(!readUriChar(o,!0)){o.next==62&&o.advance();break}}else for(;readUriChar(o,!1););}function readAnchor(o){for(o.advance();!isSep(o.next)&&charTag(o.tag)!="f";)o.advance()}function readQuoted(o,e){let n=o.next,r=!1,a=o.pos;for(o.advance();;){let s=o.next;if(s<0)break;if(o.advance(),s==n)if(s==39)if(o.next==39)o.advance();else break;else break;else if(s==92&&n==34)o.next>=0&&o.advance();else if(isBreakSpace(s)){if(e)return!1;r=!0}else if(e&&o.pos>=a+1024)return!1}return!r}function scanBrackets(o){for(let e=[],n=o.pos+1024;;)if(o.next==91||o.next==123)e.push(o.next),o.advance();else if(o.next==39||o.next==34){if(!readQuoted(o,!0))return!1}else if(o.next==93||o.next==125){if(e[e.length-1]!=o.next-2)return!1;if(e.pop(),o.advance(),!e.length)return!0}else{if(o.next<0||o.pos>n||isBreakSpace(o.next))return!1;o.advance()}}const charTable="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function charTag(o){return o<33?"u":o>125?"s":charTable[o-33]}function isSafe(o,e){let n=charTag(o);return n!="u"&&!(e&&n=="f")}function readPlain(o,e,n,r){if(charTag(o.next)=="s"||(o.next==63||o.next==58||o.next==45)&&isSafe(o.peek(1),n))o.advance();else return!1;let a=o.pos;for(;;){let s=o.next,l=0,c=r+1;for(;isSpace(s);){if(isBreakSpace(s)){if(e)return!1;c=0}else c++;s=o.peek(++l)}if(!(s>=0&&(s==58?isSafe(o.peek(l+1),n):s==35?o.peek(l-1)!=32:isSafe(s,n)))||!n&&c<=r||c==0&&!n&&(three(o,45,l)||three(o,46,l)))break;if(e&&charTag(s)=="f")return!1;for(let h=l;h>=0;h--)o.advance();if(e&&o.pos>a+1024)return!1}return!0}const literals=new ExternalTokenizer((o,e)=>{if(o.next==33)readTag(o),o.acceptToken(Tag);else if(o.next==38||o.next==42){let n=o.next==38?Anchor:Alias;readAnchor(o),o.acceptToken(n)}else o.next==39||o.next==34?(readQuoted(o,!1),o.acceptToken(QuotedLiteral)):readPlain(o,!1,e.context.type==type_Flow,e.context.depth)&&o.acceptToken(Literal)}),blockLiteral=new ExternalTokenizer((o,e)=>{let n=e.context.type==type_Lit?e.context.depth:-1,r=o.pos;e:for(;;){let a=0,s=o.next;for(;s==32;)s=o.peek(++a);if(!a&&(three(o,45,a)||three(o,46,a))||!isBreakSpace(s)&&(n<0&&(n=Math.max(e.context.depth+1,a)),a<n))break;for(;;){if(o.next<0)break e;let l=isBreakSpace(o.next);if(o.advance(),l)continue e;r=o.pos}}o.acceptTokenTo(BlockLiteralContent,r)}),yamlHighlighting=styleTags({DirectiveName:tags$1.keyword,DirectiveContent:tags$1.attributeValue,"DirectiveEnd DocEnd":tags$1.meta,QuotedLiteral:tags$1.string,BlockLiteralHeader:tags$1.special(tags$1.string),BlockLiteralContent:tags$1.content,Literal:tags$1.content,"Key/Literal Key/QuotedLiteral":tags$1.definition(tags$1.propertyName),"Anchor Alias":tags$1.labelName,Tag:tags$1.typeName,Comment:tags$1.lineComment,": , -":tags$1.separator,"?":tags$1.punctuation,"[ ]":tags$1.squareBracket,"{ }":tags$1.brace}),parser=LRParser.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:indentation,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[yamlHighlighting],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[newlines,blockMark,literals,blockLiteral,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),yamlLanguage=LRLanguage.define({name:"yaml",parser:parser.configure({props:[indentNodeProp.add({Stream:o=>{for(let e=o.node.resolve(o.pos,-1);e&&e.to>=o.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return o.baseIndentFor(e);if(e.name=="BlockLiteral")return o.baseIndentFor(e)+o.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return o.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let n=o.column(e.from,1);if(n==o.lineIndent(e.from,1))return n;if(e.to>o.pos)return null}}return null},FlowMapping:delimitedIndent({closing:"}"}),FlowSequence:delimitedIndent({closing:"]"})}),foldNodeProp.add({"FlowMapping FlowSequence":foldInside,"Item Pair BlockLiteral":(o,e)=>({from:e.doc.lineAt(o.from).to,to:o.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function yaml(){return new LanguageSupport(yamlLanguage)}var words={};function define(o,e){for(var n=0;n<e.length;n++)words[e[n]]=o}var commonAtoms=["true","false"],commonKeywords=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],commonCommands=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];define("atom",commonAtoms);define("keyword",commonKeywords);define("builtin",commonCommands);function tokenBase(o,e){if(o.eatSpace())return null;var n=o.sol(),r=o.next();if(r==="\\")return o.next(),null;if(r==="'"||r==='"'||r==="`")return e.tokens.unshift(tokenString(r,r==="`"?"quote":"string")),tokenize(o,e);if(r==="#")return n&&o.eat("!")?(o.skipToEnd(),"meta"):(o.skipToEnd(),"comment");if(r==="$")return e.tokens.unshift(tokenDollar),tokenize(o,e);if(r==="+"||r==="=")return"operator";if(r==="-")return o.eat("-"),o.eatWhile(/\w/),"attribute";if(r=="<"){if(o.match("<<"))return"operator";var a=o.match(/^<-?\s*(?:['"]([^'"]*)['"]|([^'"\s]*))/);if(a)return e.tokens.unshift(tokenHeredoc(a[1]||a[2])),"string.special"}if(/\d/.test(r)&&(o.eatWhile(/\d/),o.eol()||!/\w/.test(o.peek())))return"number";o.eatWhile(/[\w-]/);var s=o.current();return o.peek()==="="&&/\w+/.test(s)?"def":words.hasOwnProperty(s)?words[s]:null}function tokenString(o,e){var n=o=="("?")":o=="{"?"}":o;return function(r,a){for(var s,l=!1;(s=r.next())!=null;){if(s===n&&!l){a.tokens.shift();break}else if(s==="$"&&!l&&o!=="'"&&r.peek()!=n){l=!0,r.backUp(1),a.tokens.unshift(tokenDollar);break}else{if(!l&&o!==n&&s===o)return a.tokens.unshift(tokenString(o,e)),tokenize(r,a);if(!l&&/['"]/.test(s)&&!/['"]/.test(o)){a.tokens.unshift(tokenStringStart(s,"string")),r.backUp(1);break}}l=!l&&s==="\\"}return e}}function tokenStringStart(o,e){return function(n,r){return r.tokens[0]=tokenString(o,e),n.next(),tokenize(n,r)}}var tokenDollar=function(o,e){e.tokens.length>1&&o.eat("$");var n=o.next();return/['"({]/.test(n)?(e.tokens[0]=tokenString(n,n=="("?"quote":n=="{"?"def":"string"),tokenize(o,e)):(/\d/.test(n)||o.eatWhile(/\w/),e.tokens.shift(),"def")};function tokenHeredoc(o){return function(e,n){return e.sol()&&e.string==o&&n.tokens.shift(),e.skipToEnd(),"string.special"}}function tokenize(o,e){return(e.tokens[0]||tokenBase)(o,e)}const shell={name:"shell",startState:function(){return{tokens:[]}},token:function(o,e){return tokenize(o,e)},languageData:{autocomplete:commonAtoms.concat(commonKeywords,commonCommands),closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"#"}}};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var e=o.default;if(typeof e=="function"){var n=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(r){var a=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return o[r]}})}),n}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function o(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return isObject_1=o,isObject_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var o=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=o,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var o=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=o||e||Function("return this")();return _root=n,_root}var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var o=require_root(),e=function(){return o.Date.now()};return now_1=e,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var o=/\s/;function e(n){for(var r=n.length;r--&&o.test(n.charAt(r)););return r}return _trimmedEndIndex=e,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var o=require_trimmedEndIndex(),e=/^\s+/;function n(r){return r&&r.slice(0,o(r)+1).replace(e,"")}return _baseTrim=n,_baseTrim}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var o=require_root(),e=o.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var o=require_Symbol(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=o?o.toStringTag:void 0;function s(l){var c=n.call(l,a),u=l[a];try{l[a]=void 0;var h=!0}catch{}var f=r.call(l);return h&&(c?l[a]=u:delete l[a]),f}return _getRawTag=s,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var o=Object.prototype,e=o.toString;function n(r){return e.call(r)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var o=require_Symbol(),e=require_getRawTag(),n=require_objectToString(),r="[object Null]",a="[object Undefined]",s=o?o.toStringTag:void 0;function l(c){return c==null?c===void 0?a:r:s&&s in Object(c)?e(c):n(c)}return _baseGetTag=l,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function o(e){return e!=null&&typeof e=="object"}return isObjectLike_1=o,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var o=require_baseGetTag(),e=requireIsObjectLike(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&o(a)==n}return isSymbol_1=r,isSymbol_1}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var o=require_baseTrim(),e=requireIsObject(),n=requireIsSymbol(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function u(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var f=typeof h.valueOf=="function"?h.valueOf():h;h=e(f)?f+"":f}if(typeof h!="string")return h===0?h:+h;h=o(h);var d=s.test(h);return d||l.test(h)?c(h.slice(2),d?2:8):a.test(h)?r:+h}return toNumber_1=u,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var o=requireIsObject(),e=requireNow(),n=requireToNumber(),r="Expected a function",a=Math.max,s=Math.min;function l(c,u,h){var f,d,p,g,y,v,w=0,O=!1,k=!1,E=!0;if(typeof c!="function")throw new TypeError(r);u=n(u)||0,o(h)&&(O=!!h.leading,k="maxWait"in h,p=k?a(n(h.maxWait)||0,u):p,E="trailing"in h?!!h.trailing:E);function I(Z){var R=f,ae=d;return f=d=void 0,w=Z,g=c.apply(ae,R),g}function G(Z){return w=Z,y=setTimeout(te,u),O?I(Z):g}function J(Z){var R=Z-v,ae=Z-w,de=u-R;return k?s(de,p-ae):de}function Q(Z){var R=Z-v,ae=Z-w;return v===void 0||R>=u||R<0||k&&ae>=p}function te(){var Z=e();if(Q(Z))return pe(Z);y=setTimeout(te,J(Z))}function pe(Z){return y=void 0,E&&f?I(Z):(f=d=void 0,g)}function fe(){y!==void 0&&clearTimeout(y),w=0,f=v=d=y=void 0}function ee(){return y===void 0?g:pe(e())}function N(){var Z=e(),R=Q(Z);if(f=arguments,d=this,v=Z,R){if(y===void 0)return G(v);if(k)return clearTimeout(y),y=setTimeout(te,u),I(v)}return y===void 0&&(y=setTimeout(te,u)),g}return N.cancel=fe,N.flush=ee,N}return debounce_1=l,debounce_1}var debounceExports=requireDebounce();const debounce=getDefaultExportFromCjs(debounceExports);class ContextMenu{constructor({targetSelector:e,items:n,containerItems:r=[],itemSelector:a,dataAttribute:s}){if(this.targetSelector=e,this.items=n,this.containerItems=r,this.itemSelector=a,s){const l=s.replace("data-","");this.dataAttributeKey=l.replace(/-([a-z])/g,c=>c[1].toUpperCase())}else this.dataAttributeKey=null;this.menuElement=null,this.longPressTimeout=null,this.boundHideMenu=this.hideMenu.bind(this),this.init()}init(){this.createMenuElement(),document.addEventListener("contextmenu",this.handleContextMenu.bind(this)),document.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),document.addEventListener("touchend",this.handleTouchEnd.bind(this)),document.addEventListener("touchcancel",this.handleTouchEnd.bind(this))}createMenuElement(){this.menuElement=document.createElement("div"),this.menuElement.className="context-menu",document.body.appendChild(this.menuElement)}handleContextMenu(e){const n=e.target.closest(this.targetSelector);if(!n)return;e.preventDefault();const r=this.itemSelector?e.target.closest(this.itemSelector):null;r?this.showMenu(e.clientX,e.clientY,this.items,r):this.showMenu(e.clientX,e.clientY,this.containerItems,n)}handleTouchStart(e){const n=e.target.closest(this.targetSelector);n&&(this.longPressTimeout=setTimeout(()=>{e.preventDefault();const r=this.itemSelector?e.target.closest(this.itemSelector):null,a=r?this.items:this.containerItems;this.showMenu(e.touches[0].clientX,e.touches[0].clientY,a,r||n),this.longPressTimeout=null},500))}handleTouchEnd(){this.longPressTimeout&&(clearTimeout(this.longPressTimeout),this.longPressTimeout=null)}showMenu(e,n,r,a){this.menuElement.innerHTML="",this.menuElement.style.display="block";const s=this.dataAttributeKey&&a.dataset[this.dataAttributeKey]?a.dataset[this.dataAttributeKey]:null;r.forEach(p=>{const g=document.createElement("button");g.className="context-menu-item",g.textContent=p.label,g.addEventListener("click",()=>{p.action(s),this.hideMenu()}),this.menuElement.appendChild(g)});const l=this.menuElement.offsetWidth,c=this.menuElement.offsetHeight,{innerWidth:u,innerHeight:h}=window;let f=e,d=n;e+l>u&&(f=u-l-5),n+c>h&&(d=h-c-5),this.menuElement.style.top=`${d}px`,this.menuElement.style.left=`${f}px`,document.addEventListener("click",this.boundHideMenu),document.addEventListener("contextmenu",this.boundHideMenu)}hideMenu(e){e&&this.menuElement.contains(e.target)||this.menuElement.style.display==="block"&&(this.menuElement.style.display="none",document.removeEventListener("click",this.boundHideMenu),document.removeEventListener("contextmenu",this.boundHideMenu))}}const fileActions={async renderFiles(o){try{const e=await this.listFiles(this.gitClient,"/"),n=new Map;for(const[s,l,c]of o)l!==c&&n.set(`/${s}`,"modified");const r=decodeURIComponent(window.location.hash.substring(1)),a=e.sort().map(s=>{const l=`#${s}`,c=n.get(s)||"unmodified",u=s.startsWith("/")?s.substring(1):s,h=[`status-${c}`];return s===r&&h.push("active"),`<li><a href="${l}" class="${h.join(" ")}" data-filepath="${s}">${u}</a></li>`}).join("");this.contentContainer.innerHTML=`<ul>${a}</ul>`}catch(e){console.error("Error rendering file list:",e),this.contentContainer.innerHTML='<p class="sidebar-error">Could not load files.</p>'}},async handleNewFile(){const o=prompt("Enter new file name:");if(!o)return;const e=`/${o}`;try{await this.gitClient.pfs.stat(e),alert(`File "${o}" already exists.`)}catch(n){n.code==="ENOENT"?(await this.gitClient.writeFile(e,""),window.location.hash=`#${e}`):(console.error("Error checking for file:",n),alert("An error occurred while creating the file."))}},async handleRename(o){const e=o.substring(o.lastIndexOf("/")+1),n=prompt("Enter new file name:",e);if(!n||n===e)return;const a=`${o.substring(0,o.lastIndexOf("/"))}/${n}`;try{await this.gitClient.pfs.rename(o,a),decodeURIComponent(window.location.hash)===`#${o}`?window.location.hash=`#${a}`:await this.refresh()}catch(s){console.error("Error renaming file:",s),alert("Failed to rename file.")}},async handleDuplicate(o){const e=o.substring(0,o.lastIndexOf("/")),n=o.substring(o.lastIndexOf("/")+1),r=n.lastIndexOf("."),a=r>0;let s;if(a){const u=n.substring(0,r),h=n.substring(r);s=`${u} (copy)${h}`}else s=`${n} (copy)`;const l=prompt("Enter name for duplicated file:",s);if(!l)return;const c=`${e}/${l}`;try{const u=await this.gitClient.pfs.readFile(o,"utf8");await this.gitClient.writeFile(c,u),await this.refresh()}catch(u){console.error("Error duplicating file:",u),alert("Failed to duplicate file.")}},async handleDelete(o){if(confirm(`Are you sure you want to delete "${o}"?`))try{const e=decodeURIComponent(window.location.hash)===`#${o}`;await this.gitClient.pfs.unlink(o),e?(window.location.hash="#/README",await this.editor.loadFile("/README")):await this.refresh()}catch(e){console.error("Error deleting file:",e),alert("Failed to delete file.")}}};var justOnce,hasRequiredJustOnce;function requireJustOnce(){if(hasRequiredJustOnce)return justOnce;hasRequiredJustOnce=1,justOnce=o;function o(e){var n,r;if(typeof e!="function")throw new Error("expected a function but got "+e);return function(){return n||(n=!0,r=e.apply(this,arguments)),r}}return justOnce}var text_min={},hasRequiredText_min;function requireText_min(){return hasRequiredText_min||(hasRequiredText_min=1,(function(o){function e(O,k){var E;return O instanceof Buffer$1?E=O:E=Buffer$1.from(O.buffer,O.byteOffset,O.byteLength),E.toString(k)}var n=function(O){return Buffer$1.from(O)};function r(O){for(var k=0,E=Math.min(256*256,O.length+1),I=new Uint16Array(E),G=[],J=0;;){var Q=k<O.length;if(!Q||J>=E-1){var te=I.subarray(0,J),pe=te;if(G.push(String.fromCharCode.apply(null,pe)),!Q)return G.join("");O=O.subarray(k),k=0,J=0}var fe=O[k++];if((fe&128)===0)I[J++]=fe;else if((fe&224)===192){var ee=O[k++]&63;I[J++]=(fe&31)<<6|ee}else if((fe&240)===224){var ee=O[k++]&63,N=O[k++]&63;I[J++]=(fe&31)<<12|ee<<6|N}else if((fe&248)===240){var ee=O[k++]&63,N=O[k++]&63,Z=O[k++]&63,R=(fe&7)<<18|ee<<12|N<<6|Z;R>65535&&(R-=65536,I[J++]=R>>>10&1023|55296,R=56320|R&1023),I[J++]=R}}}function a(O){for(var k=0,E=O.length,I=0,G=Math.max(32,E+(E>>>1)+7),J=new Uint8Array(G>>>3<<3);k<E;){var Q=O.charCodeAt(k++);if(Q>=55296&&Q<=56319){if(k<E){var te=O.charCodeAt(k);(te&64512)===56320&&(++k,Q=((Q&1023)<<10)+(te&1023)+65536)}if(Q>=55296&&Q<=56319)continue}if(I+4>J.length){G+=8,G*=1+k/O.length*2,G=G>>>3<<3;var pe=new Uint8Array(G);pe.set(J),J=pe}if((Q&4294967168)===0){J[I++]=Q;continue}else if((Q&4294965248)===0)J[I++]=Q>>>6&31|192;else if((Q&4294901760)===0)J[I++]=Q>>>12&15|224,J[I++]=Q>>>6&63|128;else if((Q&4292870144)===0)J[I++]=Q>>>18&7|240,J[I++]=Q>>>12&63|128,J[I++]=Q>>>6&63|128;else continue;J[I++]=Q&63|128}return J.slice?J.slice(0,I):J.subarray(0,I)}var s="Failed to ",l=function(O,k,E){if(O)throw new Error("".concat(s).concat(k,": the '").concat(E,"' option is unsupported."))},c=typeof Buffer$1=="function"&&Buffer$1.from,u=c?n:a;function h(){this.encoding="utf-8"}h.prototype.encode=function(O,k){return l(k&&k.stream,"encode","stream"),u(O)};function f(O){var k;try{var E=new Blob([O],{type:"text/plain;charset=UTF-8"});k=URL.createObjectURL(E);var I=new XMLHttpRequest;return I.open("GET",k,!1),I.send(),I.responseText}finally{k&&URL.revokeObjectURL(k)}}var d=!c&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",p=["utf-8","utf8","unicode-1-1-utf-8"],g=r;c?g=e:d&&(g=function(O){try{return f(O)}catch{return r(O)}});var y="construct 'TextDecoder'",v="".concat(s," ").concat(y,": the ");function w(O,k){l(k&&k.fatal,y,"fatal"),O=O||"utf-8";var E;if(c?E=Buffer$1.isEncoding(O):E=p.indexOf(O.toLowerCase())!==-1,!E)throw new RangeError("".concat(v," encoding label provided ('").concat(O,"') is invalid."));this.encoding=O,this.fatal=!1,this.ignoreBOM=!1}w.prototype.decode=function(O,k){l(k&&k.stream,"decode","stream");var E;return O instanceof Uint8Array?E=O:O.buffer instanceof ArrayBuffer?E=new Uint8Array(O.buffer):E=new Uint8Array(O),g(E,this.encoding)},o.TextEncoder=o.TextEncoder||h,o.TextDecoder=o.TextDecoder||w})(typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:text_min)),text_min}var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,requireText_min(),browser={encode:o=>new TextEncoder().encode(o),decode:o=>new TextDecoder().decode(o)}),browser}var justDebounceIt,hasRequiredJustDebounceIt;function requireJustDebounceIt(){if(hasRequiredJustDebounceIt)return justDebounceIt;hasRequiredJustDebounceIt=1,justDebounceIt=o;function o(e,n,r){var a;return function(){if(!n)return e.apply(this,arguments);var s=this,l=arguments,c=r&&!a;if(clearTimeout(a),a=setTimeout(function(){if(a=null,!c)return e.apply(s,l)},n),c)return e.apply(this,arguments)}}return justDebounceIt}var path,hasRequiredPath;function requirePath(){if(hasRequiredPath)return path;hasRequiredPath=1;function o(c){if(c.length===0)return".";let u=r(c);return u=u.reduce(l,[]),n(...u)}function e(...c){let u="";for(let h of c)h.startsWith("/")?u=h:u=o(n(u,h));return u}function n(...c){if(c.length===0)return"";let u=c.join("/");return u=u.replace(/\/{2,}/g,"/"),u}function r(c){if(c.length===0)return[];if(c==="/")return["/"];let u=c.split("/");return u[u.length-1]===""&&u.pop(),c[0]==="/"?u[0]="/":u[0]!=="."&&u.unshift("."),u}function a(c){const u=c.lastIndexOf("/");if(u===-1)throw new Error(`Cannot get dirname of "${c}"`);return u===0?"/":c.slice(0,u)}function s(c){if(c==="/")throw new Error(`Cannot get basename of "${c}"`);const u=c.lastIndexOf("/");return u===-1?c:c.slice(u+1)}function l(c,u){if(c.length===0)return c.push(u),c;if(u===".")return c;if(u===".."){if(c.length===1){if(c[0]==="/")throw new Error("Unable to normalize path - traverses above root directory");if(c[0]===".")return c.push(u),c}return c[c.length-1]===".."?(c.push(".."),c):(c.pop(),c)}return c.push(u),c}return path={join:n,normalize:o,split:r,basename:s,dirname:a,resolve:e},path}var errors,hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function o(c){return class extends Error{constructor(...u){super(...u),this.code=c,this.message?this.message=c+": "+this.message:this.message=c}}}const e=o("EEXIST"),n=o("ENOENT"),r=o("ENOTDIR"),a=o("ENOTEMPTY"),s=o("ETIMEDOUT"),l=o("EISDIR");return errors={EEXIST:e,ENOENT:n,ENOTDIR:r,ENOTEMPTY:a,ETIMEDOUT:s,EISDIR:l},errors}var CacheFS_1,hasRequiredCacheFS;function requireCacheFS(){if(hasRequiredCacheFS)return CacheFS_1;hasRequiredCacheFS=1;const o=requirePath(),{EEXIST:e,ENOENT:n,ENOTDIR:r,ENOTEMPTY:a,EISDIR:s}=requireErrors(),l=0;return CacheFS_1=class{constructor(){}_makeRoot(u=new Map){return u.set(l,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),u}activate(u=null){u===null?this._root=new Map([["/",this._makeRoot()]]):typeof u=="string"?this._root=new Map([["/",this._makeRoot(this.parse(u))]]):this._root=u}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(u){let h=1;for(let[f,d]of u)f!==l&&(h+=this._countInodes(d));return h}autoinc(){return this._maxInode(this._root.get("/"))+1}_maxInode(u){let h=u.get(l).ino;for(let[f,d]of u)f!==l&&(h=Math.max(h,this._maxInode(d)));return h}print(u=this._root.get("/")){let h="";const f=(d,p)=>{for(let[g,y]of d){if(g===0)continue;let v=y.get(l),w=v.mode.toString(8);h+=`${"	".repeat(p)}${g}	${w}`,v.type==="file"?h+=`	${v.size}	${v.mtimeMs}
`:(h+=`
`,f(y,p+1))}};return f(u,0),h}parse(u){let h=0;function f(y){const v=++h,w=y.length===1?"dir":"file";let[O,k,E]=y;return O=parseInt(O,8),k=k?parseInt(k):0,E=E?parseInt(E):Date.now(),new Map([[l,{mode:O,type:w,size:k,mtimeMs:E,ino:v}]])}let d=u.trim().split(`
`),p=this._makeRoot(),g=[{indent:-1,node:p},{indent:0,node:null}];for(let y of d){let w=y.match(/^\t*/)[0].length;y=y.slice(w);let[O,...k]=y.split("	"),E=f(k);if(w<=g[g.length-1].indent)for(;w<=g[g.length-1].indent;)g.pop();g.push({indent:w,node:E}),g[g.length-2].node.set(O,E)}return p}_lookup(u,h=!0){let f=this._root,d="/",p=o.split(u);for(let g=0;g<p.length;++g){let y=p[g];if(f=f.get(y),!f)throw new n(u);if(h||g<p.length-1){const v=f.get(l);if(v.type==="symlink"){let w=o.resolve(d,v.target);f=this._lookup(w)}d?d=o.join(d,y):d=y}}return f}mkdir(u,{mode:h}){if(u==="/")throw new e;let f=this._lookup(o.dirname(u)),d=o.basename(u);if(f.has(d))throw new e;let p=new Map,g={mode:h,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};p.set(l,g),f.set(d,p)}rmdir(u){let h=this._lookup(u);if(h.get(l).type!=="dir")throw new r;if(h.size>1)throw new a;let f=this._lookup(o.dirname(u)),d=o.basename(u);f.delete(d)}readdir(u){let h=this._lookup(u);if(h.get(l).type!=="dir")throw new r;return[...h.keys()].filter(f=>typeof f=="string")}writeStat(u,h,{mode:f}){let d,p;try{p=this.stat(u)}catch{}if(p!==void 0){if(p.type==="dir")throw new s;f==null&&(f=p.mode),d=p.ino}f==null&&(f=438),d==null&&(d=this.autoinc());let g=this._lookup(o.dirname(u)),y=o.basename(u),v={mode:f,type:"file",size:h,mtimeMs:Date.now(),ino:d},w=new Map;return w.set(l,v),g.set(y,w),v}unlink(u){let h=this._lookup(o.dirname(u)),f=o.basename(u);h.delete(f)}rename(u,h){let f=o.basename(h),d=this._lookup(u);this._lookup(o.dirname(h)).set(f,d),this.unlink(u)}stat(u){return this._lookup(u).get(l)}lstat(u){return this._lookup(u,!1).get(l)}readlink(u){return this._lookup(u,!1).get(l).target}symlink(u,h){let f,d;try{let w=this.stat(h);d===null&&(d=w.mode),f=w.ino}catch{}d==null&&(d=40960),f==null&&(f=this.autoinc());let p=this._lookup(o.dirname(h)),g=o.basename(h),y={mode:d,type:"symlink",target:u,size:0,mtimeMs:Date.now(),ino:f},v=new Map;return v.set(l,y),p.set(g,v),y}_du(u){let h=0;for(const[f,d]of u.entries())f===l?h+=d.size:h+=this._du(d);return h}du(u){let h=this._lookup(u);return this._du(h)}},CacheFS_1}class Store{constructor(e="keyval-store",n="keyval"){this.storeName=n,this._dbName=e,this._storeName=n,this._init()}_init(){this._dbp||(this._dbp=new Promise((e,n)=>{const r=indexedDB.open(this._dbName);r.onerror=()=>n(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=()=>{r.result.createObjectStore(this._storeName)}}))}_withIDBStore(e,n){return this._init(),this._dbp.then(r=>new Promise((a,s)=>{const l=r.transaction(this.storeName,e);l.oncomplete=()=>a(),l.onabort=l.onerror=()=>s(l.error),n(l.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(e=>{e.close(),this._dbp=void 0})}}let store;function getDefaultStore(){return store||(store=new Store),store}function get$1(o,e=getDefaultStore()){let n;return e._withIDBStore("readwrite",r=>{n=r.get(o)}).then(()=>n.result)}function set(o,e,n=getDefaultStore()){return n._withIDBStore("readwrite",r=>{r.put(e,o)})}function update(o,e,n=getDefaultStore()){return n._withIDBStore("readwrite",r=>{const a=r.get(o);a.onsuccess=()=>{r.put(e(a.result),o)}})}function del(o,e=getDefaultStore()){return e._withIDBStore("readwrite",n=>{n.delete(o)})}function clear(o=getDefaultStore()){return o._withIDBStore("readwrite",e=>{e.clear()})}function keys(o=getDefaultStore()){const e=[];return o._withIDBStore("readwrite",n=>{(n.openKeyCursor||n.openCursor).call(n).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}}).then(()=>e)}function close(o=getDefaultStore()){return o._close()}const idbKeyval=Object.freeze(Object.defineProperty({__proto__:null,Store,clear,close,del,get:get$1,keys,set,update},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(idbKeyval);var IdbBackend_1,hasRequiredIdbBackend;function requireIdbBackend(){if(hasRequiredIdbBackend)return IdbBackend_1;hasRequiredIdbBackend=1;const o=require$$0;return IdbBackend_1=class{constructor(n,r){this._database=n,this._storename=r,this._store=new o.Store(this._database,this._storename)}saveSuperblock(n){return o.set("!root",n,this._store)}loadSuperblock(){return o.get("!root",this._store)}readFile(n){return o.get(n,this._store)}writeFile(n,r){return o.set(n,r,this._store)}unlink(n){return o.del(n,this._store)}wipe(){return o.clear(this._store)}close(){return o.close(this._store)}},IdbBackend_1}var HttpBackend_1,hasRequiredHttpBackend;function requireHttpBackend(){return hasRequiredHttpBackend||(hasRequiredHttpBackend=1,HttpBackend_1=class{constructor(e){this._url=e}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(e=>e.ok?e.text():null)}async readFile(e){const n=await fetch(this._url+e);if(n.status===200)return n.arrayBuffer();throw new Error("ENOENT")}async sizeFile(e){const n=await fetch(this._url+e,{method:"HEAD"});if(n.status===200)return n.headers.get("content-length");throw new Error("ENOENT")}}),HttpBackend_1}var Mutex_1,hasRequiredMutex;function requireMutex(){if(hasRequiredMutex)return Mutex_1;hasRequiredMutex=1;const o=require$$0,e=n=>new Promise(r=>setTimeout(r,n));return Mutex_1=class{constructor(r,a){this._id=Math.random(),this._database=r,this._storename=a,this._store=new o.Store(this._database,this._storename),this._lock=null}async has({margin:r=2e3}={}){if(this._lock&&this._lock.holder===this._id){const a=Date.now();return this._lock.expires>a+r?!0:await this.renew()}else return!1}async renew({ttl:r=5e3}={}){let a;return await o.update("lock",s=>{const c=Date.now()+r;return a=s&&s.holder===this._id,this._lock=a?{holder:this._id,expires:c}:s,this._lock},this._store),a}async acquire({ttl:r=5e3}={}){let a,s,l;if(await o.update("lock",c=>{const u=Date.now(),h=u+r;return s=c&&c.expires<u,a=c===void 0||s,l=c&&c.holder===this._id,this._lock=a?{holder:this._id,expires:h}:c,this._lock},this._store),l)throw new Error("Mutex double-locked");return a}async wait({interval:r=100,limit:a=6e3,ttl:s}={}){for(;a--;){if(await this.acquire({ttl:s}))return!0;await e(r)}throw new Error("Mutex timeout")}async release({force:r=!1}={}){let a,s,l;if(await o.update("lock",c=>(a=r||c&&c.holder===this._id,s=c===void 0,l=c&&c.holder!==this._id,this._lock=a?void 0:c,this._lock),this._store),await o.close(this._store),!a&&!r){if(s)throw new Error("Mutex double-freed");if(l)throw new Error("Mutex lost ownership")}return a}},Mutex_1}var Mutex2,hasRequiredMutex2;function requireMutex2(){return hasRequiredMutex2||(hasRequiredMutex2=1,Mutex2=class{constructor(e){this._id=Math.random(),this._database=e,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(e=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},n=>(this._has=!!n,e(!!n),new Promise(r=>{this._release=r})))})}async wait({timeout:e=6e5}={}){return new Promise((n,r)=>{const a=new AbortController;setTimeout(()=>{a.abort(),r(new Error("Mutex timeout"))},e),navigator.locks.request(this._database+"_lock",{signal:a.signal},s=>(this._has=!!s,n(!!s),new Promise(l=>{this._release=l})))})}async release({force:e=!1}={}){this._has=!1,this._release?this._release():e&&navigator.locks.request(this._database+"_lock",{steal:!0},n=>!0)}}),Mutex2}var DefaultBackend_1,hasRequiredDefaultBackend;function requireDefaultBackend(){if(hasRequiredDefaultBackend)return DefaultBackend_1;hasRequiredDefaultBackend=1;const{encode:o,decode:e}=requireBrowser(),n=requireJustDebounceIt(),r=requireCacheFS(),{ENOENT:a,ENOTEMPTY:s,ETIMEDOUT:l}=requireErrors(),c=requireIdbBackend(),u=requireHttpBackend(),h=requireMutex(),f=requireMutex2(),d=requirePath();return DefaultBackend_1=class{constructor(){this.saveSuperblock=n(()=>{this.flush()},500)}async init(g,{wipe:y,url:v,urlauto:w,fileDbName:O=g,db:k=null,fileStoreName:E=g+"_files",lockDbName:I=g+"_lock",lockStoreName:G=g+"_lock"}={}){this._name=g,this._idb=k||new c(O,E),this._mutex=navigator.locks?new f(g):new h(I,G),this._cache=new r(g),this._opts={wipe:y,url:v},this._needsWipe=!!y,v&&(this._http=new u(v),this._urlauto=!!w)}async activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();const g=await this._idb.loadSuperblock();if(g)this._cache.activate(g);else if(this._http){const y=await this._http.loadSuperblock();this._cache.activate(y),await this._saveSuperblock()}else this._cache.activate();if(!await this._mutex.has())throw new l}async deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(g){console.log(g)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}_writeStat(g,y,v){let w=d.split(d.dirname(g)),O=w.shift();for(let k of w){O=d.join(O,k);try{this._cache.mkdir(O,{mode:511})}catch{}}return this._cache.writeStat(g,y,v)}async readFile(g,y){const v=typeof y=="string"?y:y&&y.encoding;if(v&&v!=="utf8")throw new Error('Only "utf8" encoding is supported in readFile');let w=null,O=null;try{O=this._cache.stat(g),w=await this._idb.readFile(O.ino)}catch(k){if(!this._urlauto)throw k}if(!w&&this._http){let k=this._cache.lstat(g);for(;k.type==="symlink";)g=d.resolve(d.dirname(g),k.target),k=this._cache.lstat(g);w=await this._http.readFile(g)}if(w&&((!O||O.size!=w.byteLength)&&(O=await this._writeStat(g,w.byteLength,{mode:O?O.mode:438}),this.saveSuperblock()),v==="utf8"?w=e(w):w.toString=()=>e(w)),!O)throw new a(g);return w}async writeFile(g,y,v){const{mode:w,encoding:O="utf8"}=v;if(typeof y=="string"){if(O!=="utf8")throw new Error('Only "utf8" encoding is supported in writeFile');y=o(y)}const k=await this._cache.writeStat(g,y.byteLength,{mode:w});await this._idb.writeFile(k.ino,y)}async unlink(g,y){const v=this._cache.lstat(g);this._cache.unlink(g),v.type!=="symlink"&&await this._idb.unlink(v.ino)}readdir(g,y){return this._cache.readdir(g)}mkdir(g,y){const{mode:v=511}=y;this._cache.mkdir(g,{mode:v})}rmdir(g,y){if(g==="/")throw new s;this._cache.rmdir(g)}rename(g,y){this._cache.rename(g,y)}stat(g,y){return this._cache.stat(g)}lstat(g,y){return this._cache.lstat(g)}readlink(g,y){return this._cache.readlink(g)}symlink(g,y){this._cache.symlink(g,y)}async backFile(g,y){let v=await this._http.sizeFile(g);await this._writeStat(g,v,y)}du(g){return this._cache.du(g)}flush(){return this._saveSuperblock()}},DefaultBackend_1}var Stat_1,hasRequiredStat;function requireStat(){return hasRequiredStat||(hasRequiredStat=1,Stat_1=class{constructor(e){this.type=e.type,this.mode=e.mode,this.size=e.size,this.ino=e.ino,this.mtimeMs=e.mtimeMs,this.ctimeMs=e.ctimeMs||e.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return this.type==="file"}isDirectory(){return this.type==="dir"}isSymbolicLink(){return this.type==="symlink"}}),Stat_1}var PromisifiedFS_1,hasRequiredPromisifiedFS;function requirePromisifiedFS(){if(hasRequiredPromisifiedFS)return PromisifiedFS_1;hasRequiredPromisifiedFS=1;const o=requireDefaultBackend(),e=requireStat(),n=requirePath();function r(l,c,...u){return l=n.normalize(l),(typeof c>"u"||typeof c=="function")&&(c={}),typeof c=="string"&&(c={encoding:c}),[l,c,...u]}function a(l,c,u,...h){return l=n.normalize(l),(typeof u>"u"||typeof u=="function")&&(u={}),typeof u=="string"&&(u={encoding:u}),[l,c,u,...h]}function s(l,c,...u){return[n.normalize(l),n.normalize(c),...u]}return PromisifiedFS_1=class{constructor(c,u={}){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,r,!1),this.writeFile=this._wrap(this.writeFile,a,!0),this.unlink=this._wrap(this.unlink,r,!0),this.readdir=this._wrap(this.readdir,r,!1),this.mkdir=this._wrap(this.mkdir,r,!0),this.rmdir=this._wrap(this.rmdir,r,!0),this.rename=this._wrap(this.rename,s,!0),this.stat=this._wrap(this.stat,r,!1),this.lstat=this._wrap(this.lstat,r,!1),this.readlink=this._wrap(this.readlink,r,!1),this.symlink=this._wrap(this.symlink,s,!0),this.backFile=this._wrap(this.backFile,r,!0),this.du=this._wrap(this.du,r,!1),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,c&&this.init(c,u)}async init(...c){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...c),this._initPromise}async _init(c,u={}){await this._gracefulShutdown(),this._activationPromise&&await this._deactivate(),this._backend&&this._backend.destroy&&await this._backend.destroy(),this._backend=u.backend||new o,this._backend.init&&await this._backend.init(c,u),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),u.defer||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(c=>this._gracefulShutdownResolve=c),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(c,u,h){return async(...f)=>{f=u(...f);let d={name:c.name,args:f};this._operations.add(d);try{return await this._activate(),await c.apply(this,f)}finally{this._operations.delete(d),h&&this._backend.saveSuperblock(),this._operations.size===0&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this._backend.activate?this._backend.activate():Promise.resolve()),await this._activationPromise}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this._backend.deactivate?this._backend.deactivate():Promise.resolve()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async readFile(c,u){return this._backend.readFile(c,u)}async writeFile(c,u,h){return await this._backend.writeFile(c,u,h),null}async unlink(c,u){return await this._backend.unlink(c,u),null}async readdir(c,u){return this._backend.readdir(c,u)}async mkdir(c,u){return await this._backend.mkdir(c,u),null}async rmdir(c,u){return await this._backend.rmdir(c,u),null}async rename(c,u){return await this._backend.rename(c,u),null}async stat(c,u){const h=await this._backend.stat(c,u);return new e(h)}async lstat(c,u){const h=await this._backend.lstat(c,u);return new e(h)}async readlink(c,u){return this._backend.readlink(c,u)}async symlink(c,u){return await this._backend.symlink(c,u),null}async backFile(c,u){return await this._backend.backFile(c,u),null}async du(c){return this._backend.du(c)}async flush(){return this._backend.flush()}},PromisifiedFS_1}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;const o=requireJustOnce(),e=requirePromisifiedFS();function n(r,a){return typeof r=="function"&&(a=r),a=o(a),[(...l)=>a(null,...l),a]}return src=class{constructor(...a){this.promises=new e(...a),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this),this.flush=this.flush.bind(this)}init(a,s){return this.promises.init(a,s)}readFile(a,s,l){const[c,u]=n(s,l);this.promises.readFile(a,s).then(c).catch(u)}writeFile(a,s,l,c){const[u,h]=n(l,c);this.promises.writeFile(a,s,l).then(u).catch(h)}unlink(a,s,l){const[c,u]=n(s,l);this.promises.unlink(a,s).then(c).catch(u)}readdir(a,s,l){const[c,u]=n(s,l);this.promises.readdir(a,s).then(c).catch(u)}mkdir(a,s,l){const[c,u]=n(s,l);this.promises.mkdir(a,s).then(c).catch(u)}rmdir(a,s,l){const[c,u]=n(s,l);this.promises.rmdir(a,s).then(c).catch(u)}rename(a,s,l){const[c,u]=n(l);this.promises.rename(a,s).then(c).catch(u)}stat(a,s,l){const[c,u]=n(s,l);this.promises.stat(a).then(c).catch(u)}lstat(a,s,l){const[c,u]=n(s,l);this.promises.lstat(a).then(c).catch(u)}readlink(a,s,l){const[c,u]=n(s,l);this.promises.readlink(a).then(c).catch(u)}symlink(a,s,l){const[c,u]=n(l);this.promises.symlink(a,s).then(c).catch(u)}backFile(a,s,l){const[c,u]=n(s,l);this.promises.backFile(a,s).then(c).catch(u)}du(a,s){const[l,c]=n(s);this.promises.du(a).then(l).catch(c)}flush(a){const[s,l]=n(a);this.promises.flush().then(s).catch(l)}},src}var srcExports=requireSrc();const FS=getDefaultExportFromCjs(srcExports);var isomorphicGit={},lib$1,hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;var o=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if(typeof process$1>"u"||typeof process$1.domain>"u")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||o.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||o.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||o.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=o.DEFAULT_MAX_PENDING};return o.DEFAULT_TIMEOUT=0,o.DEFAULT_MAX_OCCUPATION_TIME=0,o.DEFAULT_MAX_EXECUTION_TIME=0,o.DEFAULT_MAX_PENDING=1e3,o.prototype.acquire=function(e,n,r,a){if(Array.isArray(e))return this._acquireBatch(e,n,r,a);if(typeof n!="function")throw new Error("You must pass a function to execute");var s=null,l=null,c=null;typeof r!="function"&&(a=r,r=null,c=new this.Promise(function(E,I){s=E,l=I})),a=a||{};var u=!1,h=null,f=null,d=null,p=this,g=function(E,I,G){f&&(clearTimeout(f),f=null),d&&(clearTimeout(d),d=null),E&&(p.queues[e]&&p.queues[e].length===0&&delete p.queues[e],p.domainReentrant&&delete p.domains[e]),u||(c?I?l(I):s(G):typeof r=="function"&&r(I,G),u=!0),E&&p.queues[e]&&p.queues[e].length>0&&p.queues[e].shift()()},y=function(E){if(u)return g(E);h&&(clearTimeout(h),h=null),p.domainReentrant&&E&&(p.domains[e]=process$1.domain);var I=a.maxExecutionTime||p.maxExecutionTime;if(I&&(d=setTimeout(function(){p.queues[e]&&g(E,new Error("Maximum execution time is exceeded "+e))},I)),n.length===1){var G=!1;try{n(function(J,Q){G||(G=!0,g(E,J,Q))})}catch(J){G||(G=!0,g(E,J))}}else p._promiseTry(function(){return n()}).then(function(J){g(E,void 0,J)},function(J){g(E,J)})};p.domainReentrant&&process$1.domain&&(y=process$1.domain.bind(y));var v=a.maxPending||p.maxPending;if(!p.queues[e])p.queues[e]=[],y(!0);else if(p.domainReentrant&&process$1.domain&&process$1.domain===p.domains[e])y(!1);else if(p.queues[e].length>=v)g(!1,new Error("Too many pending tasks in queue "+e));else{var w=function(){y(!0)};a.skipQueue?p.queues[e].unshift(w):p.queues[e].push(w);var O=a.timeout||p.timeout;O&&(h=setTimeout(function(){h=null,g(!1,new Error("async-lock timed out in queue "+e))},O))}var k=a.maxOccupationTime||p.maxOccupationTime;if(k&&(f=setTimeout(function(){p.queues[e]&&g(!1,new Error("Maximum occupation time is exceeded in queue "+e))},k)),c)return c},o.prototype._acquireBatch=function(e,n,r,a){typeof r!="function"&&(a=r,r=null);var s=this,l=function(u,h){return function(f){s.acquire(u,h,f,a)}},c=e.reduceRight(function(u,h){return l(h,u)},n);if(typeof r=="function")c(r);else return new this.Promise(function(u,h){c.length===1?c(function(f,d){f?h(f):u(d)}):u(c())})},o.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},o.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(n){return this.Promise.reject(n)}},lib$1=o,lib$1}var asyncLock,hasRequiredAsyncLock;function requireAsyncLock(){return hasRequiredAsyncLock||(hasRequiredAsyncLock=1,asyncLock=requireLib$1()),asyncLock}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),inherits_browser.exports}var safeBuffer={exports:{}},dist={},hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,(function(o){Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=f,n.toByteArray=p,n.fromByteArray=v;for(var r=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)r[c]=l[c],a[l.charCodeAt(c)]=c;a[45]=62,a[95]=63;function h(k){var E=k.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=k.indexOf("=");I===-1&&(I=E);var G=I===E?0:4-I%4;return[I,G]}function f(k){var E=h(k),I=E[0],G=E[1];return(I+G)*3/4-G}function d(k,E,I){return(E+I)*3/4-I}function p(k){var E,I=h(k),G=I[0],J=I[1],Q=new s(d(k,G,J)),te=0,pe=J>0?G-4:G,fe;for(fe=0;fe<pe;fe+=4)E=a[k.charCodeAt(fe)]<<18|a[k.charCodeAt(fe+1)]<<12|a[k.charCodeAt(fe+2)]<<6|a[k.charCodeAt(fe+3)],Q[te++]=E>>16&255,Q[te++]=E>>8&255,Q[te++]=E&255;return J===2&&(E=a[k.charCodeAt(fe)]<<2|a[k.charCodeAt(fe+1)]>>4,Q[te++]=E&255),J===1&&(E=a[k.charCodeAt(fe)]<<10|a[k.charCodeAt(fe+1)]<<4|a[k.charCodeAt(fe+2)]>>2,Q[te++]=E>>8&255,Q[te++]=E&255),Q}function g(k){return r[k>>18&63]+r[k>>12&63]+r[k>>6&63]+r[k&63]}function y(k,E,I){for(var G,J=[],Q=E;Q<I;Q+=3)G=(k[Q]<<16&16711680)+(k[Q+1]<<8&65280)+(k[Q+2]&255),J.push(g(G));return J.join("")}function v(k){for(var E,I=k.length,G=I%3,J=[],Q=16383,te=0,pe=I-G;te<pe;te+=Q)J.push(y(k,te,te+Q>pe?pe:te+Q));return G===1?(E=k[I-1],J.push(r[E>>2]+r[E<<4&63]+"==")):G===2&&(E=(k[I-2]<<8)+k[I-1],J.push(r[E>>10]+r[E>>4&63]+r[E<<2&63]+"=")),J.join("")}var w={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */w.read=function(k,E,I,G,J){var Q,te,pe=J*8-G-1,fe=(1<<pe)-1,ee=fe>>1,N=-7,Z=I?J-1:0,R=I?-1:1,ae=k[E+Z];for(Z+=R,Q=ae&(1<<-N)-1,ae>>=-N,N+=pe;N>0;Q=Q*256+k[E+Z],Z+=R,N-=8);for(te=Q&(1<<-N)-1,Q>>=-N,N+=G;N>0;te=te*256+k[E+Z],Z+=R,N-=8);if(Q===0)Q=1-ee;else{if(Q===fe)return te?NaN:(ae?-1:1)*(1/0);te=te+Math.pow(2,G),Q=Q-ee}return(ae?-1:1)*te*Math.pow(2,Q-G)},w.write=function(k,E,I,G,J,Q){var te,pe,fe,ee=Q*8-J-1,N=(1<<ee)-1,Z=N>>1,R=J===23?Math.pow(2,-24)-Math.pow(2,-77):0,ae=G?0:Q-1,de=G?1:-1,H=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(pe=isNaN(E)?1:0,te=N):(te=Math.floor(Math.log(E)/Math.LN2),E*(fe=Math.pow(2,-te))<1&&(te--,fe*=2),te+Z>=1?E+=R/fe:E+=R*Math.pow(2,1-Z),E*fe>=2&&(te++,fe/=2),te+Z>=N?(pe=0,te=N):te+Z>=1?(pe=(E*fe-1)*Math.pow(2,J),te=te+Z):(pe=E*Math.pow(2,Z-1)*Math.pow(2,J),te=0));J>=8;k[I+ae]=pe&255,ae+=de,pe/=256,J-=8);for(te=te<<J|pe,ee+=J;ee>0;k[I+ae]=te&255,ae+=de,te/=256,ee-=8);k[I+ae-de]|=H*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(k){const E=n,I=w,G=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;k.Buffer=N,k.SlowBuffer=Ke,k.INSPECT_MAX_BYTES=50;const J=2147483647;k.kMaxLength=J;const{Uint8Array:Q,ArrayBuffer:te,SharedArrayBuffer:pe}=globalThis;N.TYPED_ARRAY_SUPPORT=fe(),!N.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function fe(){try{const Y=new Q(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Q.prototype),Object.setPrototypeOf(Y,D),Y.foo()===42}catch{return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}}),Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}});function ee(Y){if(Y>J)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const D=new Q(Y);return Object.setPrototypeOf(D,N.prototype),D}function N(Y,D,W){if(typeof Y=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return de(Y)}return Z(Y,D,W)}N.poolSize=8192;function Z(Y,D,W){if(typeof Y=="string")return H(Y,D);if(te.isView(Y))return V(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(be(Y,te)||Y&&be(Y.buffer,te)||typeof pe<"u"&&(be(Y,pe)||Y&&be(Y.buffer,pe)))return Ce(Y,D,W);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const _e=Y.valueOf&&Y.valueOf();if(_e!=null&&_e!==Y)return N.from(_e,D,W);const ce=ge(Y);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return N.from(Y[Symbol.toPrimitive]("string"),D,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}N.from=function(Y,D,W){return Z(Y,D,W)},Object.setPrototypeOf(N.prototype,Q.prototype),Object.setPrototypeOf(N,Q);function R(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function ae(Y,D,W){return R(Y),Y<=0?ee(Y):D!==void 0?typeof W=="string"?ee(Y).fill(D,W):ee(Y).fill(D):ee(Y)}N.alloc=function(Y,D,W){return ae(Y,D,W)};function de(Y){return R(Y),ee(Y<0?0:Te(Y)|0)}N.allocUnsafe=function(Y){return de(Y)},N.allocUnsafeSlow=function(Y){return de(Y)};function H(Y,D){if((typeof D!="string"||D==="")&&(D="utf8"),!N.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const W=Ye(Y,D)|0;let _e=ee(W);const ce=_e.write(Y,D);return ce!==W&&(_e=_e.slice(0,ce)),_e}function ne(Y){const D=Y.length<0?0:Te(Y.length)|0,W=ee(D);for(let _e=0;_e<D;_e+=1)W[_e]=Y[_e]&255;return W}function V(Y){if(be(Y,Q)){const D=new Q(Y);return Ce(D.buffer,D.byteOffset,D.byteLength)}return ne(Y)}function Ce(Y,D,W){if(D<0||Y.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<D+(W||0))throw new RangeError('"length" is outside of buffer bounds');let _e;return D===void 0&&W===void 0?_e=new Q(Y):W===void 0?_e=new Q(Y,D):_e=new Q(Y,D,W),Object.setPrototypeOf(_e,N.prototype),_e}function ge(Y){if(N.isBuffer(Y)){const D=Te(Y.length)|0,W=ee(D);return W.length===0||Y.copy(W,0,0,D),W}if(Y.length!==void 0)return typeof Y.length!="number"||Ne(Y.length)?ee(0):ne(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return ne(Y.data)}function Te(Y){if(Y>=J)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J.toString(16)+" bytes");return Y|0}function Ke(Y){return+Y!=Y&&(Y=0),N.alloc(+Y)}N.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==N.prototype},N.compare=function(D,W){if(be(D,Q)&&(D=N.from(D,D.offset,D.byteLength)),be(W,Q)&&(W=N.from(W,W.offset,W.byteLength)),!N.isBuffer(D)||!N.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===W)return 0;let _e=D.length,ce=W.length;for(let st=0,Ot=Math.min(_e,ce);st<Ot;++st)if(D[st]!==W[st]){_e=D[st],ce=W[st];break}return _e<ce?-1:ce<_e?1:0},N.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},N.concat=function(D,W){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return N.alloc(0);let _e;if(W===void 0)for(W=0,_e=0;_e<D.length;++_e)W+=D[_e].length;const ce=N.allocUnsafe(W);let st=0;for(_e=0;_e<D.length;++_e){let Ot=D[_e];if(be(Ot,Q))st+Ot.length>ce.length?(N.isBuffer(Ot)||(Ot=N.from(Ot)),Ot.copy(ce,st)):Q.prototype.set.call(ce,Ot,st);else if(N.isBuffer(Ot))Ot.copy(ce,st);else throw new TypeError('"list" argument must be an Array of Buffers');st+=Ot.length}return ce};function Ye(Y,D){if(N.isBuffer(Y))return Y.length;if(te.isView(Y)||be(Y,te))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const W=Y.length,_e=arguments.length>2&&arguments[2]===!0;if(!_e&&W===0)return 0;let ce=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return bt(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return dt(Y).length;default:if(ce)return _e?-1:bt(Y).length;D=(""+D).toLowerCase(),ce=!0}}N.byteLength=Ye;function Qe(Y,D,W){let _e=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,D>>>=0,W<=D))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return Xe(this,D,W);case"utf8":case"utf-8":return je(this,D,W);case"ascii":return le(this,D,W);case"latin1":case"binary":return me(this,D,W);case"base64":return oe(this,D,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,D,W);default:if(_e)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),_e=!0}}N.prototype._isBuffer=!0;function rt(Y,D,W){const _e=Y[D];Y[D]=Y[W],Y[W]=_e}N.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let W=0;W<D;W+=2)rt(this,W,W+1);return this},N.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let W=0;W<D;W+=4)rt(this,W,W+3),rt(this,W+1,W+2);return this},N.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let W=0;W<D;W+=8)rt(this,W,W+7),rt(this,W+1,W+6),rt(this,W+2,W+5),rt(this,W+3,W+4);return this},N.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?je(this,0,D):Qe.apply(this,arguments)},N.prototype.toLocaleString=N.prototype.toString,N.prototype.equals=function(D){if(!N.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:N.compare(this,D)===0},N.prototype.inspect=function(){let D="";const W=k.INSPECT_MAX_BYTES;return D=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(D+=" ... "),"<Buffer "+D+">"},G&&(N.prototype[G]=N.prototype.inspect),N.prototype.compare=function(D,W,_e,ce,st){if(be(D,Q)&&(D=N.from(D,D.offset,D.byteLength)),!N.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(W===void 0&&(W=0),_e===void 0&&(_e=D?D.length:0),ce===void 0&&(ce=0),st===void 0&&(st=this.length),W<0||_e>D.length||ce<0||st>this.length)throw new RangeError("out of range index");if(ce>=st&&W>=_e)return 0;if(ce>=st)return-1;if(W>=_e)return 1;if(W>>>=0,_e>>>=0,ce>>>=0,st>>>=0,this===D)return 0;let Ot=st-ce,Gt=_e-W;const On=Math.min(Ot,Gt),yn=this.slice(ce,st),Kt=D.slice(W,_e);for(let Vt=0;Vt<On;++Vt)if(yn[Vt]!==Kt[Vt]){Ot=yn[Vt],Gt=Kt[Vt];break}return Ot<Gt?-1:Gt<Ot?1:0};function vt(Y,D,W,_e,ce){if(Y.length===0)return-1;if(typeof W=="string"?(_e=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,Ne(W)&&(W=ce?0:Y.length-1),W<0&&(W=Y.length+W),W>=Y.length){if(ce)return-1;W=Y.length-1}else if(W<0)if(ce)W=0;else return-1;if(typeof D=="string"&&(D=N.from(D,_e)),N.isBuffer(D))return D.length===0?-1:it(Y,D,W,_e,ce);if(typeof D=="number")return D=D&255,typeof Q.prototype.indexOf=="function"?ce?Q.prototype.indexOf.call(Y,D,W):Q.prototype.lastIndexOf.call(Y,D,W):it(Y,[D],W,_e,ce);throw new TypeError("val must be string, number or Buffer")}function it(Y,D,W,_e,ce){let st=1,Ot=Y.length,Gt=D.length;if(_e!==void 0&&(_e=String(_e).toLowerCase(),_e==="ucs2"||_e==="ucs-2"||_e==="utf16le"||_e==="utf-16le")){if(Y.length<2||D.length<2)return-1;st=2,Ot/=2,Gt/=2,W/=2}function On(Kt,Vt){return st===1?Kt[Vt]:Kt.readUInt16BE(Vt*st)}let yn;if(ce){let Kt=-1;for(yn=W;yn<Ot;yn++)if(On(Y,yn)===On(D,Kt===-1?0:yn-Kt)){if(Kt===-1&&(Kt=yn),yn-Kt+1===Gt)return Kt*st}else Kt!==-1&&(yn-=yn-Kt),Kt=-1}else for(W+Gt>Ot&&(W=Ot-Gt),yn=W;yn>=0;yn--){let Kt=!0;for(let Vt=0;Vt<Gt;Vt++)if(On(Y,yn+Vt)!==On(D,Vt)){Kt=!1;break}if(Kt)return yn}return-1}N.prototype.includes=function(D,W,_e){return this.indexOf(D,W,_e)!==-1},N.prototype.indexOf=function(D,W,_e){return vt(this,D,W,_e,!0)},N.prototype.lastIndexOf=function(D,W,_e){return vt(this,D,W,_e,!1)};function yt(Y,D,W,_e){W=Number(W)||0;const ce=Y.length-W;_e?(_e=Number(_e),_e>ce&&(_e=ce)):_e=ce;const st=D.length;_e>st/2&&(_e=st/2);let Ot;for(Ot=0;Ot<_e;++Ot){const Gt=parseInt(D.substr(Ot*2,2),16);if(Ne(Gt))return Ot;Y[W+Ot]=Gt}return Ot}function xt(Y,D,W,_e){return gt(bt(D,Y.length-W),Y,W,_e)}function Ct(Y,D,W,_e){return gt(ht(D),Y,W,_e)}function St(Y,D,W,_e){return gt(dt(D),Y,W,_e)}function Rt(Y,D,W,_e){return gt(q(D,Y.length-W),Y,W,_e)}N.prototype.write=function(D,W,_e,ce){if(W===void 0)ce="utf8",_e=this.length,W=0;else if(_e===void 0&&typeof W=="string")ce=W,_e=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(_e)?(_e=_e>>>0,ce===void 0&&(ce="utf8")):(ce=_e,_e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const st=this.length-W;if((_e===void 0||_e>st)&&(_e=st),D.length>0&&(_e<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let Ot=!1;for(;;)switch(ce){case"hex":return yt(this,D,W,_e);case"utf8":case"utf-8":return xt(this,D,W,_e);case"ascii":case"latin1":case"binary":return Ct(this,D,W,_e);case"base64":return St(this,D,W,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rt(this,D,W,_e);default:if(Ot)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),Ot=!0}},N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(Y,D,W){return D===0&&W===Y.length?E.fromByteArray(Y):E.fromByteArray(Y.slice(D,W))}function je(Y,D,W){W=Math.min(Y.length,W);const _e=[];let ce=D;for(;ce<W;){const st=Y[ce];let Ot=null,Gt=st>239?4:st>223?3:st>191?2:1;if(ce+Gt<=W){let On,yn,Kt,Vt;switch(Gt){case 1:st<128&&(Ot=st);break;case 2:On=Y[ce+1],(On&192)===128&&(Vt=(st&31)<<6|On&63,Vt>127&&(Ot=Vt));break;case 3:On=Y[ce+1],yn=Y[ce+2],(On&192)===128&&(yn&192)===128&&(Vt=(st&15)<<12|(On&63)<<6|yn&63,Vt>2047&&(Vt<55296||Vt>57343)&&(Ot=Vt));break;case 4:On=Y[ce+1],yn=Y[ce+2],Kt=Y[ce+3],(On&192)===128&&(yn&192)===128&&(Kt&192)===128&&(Vt=(st&15)<<18|(On&63)<<12|(yn&63)<<6|Kt&63,Vt>65535&&Vt<1114112&&(Ot=Vt))}}Ot===null?(Ot=65533,Gt=1):Ot>65535&&(Ot-=65536,_e.push(Ot>>>10&1023|55296),Ot=56320|Ot&1023),_e.push(Ot),ce+=Gt}return he(_e)}const ze=4096;function he(Y){const D=Y.length;if(D<=ze)return String.fromCharCode.apply(String,Y);let W="",_e=0;for(;_e<D;)W+=String.fromCharCode.apply(String,Y.slice(_e,_e+=ze));return W}function le(Y,D,W){let _e="";W=Math.min(Y.length,W);for(let ce=D;ce<W;++ce)_e+=String.fromCharCode(Y[ce]&127);return _e}function me(Y,D,W){let _e="";W=Math.min(Y.length,W);for(let ce=D;ce<W;++ce)_e+=String.fromCharCode(Y[ce]);return _e}function Xe(Y,D,W){const _e=Y.length;(!D||D<0)&&(D=0),(!W||W<0||W>_e)&&(W=_e);let ce="";for(let st=D;st<W;++st)ce+=Pe[Y[st]];return ce}function Ee(Y,D,W){const _e=Y.slice(D,W);let ce="";for(let st=0;st<_e.length-1;st+=2)ce+=String.fromCharCode(_e[st]+_e[st+1]*256);return ce}N.prototype.slice=function(D,W){const _e=this.length;D=~~D,W=W===void 0?_e:~~W,D<0?(D+=_e,D<0&&(D=0)):D>_e&&(D=_e),W<0?(W+=_e,W<0&&(W=0)):W>_e&&(W=_e),W<D&&(W=D);const ce=this.subarray(D,W);return Object.setPrototypeOf(ce,N.prototype),ce};function Re(Y,D,W){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+D>W)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(D,W,_e){D=D>>>0,W=W>>>0,_e||Re(D,W,this.length);let ce=this[D],st=1,Ot=0;for(;++Ot<W&&(st*=256);)ce+=this[D+Ot]*st;return ce},N.prototype.readUintBE=N.prototype.readUIntBE=function(D,W,_e){D=D>>>0,W=W>>>0,_e||Re(D,W,this.length);let ce=this[D+--W],st=1;for(;W>0&&(st*=256);)ce+=this[D+--W]*st;return ce},N.prototype.readUint8=N.prototype.readUInt8=function(D,W){return D=D>>>0,W||Re(D,1,this.length),this[D]},N.prototype.readUint16LE=N.prototype.readUInt16LE=function(D,W){return D=D>>>0,W||Re(D,2,this.length),this[D]|this[D+1]<<8},N.prototype.readUint16BE=N.prototype.readUInt16BE=function(D,W){return D=D>>>0,W||Re(D,2,this.length),this[D]<<8|this[D+1]},N.prototype.readUint32LE=N.prototype.readUInt32LE=function(D,W){return D=D>>>0,W||Re(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},N.prototype.readUint32BE=N.prototype.readUInt32BE=function(D,W){return D=D>>>0,W||Re(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},N.prototype.readBigUInt64LE=Me(function(D){D=D>>>0,De(D,"offset");const W=this[D],_e=this[D+7];(W===void 0||_e===void 0)&&$e(D,this.length-8);const ce=W+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,st=this[++D]+this[++D]*2**8+this[++D]*2**16+_e*2**24;return BigInt(ce)+(BigInt(st)<<BigInt(32))}),N.prototype.readBigUInt64BE=Me(function(D){D=D>>>0,De(D,"offset");const W=this[D],_e=this[D+7];(W===void 0||_e===void 0)&&$e(D,this.length-8);const ce=W*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],st=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+_e;return(BigInt(ce)<<BigInt(32))+BigInt(st)}),N.prototype.readIntLE=function(D,W,_e){D=D>>>0,W=W>>>0,_e||Re(D,W,this.length);let ce=this[D],st=1,Ot=0;for(;++Ot<W&&(st*=256);)ce+=this[D+Ot]*st;return st*=128,ce>=st&&(ce-=Math.pow(2,8*W)),ce},N.prototype.readIntBE=function(D,W,_e){D=D>>>0,W=W>>>0,_e||Re(D,W,this.length);let ce=W,st=1,Ot=this[D+--ce];for(;ce>0&&(st*=256);)Ot+=this[D+--ce]*st;return st*=128,Ot>=st&&(Ot-=Math.pow(2,8*W)),Ot},N.prototype.readInt8=function(D,W){return D=D>>>0,W||Re(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},N.prototype.readInt16LE=function(D,W){D=D>>>0,W||Re(D,2,this.length);const _e=this[D]|this[D+1]<<8;return _e&32768?_e|4294901760:_e},N.prototype.readInt16BE=function(D,W){D=D>>>0,W||Re(D,2,this.length);const _e=this[D+1]|this[D]<<8;return _e&32768?_e|4294901760:_e},N.prototype.readInt32LE=function(D,W){return D=D>>>0,W||Re(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},N.prototype.readInt32BE=function(D,W){return D=D>>>0,W||Re(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},N.prototype.readBigInt64LE=Me(function(D){D=D>>>0,De(D,"offset");const W=this[D],_e=this[D+7];(W===void 0||_e===void 0)&&$e(D,this.length-8);const ce=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(_e<<24);return(BigInt(ce)<<BigInt(32))+BigInt(W+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),N.prototype.readBigInt64BE=Me(function(D){D=D>>>0,De(D,"offset");const W=this[D],_e=this[D+7];(W===void 0||_e===void 0)&&$e(D,this.length-8);const ce=(W<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ce)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+_e)}),N.prototype.readFloatLE=function(D,W){return D=D>>>0,W||Re(D,4,this.length),I.read(this,D,!0,23,4)},N.prototype.readFloatBE=function(D,W){return D=D>>>0,W||Re(D,4,this.length),I.read(this,D,!1,23,4)},N.prototype.readDoubleLE=function(D,W){return D=D>>>0,W||Re(D,8,this.length),I.read(this,D,!0,52,8)},N.prototype.readDoubleBE=function(D,W){return D=D>>>0,W||Re(D,8,this.length),I.read(this,D,!1,52,8)};function at(Y,D,W,_e,ce,st){if(!N.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ce||D<st)throw new RangeError('"value" argument is out of bounds');if(W+_e>Y.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(D,W,_e,ce){if(D=+D,W=W>>>0,_e=_e>>>0,!ce){const Gt=Math.pow(2,8*_e)-1;at(this,D,W,_e,Gt,0)}let st=1,Ot=0;for(this[W]=D&255;++Ot<_e&&(st*=256);)this[W+Ot]=D/st&255;return W+_e},N.prototype.writeUintBE=N.prototype.writeUIntBE=function(D,W,_e,ce){if(D=+D,W=W>>>0,_e=_e>>>0,!ce){const Gt=Math.pow(2,8*_e)-1;at(this,D,W,_e,Gt,0)}let st=_e-1,Ot=1;for(this[W+st]=D&255;--st>=0&&(Ot*=256);)this[W+st]=D/Ot&255;return W+_e},N.prototype.writeUint8=N.prototype.writeUInt8=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,1,255,0),this[W]=D&255,W+1},N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,2,65535,0),this[W]=D&255,this[W+1]=D>>>8,W+2},N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,2,65535,0),this[W]=D>>>8,this[W+1]=D&255,W+2},N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,4,4294967295,0),this[W+3]=D>>>24,this[W+2]=D>>>16,this[W+1]=D>>>8,this[W]=D&255,W+4},N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,4,4294967295,0),this[W]=D>>>24,this[W+1]=D>>>16,this[W+2]=D>>>8,this[W+3]=D&255,W+4};function Ve(Y,D,W,_e,ce){ye(D,_e,ce,Y,W,7);let st=Number(D&BigInt(4294967295));Y[W++]=st,st=st>>8,Y[W++]=st,st=st>>8,Y[W++]=st,st=st>>8,Y[W++]=st;let Ot=Number(D>>BigInt(32)&BigInt(4294967295));return Y[W++]=Ot,Ot=Ot>>8,Y[W++]=Ot,Ot=Ot>>8,Y[W++]=Ot,Ot=Ot>>8,Y[W++]=Ot,W}function qe(Y,D,W,_e,ce){ye(D,_e,ce,Y,W,7);let st=Number(D&BigInt(4294967295));Y[W+7]=st,st=st>>8,Y[W+6]=st,st=st>>8,Y[W+5]=st,st=st>>8,Y[W+4]=st;let Ot=Number(D>>BigInt(32)&BigInt(4294967295));return Y[W+3]=Ot,Ot=Ot>>8,Y[W+2]=Ot,Ot=Ot>>8,Y[W+1]=Ot,Ot=Ot>>8,Y[W]=Ot,W+8}N.prototype.writeBigUInt64LE=Me(function(D,W=0){return Ve(this,D,W,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeBigUInt64BE=Me(function(D,W=0){return qe(this,D,W,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeIntLE=function(D,W,_e,ce){if(D=+D,W=W>>>0,!ce){const On=Math.pow(2,8*_e-1);at(this,D,W,_e,On-1,-On)}let st=0,Ot=1,Gt=0;for(this[W]=D&255;++st<_e&&(Ot*=256);)D<0&&Gt===0&&this[W+st-1]!==0&&(Gt=1),this[W+st]=(D/Ot>>0)-Gt&255;return W+_e},N.prototype.writeIntBE=function(D,W,_e,ce){if(D=+D,W=W>>>0,!ce){const On=Math.pow(2,8*_e-1);at(this,D,W,_e,On-1,-On)}let st=_e-1,Ot=1,Gt=0;for(this[W+st]=D&255;--st>=0&&(Ot*=256);)D<0&&Gt===0&&this[W+st+1]!==0&&(Gt=1),this[W+st]=(D/Ot>>0)-Gt&255;return W+_e},N.prototype.writeInt8=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,1,127,-128),D<0&&(D=255+D+1),this[W]=D&255,W+1},N.prototype.writeInt16LE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,2,32767,-32768),this[W]=D&255,this[W+1]=D>>>8,W+2},N.prototype.writeInt16BE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,2,32767,-32768),this[W]=D>>>8,this[W+1]=D&255,W+2},N.prototype.writeInt32LE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,4,2147483647,-2147483648),this[W]=D&255,this[W+1]=D>>>8,this[W+2]=D>>>16,this[W+3]=D>>>24,W+4},N.prototype.writeInt32BE=function(D,W,_e){return D=+D,W=W>>>0,_e||at(this,D,W,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[W]=D>>>24,this[W+1]=D>>>16,this[W+2]=D>>>8,this[W+3]=D&255,W+4},N.prototype.writeBigInt64LE=Me(function(D,W=0){return Ve(this,D,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),N.prototype.writeBigInt64BE=Me(function(D,W=0){return qe(this,D,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ot(Y,D,W,_e,ce,st){if(W+_e>Y.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Pt(Y,D,W,_e,ce){return D=+D,W=W>>>0,ce||ot(Y,D,W,4),I.write(Y,D,W,_e,23,4),W+4}N.prototype.writeFloatLE=function(D,W,_e){return Pt(this,D,W,!0,_e)},N.prototype.writeFloatBE=function(D,W,_e){return Pt(this,D,W,!1,_e)};function Et(Y,D,W,_e,ce){return D=+D,W=W>>>0,ce||ot(Y,D,W,8),I.write(Y,D,W,_e,52,8),W+8}N.prototype.writeDoubleLE=function(D,W,_e){return Et(this,D,W,!0,_e)},N.prototype.writeDoubleBE=function(D,W,_e){return Et(this,D,W,!1,_e)},N.prototype.copy=function(D,W,_e,ce){if(!N.isBuffer(D))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!ce&&ce!==0&&(ce=this.length),W>=D.length&&(W=D.length),W||(W=0),ce>0&&ce<_e&&(ce=_e),ce===_e||D.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),D.length-W<ce-_e&&(ce=D.length-W+_e);const st=ce-_e;return this===D&&typeof Q.prototype.copyWithin=="function"?this.copyWithin(W,_e,ce):Q.prototype.set.call(D,this.subarray(_e,ce),W),st},N.prototype.fill=function(D,W,_e,ce){if(typeof D=="string"){if(typeof W=="string"?(ce=W,W=0,_e=this.length):typeof _e=="string"&&(ce=_e,_e=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!N.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(D.length===1){const Ot=D.charCodeAt(0);(ce==="utf8"&&Ot<128||ce==="latin1")&&(D=Ot)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(W<0||this.length<W||this.length<_e)throw new RangeError("Out of range index");if(_e<=W)return this;W=W>>>0,_e=_e===void 0?this.length:_e>>>0,D||(D=0);let st;if(typeof D=="number")for(st=W;st<_e;++st)this[st]=D;else{const Ot=N.isBuffer(D)?D:N.from(D,ce),Gt=Ot.length;if(Gt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(st=0;st<_e-W;++st)this[st+W]=Ot[st%Gt]}return this};const Ft={};function ve(Y,D,W){Ft[Y]=class extends W{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}ve("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function(Y,D){return`The "${Y}" argument must be of type number. Received type ${typeof D}`},TypeError),ve("ERR_OUT_OF_RANGE",function(Y,D,W){let _e=`The value of "${Y}" is out of range.`,ce=W;return Number.isInteger(W)&&Math.abs(W)>2**32?ce=T(String(W)):typeof W=="bigint"&&(ce=String(W),(W>BigInt(2)**BigInt(32)||W<-(BigInt(2)**BigInt(32)))&&(ce=T(ce)),ce+="n"),_e+=` It must be ${D}. Received ${ce}`,_e},RangeError);function T(Y){let D="",W=Y.length;const _e=Y[0]==="-"?1:0;for(;W>=_e+4;W-=3)D=`_${Y.slice(W-3,W)}${D}`;return`${Y.slice(0,W)}${D}`}function F(Y,D,W){De(D,"offset"),(Y[D]===void 0||Y[D+W]===void 0)&&$e(D,Y.length-(W+1))}function ye(Y,D,W,_e,ce,st){if(Y>W||Y<D){const Ot=typeof D=="bigint"?"n":"";let Gt;throw D===0||D===BigInt(0)?Gt=`>= 0${Ot} and < 2${Ot} ** ${(st+1)*8}${Ot}`:Gt=`>= -(2${Ot} ** ${(st+1)*8-1}${Ot}) and < 2 ** ${(st+1)*8-1}${Ot}`,new Ft.ERR_OUT_OF_RANGE("value",Gt,Y)}F(_e,ce,st)}function De(Y,D){if(typeof Y!="number")throw new Ft.ERR_INVALID_ARG_TYPE(D,"number",Y)}function $e(Y,D,W){throw Math.floor(Y)!==Y?(De(Y,W),new Ft.ERR_OUT_OF_RANGE("offset","an integer",Y)):D<0?new Ft.ERR_BUFFER_OUT_OF_BOUNDS:new Ft.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,Y)}const Ze=/[^+/0-9A-Za-z-_]/g;function Oe(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(Ze,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function bt(Y,D){D=D||1/0;let W;const _e=Y.length;let ce=null;const st=[];for(let Ot=0;Ot<_e;++Ot){if(W=Y.charCodeAt(Ot),W>55295&&W<57344){if(!ce){if(W>56319){(D-=3)>-1&&st.push(239,191,189);continue}else if(Ot+1===_e){(D-=3)>-1&&st.push(239,191,189);continue}ce=W;continue}if(W<56320){(D-=3)>-1&&st.push(239,191,189),ce=W;continue}W=(ce-55296<<10|W-56320)+65536}else ce&&(D-=3)>-1&&st.push(239,191,189);if(ce=null,W<128){if((D-=1)<0)break;st.push(W)}else if(W<2048){if((D-=2)<0)break;st.push(W>>6|192,W&63|128)}else if(W<65536){if((D-=3)<0)break;st.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((D-=4)<0)break;st.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return st}function ht(Y){const D=[];for(let W=0;W<Y.length;++W)D.push(Y.charCodeAt(W)&255);return D}function q(Y,D){let W,_e,ce;const st=[];for(let Ot=0;Ot<Y.length&&!((D-=2)<0);++Ot)W=Y.charCodeAt(Ot),_e=W>>8,ce=W%256,st.push(ce),st.push(_e);return st}function dt(Y){return E.toByteArray(Oe(Y))}function gt(Y,D,W,_e){let ce;for(ce=0;ce<_e&&!(ce+W>=D.length||ce>=Y.length);++ce)D[ce+W]=Y[ce];return ce}function be(Y,D){return Y instanceof D||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===D.name}function Ne(Y){return Y!==Y}const Pe=(function(){const Y="0123456789abcdef",D=new Array(256);for(let W=0;W<16;++W){const _e=W*16;for(let ce=0;ce<16;++ce)D[_e+ce]=Y[W]+Y[ce]}return D})();function Me(Y){return typeof BigInt>"u"?Ue:Y}function Ue(){throw new Error("BigInt not supported")}})(e);const O=e.Buffer;o.Blob=e.Blob,o.BlobOptions=e.BlobOptions,o.Buffer=e.Buffer,o.File=e.File,o.FileOptions=e.FileOptions,o.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,o.SlowBuffer=e.SlowBuffer,o.TranscodeEncoding=e.TranscodeEncoding,o.atob=e.atob,o.btoa=e.btoa,o.constants=e.constants,o.default=O,o.isAscii=e.isAscii,o.isUtf8=e.isUtf8,o.kMaxLength=e.kMaxLength,o.kStringMaxLength=e.kStringMaxLength,o.resolveObjectURL=e.resolveObjectURL,o.transcode=e.transcode})(dist)),dist}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,(function(o,e){var n=requireDist(),r=n.Buffer;function a(l,c){for(var u in l)c[u]=l[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?o.exports=n:(a(n,e),e.Buffer=s);function s(l,c,u){return r(l,c,u)}s.prototype=Object.create(r.prototype),a(r,s),s.from=function(l,c,u){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,u)},s.alloc=function(l,c,u){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=r(l);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var o={}.toString;return isarray=Array.isArray||function(e){return o.call(e)=="[object Array]"},isarray}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(e){return e!==e}),_isNaN}var sign,hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign;hasRequiredSign=1;var o=require_isNaN();return sign=function(n){return o(n)||n===0?n:n<0?-1:1},sign}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var o=requireGOPD();if(o)try{o([],"length")}catch{o=null}return gopd=o,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var o=Object.defineProperty||!1;if(o)try{o({},"a",{value:1})}catch{o=!1}return esDefineProperty=o,esDefineProperty}var shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;e[n]=a;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,n);if(c.value!==a||c.enumerable!==!0)return!1}return!0}),shams$1}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var o=typeof Symbol<"u"&&Symbol,e=requireShams$1();return hasSymbols=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var o=requireEsObjectAtoms();return Object_getPrototypeOf=o.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var o="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",a=function(u,h){for(var f=[],d=0;d<u.length;d+=1)f[d]=u[d];for(var p=0;p<h.length;p+=1)f[p+u.length]=h[p];return f},s=function(u,h){for(var f=[],d=h,p=0;d<u.length;d+=1,p+=1)f[p]=u[d];return f},l=function(c,u){for(var h="",f=0;f<c.length;f+=1)h+=c[f],f+1<c.length&&(h+=u);return h};return implementation=function(u){var h=this;if(typeof h!="function"||e.apply(h)!==r)throw new TypeError(o+h);for(var f=s(arguments,1),d,p=function(){if(this instanceof d){var O=h.apply(this,a(f,arguments));return Object(O)===O?O:this}return h.apply(u,a(f,arguments))},g=n(0,h.length-f.length),y=[],v=0;v<g;v++)y[v]="$"+v;if(d=Function("binder","return function ("+l(y,",")+"){ return binder.apply(this,arguments); }")(p),h.prototype){var w=function(){};w.prototype=h.prototype,d.prototype=new w,w.prototype=null}return d},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var o=requireImplementation();return functionBind=Function.prototype.bind||o,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var o=requireFunctionBind(),e=requireFunctionApply(),n=requireFunctionCall(),r=requireReflectApply();return actualApply=r||o.call(n,e),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var o=requireFunctionBind(),e=requireType(),n=requireFunctionCall(),r=requireActualApply();return callBindApplyHelpers=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(o,n,s)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var o=requireCallBindApplyHelpers(),e=requireGopd(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&e&&e(Object.prototype,"__proto__"),a=Object,s=a.getPrototypeOf;return get=r&&typeof r.get=="function"?o([r.get]):typeof s=="function"?function(c){return s(c==null?c:a(c))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var o=requireReflect_getPrototypeOf(),e=requireObject_getPrototypeOf(),n=requireGet();return getProto=o?function(a){return o(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:n?function(a){return n(a)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var o=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=requireFunctionBind();return hasown=n.call(o,e),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var o,e=requireEsObjectAtoms(),n=requireEsErrors(),r=require_eval(),a=requireRange(),s=requireRef(),l=requireSyntax(),c=requireType(),u=requireUri(),h=requireAbs(),f=requireFloor(),d=requireMax(),p=requireMin(),g=requirePow(),y=requireRound(),v=requireSign(),w=Function,O=function(yt){try{return w('"use strict"; return ('+yt+").constructor;")()}catch{}},k=requireGopd(),E=requireEsDefineProperty(),I=function(){throw new c},G=k?(function(){try{return arguments.callee,I}catch{try{return k(arguments,"callee").get}catch{return I}}})():I,J=requireHasSymbols()(),Q=requireGetProto(),te=requireObject_getPrototypeOf(),pe=requireReflect_getPrototypeOf(),fe=requireFunctionApply(),ee=requireFunctionCall(),N={},Z=typeof Uint8Array>"u"||!Q?o:Q(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?o:ArrayBuffer,"%ArrayIteratorPrototype%":J&&Q?Q([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":typeof Atomics>"u"?o:Atomics,"%BigInt%":typeof BigInt>"u"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?o:Float16Array,"%Float32Array%":typeof Float32Array>"u"?o:Float32Array,"%Float64Array%":typeof Float64Array>"u"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?o:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":N,"%Int8Array%":typeof Int8Array>"u"?o:Int8Array,"%Int16Array%":typeof Int16Array>"u"?o:Int16Array,"%Int32Array%":typeof Int32Array>"u"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":J&&Q?Q(Q([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map>"u"?o:Map,"%MapIteratorPrototype%":typeof Map>"u"||!J||!Q?o:Q(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":k,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?o:Promise,"%Proxy%":typeof Proxy>"u"?o:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?o:Set,"%SetIteratorPrototype%":typeof Set>"u"||!J||!Q?o:Q(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":J&&Q?Q(""[Symbol.iterator]()):o,"%Symbol%":J?Symbol:o,"%SyntaxError%":l,"%ThrowTypeError%":G,"%TypedArray%":Z,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?o:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?o:WeakMap,"%WeakRef%":typeof WeakRef>"u"?o:WeakRef,"%WeakSet%":typeof WeakSet>"u"?o:WeakSet,"%Function.prototype.call%":ee,"%Function.prototype.apply%":fe,"%Object.defineProperty%":E,"%Object.getPrototypeOf%":te,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":d,"%Math.min%":p,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":v,"%Reflect.getPrototypeOf%":pe};if(Q)try{null.error}catch(yt){var ae=Q(Q(yt));R["%Error.prototype%"]=ae}var de=function yt(xt){var Ct;if(xt==="%AsyncFunction%")Ct=O("async function () {}");else if(xt==="%GeneratorFunction%")Ct=O("function* () {}");else if(xt==="%AsyncGeneratorFunction%")Ct=O("async function* () {}");else if(xt==="%AsyncGenerator%"){var St=yt("%AsyncGeneratorFunction%");St&&(Ct=St.prototype)}else if(xt==="%AsyncIteratorPrototype%"){var Rt=yt("%AsyncGenerator%");Rt&&Q&&(Ct=Q(Rt.prototype))}return R[xt]=Ct,Ct},H={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ne=requireFunctionBind(),V=requireHasown(),Ce=ne.call(ee,Array.prototype.concat),ge=ne.call(fe,Array.prototype.splice),Te=ne.call(ee,String.prototype.replace),Ke=ne.call(ee,String.prototype.slice),Ye=ne.call(ee,RegExp.prototype.exec),Qe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,rt=/\\(\\)?/g,vt=function(xt){var Ct=Ke(xt,0,1),St=Ke(xt,-1);if(Ct==="%"&&St!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(St==="%"&&Ct!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var Rt=[];return Te(xt,Qe,function(oe,je,ze,he){Rt[Rt.length]=ze?Te(he,rt,"$1"):je||oe}),Rt},it=function(xt,Ct){var St=xt,Rt;if(V(H,St)&&(Rt=H[St],St="%"+Rt[0]+"%"),V(R,St)){var oe=R[St];if(oe===N&&(oe=de(St)),typeof oe>"u"&&!Ct)throw new c("intrinsic "+xt+" exists, but is not available. Please file an issue!");return{alias:Rt,name:St,value:oe}}throw new l("intrinsic "+xt+" does not exist!")};return getIntrinsic=function(xt,Ct){if(typeof xt!="string"||xt.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ct!="boolean")throw new c('"allowMissing" argument must be a boolean');if(Ye(/^%?[^%]*%?$/,xt)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var St=vt(xt),Rt=St.length>0?St[0]:"",oe=it("%"+Rt+"%",Ct),je=oe.name,ze=oe.value,he=!1,le=oe.alias;le&&(Rt=le[0],ge(St,Ce([0,1],le)));for(var me=1,Xe=!0;me<St.length;me+=1){var Ee=St[me],Re=Ke(Ee,0,1),at=Ke(Ee,-1);if((Re==='"'||Re==="'"||Re==="`"||at==='"'||at==="'"||at==="`")&&Re!==at)throw new l("property names with quotes must have matching quotes");if((Ee==="constructor"||!Xe)&&(he=!0),Rt+="."+Ee,je="%"+Rt+"%",V(R,je))ze=R[je];else if(ze!=null){if(!(Ee in ze)){if(!Ct)throw new c("base intrinsic for "+xt+" exists, but the property is not available.");return}if(k&&me+1>=St.length){var Ve=k(ze,Ee);Xe=!!Ve,Xe&&"get"in Ve&&!("originalValue"in Ve.get)?ze=Ve.get:ze=ze[Ee]}else Xe=V(ze,Ee),ze=ze[Ee];Xe&&!he&&(R[je]=ze)}}return ze},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var o=requireGetIntrinsic(),e=requireCallBindApplyHelpers(),n=e([o("%String.prototype.indexOf%")]);return callBound=function(a,s){var l=o(a,!!s);return typeof l=="function"&&n(a,".prototype.")>-1?e([l]):l},callBound}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var o=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(k){k!==r&&(e=null)}else e=null;var a=/^\s*class\b/,s=function(E){try{var I=o.call(E);return a.test(I)}catch{return!1}},l=function(E){try{return s(E)?!1:(o.call(E),!0)}catch{return!1}},c=Object.prototype.toString,u="[object Object]",h="[object Function]",f="[object GeneratorFunction]",d="[object HTMLAllCollection]",p="[object HTML document.all class]",g="[object HTMLCollection]",y=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var O=document.all;c.call(O)===c.call(document.all)&&(w=function(E){if((v||!E)&&(typeof E>"u"||typeof E=="object"))try{var I=c.call(E);return(I===d||I===p||I===g||I===u)&&E("")==null}catch{}return!1})}return isCallable=e?function(E){if(w(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;try{e(E,null,n)}catch(I){if(I!==r)return!1}return!s(E)&&l(E)}:function(E){if(w(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;if(y)return l(E);if(s(E))return!1;var I=c.call(E);return I!==h&&I!==f&&!/^\[object HTML/.test(I)?!1:l(E)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var o=requireIsCallable(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,r=function(u,h,f){for(var d=0,p=u.length;d<p;d++)n.call(u,d)&&(f==null?h(u[d],d,u):h.call(f,u[d],d,u))},a=function(u,h,f){for(var d=0,p=u.length;d<p;d++)f==null?h(u.charAt(d),d,u):h.call(f,u.charAt(d),d,u)},s=function(u,h,f){for(var d in u)n.call(u,d)&&(f==null?h(u[d],d,u):h.call(f,u[d],d,u))};function l(c){return e.call(c)==="[object Array]"}return forEach=function(u,h,f){if(!o(h))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=f),l(u)?r(u,h,d):typeof u=="string"?a(u,h,d):s(u,h,d)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var o=requirePossibleTypedArrayNames(),e=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var r=[],a=0;a<o.length;a++)typeof e[o[a]]=="function"&&(r[r.length]=o[a]);return r},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var o=requireEsDefineProperty(),e=requireSyntax(),n=requireType(),r=requireGopd();return defineDataProperty=function(s,l,c){if(!s||typeof s!="object"&&typeof s!="function")throw new n("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,p=!!r&&r(s,l);if(o)o(s,l,{configurable:f===null&&p?p.configurable:!f,enumerable:u===null&&p?p.enumerable:!u,value:c,writable:h===null&&p?p.writable:!h});else if(d||!u&&!h&&!f)s[l]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var o=requireEsDefineProperty(),e=function(){return!!o};return e.hasArrayLengthDefineBug=function(){if(!o)return null;try{return o([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=e,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var o=requireGetIntrinsic(),e=requireDefineDataProperty(),n=requireHasPropertyDescriptors()(),r=requireGopd(),a=requireType(),s=o("%Math.floor%");return setFunctionLength=function(c,u){if(typeof c!="function")throw new a("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||s(u)!==u)throw new a("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,d=!0;if("length"in c&&r){var p=r(c,"length");p&&!p.configurable&&(f=!1),p&&!p.writable&&(d=!1)}return(f||d||!h)&&(n?e(c,"length",u,!0,!0):e(c,"length",u)),c},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var o=requireFunctionBind(),e=requireFunctionApply(),n=requireActualApply();return applyBind=function(){return n(o,e,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,(function(o){var e=requireSetFunctionLength(),n=requireEsDefineProperty(),r=requireCallBindApplyHelpers(),a=requireApplyBind();o.exports=function(l){var c=r(arguments),u=l.length-(arguments.length-1);return e(c,1+(u>0?u:0),!0)},n?n(o.exports,"apply",{value:a}):o.exports.apply=a})(callBind)),callBind.exports}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var o=requireShams$1();return shams=function(){return o()&&!!Symbol.toStringTag},shams}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var o=requireForEach(),e=requireAvailableTypedArrays(),n=requireCallBind(),r=requireCallBound(),a=requireGopd(),s=requireGetProto(),l=r("Object.prototype.toString"),c=requireShams()(),u=typeof globalThis>"u"?commonjsGlobal:globalThis,h=e(),f=r("String.prototype.slice"),d=r("Array.prototype.indexOf",!0)||function(w,O){for(var k=0;k<w.length;k+=1)if(w[k]===O)return k;return-1},p={__proto__:null};c&&a&&s?o(h,function(v){var w=new u[v];if(Symbol.toStringTag in w&&s){var O=s(w),k=a(O,Symbol.toStringTag);if(!k&&O){var E=s(O);k=a(E,Symbol.toStringTag)}p["$"+v]=n(k.get)}}):o(h,function(v){var w=new u[v],O=w.slice||w.set;O&&(p["$"+v]=n(O))});var g=function(w){var O=!1;return o(p,function(k,E){if(!O)try{"$"+k(w)===E&&(O=f(E,1))}catch{}}),O},y=function(w){var O=!1;return o(p,function(k,E){if(!O)try{k(w),O=f(E,1)}catch{}}),O};return whichTypedArray=function(w){if(!w||typeof w!="object")return!1;if(!c){var O=f(l(w),8,-1);return d(h,O)>-1?O:O!=="Object"?!1:y(w)}return a?g(w):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var o=requireWhichTypedArray();return isTypedArray=function(n){return!!o(n)},isTypedArray}var typedArrayBuffer,hasRequiredTypedArrayBuffer;function requireTypedArrayBuffer(){if(hasRequiredTypedArrayBuffer)return typedArrayBuffer;hasRequiredTypedArrayBuffer=1;var o=requireType(),e=requireCallBound(),n=e("TypedArray.prototype.buffer",!0),r=requireIsTypedArray();return typedArrayBuffer=n||function(s){if(!r(s))throw new o("Not a Typed Array");return s.buffer},typedArrayBuffer}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var o=requireSafeBuffer().Buffer,e=requireIsarray(),n=requireTypedArrayBuffer(),r=ArrayBuffer.isView||function(u){try{return n(u),!0}catch{return!1}},a=typeof Uint8Array<"u",s=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l=s&&(o.prototype instanceof Uint8Array||o.TYPED_ARRAY_SUPPORT);return toBuffer=function(u,h){if(u instanceof o)return u;if(typeof u=="string")return o.from(u,h);if(s&&r(u)){if(u.byteLength===0)return o.alloc(0);if(l){var f=o.from(u.buffer,u.byteOffset,u.byteLength);if(f.byteLength===u.byteLength)return f}var d=u instanceof Uint8Array?u:new Uint8Array(u.buffer,u.byteOffset,u.byteLength),p=o.from(d);if(p.length===u.byteLength)return p}if(a&&u instanceof Uint8Array)return o.from(u);var g=e(u);if(g)for(var y=0;y<u.length;y+=1){var v=u[y];if(typeof v!="number"||v<0||v>255||~~v!==v)throw new RangeError("Array items must be numbers in the range 0-255.")}if(g||o.isBuffer(u)&&u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u))return o.from(u);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},toBuffer}var hash,hasRequiredHash;function requireHash(){if(hasRequiredHash)return hash;hasRequiredHash=1;var o=requireSafeBuffer().Buffer,e=requireToBuffer();function n(r,a){this._block=o.alloc(r),this._finalSize=a,this._blockSize=r,this._len=0}return n.prototype.update=function(r,a){r=e(r,a||"utf8");for(var s=this._block,l=this._blockSize,c=r.length,u=this._len,h=0;h<c;){for(var f=u%l,d=Math.min(c-h,l-f),p=0;p<d;p++)s[f+p]=r[h+p];u+=d,h+=d,u%l===0&&this._update(s)}return this._len+=c,this},n.prototype.digest=function(r){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=this._len*8;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var l=(s&4294967295)>>>0,c=(s-l)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var u=this._hash();return r?u.toString(r):u},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash=n,hash}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var o=requireInherits_browser(),e=requireHash(),n=requireSafeBuffer().Buffer,r=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,e.call(this,64,56)}o(s,e),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function l(f){return f<<1|f>>>31}function c(f){return f<<5|f>>>27}function u(f){return f<<30|f>>>2}function h(f,d,p,g){return f===0?d&p|~d&g:f===2?d&p|d&g|p&g:d^p^g}return s.prototype._update=function(f){for(var d=this._w,p=this._a|0,g=this._b|0,y=this._c|0,v=this._d|0,w=this._e|0,O=0;O<16;++O)d[O]=f.readInt32BE(O*4);for(;O<80;++O)d[O]=l(d[O-3]^d[O-8]^d[O-14]^d[O-16]);for(var k=0;k<80;++k){var E=~~(k/20),I=c(p)+h(E,g,y,v)+w+d[k]+r[E]|0;w=v,v=y,y=u(g),g=p,p=I}this._a=p+this._a|0,this._b=g+this._b|0,this._c=y+this._c|0,this._d=v+this._d|0,this._e=w+this._e|0},s.prototype._hash=function(){var f=n.allocUnsafe(20);return f.writeInt32BE(this._a|0,0),f.writeInt32BE(this._b|0,4),f.writeInt32BE(this._c|0,8),f.writeInt32BE(this._d|0,12),f.writeInt32BE(this._e|0,16),f},sha1=s,sha1}var pathBrowserify,hasRequiredPathBrowserify;function requirePathBrowserify(){if(hasRequiredPathBrowserify)return pathBrowserify;hasRequiredPathBrowserify=1;function o(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function e(a,s){for(var l="",c=0,u=-1,h=0,f,d=0;d<=a.length;++d){if(d<a.length)f=a.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(u===d-1||h===1))if(u!==d-1&&h===2){if(l.length<2||c!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var p=l.lastIndexOf("/");if(p!==l.length-1){p===-1?(l="",c=0):(l=l.slice(0,p),c=l.length-1-l.lastIndexOf("/")),u=d,h=0;continue}}else if(l.length===2||l.length===1){l="",c=0,u=d,h=0;continue}}s&&(l.length>0?l+="/..":l="..",c=2)}else l.length>0?l+="/"+a.slice(u+1,d):l=a.slice(u+1,d),c=d-u-1;u=d,h=0}else f===46&&h!==-1?++h:h=-1}return l}function n(a,s){var l=s.dir||s.root,c=s.base||(s.name||"")+(s.ext||"");return l?l===s.root?l+c:l+a+c:c}var r={resolve:function(){for(var s="",l=!1,c,u=arguments.length-1;u>=-1&&!l;u--){var h;u>=0?h=arguments[u]:(c===void 0&&(c=process$1.cwd()),h=c),o(h),h.length!==0&&(s=h+"/"+s,l=h.charCodeAt(0)===47)}return s=e(s,!l),l?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(o(s),s.length===0)return".";var l=s.charCodeAt(0)===47,c=s.charCodeAt(s.length-1)===47;return s=e(s,!l),s.length===0&&!l&&(s="."),s.length>0&&c&&(s+="/"),l?"/"+s:s},isAbsolute:function(s){return o(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,l=0;l<arguments.length;++l){var c=arguments[l];o(c),c.length>0&&(s===void 0?s=c:s+="/"+c)}return s===void 0?".":r.normalize(s)},relative:function(s,l){if(o(s),o(l),s===l||(s=r.resolve(s),l=r.resolve(l),s===l))return"";for(var c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var u=s.length,h=u-c,f=1;f<l.length&&l.charCodeAt(f)===47;++f);for(var d=l.length,p=d-f,g=h<p?h:p,y=-1,v=0;v<=g;++v){if(v===g){if(p>g){if(l.charCodeAt(f+v)===47)return l.slice(f+v+1);if(v===0)return l.slice(f+v)}else h>g&&(s.charCodeAt(c+v)===47?y=v:v===0&&(y=0));break}var w=s.charCodeAt(c+v),O=l.charCodeAt(f+v);if(w!==O)break;w===47&&(y=v)}var k="";for(v=c+y+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(k.length===0?k+="..":k+="/..");return k.length>0?k+l.slice(f+y):(f+=y,l.charCodeAt(f)===47&&++f,l.slice(f))},_makeLong:function(s){return s},dirname:function(s){if(o(s),s.length===0)return".";for(var l=s.charCodeAt(0),c=l===47,u=-1,h=!0,f=s.length-1;f>=1;--f)if(l=s.charCodeAt(f),l===47){if(!h){u=f;break}}else h=!1;return u===-1?c?"/":".":c&&u===1?"//":s.slice(0,u)},basename:function(s,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');o(s);var c=0,u=-1,h=!0,f;if(l!==void 0&&l.length>0&&l.length<=s.length){if(l.length===s.length&&l===s)return"";var d=l.length-1,p=-1;for(f=s.length-1;f>=0;--f){var g=s.charCodeAt(f);if(g===47){if(!h){c=f+1;break}}else p===-1&&(h=!1,p=f+1),d>=0&&(g===l.charCodeAt(d)?--d===-1&&(u=f):(d=-1,u=p))}return c===u?u=p:u===-1&&(u=s.length),s.slice(c,u)}else{for(f=s.length-1;f>=0;--f)if(s.charCodeAt(f)===47){if(!h){c=f+1;break}}else u===-1&&(h=!1,u=f+1);return u===-1?"":s.slice(c,u)}},extname:function(s){o(s);for(var l=-1,c=0,u=-1,h=!0,f=0,d=s.length-1;d>=0;--d){var p=s.charCodeAt(d);if(p===47){if(!h){c=d+1;break}continue}u===-1&&(h=!1,u=d+1),p===46?l===-1?l=d:f!==1&&(f=1):l!==-1&&(f=-1)}return l===-1||u===-1||f===0||f===1&&l===u-1&&l===c+1?"":s.slice(l,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){o(s);var l={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return l;var c=s.charCodeAt(0),u=c===47,h;u?(l.root="/",h=1):h=0;for(var f=-1,d=0,p=-1,g=!0,y=s.length-1,v=0;y>=h;--y){if(c=s.charCodeAt(y),c===47){if(!g){d=y+1;break}continue}p===-1&&(g=!1,p=y+1),c===46?f===-1?f=y:v!==1&&(v=1):f!==-1&&(v=-1)}return f===-1||p===-1||v===0||v===1&&f===p-1&&f===d+1?p!==-1&&(d===0&&u?l.base=l.name=s.slice(1,p):l.base=l.name=s.slice(d,p)):(d===0&&u?(l.name=s.slice(1,f),l.base=s.slice(1,p)):(l.name=s.slice(d,f),l.base=s.slice(d,p)),l.ext=s.slice(f,p)),d>0?l.dir=s.slice(0,d-1):u&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,pathBrowserify=r,pathBrowserify}var crc32={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */var hasRequiredCrc32$1;function requireCrc32$1(){return hasRequiredCrc32$1||(hasRequiredCrc32$1=1,(function(o){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?o:{})})(function(e){e.version="1.2.2";function n(){for(var te=0,pe=new Array(256),fe=0;fe!=256;++fe)te=fe,te=te&1?-306674912^te>>>1:te>>>1,te=te&1?-306674912^te>>>1:te>>>1,te=te&1?-306674912^te>>>1:te>>>1,te=te&1?-306674912^te>>>1:te>>>1,te=te&1?-306674912^te>>>1:te>>>1,te=te&1?-306674912^te>>>1:te>>>1,te=te&1?-306674912^te>>>1:te>>>1,te=te&1?-306674912^te>>>1:te>>>1,pe[fe]=te;return typeof Int32Array<"u"?new Int32Array(pe):pe}var r=n();function a(te){var pe=0,fe=0,ee=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ee=0;ee!=256;++ee)N[ee]=te[ee];for(ee=0;ee!=256;++ee)for(fe=te[ee],pe=256+ee;pe<4096;pe+=256)fe=N[pe]=fe>>>8^te[fe&255];var Z=[];for(ee=1;ee!=16;++ee)Z[ee-1]=typeof Int32Array<"u"?N.subarray(ee*256,ee*256+256):N.slice(ee*256,ee*256+256);return Z}var s=a(r),l=s[0],c=s[1],u=s[2],h=s[3],f=s[4],d=s[5],p=s[6],g=s[7],y=s[8],v=s[9],w=s[10],O=s[11],k=s[12],E=s[13],I=s[14];function G(te,pe){for(var fe=pe^-1,ee=0,N=te.length;ee<N;)fe=fe>>>8^r[(fe^te.charCodeAt(ee++))&255];return~fe}function J(te,pe){for(var fe=pe^-1,ee=te.length-15,N=0;N<ee;)fe=I[te[N++]^fe&255]^E[te[N++]^fe>>8&255]^k[te[N++]^fe>>16&255]^O[te[N++]^fe>>>24]^w[te[N++]]^v[te[N++]]^y[te[N++]]^g[te[N++]]^p[te[N++]]^d[te[N++]]^f[te[N++]]^h[te[N++]]^u[te[N++]]^c[te[N++]]^l[te[N++]]^r[te[N++]];for(ee+=15;N<ee;)fe=fe>>>8^r[(fe^te[N++])&255];return~fe}function Q(te,pe){for(var fe=pe^-1,ee=0,N=te.length,Z=0,R=0;ee<N;)Z=te.charCodeAt(ee++),Z<128?fe=fe>>>8^r[(fe^Z)&255]:Z<2048?(fe=fe>>>8^r[(fe^(192|Z>>6&31))&255],fe=fe>>>8^r[(fe^(128|Z&63))&255]):Z>=55296&&Z<57344?(Z=(Z&1023)+64,R=te.charCodeAt(ee++)&1023,fe=fe>>>8^r[(fe^(240|Z>>8&7))&255],fe=fe>>>8^r[(fe^(128|Z>>2&63))&255],fe=fe>>>8^r[(fe^(128|R>>6&15|(Z&3)<<4))&255],fe=fe>>>8^r[(fe^(128|R&63))&255]):(fe=fe>>>8^r[(fe^(224|Z>>12&15))&255],fe=fe>>>8^r[(fe^(128|Z>>6&63))&255],fe=fe>>>8^r[(fe^(128|Z&63))&255]);return~fe}e.table=r,e.bstr=G,e.buf=J,e.str=Q})})(crc32)),crc32}var common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,(function(o){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(s,l){return Object.prototype.hasOwnProperty.call(s,l)}o.assign=function(s){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var c=l.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)n(c,u)&&(s[u]=c[u])}}return s},o.shrinkBuf=function(s,l){return s.length===l?s:s.subarray?s.subarray(0,l):(s.length=l,s)};var r={arraySet:function(s,l,c,u,h){if(l.subarray&&s.subarray){s.set(l.subarray(c,c+u),h);return}for(var f=0;f<u;f++)s[h+f]=l[c+f]},flattenChunks:function(s){var l,c,u,h,f,d;for(u=0,l=0,c=s.length;l<c;l++)u+=s[l].length;for(d=new Uint8Array(u),h=0,l=0,c=s.length;l<c;l++)f=s[l],d.set(f,h),h+=f.length;return d}},a={arraySet:function(s,l,c,u,h){for(var f=0;f<u;f++)s[h+f]=l[c+f]},flattenChunks:function(s){return[].concat.apply([],s)}};o.setTyped=function(s){s?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,r)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,a))},o.setTyped(e)})(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var o=requireCommon(),e=4,n=0,r=1,a=2;function s(T){for(var F=T.length;--F>=0;)T[F]=0}var l=0,c=1,u=2,h=3,f=258,d=29,p=256,g=p+1+d,y=30,v=19,w=2*g+1,O=15,k=16,E=7,I=256,G=16,J=17,Q=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=512,Z=new Array((g+2)*2);s(Z);var R=new Array(y*2);s(R);var ae=new Array(N);s(ae);var de=new Array(f-h+1);s(de);var H=new Array(d);s(H);var ne=new Array(y);s(ne);function V(T,F,ye,De,$e){this.static_tree=T,this.extra_bits=F,this.extra_base=ye,this.elems=De,this.max_length=$e,this.has_stree=T&&T.length}var Ce,ge,Te;function Ke(T,F){this.dyn_tree=T,this.max_code=0,this.stat_desc=F}function Ye(T){return T<256?ae[T]:ae[256+(T>>>7)]}function Qe(T,F){T.pending_buf[T.pending++]=F&255,T.pending_buf[T.pending++]=F>>>8&255}function rt(T,F,ye){T.bi_valid>k-ye?(T.bi_buf|=F<<T.bi_valid&65535,Qe(T,T.bi_buf),T.bi_buf=F>>k-T.bi_valid,T.bi_valid+=ye-k):(T.bi_buf|=F<<T.bi_valid&65535,T.bi_valid+=ye)}function vt(T,F,ye){rt(T,ye[F*2],ye[F*2+1])}function it(T,F){var ye=0;do ye|=T&1,T>>>=1,ye<<=1;while(--F>0);return ye>>>1}function yt(T){T.bi_valid===16?(Qe(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)}function xt(T,F){var ye=F.dyn_tree,De=F.max_code,$e=F.stat_desc.static_tree,Ze=F.stat_desc.has_stree,Oe=F.stat_desc.extra_bits,bt=F.stat_desc.extra_base,ht=F.stat_desc.max_length,q,dt,gt,be,Ne,Pe,Me=0;for(be=0;be<=O;be++)T.bl_count[be]=0;for(ye[T.heap[T.heap_max]*2+1]=0,q=T.heap_max+1;q<w;q++)dt=T.heap[q],be=ye[ye[dt*2+1]*2+1]+1,be>ht&&(be=ht,Me++),ye[dt*2+1]=be,!(dt>De)&&(T.bl_count[be]++,Ne=0,dt>=bt&&(Ne=Oe[dt-bt]),Pe=ye[dt*2],T.opt_len+=Pe*(be+Ne),Ze&&(T.static_len+=Pe*($e[dt*2+1]+Ne)));if(Me!==0){do{for(be=ht-1;T.bl_count[be]===0;)be--;T.bl_count[be]--,T.bl_count[be+1]+=2,T.bl_count[ht]--,Me-=2}while(Me>0);for(be=ht;be!==0;be--)for(dt=T.bl_count[be];dt!==0;)gt=T.heap[--q],!(gt>De)&&(ye[gt*2+1]!==be&&(T.opt_len+=(be-ye[gt*2+1])*ye[gt*2],ye[gt*2+1]=be),dt--)}}function Ct(T,F,ye){var De=new Array(O+1),$e=0,Ze,Oe;for(Ze=1;Ze<=O;Ze++)De[Ze]=$e=$e+ye[Ze-1]<<1;for(Oe=0;Oe<=F;Oe++){var bt=T[Oe*2+1];bt!==0&&(T[Oe*2]=it(De[bt]++,bt))}}function St(){var T,F,ye,De,$e,Ze=new Array(O+1);for(ye=0,De=0;De<d-1;De++)for(H[De]=ye,T=0;T<1<<te[De];T++)de[ye++]=De;for(de[ye-1]=De,$e=0,De=0;De<16;De++)for(ne[De]=$e,T=0;T<1<<pe[De];T++)ae[$e++]=De;for($e>>=7;De<y;De++)for(ne[De]=$e<<7,T=0;T<1<<pe[De]-7;T++)ae[256+$e++]=De;for(F=0;F<=O;F++)Ze[F]=0;for(T=0;T<=143;)Z[T*2+1]=8,T++,Ze[8]++;for(;T<=255;)Z[T*2+1]=9,T++,Ze[9]++;for(;T<=279;)Z[T*2+1]=7,T++,Ze[7]++;for(;T<=287;)Z[T*2+1]=8,T++,Ze[8]++;for(Ct(Z,g+1,Ze),T=0;T<y;T++)R[T*2+1]=5,R[T*2]=it(T,5);Ce=new V(Z,te,p+1,g,O),ge=new V(R,pe,0,y,O),Te=new V(new Array(0),fe,0,v,E)}function Rt(T){var F;for(F=0;F<g;F++)T.dyn_ltree[F*2]=0;for(F=0;F<y;F++)T.dyn_dtree[F*2]=0;for(F=0;F<v;F++)T.bl_tree[F*2]=0;T.dyn_ltree[I*2]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function oe(T){T.bi_valid>8?Qe(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function je(T,F,ye,De){oe(T),Qe(T,ye),Qe(T,~ye),o.arraySet(T.pending_buf,T.window,F,ye,T.pending),T.pending+=ye}function ze(T,F,ye,De){var $e=F*2,Ze=ye*2;return T[$e]<T[Ze]||T[$e]===T[Ze]&&De[F]<=De[ye]}function he(T,F,ye){for(var De=T.heap[ye],$e=ye<<1;$e<=T.heap_len&&($e<T.heap_len&&ze(F,T.heap[$e+1],T.heap[$e],T.depth)&&$e++,!ze(F,De,T.heap[$e],T.depth));)T.heap[ye]=T.heap[$e],ye=$e,$e<<=1;T.heap[ye]=De}function le(T,F,ye){var De,$e,Ze=0,Oe,bt;if(T.last_lit!==0)do De=T.pending_buf[T.d_buf+Ze*2]<<8|T.pending_buf[T.d_buf+Ze*2+1],$e=T.pending_buf[T.l_buf+Ze],Ze++,De===0?vt(T,$e,F):(Oe=de[$e],vt(T,Oe+p+1,F),bt=te[Oe],bt!==0&&($e-=H[Oe],rt(T,$e,bt)),De--,Oe=Ye(De),vt(T,Oe,ye),bt=pe[Oe],bt!==0&&(De-=ne[Oe],rt(T,De,bt)));while(Ze<T.last_lit);vt(T,I,F)}function me(T,F){var ye=F.dyn_tree,De=F.stat_desc.static_tree,$e=F.stat_desc.has_stree,Ze=F.stat_desc.elems,Oe,bt,ht=-1,q;for(T.heap_len=0,T.heap_max=w,Oe=0;Oe<Ze;Oe++)ye[Oe*2]!==0?(T.heap[++T.heap_len]=ht=Oe,T.depth[Oe]=0):ye[Oe*2+1]=0;for(;T.heap_len<2;)q=T.heap[++T.heap_len]=ht<2?++ht:0,ye[q*2]=1,T.depth[q]=0,T.opt_len--,$e&&(T.static_len-=De[q*2+1]);for(F.max_code=ht,Oe=T.heap_len>>1;Oe>=1;Oe--)he(T,ye,Oe);q=Ze;do Oe=T.heap[1],T.heap[1]=T.heap[T.heap_len--],he(T,ye,1),bt=T.heap[1],T.heap[--T.heap_max]=Oe,T.heap[--T.heap_max]=bt,ye[q*2]=ye[Oe*2]+ye[bt*2],T.depth[q]=(T.depth[Oe]>=T.depth[bt]?T.depth[Oe]:T.depth[bt])+1,ye[Oe*2+1]=ye[bt*2+1]=q,T.heap[1]=q++,he(T,ye,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],xt(T,F),Ct(ye,ht,T.bl_count)}function Xe(T,F,ye){var De,$e=-1,Ze,Oe=F[1],bt=0,ht=7,q=4;for(Oe===0&&(ht=138,q=3),F[(ye+1)*2+1]=65535,De=0;De<=ye;De++)Ze=Oe,Oe=F[(De+1)*2+1],!(++bt<ht&&Ze===Oe)&&(bt<q?T.bl_tree[Ze*2]+=bt:Ze!==0?(Ze!==$e&&T.bl_tree[Ze*2]++,T.bl_tree[G*2]++):bt<=10?T.bl_tree[J*2]++:T.bl_tree[Q*2]++,bt=0,$e=Ze,Oe===0?(ht=138,q=3):Ze===Oe?(ht=6,q=3):(ht=7,q=4))}function Ee(T,F,ye){var De,$e=-1,Ze,Oe=F[1],bt=0,ht=7,q=4;for(Oe===0&&(ht=138,q=3),De=0;De<=ye;De++)if(Ze=Oe,Oe=F[(De+1)*2+1],!(++bt<ht&&Ze===Oe)){if(bt<q)do vt(T,Ze,T.bl_tree);while(--bt!==0);else Ze!==0?(Ze!==$e&&(vt(T,Ze,T.bl_tree),bt--),vt(T,G,T.bl_tree),rt(T,bt-3,2)):bt<=10?(vt(T,J,T.bl_tree),rt(T,bt-3,3)):(vt(T,Q,T.bl_tree),rt(T,bt-11,7));bt=0,$e=Ze,Oe===0?(ht=138,q=3):Ze===Oe?(ht=6,q=3):(ht=7,q=4)}}function Re(T){var F;for(Xe(T,T.dyn_ltree,T.l_desc.max_code),Xe(T,T.dyn_dtree,T.d_desc.max_code),me(T,T.bl_desc),F=v-1;F>=3&&T.bl_tree[ee[F]*2+1]===0;F--);return T.opt_len+=3*(F+1)+5+5+4,F}function at(T,F,ye,De){var $e;for(rt(T,F-257,5),rt(T,ye-1,5),rt(T,De-4,4),$e=0;$e<De;$e++)rt(T,T.bl_tree[ee[$e]*2+1],3);Ee(T,T.dyn_ltree,F-1),Ee(T,T.dyn_dtree,ye-1)}function Ve(T){var F=4093624447,ye;for(ye=0;ye<=31;ye++,F>>>=1)if(F&1&&T.dyn_ltree[ye*2]!==0)return n;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return r;for(ye=32;ye<p;ye++)if(T.dyn_ltree[ye*2]!==0)return r;return n}var qe=!1;function ot(T){qe||(St(),qe=!0),T.l_desc=new Ke(T.dyn_ltree,Ce),T.d_desc=new Ke(T.dyn_dtree,ge),T.bl_desc=new Ke(T.bl_tree,Te),T.bi_buf=0,T.bi_valid=0,Rt(T)}function Pt(T,F,ye,De){rt(T,(l<<1)+(De?1:0),3),je(T,F,ye)}function Et(T){rt(T,c<<1,3),vt(T,I,Z),yt(T)}function Ft(T,F,ye,De){var $e,Ze,Oe=0;T.level>0?(T.strm.data_type===a&&(T.strm.data_type=Ve(T)),me(T,T.l_desc),me(T,T.d_desc),Oe=Re(T),$e=T.opt_len+3+7>>>3,Ze=T.static_len+3+7>>>3,Ze<=$e&&($e=Ze)):$e=Ze=ye+5,ye+4<=$e&&F!==-1?Pt(T,F,ye,De):T.strategy===e||Ze===$e?(rt(T,(c<<1)+(De?1:0),3),le(T,Z,R)):(rt(T,(u<<1)+(De?1:0),3),at(T,T.l_desc.max_code+1,T.d_desc.max_code+1,Oe+1),le(T,T.dyn_ltree,T.dyn_dtree)),Rt(T),De&&oe(T)}function ve(T,F,ye){return T.pending_buf[T.d_buf+T.last_lit*2]=F>>>8&255,T.pending_buf[T.d_buf+T.last_lit*2+1]=F&255,T.pending_buf[T.l_buf+T.last_lit]=ye&255,T.last_lit++,F===0?T.dyn_ltree[ye*2]++:(T.matches++,F--,T.dyn_ltree[(de[ye]+p+1)*2]++,T.dyn_dtree[Ye(F)*2]++),T.last_lit===T.lit_bufsize-1}return trees._tr_init=ot,trees._tr_stored_block=Pt,trees._tr_flush_block=Ft,trees._tr_tally=ve,trees._tr_align=Et,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){if(hasRequiredAdler32)return adler32_1;hasRequiredAdler32=1;function o(e,n,r,a){for(var s=e&65535|0,l=e>>>16&65535|0,c=0;r!==0;){c=r>2e3?2e3:r,r-=c;do s=s+n[a++]|0,l=l+s|0;while(--c);s%=65521,l%=65521}return s|l<<16|0}return adler32_1=o,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function o(){for(var r,a=[],s=0;s<256;s++){r=s;for(var l=0;l<8;l++)r=r&1?3988292384^r>>>1:r>>>1;a[s]=r}return a}var e=o();function n(r,a,s,l){var c=e,u=l+s;r^=-1;for(var h=l;h<u;h++)r=r>>>8^c[(r^a[h])&255];return r^-1}return crc32_1=n,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var o=requireCommon(),e=requireTrees(),n=requireAdler32(),r=requireCrc32(),a=requireMessages(),s=0,l=1,c=3,u=4,h=5,f=0,d=1,p=-2,g=-3,y=-5,v=-1,w=1,O=2,k=3,E=4,I=0,G=2,J=8,Q=9,te=15,pe=8,fe=29,ee=256,N=ee+1+fe,Z=30,R=19,ae=2*N+1,de=15,H=3,ne=258,V=ne+H+1,Ce=32,ge=42,Te=69,Ke=73,Ye=91,Qe=103,rt=113,vt=666,it=1,yt=2,xt=3,Ct=4,St=3;function Rt(q,dt){return q.msg=a[dt],dt}function oe(q){return(q<<1)-(q>4?9:0)}function je(q){for(var dt=q.length;--dt>=0;)q[dt]=0}function ze(q){var dt=q.state,gt=dt.pending;gt>q.avail_out&&(gt=q.avail_out),gt!==0&&(o.arraySet(q.output,dt.pending_buf,dt.pending_out,gt,q.next_out),q.next_out+=gt,dt.pending_out+=gt,q.total_out+=gt,q.avail_out-=gt,dt.pending-=gt,dt.pending===0&&(dt.pending_out=0))}function he(q,dt){e._tr_flush_block(q,q.block_start>=0?q.block_start:-1,q.strstart-q.block_start,dt),q.block_start=q.strstart,ze(q.strm)}function le(q,dt){q.pending_buf[q.pending++]=dt}function me(q,dt){q.pending_buf[q.pending++]=dt>>>8&255,q.pending_buf[q.pending++]=dt&255}function Xe(q,dt,gt,be){var Ne=q.avail_in;return Ne>be&&(Ne=be),Ne===0?0:(q.avail_in-=Ne,o.arraySet(dt,q.input,q.next_in,Ne,gt),q.state.wrap===1?q.adler=n(q.adler,dt,Ne,gt):q.state.wrap===2&&(q.adler=r(q.adler,dt,Ne,gt)),q.next_in+=Ne,q.total_in+=Ne,Ne)}function Ee(q,dt){var gt=q.max_chain_length,be=q.strstart,Ne,Pe,Me=q.prev_length,Ue=q.nice_match,Y=q.strstart>q.w_size-V?q.strstart-(q.w_size-V):0,D=q.window,W=q.w_mask,_e=q.prev,ce=q.strstart+ne,st=D[be+Me-1],Ot=D[be+Me];q.prev_length>=q.good_match&&(gt>>=2),Ue>q.lookahead&&(Ue=q.lookahead);do if(Ne=dt,!(D[Ne+Me]!==Ot||D[Ne+Me-1]!==st||D[Ne]!==D[be]||D[++Ne]!==D[be+1])){be+=2,Ne++;do;while(D[++be]===D[++Ne]&&D[++be]===D[++Ne]&&D[++be]===D[++Ne]&&D[++be]===D[++Ne]&&D[++be]===D[++Ne]&&D[++be]===D[++Ne]&&D[++be]===D[++Ne]&&D[++be]===D[++Ne]&&be<ce);if(Pe=ne-(ce-be),be=ce-ne,Pe>Me){if(q.match_start=dt,Me=Pe,Pe>=Ue)break;st=D[be+Me-1],Ot=D[be+Me]}}while((dt=_e[dt&W])>Y&&--gt!==0);return Me<=q.lookahead?Me:q.lookahead}function Re(q){var dt=q.w_size,gt,be,Ne,Pe,Me;do{if(Pe=q.window_size-q.lookahead-q.strstart,q.strstart>=dt+(dt-V)){o.arraySet(q.window,q.window,dt,dt,0),q.match_start-=dt,q.strstart-=dt,q.block_start-=dt,be=q.hash_size,gt=be;do Ne=q.head[--gt],q.head[gt]=Ne>=dt?Ne-dt:0;while(--be);be=dt,gt=be;do Ne=q.prev[--gt],q.prev[gt]=Ne>=dt?Ne-dt:0;while(--be);Pe+=dt}if(q.strm.avail_in===0)break;if(be=Xe(q.strm,q.window,q.strstart+q.lookahead,Pe),q.lookahead+=be,q.lookahead+q.insert>=H)for(Me=q.strstart-q.insert,q.ins_h=q.window[Me],q.ins_h=(q.ins_h<<q.hash_shift^q.window[Me+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[Me+H-1])&q.hash_mask,q.prev[Me&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=Me,Me++,q.insert--,!(q.lookahead+q.insert<H)););}while(q.lookahead<V&&q.strm.avail_in!==0)}function at(q,dt){var gt=65535;for(gt>q.pending_buf_size-5&&(gt=q.pending_buf_size-5);;){if(q.lookahead<=1){if(Re(q),q.lookahead===0&&dt===s)return it;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var be=q.block_start+gt;if((q.strstart===0||q.strstart>=be)&&(q.lookahead=q.strstart-be,q.strstart=be,he(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-V&&(he(q,!1),q.strm.avail_out===0))return it}return q.insert=0,dt===u?(he(q,!0),q.strm.avail_out===0?xt:Ct):(q.strstart>q.block_start&&(he(q,!1),q.strm.avail_out===0),it)}function Ve(q,dt){for(var gt,be;;){if(q.lookahead<V){if(Re(q),q.lookahead<V&&dt===s)return it;if(q.lookahead===0)break}if(gt=0,q.lookahead>=H&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+H-1])&q.hash_mask,gt=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),gt!==0&&q.strstart-gt<=q.w_size-V&&(q.match_length=Ee(q,gt)),q.match_length>=H)if(be=e._tr_tally(q,q.strstart-q.match_start,q.match_length-H),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=H){q.match_length--;do q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+H-1])&q.hash_mask,gt=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart;while(--q.match_length!==0);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else be=e._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(be&&(he(q,!1),q.strm.avail_out===0))return it}return q.insert=q.strstart<H-1?q.strstart:H-1,dt===u?(he(q,!0),q.strm.avail_out===0?xt:Ct):q.last_lit&&(he(q,!1),q.strm.avail_out===0)?it:yt}function qe(q,dt){for(var gt,be,Ne;;){if(q.lookahead<V){if(Re(q),q.lookahead<V&&dt===s)return it;if(q.lookahead===0)break}if(gt=0,q.lookahead>=H&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+H-1])&q.hash_mask,gt=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=H-1,gt!==0&&q.prev_length<q.max_lazy_match&&q.strstart-gt<=q.w_size-V&&(q.match_length=Ee(q,gt),q.match_length<=5&&(q.strategy===w||q.match_length===H&&q.strstart-q.match_start>4096)&&(q.match_length=H-1)),q.prev_length>=H&&q.match_length<=q.prev_length){Ne=q.strstart+q.lookahead-H,be=e._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-H),q.lookahead-=q.prev_length-1,q.prev_length-=2;do++q.strstart<=Ne&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+H-1])&q.hash_mask,gt=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart);while(--q.prev_length!==0);if(q.match_available=0,q.match_length=H-1,q.strstart++,be&&(he(q,!1),q.strm.avail_out===0))return it}else if(q.match_available){if(be=e._tr_tally(q,0,q.window[q.strstart-1]),be&&he(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return it}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(be=e._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<H-1?q.strstart:H-1,dt===u?(he(q,!0),q.strm.avail_out===0?xt:Ct):q.last_lit&&(he(q,!1),q.strm.avail_out===0)?it:yt}function ot(q,dt){for(var gt,be,Ne,Pe,Me=q.window;;){if(q.lookahead<=ne){if(Re(q),q.lookahead<=ne&&dt===s)return it;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=H&&q.strstart>0&&(Ne=q.strstart-1,be=Me[Ne],be===Me[++Ne]&&be===Me[++Ne]&&be===Me[++Ne])){Pe=q.strstart+ne;do;while(be===Me[++Ne]&&be===Me[++Ne]&&be===Me[++Ne]&&be===Me[++Ne]&&be===Me[++Ne]&&be===Me[++Ne]&&be===Me[++Ne]&&be===Me[++Ne]&&Ne<Pe);q.match_length=ne-(Pe-Ne),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=H?(gt=e._tr_tally(q,1,q.match_length-H),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(gt=e._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),gt&&(he(q,!1),q.strm.avail_out===0))return it}return q.insert=0,dt===u?(he(q,!0),q.strm.avail_out===0?xt:Ct):q.last_lit&&(he(q,!1),q.strm.avail_out===0)?it:yt}function Pt(q,dt){for(var gt;;){if(q.lookahead===0&&(Re(q),q.lookahead===0)){if(dt===s)return it;break}if(q.match_length=0,gt=e._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,gt&&(he(q,!1),q.strm.avail_out===0))return it}return q.insert=0,dt===u?(he(q,!0),q.strm.avail_out===0?xt:Ct):q.last_lit&&(he(q,!1),q.strm.avail_out===0)?it:yt}function Et(q,dt,gt,be,Ne){this.good_length=q,this.max_lazy=dt,this.nice_length=gt,this.max_chain=be,this.func=Ne}var Ft;Ft=[new Et(0,0,0,0,at),new Et(4,4,8,4,Ve),new Et(4,5,16,8,Ve),new Et(4,6,32,32,Ve),new Et(4,4,16,16,qe),new Et(8,16,32,32,qe),new Et(8,16,128,128,qe),new Et(8,32,128,256,qe),new Et(32,128,258,1024,qe),new Et(32,258,258,4096,qe)];function ve(q){q.window_size=2*q.w_size,je(q.head),q.max_lazy_match=Ft[q.level].max_lazy,q.good_match=Ft[q.level].good_length,q.nice_match=Ft[q.level].nice_length,q.max_chain_length=Ft[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=H-1,q.match_available=0,q.ins_h=0}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(ae*2),this.dyn_dtree=new o.Buf16((2*Z+1)*2),this.bl_tree=new o.Buf16((2*R+1)*2),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(de+1),this.heap=new o.Buf16(2*N+1),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),je(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(q){var dt;return!q||!q.state?Rt(q,p):(q.total_in=q.total_out=0,q.data_type=G,dt=q.state,dt.pending=0,dt.pending_out=0,dt.wrap<0&&(dt.wrap=-dt.wrap),dt.status=dt.wrap?ge:rt,q.adler=dt.wrap===2?0:1,dt.last_flush=s,e._tr_init(dt),f)}function ye(q){var dt=F(q);return dt===f&&ve(q.state),dt}function De(q,dt){return!q||!q.state||q.state.wrap!==2?p:(q.state.gzhead=dt,f)}function $e(q,dt,gt,be,Ne,Pe){if(!q)return p;var Me=1;if(dt===v&&(dt=6),be<0?(Me=0,be=-be):be>15&&(Me=2,be-=16),Ne<1||Ne>Q||gt!==J||be<8||be>15||dt<0||dt>9||Pe<0||Pe>E)return Rt(q,p);be===8&&(be=9);var Ue=new T;return q.state=Ue,Ue.strm=q,Ue.wrap=Me,Ue.gzhead=null,Ue.w_bits=be,Ue.w_size=1<<Ue.w_bits,Ue.w_mask=Ue.w_size-1,Ue.hash_bits=Ne+7,Ue.hash_size=1<<Ue.hash_bits,Ue.hash_mask=Ue.hash_size-1,Ue.hash_shift=~~((Ue.hash_bits+H-1)/H),Ue.window=new o.Buf8(Ue.w_size*2),Ue.head=new o.Buf16(Ue.hash_size),Ue.prev=new o.Buf16(Ue.w_size),Ue.lit_bufsize=1<<Ne+6,Ue.pending_buf_size=Ue.lit_bufsize*4,Ue.pending_buf=new o.Buf8(Ue.pending_buf_size),Ue.d_buf=1*Ue.lit_bufsize,Ue.l_buf=3*Ue.lit_bufsize,Ue.level=dt,Ue.strategy=Pe,Ue.method=gt,ye(q)}function Ze(q,dt){return $e(q,dt,J,te,pe,I)}function Oe(q,dt){var gt,be,Ne,Pe;if(!q||!q.state||dt>h||dt<0)return q?Rt(q,p):p;if(be=q.state,!q.output||!q.input&&q.avail_in!==0||be.status===vt&&dt!==u)return Rt(q,q.avail_out===0?y:p);if(be.strm=q,gt=be.last_flush,be.last_flush=dt,be.status===ge)if(be.wrap===2)q.adler=0,le(be,31),le(be,139),le(be,8),be.gzhead?(le(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),le(be,be.gzhead.time&255),le(be,be.gzhead.time>>8&255),le(be,be.gzhead.time>>16&255),le(be,be.gzhead.time>>24&255),le(be,be.level===9?2:be.strategy>=O||be.level<2?4:0),le(be,be.gzhead.os&255),be.gzhead.extra&&be.gzhead.extra.length&&(le(be,be.gzhead.extra.length&255),le(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(q.adler=r(q.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=Te):(le(be,0),le(be,0),le(be,0),le(be,0),le(be,0),le(be,be.level===9?2:be.strategy>=O||be.level<2?4:0),le(be,St),be.status=rt);else{var Me=J+(be.w_bits-8<<4)<<8,Ue=-1;be.strategy>=O||be.level<2?Ue=0:be.level<6?Ue=1:be.level===6?Ue=2:Ue=3,Me|=Ue<<6,be.strstart!==0&&(Me|=Ce),Me+=31-Me%31,be.status=rt,me(be,Me),be.strstart!==0&&(me(be,q.adler>>>16),me(be,q.adler&65535)),q.adler=1}if(be.status===Te)if(be.gzhead.extra){for(Ne=be.pending;be.gzindex<(be.gzhead.extra.length&65535)&&!(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>Ne&&(q.adler=r(q.adler,be.pending_buf,be.pending-Ne,Ne)),ze(q),Ne=be.pending,be.pending===be.pending_buf_size));)le(be,be.gzhead.extra[be.gzindex]&255),be.gzindex++;be.gzhead.hcrc&&be.pending>Ne&&(q.adler=r(q.adler,be.pending_buf,be.pending-Ne,Ne)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=Ke)}else be.status=Ke;if(be.status===Ke)if(be.gzhead.name){Ne=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>Ne&&(q.adler=r(q.adler,be.pending_buf,be.pending-Ne,Ne)),ze(q),Ne=be.pending,be.pending===be.pending_buf_size)){Pe=1;break}be.gzindex<be.gzhead.name.length?Pe=be.gzhead.name.charCodeAt(be.gzindex++)&255:Pe=0,le(be,Pe)}while(Pe!==0);be.gzhead.hcrc&&be.pending>Ne&&(q.adler=r(q.adler,be.pending_buf,be.pending-Ne,Ne)),Pe===0&&(be.gzindex=0,be.status=Ye)}else be.status=Ye;if(be.status===Ye)if(be.gzhead.comment){Ne=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>Ne&&(q.adler=r(q.adler,be.pending_buf,be.pending-Ne,Ne)),ze(q),Ne=be.pending,be.pending===be.pending_buf_size)){Pe=1;break}be.gzindex<be.gzhead.comment.length?Pe=be.gzhead.comment.charCodeAt(be.gzindex++)&255:Pe=0,le(be,Pe)}while(Pe!==0);be.gzhead.hcrc&&be.pending>Ne&&(q.adler=r(q.adler,be.pending_buf,be.pending-Ne,Ne)),Pe===0&&(be.status=Qe)}else be.status=Qe;if(be.status===Qe&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&ze(q),be.pending+2<=be.pending_buf_size&&(le(be,q.adler&255),le(be,q.adler>>8&255),q.adler=0,be.status=rt)):be.status=rt),be.pending!==0){if(ze(q),q.avail_out===0)return be.last_flush=-1,f}else if(q.avail_in===0&&oe(dt)<=oe(gt)&&dt!==u)return Rt(q,y);if(be.status===vt&&q.avail_in!==0)return Rt(q,y);if(q.avail_in!==0||be.lookahead!==0||dt!==s&&be.status!==vt){var Y=be.strategy===O?Pt(be,dt):be.strategy===k?ot(be,dt):Ft[be.level].func(be,dt);if((Y===xt||Y===Ct)&&(be.status=vt),Y===it||Y===xt)return q.avail_out===0&&(be.last_flush=-1),f;if(Y===yt&&(dt===l?e._tr_align(be):dt!==h&&(e._tr_stored_block(be,0,0,!1),dt===c&&(je(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),ze(q),q.avail_out===0))return be.last_flush=-1,f}return dt!==u?f:be.wrap<=0?d:(be.wrap===2?(le(be,q.adler&255),le(be,q.adler>>8&255),le(be,q.adler>>16&255),le(be,q.adler>>24&255),le(be,q.total_in&255),le(be,q.total_in>>8&255),le(be,q.total_in>>16&255),le(be,q.total_in>>24&255)):(me(be,q.adler>>>16),me(be,q.adler&65535)),ze(q),be.wrap>0&&(be.wrap=-be.wrap),be.pending!==0?f:d)}function bt(q){var dt;return!q||!q.state?p:(dt=q.state.status,dt!==ge&&dt!==Te&&dt!==Ke&&dt!==Ye&&dt!==Qe&&dt!==rt&&dt!==vt?Rt(q,p):(q.state=null,dt===rt?Rt(q,g):f))}function ht(q,dt){var gt=dt.length,be,Ne,Pe,Me,Ue,Y,D,W;if(!q||!q.state||(be=q.state,Me=be.wrap,Me===2||Me===1&&be.status!==ge||be.lookahead))return p;for(Me===1&&(q.adler=n(q.adler,dt,gt,0)),be.wrap=0,gt>=be.w_size&&(Me===0&&(je(be.head),be.strstart=0,be.block_start=0,be.insert=0),W=new o.Buf8(be.w_size),o.arraySet(W,dt,gt-be.w_size,be.w_size,0),dt=W,gt=be.w_size),Ue=q.avail_in,Y=q.next_in,D=q.input,q.avail_in=gt,q.next_in=0,q.input=dt,Re(be);be.lookahead>=H;){Ne=be.strstart,Pe=be.lookahead-(H-1);do be.ins_h=(be.ins_h<<be.hash_shift^be.window[Ne+H-1])&be.hash_mask,be.prev[Ne&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=Ne,Ne++;while(--Pe);be.strstart=Ne,be.lookahead=H-1,Re(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=H-1,be.match_available=0,q.next_in=Y,q.input=D,q.avail_in=Ue,be.wrap=Me,f}return deflate.deflateInit=Ze,deflate.deflateInit2=$e,deflate.deflateReset=ye,deflate.deflateResetKeep=F,deflate.deflateSetHeader=De,deflate.deflate=Oe,deflate.deflateEnd=bt,deflate.deflateSetDictionary=ht,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var o=requireCommon(),e=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var r=new o.Buf8(256),a=0;a<256;a++)r[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;r[254]=r[254]=1,strings.string2buf=function(l){var c,u,h,f,d,p=l.length,g=0;for(f=0;f<p;f++)u=l.charCodeAt(f),(u&64512)===55296&&f+1<p&&(h=l.charCodeAt(f+1),(h&64512)===56320&&(u=65536+(u-55296<<10)+(h-56320),f++)),g+=u<128?1:u<2048?2:u<65536?3:4;for(c=new o.Buf8(g),d=0,f=0;d<g;f++)u=l.charCodeAt(f),(u&64512)===55296&&f+1<p&&(h=l.charCodeAt(f+1),(h&64512)===56320&&(u=65536+(u-55296<<10)+(h-56320),f++)),u<128?c[d++]=u:u<2048?(c[d++]=192|u>>>6,c[d++]=128|u&63):u<65536?(c[d++]=224|u>>>12,c[d++]=128|u>>>6&63,c[d++]=128|u&63):(c[d++]=240|u>>>18,c[d++]=128|u>>>12&63,c[d++]=128|u>>>6&63,c[d++]=128|u&63);return c};function s(l,c){if(c<65534&&(l.subarray&&n||!l.subarray&&e))return String.fromCharCode.apply(null,o.shrinkBuf(l,c));for(var u="",h=0;h<c;h++)u+=String.fromCharCode(l[h]);return u}return strings.buf2binstring=function(l){return s(l,l.length)},strings.binstring2buf=function(l){for(var c=new o.Buf8(l.length),u=0,h=c.length;u<h;u++)c[u]=l.charCodeAt(u);return c},strings.buf2string=function(l,c){var u,h,f,d,p=c||l.length,g=new Array(p*2);for(h=0,u=0;u<p;){if(f=l[u++],f<128){g[h++]=f;continue}if(d=r[f],d>4){g[h++]=65533,u+=d-1;continue}for(f&=d===2?31:d===3?15:7;d>1&&u<p;)f=f<<6|l[u++]&63,d--;if(d>1){g[h++]=65533;continue}f<65536?g[h++]=f:(f-=65536,g[h++]=55296|f>>10&1023,g[h++]=56320|f&1023)}return s(g,h)},strings.utf8border=function(l,c){var u;for(c=c||l.length,c>l.length&&(c=l.length),u=c-1;u>=0&&(l[u]&192)===128;)u--;return u<0||u===0?c:u+r[l[u]]>c?u:c},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=o,zstream}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var o=requireDeflate$1(),e=requireCommon(),n=requireStrings(),r=requireMessages(),a=requireZstream(),s=Object.prototype.toString,l=0,c=4,u=0,h=1,f=2,d=-1,p=0,g=8;function y(k){if(!(this instanceof y))return new y(k);this.options=e.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},k||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var I=o.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(I!==u)throw new Error(r[I]);if(E.header&&o.deflateSetHeader(this.strm,E.header),E.dictionary){var G;if(typeof E.dictionary=="string"?G=n.string2buf(E.dictionary):s.call(E.dictionary)==="[object ArrayBuffer]"?G=new Uint8Array(E.dictionary):G=E.dictionary,I=o.deflateSetDictionary(this.strm,G),I!==u)throw new Error(r[I]);this._dict_set=!0}}y.prototype.push=function(k,E){var I=this.strm,G=this.options.chunkSize,J,Q;if(this.ended)return!1;Q=E===~~E?E:E===!0?c:l,typeof k=="string"?I.input=n.string2buf(k):s.call(k)==="[object ArrayBuffer]"?I.input=new Uint8Array(k):I.input=k,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new e.Buf8(G),I.next_out=0,I.avail_out=G),J=o.deflate(I,Q),J!==h&&J!==u)return this.onEnd(J),this.ended=!0,!1;(I.avail_out===0||I.avail_in===0&&(Q===c||Q===f))&&(this.options.to==="string"?this.onData(n.buf2binstring(e.shrinkBuf(I.output,I.next_out))):this.onData(e.shrinkBuf(I.output,I.next_out)))}while((I.avail_in>0||I.avail_out===0)&&J!==h);return Q===c?(J=o.deflateEnd(this.strm),this.onEnd(J),this.ended=!0,J===u):(Q===f&&(this.onEnd(u),I.avail_out=0),!0)},y.prototype.onData=function(k){this.chunks.push(k)},y.prototype.onEnd=function(k){k===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg};function v(k,E){var I=new y(E);if(I.push(k,!0),I.err)throw I.msg||r[I.err];return I.result}function w(k,E){return E=E||{},E.raw=!0,v(k,E)}function O(k,E){return E=E||{},E.gzip=!0,v(k,E)}return deflate$1.Deflate=y,deflate$1.deflate=v,deflate$1.deflateRaw=w,deflate$1.gzip=O,deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var o=30,e=12;return inffast=function(r,a){var s,l,c,u,h,f,d,p,g,y,v,w,O,k,E,I,G,J,Q,te,pe,fe,ee,N,Z;s=r.state,l=r.next_in,N=r.input,c=l+(r.avail_in-5),u=r.next_out,Z=r.output,h=u-(a-r.avail_out),f=u+(r.avail_out-257),d=s.dmax,p=s.wsize,g=s.whave,y=s.wnext,v=s.window,w=s.hold,O=s.bits,k=s.lencode,E=s.distcode,I=(1<<s.lenbits)-1,G=(1<<s.distbits)-1;e:do{O<15&&(w+=N[l++]<<O,O+=8,w+=N[l++]<<O,O+=8),J=k[w&I];t:for(;;){if(Q=J>>>24,w>>>=Q,O-=Q,Q=J>>>16&255,Q===0)Z[u++]=J&65535;else if(Q&16){te=J&65535,Q&=15,Q&&(O<Q&&(w+=N[l++]<<O,O+=8),te+=w&(1<<Q)-1,w>>>=Q,O-=Q),O<15&&(w+=N[l++]<<O,O+=8,w+=N[l++]<<O,O+=8),J=E[w&G];n:for(;;){if(Q=J>>>24,w>>>=Q,O-=Q,Q=J>>>16&255,Q&16){if(pe=J&65535,Q&=15,O<Q&&(w+=N[l++]<<O,O+=8,O<Q&&(w+=N[l++]<<O,O+=8)),pe+=w&(1<<Q)-1,pe>d){r.msg="invalid distance too far back",s.mode=o;break e}if(w>>>=Q,O-=Q,Q=u-h,pe>Q){if(Q=pe-Q,Q>g&&s.sane){r.msg="invalid distance too far back",s.mode=o;break e}if(fe=0,ee=v,y===0){if(fe+=p-Q,Q<te){te-=Q;do Z[u++]=v[fe++];while(--Q);fe=u-pe,ee=Z}}else if(y<Q){if(fe+=p+y-Q,Q-=y,Q<te){te-=Q;do Z[u++]=v[fe++];while(--Q);if(fe=0,y<te){Q=y,te-=Q;do Z[u++]=v[fe++];while(--Q);fe=u-pe,ee=Z}}}else if(fe+=y-Q,Q<te){te-=Q;do Z[u++]=v[fe++];while(--Q);fe=u-pe,ee=Z}for(;te>2;)Z[u++]=ee[fe++],Z[u++]=ee[fe++],Z[u++]=ee[fe++],te-=3;te&&(Z[u++]=ee[fe++],te>1&&(Z[u++]=ee[fe++]))}else{fe=u-pe;do Z[u++]=Z[fe++],Z[u++]=Z[fe++],Z[u++]=Z[fe++],te-=3;while(te>2);te&&(Z[u++]=Z[fe++],te>1&&(Z[u++]=Z[fe++]))}}else if((Q&64)===0){J=E[(J&65535)+(w&(1<<Q)-1)];continue n}else{r.msg="invalid distance code",s.mode=o;break e}break}}else if((Q&64)===0){J=k[(J&65535)+(w&(1<<Q)-1)];continue t}else if(Q&32){s.mode=e;break e}else{r.msg="invalid literal/length code",s.mode=o;break e}break}}while(l<c&&u<f);te=O>>3,l-=te,O-=te<<3,w&=(1<<O)-1,r.next_in=l,r.next_out=u,r.avail_in=l<c?5+(c-l):5-(l-c),r.avail_out=u<f?257+(f-u):257-(u-f),s.hold=w,s.bits=O},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var o=requireCommon(),e=15,n=852,r=592,a=0,s=1,l=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(p,g,y,v,w,O,k,E){var I=E.bits,G=0,J=0,Q=0,te=0,pe=0,fe=0,ee=0,N=0,Z=0,R=0,ae,de,H,ne,V,Ce=null,ge=0,Te,Ke=new o.Buf16(e+1),Ye=new o.Buf16(e+1),Qe=null,rt=0,vt,it,yt;for(G=0;G<=e;G++)Ke[G]=0;for(J=0;J<v;J++)Ke[g[y+J]]++;for(pe=I,te=e;te>=1&&Ke[te]===0;te--);if(pe>te&&(pe=te),te===0)return w[O++]=1<<24|64<<16|0,w[O++]=1<<24|64<<16|0,E.bits=1,0;for(Q=1;Q<te&&Ke[Q]===0;Q++);for(pe<Q&&(pe=Q),N=1,G=1;G<=e;G++)if(N<<=1,N-=Ke[G],N<0)return-1;if(N>0&&(p===a||te!==1))return-1;for(Ye[1]=0,G=1;G<e;G++)Ye[G+1]=Ye[G]+Ke[G];for(J=0;J<v;J++)g[y+J]!==0&&(k[Ye[g[y+J]]++]=J);if(p===a?(Ce=Qe=k,Te=19):p===s?(Ce=c,ge-=257,Qe=u,rt-=257,Te=256):(Ce=h,Qe=f,Te=-1),R=0,J=0,G=Q,V=O,fe=pe,ee=0,H=-1,Z=1<<pe,ne=Z-1,p===s&&Z>n||p===l&&Z>r)return 1;for(;;){vt=G-ee,k[J]<Te?(it=0,yt=k[J]):k[J]>Te?(it=Qe[rt+k[J]],yt=Ce[ge+k[J]]):(it=96,yt=0),ae=1<<G-ee,de=1<<fe,Q=de;do de-=ae,w[V+(R>>ee)+de]=vt<<24|it<<16|yt|0;while(de!==0);for(ae=1<<G-1;R&ae;)ae>>=1;if(ae!==0?(R&=ae-1,R+=ae):R=0,J++,--Ke[G]===0){if(G===te)break;G=g[y+k[J]]}if(G>pe&&(R&ne)!==H){for(ee===0&&(ee=pe),V+=Q,fe=G-ee,N=1<<fe;fe+ee<te&&(N-=Ke[fe+ee],!(N<=0));)fe++,N<<=1;if(Z+=1<<fe,p===s&&Z>n||p===l&&Z>r)return 1;H=R&ne,w[H]=pe<<24|fe<<16|V-O|0}}return R!==0&&(w[V+R]=G-ee<<24|64<<16|0),E.bits=pe,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var o=requireCommon(),e=requireAdler32(),n=requireCrc32(),r=requireInffast(),a=requireInftrees(),s=0,l=1,c=2,u=4,h=5,f=6,d=0,p=1,g=2,y=-2,v=-3,w=-4,O=-5,k=8,E=1,I=2,G=3,J=4,Q=5,te=6,pe=7,fe=8,ee=9,N=10,Z=11,R=12,ae=13,de=14,H=15,ne=16,V=17,Ce=18,ge=19,Te=20,Ke=21,Ye=22,Qe=23,rt=24,vt=25,it=26,yt=27,xt=28,Ct=29,St=30,Rt=31,oe=32,je=852,ze=592,he=15,le=he;function me($e){return($e>>>24&255)+($e>>>8&65280)+(($e&65280)<<8)+(($e&255)<<24)}function Xe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ee($e){var Ze;return!$e||!$e.state?y:(Ze=$e.state,$e.total_in=$e.total_out=Ze.total=0,$e.msg="",Ze.wrap&&($e.adler=Ze.wrap&1),Ze.mode=E,Ze.last=0,Ze.havedict=0,Ze.dmax=32768,Ze.head=null,Ze.hold=0,Ze.bits=0,Ze.lencode=Ze.lendyn=new o.Buf32(je),Ze.distcode=Ze.distdyn=new o.Buf32(ze),Ze.sane=1,Ze.back=-1,d)}function Re($e){var Ze;return!$e||!$e.state?y:(Ze=$e.state,Ze.wsize=0,Ze.whave=0,Ze.wnext=0,Ee($e))}function at($e,Ze){var Oe,bt;return!$e||!$e.state||(bt=$e.state,Ze<0?(Oe=0,Ze=-Ze):(Oe=(Ze>>4)+1,Ze<48&&(Ze&=15)),Ze&&(Ze<8||Ze>15))?y:(bt.window!==null&&bt.wbits!==Ze&&(bt.window=null),bt.wrap=Oe,bt.wbits=Ze,Re($e))}function Ve($e,Ze){var Oe,bt;return $e?(bt=new Xe,$e.state=bt,bt.window=null,Oe=at($e,Ze),Oe!==d&&($e.state=null),Oe):y}function qe($e){return Ve($e,le)}var ot=!0,Pt,Et;function Ft($e){if(ot){var Ze;for(Pt=new o.Buf32(512),Et=new o.Buf32(32),Ze=0;Ze<144;)$e.lens[Ze++]=8;for(;Ze<256;)$e.lens[Ze++]=9;for(;Ze<280;)$e.lens[Ze++]=7;for(;Ze<288;)$e.lens[Ze++]=8;for(a(l,$e.lens,0,288,Pt,0,$e.work,{bits:9}),Ze=0;Ze<32;)$e.lens[Ze++]=5;a(c,$e.lens,0,32,Et,0,$e.work,{bits:5}),ot=!1}$e.lencode=Pt,$e.lenbits=9,$e.distcode=Et,$e.distbits=5}function ve($e,Ze,Oe,bt){var ht,q=$e.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new o.Buf8(q.wsize)),bt>=q.wsize?(o.arraySet(q.window,Ze,Oe-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(ht=q.wsize-q.wnext,ht>bt&&(ht=bt),o.arraySet(q.window,Ze,Oe-bt,ht,q.wnext),bt-=ht,bt?(o.arraySet(q.window,Ze,Oe-bt,bt,0),q.wnext=bt,q.whave=q.wsize):(q.wnext+=ht,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=ht))),0}function T($e,Ze){var Oe,bt,ht,q,dt,gt,be,Ne,Pe,Me,Ue,Y,D,W,_e=0,ce,st,Ot,Gt,On,yn,Kt,Vt,an=new o.Buf8(4),$t,Lt,nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$e||!$e.state||!$e.output||!$e.input&&$e.avail_in!==0)return y;Oe=$e.state,Oe.mode===R&&(Oe.mode=ae),dt=$e.next_out,ht=$e.output,be=$e.avail_out,q=$e.next_in,bt=$e.input,gt=$e.avail_in,Ne=Oe.hold,Pe=Oe.bits,Me=gt,Ue=be,Vt=d;e:for(;;)switch(Oe.mode){case E:if(Oe.wrap===0){Oe.mode=ae;break}for(;Pe<16;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(Oe.wrap&2&&Ne===35615){Oe.check=0,an[0]=Ne&255,an[1]=Ne>>>8&255,Oe.check=n(Oe.check,an,2,0),Ne=0,Pe=0,Oe.mode=I;break}if(Oe.flags=0,Oe.head&&(Oe.head.done=!1),!(Oe.wrap&1)||(((Ne&255)<<8)+(Ne>>8))%31){$e.msg="incorrect header check",Oe.mode=St;break}if((Ne&15)!==k){$e.msg="unknown compression method",Oe.mode=St;break}if(Ne>>>=4,Pe-=4,Kt=(Ne&15)+8,Oe.wbits===0)Oe.wbits=Kt;else if(Kt>Oe.wbits){$e.msg="invalid window size",Oe.mode=St;break}Oe.dmax=1<<Kt,$e.adler=Oe.check=1,Oe.mode=Ne&512?N:R,Ne=0,Pe=0;break;case I:for(;Pe<16;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(Oe.flags=Ne,(Oe.flags&255)!==k){$e.msg="unknown compression method",Oe.mode=St;break}if(Oe.flags&57344){$e.msg="unknown header flags set",Oe.mode=St;break}Oe.head&&(Oe.head.text=Ne>>8&1),Oe.flags&512&&(an[0]=Ne&255,an[1]=Ne>>>8&255,Oe.check=n(Oe.check,an,2,0)),Ne=0,Pe=0,Oe.mode=G;case G:for(;Pe<32;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Oe.head&&(Oe.head.time=Ne),Oe.flags&512&&(an[0]=Ne&255,an[1]=Ne>>>8&255,an[2]=Ne>>>16&255,an[3]=Ne>>>24&255,Oe.check=n(Oe.check,an,4,0)),Ne=0,Pe=0,Oe.mode=J;case J:for(;Pe<16;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Oe.head&&(Oe.head.xflags=Ne&255,Oe.head.os=Ne>>8),Oe.flags&512&&(an[0]=Ne&255,an[1]=Ne>>>8&255,Oe.check=n(Oe.check,an,2,0)),Ne=0,Pe=0,Oe.mode=Q;case Q:if(Oe.flags&1024){for(;Pe<16;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Oe.length=Ne,Oe.head&&(Oe.head.extra_len=Ne),Oe.flags&512&&(an[0]=Ne&255,an[1]=Ne>>>8&255,Oe.check=n(Oe.check,an,2,0)),Ne=0,Pe=0}else Oe.head&&(Oe.head.extra=null);Oe.mode=te;case te:if(Oe.flags&1024&&(Y=Oe.length,Y>gt&&(Y=gt),Y&&(Oe.head&&(Kt=Oe.head.extra_len-Oe.length,Oe.head.extra||(Oe.head.extra=new Array(Oe.head.extra_len)),o.arraySet(Oe.head.extra,bt,q,Y,Kt)),Oe.flags&512&&(Oe.check=n(Oe.check,bt,Y,q)),gt-=Y,q+=Y,Oe.length-=Y),Oe.length))break e;Oe.length=0,Oe.mode=pe;case pe:if(Oe.flags&2048){if(gt===0)break e;Y=0;do Kt=bt[q+Y++],Oe.head&&Kt&&Oe.length<65536&&(Oe.head.name+=String.fromCharCode(Kt));while(Kt&&Y<gt);if(Oe.flags&512&&(Oe.check=n(Oe.check,bt,Y,q)),gt-=Y,q+=Y,Kt)break e}else Oe.head&&(Oe.head.name=null);Oe.length=0,Oe.mode=fe;case fe:if(Oe.flags&4096){if(gt===0)break e;Y=0;do Kt=bt[q+Y++],Oe.head&&Kt&&Oe.length<65536&&(Oe.head.comment+=String.fromCharCode(Kt));while(Kt&&Y<gt);if(Oe.flags&512&&(Oe.check=n(Oe.check,bt,Y,q)),gt-=Y,q+=Y,Kt)break e}else Oe.head&&(Oe.head.comment=null);Oe.mode=ee;case ee:if(Oe.flags&512){for(;Pe<16;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(Ne!==(Oe.check&65535)){$e.msg="header crc mismatch",Oe.mode=St;break}Ne=0,Pe=0}Oe.head&&(Oe.head.hcrc=Oe.flags>>9&1,Oe.head.done=!0),$e.adler=Oe.check=0,Oe.mode=R;break;case N:for(;Pe<32;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}$e.adler=Oe.check=me(Ne),Ne=0,Pe=0,Oe.mode=Z;case Z:if(Oe.havedict===0)return $e.next_out=dt,$e.avail_out=be,$e.next_in=q,$e.avail_in=gt,Oe.hold=Ne,Oe.bits=Pe,g;$e.adler=Oe.check=1,Oe.mode=R;case R:if(Ze===h||Ze===f)break e;case ae:if(Oe.last){Ne>>>=Pe&7,Pe-=Pe&7,Oe.mode=yt;break}for(;Pe<3;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}switch(Oe.last=Ne&1,Ne>>>=1,Pe-=1,Ne&3){case 0:Oe.mode=de;break;case 1:if(Ft(Oe),Oe.mode=Te,Ze===f){Ne>>>=2,Pe-=2;break e}break;case 2:Oe.mode=V;break;case 3:$e.msg="invalid block type",Oe.mode=St}Ne>>>=2,Pe-=2;break;case de:for(Ne>>>=Pe&7,Pe-=Pe&7;Pe<32;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if((Ne&65535)!==(Ne>>>16^65535)){$e.msg="invalid stored block lengths",Oe.mode=St;break}if(Oe.length=Ne&65535,Ne=0,Pe=0,Oe.mode=H,Ze===f)break e;case H:Oe.mode=ne;case ne:if(Y=Oe.length,Y){if(Y>gt&&(Y=gt),Y>be&&(Y=be),Y===0)break e;o.arraySet(ht,bt,q,Y,dt),gt-=Y,q+=Y,be-=Y,dt+=Y,Oe.length-=Y;break}Oe.mode=R;break;case V:for(;Pe<14;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(Oe.nlen=(Ne&31)+257,Ne>>>=5,Pe-=5,Oe.ndist=(Ne&31)+1,Ne>>>=5,Pe-=5,Oe.ncode=(Ne&15)+4,Ne>>>=4,Pe-=4,Oe.nlen>286||Oe.ndist>30){$e.msg="too many length or distance symbols",Oe.mode=St;break}Oe.have=0,Oe.mode=Ce;case Ce:for(;Oe.have<Oe.ncode;){for(;Pe<3;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Oe.lens[nt[Oe.have++]]=Ne&7,Ne>>>=3,Pe-=3}for(;Oe.have<19;)Oe.lens[nt[Oe.have++]]=0;if(Oe.lencode=Oe.lendyn,Oe.lenbits=7,$t={bits:Oe.lenbits},Vt=a(s,Oe.lens,0,19,Oe.lencode,0,Oe.work,$t),Oe.lenbits=$t.bits,Vt){$e.msg="invalid code lengths set",Oe.mode=St;break}Oe.have=0,Oe.mode=ge;case ge:for(;Oe.have<Oe.nlen+Oe.ndist;){for(;_e=Oe.lencode[Ne&(1<<Oe.lenbits)-1],ce=_e>>>24,st=_e>>>16&255,Ot=_e&65535,!(ce<=Pe);){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(Ot<16)Ne>>>=ce,Pe-=ce,Oe.lens[Oe.have++]=Ot;else{if(Ot===16){for(Lt=ce+2;Pe<Lt;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(Ne>>>=ce,Pe-=ce,Oe.have===0){$e.msg="invalid bit length repeat",Oe.mode=St;break}Kt=Oe.lens[Oe.have-1],Y=3+(Ne&3),Ne>>>=2,Pe-=2}else if(Ot===17){for(Lt=ce+3;Pe<Lt;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Ne>>>=ce,Pe-=ce,Kt=0,Y=3+(Ne&7),Ne>>>=3,Pe-=3}else{for(Lt=ce+7;Pe<Lt;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Ne>>>=ce,Pe-=ce,Kt=0,Y=11+(Ne&127),Ne>>>=7,Pe-=7}if(Oe.have+Y>Oe.nlen+Oe.ndist){$e.msg="invalid bit length repeat",Oe.mode=St;break}for(;Y--;)Oe.lens[Oe.have++]=Kt}}if(Oe.mode===St)break;if(Oe.lens[256]===0){$e.msg="invalid code -- missing end-of-block",Oe.mode=St;break}if(Oe.lenbits=9,$t={bits:Oe.lenbits},Vt=a(l,Oe.lens,0,Oe.nlen,Oe.lencode,0,Oe.work,$t),Oe.lenbits=$t.bits,Vt){$e.msg="invalid literal/lengths set",Oe.mode=St;break}if(Oe.distbits=6,Oe.distcode=Oe.distdyn,$t={bits:Oe.distbits},Vt=a(c,Oe.lens,Oe.nlen,Oe.ndist,Oe.distcode,0,Oe.work,$t),Oe.distbits=$t.bits,Vt){$e.msg="invalid distances set",Oe.mode=St;break}if(Oe.mode=Te,Ze===f)break e;case Te:Oe.mode=Ke;case Ke:if(gt>=6&&be>=258){$e.next_out=dt,$e.avail_out=be,$e.next_in=q,$e.avail_in=gt,Oe.hold=Ne,Oe.bits=Pe,r($e,Ue),dt=$e.next_out,ht=$e.output,be=$e.avail_out,q=$e.next_in,bt=$e.input,gt=$e.avail_in,Ne=Oe.hold,Pe=Oe.bits,Oe.mode===R&&(Oe.back=-1);break}for(Oe.back=0;_e=Oe.lencode[Ne&(1<<Oe.lenbits)-1],ce=_e>>>24,st=_e>>>16&255,Ot=_e&65535,!(ce<=Pe);){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(st&&(st&240)===0){for(Gt=ce,On=st,yn=Ot;_e=Oe.lencode[yn+((Ne&(1<<Gt+On)-1)>>Gt)],ce=_e>>>24,st=_e>>>16&255,Ot=_e&65535,!(Gt+ce<=Pe);){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Ne>>>=Gt,Pe-=Gt,Oe.back+=Gt}if(Ne>>>=ce,Pe-=ce,Oe.back+=ce,Oe.length=Ot,st===0){Oe.mode=it;break}if(st&32){Oe.back=-1,Oe.mode=R;break}if(st&64){$e.msg="invalid literal/length code",Oe.mode=St;break}Oe.extra=st&15,Oe.mode=Ye;case Ye:if(Oe.extra){for(Lt=Oe.extra;Pe<Lt;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Oe.length+=Ne&(1<<Oe.extra)-1,Ne>>>=Oe.extra,Pe-=Oe.extra,Oe.back+=Oe.extra}Oe.was=Oe.length,Oe.mode=Qe;case Qe:for(;_e=Oe.distcode[Ne&(1<<Oe.distbits)-1],ce=_e>>>24,st=_e>>>16&255,Ot=_e&65535,!(ce<=Pe);){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if((st&240)===0){for(Gt=ce,On=st,yn=Ot;_e=Oe.distcode[yn+((Ne&(1<<Gt+On)-1)>>Gt)],ce=_e>>>24,st=_e>>>16&255,Ot=_e&65535,!(Gt+ce<=Pe);){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Ne>>>=Gt,Pe-=Gt,Oe.back+=Gt}if(Ne>>>=ce,Pe-=ce,Oe.back+=ce,st&64){$e.msg="invalid distance code",Oe.mode=St;break}Oe.offset=Ot,Oe.extra=st&15,Oe.mode=rt;case rt:if(Oe.extra){for(Lt=Oe.extra;Pe<Lt;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}Oe.offset+=Ne&(1<<Oe.extra)-1,Ne>>>=Oe.extra,Pe-=Oe.extra,Oe.back+=Oe.extra}if(Oe.offset>Oe.dmax){$e.msg="invalid distance too far back",Oe.mode=St;break}Oe.mode=vt;case vt:if(be===0)break e;if(Y=Ue-be,Oe.offset>Y){if(Y=Oe.offset-Y,Y>Oe.whave&&Oe.sane){$e.msg="invalid distance too far back",Oe.mode=St;break}Y>Oe.wnext?(Y-=Oe.wnext,D=Oe.wsize-Y):D=Oe.wnext-Y,Y>Oe.length&&(Y=Oe.length),W=Oe.window}else W=ht,D=dt-Oe.offset,Y=Oe.length;Y>be&&(Y=be),be-=Y,Oe.length-=Y;do ht[dt++]=W[D++];while(--Y);Oe.length===0&&(Oe.mode=Ke);break;case it:if(be===0)break e;ht[dt++]=Oe.length,be--,Oe.mode=Ke;break;case yt:if(Oe.wrap){for(;Pe<32;){if(gt===0)break e;gt--,Ne|=bt[q++]<<Pe,Pe+=8}if(Ue-=be,$e.total_out+=Ue,Oe.total+=Ue,Ue&&($e.adler=Oe.check=Oe.flags?n(Oe.check,ht,Ue,dt-Ue):e(Oe.check,ht,Ue,dt-Ue)),Ue=be,(Oe.flags?Ne:me(Ne))!==Oe.check){$e.msg="incorrect data check",Oe.mode=St;break}Ne=0,Pe=0}Oe.mode=xt;case xt:if(Oe.wrap&&Oe.flags){for(;Pe<32;){if(gt===0)break e;gt--,Ne+=bt[q++]<<Pe,Pe+=8}if(Ne!==(Oe.total&4294967295)){$e.msg="incorrect length check",Oe.mode=St;break}Ne=0,Pe=0}Oe.mode=Ct;case Ct:Vt=p;break e;case St:Vt=v;break e;case Rt:return w;case oe:default:return y}return $e.next_out=dt,$e.avail_out=be,$e.next_in=q,$e.avail_in=gt,Oe.hold=Ne,Oe.bits=Pe,(Oe.wsize||Ue!==$e.avail_out&&Oe.mode<St&&(Oe.mode<yt||Ze!==u))&&ve($e,$e.output,$e.next_out,Ue-$e.avail_out),Me-=$e.avail_in,Ue-=$e.avail_out,$e.total_in+=Me,$e.total_out+=Ue,Oe.total+=Ue,Oe.wrap&&Ue&&($e.adler=Oe.check=Oe.flags?n(Oe.check,ht,Ue,$e.next_out-Ue):e(Oe.check,ht,Ue,$e.next_out-Ue)),$e.data_type=Oe.bits+(Oe.last?64:0)+(Oe.mode===R?128:0)+(Oe.mode===Te||Oe.mode===H?256:0),(Me===0&&Ue===0||Ze===u)&&Vt===d&&(Vt=O),Vt}function F($e){if(!$e||!$e.state)return y;var Ze=$e.state;return Ze.window&&(Ze.window=null),$e.state=null,d}function ye($e,Ze){var Oe;return!$e||!$e.state||(Oe=$e.state,(Oe.wrap&2)===0)?y:(Oe.head=Ze,Ze.done=!1,d)}function De($e,Ze){var Oe=Ze.length,bt,ht,q;return!$e||!$e.state||(bt=$e.state,bt.wrap!==0&&bt.mode!==Z)?y:bt.mode===Z&&(ht=1,ht=e(ht,Ze,Oe,0),ht!==bt.check)?v:(q=ve($e,Ze,Oe,Oe),q?(bt.mode=Rt,w):(bt.havedict=1,d))}return inflate.inflateReset=Re,inflate.inflateReset2=at,inflate.inflateResetKeep=Ee,inflate.inflateInit=qe,inflate.inflateInit2=Ve,inflate.inflate=T,inflate.inflateEnd=F,inflate.inflateGetHeader=ye,inflate.inflateSetDictionary=De,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=o,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var o=requireInflate$1(),e=requireCommon(),n=requireStrings(),r=requireConstants(),a=requireMessages(),s=requireZstream(),l=requireGzheader(),c=Object.prototype.toString;function u(d){if(!(this instanceof u))return new u(d);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},d||{});var p=this.options;p.raw&&p.windowBits>=0&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),p.windowBits>=0&&p.windowBits<16&&!(d&&d.windowBits)&&(p.windowBits+=32),p.windowBits>15&&p.windowBits<48&&(p.windowBits&15)===0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,p.windowBits);if(g!==r.Z_OK)throw new Error(a[g]);if(this.header=new l,o.inflateGetHeader(this.strm,this.header),p.dictionary&&(typeof p.dictionary=="string"?p.dictionary=n.string2buf(p.dictionary):c.call(p.dictionary)==="[object ArrayBuffer]"&&(p.dictionary=new Uint8Array(p.dictionary)),p.raw&&(g=o.inflateSetDictionary(this.strm,p.dictionary),g!==r.Z_OK)))throw new Error(a[g])}u.prototype.push=function(d,p){var g=this.strm,y=this.options.chunkSize,v=this.options.dictionary,w,O,k,E,I,G=!1;if(this.ended)return!1;O=p===~~p?p:p===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof d=="string"?g.input=n.binstring2buf(d):c.call(d)==="[object ArrayBuffer]"?g.input=new Uint8Array(d):g.input=d,g.next_in=0,g.avail_in=g.input.length;do{if(g.avail_out===0&&(g.output=new e.Buf8(y),g.next_out=0,g.avail_out=y),w=o.inflate(g,r.Z_NO_FLUSH),w===r.Z_NEED_DICT&&v&&(w=o.inflateSetDictionary(this.strm,v)),w===r.Z_BUF_ERROR&&G===!0&&(w=r.Z_OK,G=!1),w!==r.Z_STREAM_END&&w!==r.Z_OK)return this.onEnd(w),this.ended=!0,!1;g.next_out&&(g.avail_out===0||w===r.Z_STREAM_END||g.avail_in===0&&(O===r.Z_FINISH||O===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(k=n.utf8border(g.output,g.next_out),E=g.next_out-k,I=n.buf2string(g.output,k),g.next_out=E,g.avail_out=y-E,E&&e.arraySet(g.output,g.output,k,E,0),this.onData(I)):this.onData(e.shrinkBuf(g.output,g.next_out))),g.avail_in===0&&g.avail_out===0&&(G=!0)}while((g.avail_in>0||g.avail_out===0)&&w!==r.Z_STREAM_END);return w===r.Z_STREAM_END&&(O=r.Z_FINISH),O===r.Z_FINISH?(w=o.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===r.Z_OK):(O===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),g.avail_out=0),!0)},u.prototype.onData=function(d){this.chunks.push(d)},u.prototype.onEnd=function(d){d===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function h(d,p){var g=new u(p);if(g.push(d,!0),g.err)throw g.msg||a[g.err];return g.result}function f(d,p){return p=p||{},p.raw=!0,h(d,p)}return inflate$1.Inflate=u,inflate$1.inflate=h,inflate$1.inflateRaw=f,inflate$1.ungzip=h,inflate$1}var pako_1,hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var o=requireCommon().assign,e=requireDeflate(),n=requireInflate(),r=requireConstants(),a={};return o(a,e,n,r),pako_1=a,pako_1}var pify,hasRequiredPify;function requirePify(){if(hasRequiredPify)return pify;hasRequiredPify=1;const o=(e,n)=>function(...r){const a=n.promiseModule;return new a((s,l)=>{n.multiArgs?r.push((...c)=>{n.errorFirst?c[0]?l(c):(c.shift(),s(c)):s(c)}):n.errorFirst?r.push((c,u)=>{c?l(c):s(u)}):r.push(s),e.apply(this,r)})};return pify=(e,n)=>{n=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},n);const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const a=l=>{const c=u=>typeof u=="string"?l===u:u.test(l);return n.include?n.include.some(c):!n.exclude.some(c)};let s;r==="function"?s=function(...l){return n.excludeMain?e(...l):o(e,n).apply(this,l)}:s=Object.create(Object.getPrototypeOf(e));for(const l in e){const c=e[l];s[l]=typeof c=="function"&&a(l)?o(c,n):c}return s},pify}var ignore,hasRequiredIgnore;function requireIgnore(){if(hasRequiredIgnore)return ignore;hasRequiredIgnore=1;var o={};function e(H){return Array.isArray(H)?H:[H]}const n="",r=" ",a="\\",s=/^\s+$/,l=/(?:[^\\]|^)\\$/,c=/^\\!/,u=/^\\#/,h=/\r?\n/g,f=/^\.*\/|^\.+$/,d="/";let p="node-ignore";typeof Symbol<"u"&&(p=Symbol.for("node-ignore"));const g=p,y=(H,ne,V)=>Object.defineProperty(H,ne,{value:V}),v=/([0-z])-([0-z])/g,w=()=>!1,O=H=>H.replace(v,(ne,V,Ce)=>V.charCodeAt(0)<=Ce.charCodeAt(0)?ne:n),k=H=>{const{length:ne}=H;return H.slice(0,ne-ne%2)},E=[[/^\uFEFF/,()=>n],[/((?:\\\\)*?)(\\?\s+)$/,(H,ne,V)=>ne+(V.indexOf("\\")===0?r:n)],[/(\\+?)\s/g,(H,ne)=>{const{length:V}=ne;return ne.slice(0,V-V%2)+r}],[/[\\$.|*+(){^]/g,H=>`\\${H}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(H,ne,V)=>ne+6<V.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(H,ne,V)=>{const Ce=V.replace(/\\\*/g,"[^\\/]*");return ne+Ce}],[/\\\\\\(?=[$.|*+(){^])/g,()=>a],[/\\\\/g,()=>a],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(H,ne,V,Ce,ge)=>ne===a?`\\[${V}${k(Ce)}${ge}`:ge==="]"&&Ce.length%2===0?`[${O(V)}${Ce}]`:"[]"],[/(?:[^*])$/,H=>/\/$/.test(H)?`${H}$`:`${H}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(H,ne)=>`${ne?`${ne}[^/]+`:"[^/]*"}(?=$|\\/$)`]],I=Object.create(null),G=(H,ne)=>{let V=I[H];return V||(V=E.reduce((Ce,[ge,Te])=>Ce.replace(ge,Te.bind(H)),H),I[H]=V),ne?new RegExp(V,"i"):new RegExp(V)},J=H=>typeof H=="string",Q=H=>H&&J(H)&&!s.test(H)&&!l.test(H)&&H.indexOf("#")!==0,te=H=>H.split(h);class pe{constructor(ne,V,Ce,ge){this.origin=ne,this.pattern=V,this.negative=Ce,this.regex=ge}}const fe=(H,ne)=>{const V=H;let Ce=!1;H.indexOf("!")===0&&(Ce=!0,H=H.substr(1)),H=H.replace(c,"!").replace(u,"#");const ge=G(H,ne);return new pe(V,H,Ce,ge)},ee=(H,ne)=>{throw new ne(H)},N=(H,ne,V)=>J(H)?H?N.isNotRelative(H)?V(`path should be a \`path.relative()\`d string, but got "${ne}"`,RangeError):!0:V("path must not be empty",TypeError):V(`path must be a string, but got \`${ne}\``,TypeError),Z=H=>f.test(H);N.isNotRelative=Z,N.convert=H=>H;class R{constructor({ignorecase:ne=!0,ignoreCase:V=ne,allowRelativePaths:Ce=!1}={}){y(this,g,!0),this._rules=[],this._ignoreCase=V,this._allowRelativePaths=Ce,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(ne){if(ne&&ne[g]){this._rules=this._rules.concat(ne._rules),this._added=!0;return}if(Q(ne)){const V=fe(ne,this._ignoreCase);this._added=!0,this._rules.push(V)}}add(ne){return this._added=!1,e(J(ne)?te(ne):ne).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(ne){return this.add(ne)}_testOne(ne,V){let Ce=!1,ge=!1;return this._rules.forEach(Te=>{const{negative:Ke}=Te;if(ge===Ke&&Ce!==ge||Ke&&!Ce&&!ge&&!V)return;Te.regex.test(ne)&&(Ce=!Ke,ge=Ke)}),{ignored:Ce,unignored:ge}}_test(ne,V,Ce,ge){const Te=ne&&N.convert(ne);return N(Te,ne,this._allowRelativePaths?w:ee),this._t(Te,V,Ce,ge)}_t(ne,V,Ce,ge){if(ne in V)return V[ne];if(ge||(ge=ne.split(d)),ge.pop(),!ge.length)return V[ne]=this._testOne(ne,Ce);const Te=this._t(ge.join(d)+d,V,Ce,ge);return V[ne]=Te.ignored?Te:this._testOne(ne,Ce)}ignores(ne){return this._test(ne,this._ignoreCache,!1).ignored}createFilter(){return ne=>!this.ignores(ne)}filter(ne){return e(ne).filter(this.createFilter())}test(ne){return this._test(ne,this._testCache,!0)}}const ae=H=>new R(H),de=H=>N(H&&N.convert(H),H,w);if(ae.isPathValid=de,ae.default=ae,ignore=ae,typeof process$1<"u"&&(o&&o.IGNORE_TEST_WIN32||process$1.platform==="win32")){const H=V=>/^\\\\\?\\/.test(V)||/["<>|\u0000-\u001F]+/u.test(V)?V:V.replace(/\\/g,"/");N.convert=H;const ne=/^[a-z]:\//i;N.isNotRelative=V=>ne.test(V)||Z(V)}return ignore}var lib,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;function o(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(r,a,s){return a=a instanceof RegExp?a:new RegExp(o(a),"g"),r.replace(a,s)}var n={clean:function(a){if(typeof a!="string")throw new Error("Expected a string, received: "+a);return a=e(a,"./","/"),a=e(a,"..","."),a=e(a," ","-"),a=e(a,/^[~^:?*\\\-]/g,""),a=e(a,/[~^:?*\\]/g,"-"),a=e(a,/[~^:?*\\\-]$/g,""),a=e(a,"@{","-"),a=e(a,/\.$/g,""),a=e(a,/\/$/g,""),a=e(a,/\.lock$/g,""),a}};return lib=n,lib}var onp,hasRequiredOnp;function requireOnp(){return hasRequiredOnp||(hasRequiredOnp=1,onp=function(o,e){var n=o,r=e,a=n.length,s=r.length,l=!1,c=null,u=a+1,h=[],f=[],d=[],p="",g=-1,y=0,v=1,w,O,k=function(){a>=s&&(w=n,O=a,n=r,r=w,a=s,s=O,l=!0,u=a+1)},E=function(Q,te,pe){return{x:Q,y:te,k:pe}},I=function(Q,te){return{elem:Q,t:te}},G=function(Q,te,pe){var fe,ee,N;for(te>pe?fe=h[Q-1+u]:fe=h[Q+1+u],N=Math.max(te,pe),ee=N-Q;ee<a&&N<s&&n[ee]===r[N];)++ee,++N;return h[Q+u]=f.length,f[f.length]=new E(ee,N,fe),N},J=function(Q){var te,pe,fe;for(te=pe=0,fe=Q.length-1;fe>=0;--fe)for(;te<Q[fe].x||pe<Q[fe].y;)Q[fe].y-Q[fe].x>pe-te?(l?d[d.length]=new I(r[pe],g):d[d.length]=new I(r[pe],v),++pe):Q[fe].y-Q[fe].x<pe-te?(l?d[d.length]=new I(n[te],v):d[d.length]=new I(n[te],g),++te):(d[d.length]=new I(n[te],y),p+=n[te],++te,++pe)};return k(),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return c},getlcs:function(){return p},getses:function(){return d},compose:function(){var Q,te,pe,fe,ee,N,Z,R;for(Q=s-a,te=a+s+3,pe={},Z=0;Z<te;++Z)pe[Z]=-1,h[Z]=-1;fe=-1;do{for(++fe,R=-fe;R<=Q-1;++R)pe[R+u]=G(R,pe[R-1+u]+1,pe[R+1+u]);for(R=Q+fe;R>=Q+1;--R)pe[R+u]=G(R,pe[R-1+u]+1,pe[R+1+u]);pe[Q+u]=G(Q,pe[Q-1+u]+1,pe[Q+1+u])}while(pe[Q+u]!==s);for(c=Q+2*fe,ee=h[Q+u],N=[];ee!==-1;)N[N.length]=new E(f[ee].x,f[ee].y,null),ee=f[ee].k;J(N)}}}),onp}var diff3,hasRequiredDiff3;function requireDiff3(){if(hasRequiredDiff3)return diff3;hasRequiredDiff3=1;var o=requireOnp();function e(s,l){var c=new o(s,l);c.compose();for(var u=c.getses(),h,f,d=s.length-1,p=l.length-1,g=u.length-1;g>=0;--g)u[g].t===c.SES_COMMON?(f?(f.chain={file1index:d,file2index:p,chain:null},f=f.chain):(h={file1index:d,file2index:p,chain:null},f=h),d--,p--):u[g].t===c.SES_DELETE?d--:u[g].t===c.SES_ADD&&p--;var y={file1index:-1,file2index:-1,chain:null};return f?(f.chain=y,h):y}function n(s,l){for(var c=[],u=s.length,h=l.length,f=e(s,l);f!==null;f=f.chain){var d=u-f.file1index-1,p=h-f.file2index-1;u=f.file1index,h=f.file2index,(d||p)&&c.push({file1:[u+1,d],file2:[h+1,p]})}return c.reverse(),c}function r(s,l,c){var u,h=n(l,s),f=n(l,c),d=[];function p(ne,V){d.push([ne.file1[0],V,ne.file1[1],ne.file2[0],ne.file2[1]])}for(u=0;u<h.length;u++)p(h[u],0);for(u=0;u<f.length;u++)p(f[u],2);d.sort(function(ne,V){return ne[0]-V[0]});var g=[],y=0;function v(ne){ne>y&&(g.push([1,y,ne-y]),y=ne)}for(var w=0;w<d.length;w++){for(var O=w,k=d[w],E=k[0],I=E+k[2];w<d.length-1;){var G=d[w+1],J=G[0];if(J>I)break;I=Math.max(I,J+G[2]),w++}if(v(E),O==w)k[4]>0&&g.push([k[1],k[3],k[4]]);else{var Q={0:[s.length,-1,l.length,-1],2:[c.length,-1,l.length,-1]};for(u=O;u<=w;u++){k=d[u];var te=k[1],pe=Q[te],fe=k[0],ee=fe+k[2],N=k[3],Z=N+k[4];pe[0]=Math.min(N,pe[0]),pe[1]=Math.max(Z,pe[1]),pe[2]=Math.min(fe,pe[2]),pe[3]=Math.max(ee,pe[3])}var R=Q[0][0]+(E-Q[0][2]),ae=Q[0][1]+(I-Q[0][3]),de=Q[2][0]+(E-Q[2][2]),H=Q[2][1]+(I-Q[2][3]);g.push([-1,R,ae-R,E,I-E,de,H-de])}y=I}return v(l.length),g}function a(s,l,c){var u=[],h=[s,l,c],f=r(s,l,c),d=[];function p(){d.length&&u.push({ok:d}),d=[]}function g(k){for(var E=0;E<k.length;E++)d.push(k[E])}function y(k){if(k[2]!=k[6])return!0;for(var E=k[1],I=k[5],G=0;G<k[2];G++)if(s[G+E]!=c[G+I])return!0;return!1}for(var v=0;v<f.length;v++){var w=f[v],O=w[0];O==-1?y(w)?(p(),u.push({conflict:{a:s.slice(w[1],w[1]+w[2]),aIndex:w[1],o:l.slice(w[3],w[3]+w[4]),oIndex:w[3],b:c.slice(w[5],w[5]+w[6]),bIndex:w[5]}})):g(h[0].slice(w[1],w[1]+w[2])):g(h[O].slice(w[1],w[1]+w[2]))}return p(),u}return diff3=a,diff3}var hasRequiredIsomorphicGit;function requireIsomorphicGit(){if(hasRequiredIsomorphicGit)return isomorphicGit;hasRequiredIsomorphicGit=1,Object.defineProperty(isomorphicGit,"__esModule",{value:!0});function o(A){return A&&typeof A=="object"&&"default"in A?A.default:A}var e=o(requireAsyncLock()),n=o(requireSha1()),r=requirePathBrowserify(),a=o(requireCrc32$1()),s=o(requirePako()),l=o(requirePify()),c=o(requireIgnore()),u=o(requireLib()),h=o(requireDiff3());class f extends Error{constructor(m){super(m),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(m){const x=new f(m.message);return x.code=m.code,x.data=m.data,x.caller=m.caller,x.stack=m.stack,x}get isIsomorphicGitError(){return!0}}class d extends f{constructor(m){super(`Modifying the index is not possible because you have unmerged files: ${m.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=d.code,this.data={filepaths:m}}}d.code="UnmergedPathsError";class p extends f{constructor(m){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${m}`),this.code=this.name=p.code,this.data={message:m}}}p.code="InternalError";class g extends f{constructor(m){super(`The filepath "${m}" contains unsafe character sequences`),this.code=this.name=g.code,this.data={filepath:m}}}g.code="UnsafeFilepathError";class y{constructor(m){this.buffer=m,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(m){this._start=m}slice(m){const x=this.buffer.slice(this._start,this._start+m);return this._start+=m,x}toString(m,x){const _=this.buffer.toString(m,this._start,this._start+x);return this._start+=x,_}write(m,x,_){const $=this.buffer.write(m,this._start,x,_);return this._start+=x,$}copy(m,x,_){const $=m.copy(this.buffer,this._start,x,_);return this._start+=$,$}readUInt8(){const m=this.buffer.readUInt8(this._start);return this._start+=1,m}writeUInt8(m){const x=this.buffer.writeUInt8(m,this._start);return this._start+=1,x}readUInt16BE(){const m=this.buffer.readUInt16BE(this._start);return this._start+=2,m}writeUInt16BE(m){const x=this.buffer.writeUInt16BE(m,this._start);return this._start+=2,x}readUInt32BE(){const m=this.buffer.readUInt32BE(this._start);return this._start+=4,m}writeUInt32BE(m){const x=this.buffer.writeUInt32BE(m,this._start);return this._start+=4,x}}function v(A,m){return-(A<m)||+(A>m)}function w(A,m){return v(A.path,m.path)}function O(A){let m=A>0?A>>12:0;m!==4&&m!==8&&m!==10&&m!==14&&(m=8);let x=A&511;return x&73?x=493:x=420,m!==8&&(x=0),(m<<12)+x}const k=2**32;function E(A,m,x,_){if(A!==void 0&&m!==void 0)return[A,m];x===void 0&&(x=_.valueOf());const $=Math.floor(x/1e3),j=(x-$*1e3)*1e6;return[$,j]}function I(A){const[m,x]=E(A.ctimeSeconds,A.ctimeNanoseconds,A.ctimeMs,A.ctime),[_,$]=E(A.mtimeSeconds,A.mtimeNanoseconds,A.mtimeMs,A.mtime);return{ctimeSeconds:m%k,ctimeNanoseconds:x%k,mtimeSeconds:_%k,mtimeNanoseconds:$%k,dev:A.dev%k,ino:A.ino%k,mode:O(A.mode%k),uid:A.uid%k,gid:A.gid%k,size:A.size>-1?A.size%k:0}}function G(A){let m="";for(const x of new Uint8Array(A))x<16&&(m+="0"),m+=x.toString(16);return m}let J=null;async function Q(A){return J===null&&(J=await fe()),J?pe(A):te(A)}function te(A){return new n().update(A).digest("hex")}async function pe(A){const m=await crypto.subtle.digest("SHA-1",A);return G(m)}async function fe(){try{return await pe(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709"}catch{}return!1}function ee(A){return{assumeValid:!!(A&32768),extended:!!(A&16384),stage:(A&12288)>>12,nameLength:A&4095}}function N(A){const m=A.flags;return m.extended=!1,m.nameLength=Math.min(Buffer$1.from(A.path).length,4095),(m.assumeValid?32768:0)+(m.extended?16384:0)+((m.stage&3)<<12)+(m.nameLength&4095)}class Z{constructor(m,x){this._dirty=!1,this._unmergedPaths=x||new Set,this._entries=m||new Map}_addEntry(m){if(m.flags.stage===0)m.stages=[m],this._entries.set(m.path,m),this._unmergedPaths.delete(m.path);else{let x=this._entries.get(m.path);x||(this._entries.set(m.path,m),x=m),x.stages[m.flags.stage]=m,this._unmergedPaths.add(m.path)}}static async from(m){if(Buffer$1.isBuffer(m))return Z.fromBuffer(m);if(m===null)return new Z(null);throw new p("invalid type passed to GitIndex.from")}static async fromBuffer(m){if(m.length===0)throw new p("Index file is empty (.git/index)");const x=new Z,_=new y(m),$=_.toString("utf8",4);if($!=="DIRC")throw new p(`Invalid dircache magic file number: ${$}`);const j=await Q(m.slice(0,-20)),se=m.slice(-20).toString("hex");if(se!==j)throw new p(`Invalid checksum in GitIndex buffer: expected ${se} but saw ${j}`);const we=_.readUInt32BE();if(we!==2)throw new p(`Unsupported dircache version: ${we}`);const Le=_.readUInt32BE();let Ie=0;for(;!_.eof()&&Ie<Le;){const Ae={};Ae.ctimeSeconds=_.readUInt32BE(),Ae.ctimeNanoseconds=_.readUInt32BE(),Ae.mtimeSeconds=_.readUInt32BE(),Ae.mtimeNanoseconds=_.readUInt32BE(),Ae.dev=_.readUInt32BE(),Ae.ino=_.readUInt32BE(),Ae.mode=_.readUInt32BE(),Ae.uid=_.readUInt32BE(),Ae.gid=_.readUInt32BE(),Ae.size=_.readUInt32BE(),Ae.oid=_.slice(20).toString("hex");const Je=_.readUInt16BE();Ae.flags=ee(Je);const He=m.indexOf(0,_.tell()+1)-_.tell();if(He<1)throw new p(`Got a path length of: ${He}`);if(Ae.path=_.toString("utf8",He),Ae.path.includes("..\\")||Ae.path.includes("../"))throw new g(Ae.path);let ft=8-(_.tell()-12)%8;for(ft===0&&(ft=8);ft--;){const At=_.readUInt8();if(At!==0)throw new p(`Expected 1-8 null characters but got '${At}' after ${Ae.path}`);if(_.eof())throw new p("Unexpected end of file")}Ae.stages=[],x._addEntry(Ae),Ie++}return x}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(w)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(m=>m.stages.length>1?m.stages.filter(x=>x):m)}*[Symbol.iterator](){for(const m of this.entries)yield m}insert({filepath:m,stats:x,oid:_,stage:$=0}){x||(x={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),x=I(x);const j=Buffer$1.from(m),se={ctimeSeconds:x.ctimeSeconds,ctimeNanoseconds:x.ctimeNanoseconds,mtimeSeconds:x.mtimeSeconds,mtimeNanoseconds:x.mtimeNanoseconds,dev:x.dev,ino:x.ino,mode:x.mode||33188,uid:x.uid,gid:x.gid,size:x.size,path:m,oid:_,flags:{assumeValid:!1,extended:!1,stage:$,nameLength:j.length<4095?j.length:4095},stages:[]};this._addEntry(se),this._dirty=!0}delete({filepath:m}){if(this._entries.has(m))this._entries.delete(m);else for(const x of this._entries.keys())x.startsWith(m+"/")&&this._entries.delete(x);this._unmergedPaths.has(m)&&this._unmergedPaths.delete(m),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath:m}){return this._entries.has(m)}render(){return this.entries.map(m=>`${m.mode.toString(8)} ${m.oid}    ${m.path}`).join(`
`)}static async _entryToBuffer(m){const x=Buffer$1.from(m.path),_=Math.ceil((62+x.length+1)/8)*8,$=Buffer$1.alloc(_),j=new y($),se=I(m);return j.writeUInt32BE(se.ctimeSeconds),j.writeUInt32BE(se.ctimeNanoseconds),j.writeUInt32BE(se.mtimeSeconds),j.writeUInt32BE(se.mtimeNanoseconds),j.writeUInt32BE(se.dev),j.writeUInt32BE(se.ino),j.writeUInt32BE(se.mode),j.writeUInt32BE(se.uid),j.writeUInt32BE(se.gid),j.writeUInt32BE(se.size),j.write(m.oid,20,"hex"),j.writeUInt16BE(N(m)),j.write(m.path,x.length,"utf8"),$}async toObject(){const m=Buffer$1.alloc(12),x=new y(m);x.write("DIRC",4,"utf8"),x.writeUInt32BE(2),x.writeUInt32BE(this.entriesFlat.length);let _=[];for(const we of this.entries)if(_.push(Z._entryToBuffer(we)),we.stages.length>1)for(const Le of we.stages)Le&&Le!==we&&_.push(Z._entryToBuffer(Le));_=await Promise.all(_);const $=Buffer$1.concat(_),j=Buffer$1.concat([m,$]),se=await Q(j);return Buffer$1.concat([j,Buffer$1.from(se,"hex")])}}function R(A,m,x=!0,_=!0){const $=I(A),j=I(m);return x&&$.mode!==j.mode||$.mtimeSeconds!==j.mtimeSeconds||$.ctimeSeconds!==j.ctimeSeconds||$.uid!==j.uid||$.gid!==j.gid||_&&$.ino!==j.ino||$.size!==j.size}let ae=null;const de=Symbol("IndexCache");function H(){return{map:new Map,stats:new Map}}async function ne(A,m,x){const[_,$]=await Promise.all([A.lstat(m),A.read(m)]),j=await Z.from($);x.map.set(m,j),x.stats.set(m,_)}async function V(A,m,x){const _=x.stats.get(m);if(_===void 0)return!0;if(_===null)return!1;const $=await A.lstat(m);return $===null?!1:R(_,$)}class Ce{static async acquire({fs:m,gitdir:x,cache:_,allowUnmerged:$=!0},j){_[de]||(_[de]=H());const se=`${x}/index`;ae===null&&(ae=new e({maxPending:1/0}));let we,Le=[];return await ae.acquire(se,async()=>{const Ie=_[de];await V(m,se,Ie)&&await ne(m,se,Ie);const Ae=Ie.map.get(se);if(Le=Ae.unmergedPaths,Le.length&&!$)throw new d(Le);if(we=await j(Ae),Ae._dirty){const Je=await Ae.toObject();await m.write(se,Je),Ie.stats.set(se,await m.lstat(se)),Ae._dirty=!1}}),we}}function ge(A){const m=Math.max(A.lastIndexOf("/"),A.lastIndexOf("\\"));return m>-1&&(A=A.slice(m+1)),A}function Te(A){const m=Math.max(A.lastIndexOf("/"),A.lastIndexOf("\\"));return m===-1?".":m===0?"/":A.slice(0,m)}function Ke(A){const m=new Map,x=function($){if(!m.has($)){const j={type:"tree",fullpath:$,basename:ge($),metadata:{},children:[]};m.set($,j),j.parent=x(Te($)),j.parent&&j.parent!==j&&j.parent.children.push(j)}return m.get($)},_=function($,j){if(!m.has($)){const se={type:"blob",fullpath:$,basename:ge($),metadata:j,parent:x(Te($)),children:[]};se.parent&&se.parent.children.push(se),m.set($,se)}return m.get($)};x(".");for(const $ of A)_($.path,$);return m}function Ye(A){switch(A){case 16384:return"tree";case 33188:return"blob";case 33261:return"blob";case 40960:return"blob";case 57344:return"commit"}throw new p(`Unexpected GitTree entry mode: ${A.toString(8)}`)}class Qe{constructor({fs:m,gitdir:x,cache:_}){this.treePromise=Ce.acquire({fs:m,gitdir:x,cache:_},async function(j){return Ke(j.entries)});const $=this;this.ConstructEntry=class{constructor(se){this._fullpath=se,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return $.type(this)}async mode(){return $.mode(this)}async stat(){return $.stat(this)}async content(){return $.content(this)}async oid(){return $.oid(this)}}}async readdir(m){const x=m._fullpath,$=(await this.treePromise).get(x);if(!$||$.type==="blob")return null;if($.type!=="tree")throw new Error(`ENOTDIR: not a directory, scandir '${x}'`);const j=$.children.map(se=>se.fullpath);return j.sort(v),j}async type(m){return m._type===!1&&await m.stat(),m._type}async mode(m){return m._mode===!1&&await m.stat(),m._mode}async stat(m){if(m._stat===!1){const _=(await this.treePromise).get(m._fullpath);if(!_)throw new Error(`ENOENT: no such file or directory, lstat '${m._fullpath}'`);const $=_.type==="tree"?{}:I(_.metadata);m._type=_.type==="tree"?"tree":Ye($.mode),m._mode=$.mode,_.type==="tree"?m._stat=void 0:m._stat=$}return m._stat}async content(m){}async oid(m){if(m._oid===!1){const _=(await this.treePromise).get(m._fullpath);m._oid=_.metadata.oid}return m._oid}}const rt=Symbol("GitWalkSymbol");function vt(){const A=Object.create(null);return Object.defineProperty(A,rt,{value:function({fs:m,gitdir:x,cache:_}){return new Qe({fs:m,gitdir:x,cache:_})}}),Object.freeze(A),A}class it extends f{constructor(m){super(`Could not find ${m}.`),this.code=this.name=it.code,this.data={what:m}}}it.code="NotFoundError";class yt extends f{constructor(m,x,_,$){super(`Object ${m} ${$?`at ${$}`:""}was anticipated to be a ${_} but it is a ${x}.`),this.code=this.name=yt.code,this.data={oid:m,actual:x,expected:_,filepath:$}}}yt.code="ObjectTypeError";class xt extends f{constructor(m){super(`Expected a 40-char hex object id but saw "${m}".`),this.code=this.name=xt.code,this.data={value:m}}}xt.code="InvalidOidError";class Ct extends f{constructor(m){super(`Could not find a fetch refspec for remote "${m}". Make sure the config file has an entry like the following:
[remote "${m}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=Ct.code,this.data={remote:m}}}Ct.code="NoRefspecError";class St{constructor(m){if(this.refs=new Map,this.parsedConfig=[],m){let x=null;this.parsedConfig=m.trim().split(`
`).map(_=>{if(/^\s*#/.test(_))return{line:_,comment:!0};const $=_.indexOf(" ");if(_.startsWith("^")){const j=_.slice(1);return this.refs.set(x+"^{}",j),{line:_,ref:x,peeled:j}}else{const j=_.slice(0,$);return x=_.slice($+1),this.refs.set(x,j),{line:_,ref:x,oid:j}}})}return this}static from(m){return new St(m)}delete(m){this.parsedConfig=this.parsedConfig.filter(x=>x.ref!==m),this.refs.delete(m)}toString(){return this.parsedConfig.map(({line:m})=>m).join(`
`)+`
`}}class Rt{constructor({remotePath:m,localPath:x,force:_,matchPrefix:$}){Object.assign(this,{remotePath:m,localPath:x,force:_,matchPrefix:$})}static from(m){const[x,_,$,j,se]=m.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),we=x==="+",Le=$==="*";if(Le!==(se==="*"))throw new p("Invalid refspec");return new Rt({remotePath:_,localPath:j,force:we,matchPrefix:Le})}translate(m){if(this.matchPrefix){if(m.startsWith(this.remotePath))return this.localPath+m.replace(this.remotePath,"")}else if(m===this.remotePath)return this.localPath;return null}reverseTranslate(m){if(this.matchPrefix){if(m.startsWith(this.localPath))return this.remotePath+m.replace(this.localPath,"")}else if(m===this.localPath)return this.remotePath;return null}}class oe{constructor(m=[]){this.rules=m}static from(m){const x=[];for(const _ of m)x.push(Rt.from(_));return new oe(x)}add(m){const x=Rt.from(m);this.rules.push(x)}translate(m){const x=[];for(const _ of this.rules)for(const $ of m){const j=_.translate($);j&&x.push([$,j])}return x}translateOne(m){let x=null;for(const _ of this.rules){const $=_.translate(m);$&&(x=$)}return x}localNamespaces(){return this.rules.filter(m=>m.matchPrefix).map(m=>m.localPath.replace(/\/$/,""))}}function je(A,m){const x=A.replace(/\^\{\}$/,""),_=m.replace(/\^\{\}$/,""),$=-(x<_)||+(x>_);return $===0?A.endsWith("^{}")?1:-1:$}const ze=A=>{if(typeof A=="number")return A;A=A.toLowerCase();let m=parseInt(A);return A.endsWith("k")&&(m*=1024),A.endsWith("m")&&(m*=1024*1024),A.endsWith("g")&&(m*=1024*1024*1024),m},he=A=>{if(typeof A=="boolean")return A;if(A=A.trim().toLowerCase(),A==="true"||A==="yes"||A==="on")return!0;if(A==="false"||A==="no"||A==="off")return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${A}`)},le={core:{filemode:he,bare:he,logallrefupdates:he,symlinks:he,ignorecase:he,bigFileThreshold:ze}},me=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,Xe=/^[A-Za-z0-9-.]+$/,Ee=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,Re=/^[A-Za-z][A-Za-z-]*$/,at=/^(.*?)( *[#;].*)$/,Ve=A=>{const m=me.exec(A);if(m!=null){const[x,_]=m.slice(1);return[x,_]}return null},qe=A=>{const m=Ee.exec(A);if(m!=null){const[x,_="true"]=m.slice(1),$=ot(_),j=Et($);return[x,j]}return null},ot=A=>{const m=at.exec(A);if(m==null)return A;const[x,_]=m.slice(1);return Pt(x)&&Pt(_)?`${x}${_}`:x},Pt=A=>(A.match(/(?:^|[^\\])"/g)||[]).length%2!==0,Et=A=>A.split("").reduce((m,x,_,$)=>{const j=x==='"'&&$[_-1]!=="\\",se=x==="\\"&&$[_+1]==='"';return j||se?m:m+x},""),Ft=A=>A!=null?A.toLowerCase():null,ve=(A,m,x)=>[Ft(A),m,Ft(x)].filter(_=>_!=null).join("."),T=A=>{const m=A.split("."),x=m.shift(),_=m.pop(),$=m.length?m.join("."):void 0;return{section:x,subsection:$,name:_,path:ve(x,$,_),sectionPath:ve(x,$,null),isSection:!!x}},F=(A,m)=>A.reduce((x,_,$)=>m(_)?$:x,-1);class ye{constructor(m){let x=null,_=null;this.parsedConfig=m?m.split(`
`).map($=>{let j=null,se=null;const we=$.trim(),Le=Ve(we),Ie=Le!=null;if(Ie)[x,_]=Le;else{const Je=qe(we);Je!=null&&([j,se]=Je)}const Ae=ve(x,_,j);return{line:$,isSection:Ie,section:x,subsection:_,name:j,value:se,path:Ae}}):[]}static from(m){return new ye(m)}async get(m,x=!1){const _=T(m).path,$=this.parsedConfig.filter(j=>j.path===_).map(({section:j,name:se,value:we})=>{const Le=le[j]&&le[j][se];return Le?Le(we):we});return x?$:$.pop()}async getall(m){return this.get(m,!0)}async getSubsections(m){return this.parsedConfig.filter(x=>x.isSection&&x.section===m).map(x=>x.subsection)}async deleteSection(m,x){this.parsedConfig=this.parsedConfig.filter(_=>!(_.section===m&&_.subsection===x))}async append(m,x){return this.set(m,x,!0)}async set(m,x,_=!1){const{section:$,subsection:j,name:se,path:we,sectionPath:Le,isSection:Ie}=T(m),Ae=F(this.parsedConfig,Je=>Je.path===we);if(x==null)Ae!==-1&&this.parsedConfig.splice(Ae,1);else if(Ae!==-1){const Je=this.parsedConfig[Ae],He=Object.assign({},Je,{name:se,value:x,modified:!0});_?this.parsedConfig.splice(Ae+1,0,He):this.parsedConfig[Ae]=He}else{const Je=this.parsedConfig.findIndex(ft=>ft.path===Le),He={section:$,subsection:j,name:se,value:x,modified:!0,path:we};if(Xe.test($)&&Re.test(se))if(Je>=0)this.parsedConfig.splice(Je+1,0,He);else{const ft={isSection:Ie,section:$,subsection:j,modified:!0,path:Le};this.parsedConfig.push(ft,He)}}}toString(){return this.parsedConfig.map(({line:m,section:x,subsection:_,name:$,value:j,modified:se=!1})=>se?$!=null&&j!=null?typeof j=="string"&&/[#;]/.test(j)?`	${$} = "${j}"`:`	${$} = ${j}`:_!=null?`[${x} "${_}"]`:`[${x}]`:m).join(`
`)}}class De{static async get({fs:m,gitdir:x}){const _=await m.read(`${x}/config`,{encoding:"utf8"});return ye.from(_)}static async save({fs:m,gitdir:x,config:_}){await m.write(`${x}/config`,_.toString(),{encoding:"utf8"})}}const $e=A=>[`${A}`,`refs/${A}`,`refs/tags/${A}`,`refs/heads/${A}`,`refs/remotes/${A}`,`refs/remotes/${A}/HEAD`],Ze=["config","description","index","shallow","commondir"];let Oe;async function bt(A,m){return Oe===void 0&&(Oe=new e),Oe.acquire(A,m)}class ht{static async updateRemoteRefs({fs:m,gitdir:x,remote:_,refs:$,symrefs:j,tags:se,refspecs:we=void 0,prune:Le=!1,pruneTags:Ie=!1}){for(const Dt of $.values())if(!Dt.match(/[0-9a-f]{40}/))throw new xt(Dt);const Ae=await De.get({fs:m,gitdir:x});if(!we){if(we=await Ae.getall(`remote.${_}.fetch`),we.length===0)throw new Ct(_);we.unshift(`+HEAD:refs/remotes/${_}/HEAD`)}const Je=oe.from(we),He=new Map;if(Ie){const Dt=await ht.listRefs({fs:m,gitdir:x,filepath:"refs/tags"});await ht.deleteRefs({fs:m,gitdir:x,refs:Dt.map(qt=>`refs/tags/${qt}`)})}if(se){for(const Dt of $.keys())if(Dt.startsWith("refs/tags")&&!Dt.endsWith("^{}")&&!await ht.exists({fs:m,gitdir:x,ref:Dt})){const qt=$.get(Dt);He.set(Dt,qt)}}const ft=Je.translate([...$.keys()]);for(const[Dt,qt]of ft){const Xt=$.get(Dt);He.set(qt,Xt)}const At=Je.translate([...j.keys()]);for(const[Dt,qt]of At){const Xt=j.get(Dt),nn=Je.translateOne(Xt);nn&&He.set(qt,`ref: ${nn}`)}const Mt=[];if(Le){for(const Dt of Je.localNamespaces()){const qt=(await ht.listRefs({fs:m,gitdir:x,filepath:Dt})).map(Xt=>`${Dt}/${Xt}`);for(const Xt of qt)He.has(Xt)||Mt.push(Xt)}Mt.length>0&&await ht.deleteRefs({fs:m,gitdir:x,refs:Mt})}for(const[Dt,qt]of He)await bt(Dt,async()=>m.write(r.join(x,Dt),`${qt.trim()}
`,"utf8"));return{pruned:Mt}}static async writeRef({fs:m,gitdir:x,ref:_,value:$}){if(!$.match(/[0-9a-f]{40}/))throw new xt($);await bt(_,async()=>m.write(r.join(x,_),`${$.trim()}
`,"utf8"))}static async writeSymbolicRef({fs:m,gitdir:x,ref:_,value:$}){await bt(_,async()=>m.write(r.join(x,_),`ref: ${$.trim()}
`,"utf8"))}static async deleteRef({fs:m,gitdir:x,ref:_}){return ht.deleteRefs({fs:m,gitdir:x,refs:[_]})}static async deleteRefs({fs:m,gitdir:x,refs:_}){await Promise.all(_.map(we=>m.rm(r.join(x,we))));let $=await bt("packed-refs",async()=>m.read(`${x}/packed-refs`,{encoding:"utf8"}));const j=St.from($),se=j.refs.size;for(const we of _)j.refs.has(we)&&j.delete(we);j.refs.size<se&&($=j.toString(),await bt("packed-refs",async()=>m.write(`${x}/packed-refs`,$,{encoding:"utf8"})))}static async resolve({fs:m,gitdir:x,ref:_,depth:$=void 0}){if($!==void 0&&($--,$===-1))return _;if(_.startsWith("ref: "))return _=_.slice(5),ht.resolve({fs:m,gitdir:x,ref:_,depth:$});if(_.length===40&&/[0-9a-f]{40}/.test(_))return _;const j=await ht.packedRefs({fs:m,gitdir:x}),se=$e(_).filter(we=>!Ze.includes(we));for(const we of se){const Le=await bt(we,async()=>await m.read(`${x}/${we}`,{encoding:"utf8"})||j.get(we));if(Le)return ht.resolve({fs:m,gitdir:x,ref:Le.trim(),depth:$})}throw new it(_)}static async exists({fs:m,gitdir:x,ref:_}){try{return await ht.expand({fs:m,gitdir:x,ref:_}),!0}catch{return!1}}static async expand({fs:m,gitdir:x,ref:_}){if(_.length===40&&/[0-9a-f]{40}/.test(_))return _;const $=await ht.packedRefs({fs:m,gitdir:x}),j=$e(_);for(const se of j)if(await bt(se,async()=>m.exists(`${x}/${se}`))||$.has(se))return se;throw new it(_)}static async expandAgainstMap({ref:m,map:x}){const _=$e(m);for(const $ of _)if(await x.has($))return $;throw new it(m)}static resolveAgainstMap({ref:m,fullref:x=m,depth:_=void 0,map:$}){if(_!==void 0&&(_--,_===-1))return{fullref:x,oid:m};if(m.startsWith("ref: "))return m=m.slice(5),ht.resolveAgainstMap({ref:m,fullref:x,depth:_,map:$});if(m.length===40&&/[0-9a-f]{40}/.test(m))return{fullref:x,oid:m};const j=$e(m);for(const se of j){const we=$.get(se);if(we)return ht.resolveAgainstMap({ref:we.trim(),fullref:se,depth:_,map:$})}throw new it(m)}static async packedRefs({fs:m,gitdir:x}){const _=await bt("packed-refs",async()=>m.read(`${x}/packed-refs`,{encoding:"utf8"}));return St.from(_).refs}static async listRefs({fs:m,gitdir:x,filepath:_}){const $=ht.packedRefs({fs:m,gitdir:x});let j=null;try{j=await m.readdirDeep(`${x}/${_}`),j=j.map(se=>se.replace(`${x}/${_}/`,""))}catch{j=[]}for(let se of(await $).keys())se.startsWith(_)&&(se=se.replace(_+"/",""),j.includes(se)||j.push(se));return j.sort(je),j}static async listBranches({fs:m,gitdir:x,remote:_}){return _?ht.listRefs({fs:m,gitdir:x,filepath:`refs/remotes/${_}`}):ht.listRefs({fs:m,gitdir:x,filepath:"refs/heads"})}static async listTags({fs:m,gitdir:x}){return(await ht.listRefs({fs:m,gitdir:x,filepath:"refs/tags"})).filter($=>!$.endsWith("^{}"))}}function q(A,m){return v(dt(A),dt(m))}function dt(A){return A.mode==="040000"?A.path+"/":A.path}function gt(A){switch(A){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new p(`Unexpected GitTree entry mode: ${A}`)}function be(A){const m=[];let x=0;for(;x<A.length;){const _=A.indexOf(32,x);if(_===-1)throw new p(`GitTree: Error parsing buffer at byte location ${x}: Could not find the next space character.`);const $=A.indexOf(0,x);if($===-1)throw new p(`GitTree: Error parsing buffer at byte location ${x}: Could not find the next null character.`);let j=A.slice(x,_).toString("utf8");j==="40000"&&(j="040000");const se=gt(j),we=A.slice(_+1,$).toString("utf8");if(we.includes("\\")||we.includes("/"))throw new g(we);const Le=A.slice($+1,$+21).toString("hex");x=$+21,m.push({mode:j,path:we,oid:Le,type:se})}return m}function Ne(A){if(typeof A=="number"&&(A=A.toString(8)),A.match(/^0?4.*/))return"040000";if(A.match(/^1006.*/))return"100644";if(A.match(/^1007.*/))return"100755";if(A.match(/^120.*/))return"120000";if(A.match(/^160.*/))return"160000";throw new p(`Could not understand file mode: ${A}`)}function Pe(A){return!A.oid&&A.sha&&(A.oid=A.sha),A.mode=Ne(A.mode),A.type||(A.type=gt(A.mode)),A}class Me{constructor(m){if(Buffer$1.isBuffer(m))this._entries=be(m);else if(Array.isArray(m))this._entries=m.map(Pe);else throw new p("invalid type passed to GitTree constructor");this._entries.sort(w)}static from(m){return new Me(m)}render(){return this._entries.map(m=>`${m.mode} ${m.type} ${m.oid}    ${m.path}`).join(`
`)}toObject(){const m=[...this._entries];return m.sort(q),Buffer$1.concat(m.map(x=>{const _=Buffer$1.from(x.mode.replace(/^0/,"")),$=Buffer$1.from(" "),j=Buffer$1.from(x.path,"utf8"),se=Buffer$1.from([0]),we=Buffer$1.from(x.oid,"hex");return Buffer$1.concat([_,$,j,se,we])}))}entries(){return this._entries}*[Symbol.iterator](){for(const m of this._entries)yield m}}class Ue{static wrap({type:m,object:x}){const _=`${m} ${x.length}\0`,$=_.length,j=$+x.length,se=new Uint8Array(j);for(let we=0;we<$;we++)se[we]=_.charCodeAt(we);return se.set(x,$),se}static unwrap(m){const x=m.indexOf(32),_=m.indexOf(0),$=m.slice(0,x).toString("utf8"),j=m.slice(x+1,_).toString("utf8"),se=m.length-(_+1);if(parseInt(j)!==se)throw new p(`Length mismatch: expected ${j} bytes but got ${se} instead.`);return{type:$,object:Buffer$1.from(m.slice(_+1))}}}async function Y({fs:A,gitdir:m,oid:x}){const _=`objects/${x.slice(0,2)}/${x.slice(2)}`,$=await A.read(`${m}/${_}`);return $?{object:$,format:"deflated",source:_}:null}function D(A,m){const x=new y(A),_=W(x);if(_!==m.byteLength)throw new p(`applyDelta expected source buffer to be ${_} bytes but the provided buffer was ${m.length} bytes`);const $=W(x);let j;const se=ce(x,m);if(se.byteLength===$)j=se;else{j=Buffer$1.alloc($);const we=new y(j);for(we.copy(se);!x.eof();)we.copy(ce(x,m));const Le=we.tell();if($!==Le)throw new p(`applyDelta expected target buffer to be ${$} bytes but the resulting buffer was ${Le} bytes`)}return j}function W(A){let m=0,x=0,_=null;do _=A.readUInt8(),m|=(_&127)<<x,x+=7;while(_&128);return m}function _e(A,m,x){let _=0,$=0;for(;x--;)m&1&&(_|=A.readUInt8()<<$),m>>=1,$+=8;return _}function ce(A,m){const x=A.readUInt8(),_=128,$=15,j=112;if(x&_){const se=_e(A,x&$,4);let we=_e(A,(x&j)>>4,3);return we===0&&(we=65536),m.slice(se,se+we)}else return A.slice(x)}function st(A){let m=[A];return{next(){return Promise.resolve({done:m.length===0,value:m.pop()})},return(){return m=[],{}},[Symbol.asyncIterator](){return this}}}function Ot(A){return A[Symbol.asyncIterator]?A[Symbol.asyncIterator]():A[Symbol.iterator]?A[Symbol.iterator]():A.next?A:st(A)}class Gt{constructor(m){if(typeof Buffer$1>"u")throw new Error("Missing Buffer dependency");this.stream=Ot(m),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(m){if(!this.eof())return this.started||await this._init(),this.cursor+m>this.buffer.length&&(this._trim(),await this._accumulate(m)),this._moveCursor(m),this.buffer.slice(this.undoCursor,this.cursor)}async skip(m){this.eof()||(this.started||await this._init(),this.cursor+m>this.buffer.length&&(this._trim(),await this._accumulate(m)),this._moveCursor(m))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:m,value:x}=await this.stream.next();return m&&(this._ended=!0,!x)?Buffer$1.alloc(0):(x&&(x=Buffer$1.from(x)),x)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(m){this.undoCursor=this.cursor,this.cursor+=m,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(m){if(this._ended)return;const x=[this.buffer];for(;this.cursor+m>On(x);){const _=await this._next();if(this._ended)break;x.push(_)}this.buffer=Buffer$1.concat(x)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}}function On(A){return A.reduce((m,x)=>m+x.length,0)}async function yn(A,m){const x=new Gt(A);let _=await x.read(4);if(_=_.toString("utf8"),_!=="PACK")throw new p(`Invalid PACK header '${_}'`);let $=await x.read(4);if($=$.readUInt32BE(0),$!==2)throw new p(`Invalid packfile version: ${$}`);let j=await x.read(4);if(j=j.readUInt32BE(0),!(j<1))for(;!x.eof()&&j--;){const se=x.tell(),{type:we,length:Le,ofs:Ie,reference:Ae}=await Kt(x),Je=new s.Inflate;for(;!Je.result;){const He=await x.chunk();if(!He)break;if(Je.push(He,!1),Je.err)throw new p(`Pako error: ${Je.msg}`);if(Je.result){if(Je.result.length!==Le)throw new p("Inflated object size is different from that stated in packfile.");await x.undo(),await x.read(He.length-Je.strm.avail_in);const ft=x.tell();await m({data:Je.result,type:we,num:j,offset:se,end:ft,reference:Ae,ofs:Ie})}}}}async function Kt(A){let m=await A.byte();const x=m>>4&7;let _=m&15;if(m&128){let se=4;do m=await A.byte(),_|=(m&127)<<se,se+=7;while(m&128)}let $,j;if(x===6){let se=0;$=0;const we=[];do m=await A.byte(),$|=(m&127)<<se,se+=7,we.push(m);while(m&128);j=Buffer$1.from(we)}return x===7&&(j=await A.read(20)),{type:x,length:_,ofs:$,reference:j}}async function Vt(A){return s.inflate(A)}function an(A){const m=[];let x=0,_=0;do{x=A.readUInt8();const $=x&127;m.push($),_=x&128}while(_);return m.reduce(($,j)=>$+1<<7|j,-1)}function $t(A,m){let x=m,_=4,$=null;do $=A.readUInt8(),x|=($&127)<<_,_+=7;while($&128);return x}class Lt{constructor(m){Object.assign(this,m),this.offsetCache={}}static async fromIdx({idx:m,getExternalRefDelta:x}){const _=new y(m);if(_.slice(4).toString("hex")!=="ff744f63")return;const j=_.readUInt32BE();if(j!==2)throw new p(`Unable to read version ${j} packfile IDX. (Only version 2 supported)`);if(m.byteLength>2048*1024*1024)throw new p("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");_.seek(_.tell()+1020);const se=_.readUInt32BE(),we=[];for(let Ae=0;Ae<se;Ae++){const Je=_.slice(20).toString("hex");we[Ae]=Je}_.seek(_.tell()+4*se);const Le=new Map;for(let Ae=0;Ae<se;Ae++)Le.set(we[Ae],_.readUInt32BE());const Ie=_.slice(20).toString("hex");return new Lt({hashes:we,crcs:{},offsets:Le,packfileSha:Ie,getExternalRefDelta:x})}static async fromPack({pack:m,getExternalRefDelta:x,onProgress:_}){const $={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},j={},se=m.slice(-20).toString("hex"),we=[],Le={},Ie=new Map;let Ae=null,Je=null;await yn([m],async({data:Dt,type:qt,reference:Xt,offset:nn,num:dn})=>{Ae===null&&(Ae=dn);const pn=Math.floor((Ae-dn)*100/Ae);pn!==Je&&_&&await _({phase:"Receiving objects",loaded:Ae-dn,total:Ae}),Je=pn,qt=$[qt],["commit","tree","blob","tag"].includes(qt)?j[nn]={type:qt,offset:nn}:qt==="ofs-delta"?j[nn]={type:qt,offset:nn}:qt==="ref-delta"&&(j[nn]={type:qt,offset:nn})});const He=Object.keys(j).map(Number);for(const[Dt,qt]of He.entries()){const Xt=Dt+1===He.length?m.byteLength-20:He[Dt+1],nn=j[qt],dn=a.buf(m.slice(qt,Xt))>>>0;nn.end=Xt,nn.crc=dn}const ft=new Lt({pack:Promise.resolve(m),packfileSha:se,crcs:Le,hashes:we,offsets:Ie,getExternalRefDelta:x});Je=null;let At=0;const Mt=[0,0,0,0,0,0,0,0,0,0,0,0];for(let Dt in j){Dt=Number(Dt);const qt=Math.floor(At*100/Ae);qt!==Je&&_&&await _({phase:"Resolving deltas",loaded:At,total:Ae}),At++,Je=qt;const Xt=j[Dt];if(!Xt.oid)try{ft.readDepth=0,ft.externalReadDepth=0;const{type:nn,object:dn}=await ft.readSlice({start:Dt});Mt[ft.readDepth]+=1;const pn=await Q(Ue.wrap({type:nn,object:dn}));Xt.oid=pn,we.push(pn),Ie.set(pn,Dt),Le[pn]=Xt.crc}catch{continue}}return we.sort(),ft}async toBuffer(){const m=[],x=(Ie,Ae)=>{m.push(Buffer$1.from(Ie,Ae))};x("ff744f63","hex"),x("00000002","hex");const _=new y(Buffer$1.alloc(256*4));for(let Ie=0;Ie<256;Ie++){let Ae=0;for(const Je of this.hashes)parseInt(Je.slice(0,2),16)<=Ie&&Ae++;_.writeUInt32BE(Ae)}m.push(_.buffer);for(const Ie of this.hashes)x(Ie,"hex");const $=new y(Buffer$1.alloc(this.hashes.length*4));for(const Ie of this.hashes)$.writeUInt32BE(this.crcs[Ie]);m.push($.buffer);const j=new y(Buffer$1.alloc(this.hashes.length*4));for(const Ie of this.hashes)j.writeUInt32BE(this.offsets.get(Ie));m.push(j.buffer),x(this.packfileSha,"hex");const se=Buffer$1.concat(m),we=await Q(se),Le=Buffer$1.alloc(20);return Le.write(we,"hex"),Buffer$1.concat([se,Le])}async load({pack:m}){this.pack=m}async unload(){this.pack=null}async read({oid:m}){if(!this.offsets.get(m)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(m);throw new p(`Could not read object ${m} from packfile`)}const x=this.offsets.get(m);return this.readSlice({start:x})}async readSlice({start:m}){if(this.offsetCache[m])return Object.assign({},this.offsetCache[m]);this.readDepth++;const x={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new p("Tried to read from a GitPackIndex with no packfile loaded into memory");const _=(await this.pack).slice(m),$=new y(_),j=$.readUInt8(),se=j&112;let we=x[se];if(we===void 0)throw new p("Unrecognized type: 0b"+se.toString(2));const Le=j&15;let Ie=Le;j&128&&(Ie=$t($,Le));let Je=null,He=null;if(we==="ofs_delta"){const At=an($),Mt=m-At;({object:Je,type:we}=await this.readSlice({start:Mt}))}if(we==="ref_delta"){const At=$.slice(20).toString("hex");({object:Je,type:we}=await this.read({oid:At}))}const ft=_.slice($.tell());if(He=Buffer$1.from(await Vt(ft)),He.byteLength!==Ie)throw new p(`Packfile told us object would have length ${Ie} but it had length ${He.byteLength}`);return Je&&(He=Buffer$1.from(D(He,Je))),this.readDepth>3&&(this.offsetCache[m]={type:we,object:He}),{type:we,format:"content",object:He}}}const nt=Symbol("PackfileCache");async function Nt({fs:A,filename:m,getExternalRefDelta:x,emitter:_,emitterPrefix:$}){const j=await A.read(m);return Lt.fromIdx({idx:j,getExternalRefDelta:x})}function wt({fs:A,cache:m,filename:x,getExternalRefDelta:_,emitter:$,emitterPrefix:j}){m[nt]||(m[nt]=new Map);let se=m[nt].get(x);return se||(se=Nt({fs:A,filename:x,getExternalRefDelta:_,emitter:$,emitterPrefix:j}),m[nt].set(x,se)),se}async function Bt({fs:A,cache:m,gitdir:x,oid:_,format:$="content",getExternalRefDelta:j}){let se=await A.readdir(r.join(x,"objects/pack"));se=se.filter(we=>we.endsWith(".idx"));for(const we of se){const Le=`${x}/objects/pack/${we}`,Ie=await wt({fs:A,cache:m,filename:Le,getExternalRefDelta:j});if(Ie.error)throw new p(Ie.error);if(Ie.offsets.has(_)){if(!Ie.pack){const Je=Le.replace(/idx$/,"pack");Ie.pack=A.read(Je)}const Ae=await Ie.read({oid:_,getExternalRefDelta:j});return Ae.format="content",Ae.source=`objects/pack/${we.replace(/idx$/,"pack")}`,Ae}}return null}async function kt({fs:A,cache:m,gitdir:x,oid:_,format:$="content"}){const j=Ae=>kt({fs:A,cache:m,gitdir:x,oid:Ae});let se;if(_==="4b825dc642cb6eb9a060e54bf8d69288fbee4904"&&(se={format:"wrapped",object:Buffer$1.from("tree 0\0")}),se||(se=await Y({fs:A,gitdir:x,oid:_})),!se){if(se=await Bt({fs:A,cache:m,gitdir:x,oid:_,getExternalRefDelta:j}),!se)throw new it(_);return se}if($==="deflated"||(se.format==="deflated"&&(se.object=Buffer$1.from(await Vt(se.object)),se.format="wrapped"),$==="wrapped"))return se;const we=await Q(se.object);if(we!==_)throw new p(`SHA check failed! Expected ${_}, computed ${we}`);const{object:Le,type:Ie}=Ue.unwrap(se.object);if(se.type=Ie,se.object=Le,se.format="content",$==="content")return se;throw new p(`invalid requested format "${$}"`)}class Qt extends f{constructor(m,x,_=!0){super(`Failed to create ${m} at ${x} because it already exists.${_?` (Hint: use 'force: true' parameter to overwrite existing ${m}.)`:""}`),this.code=this.name=Qt.code,this.data={noun:m,where:x,canForce:_}}}Qt.code="AlreadyExistsError";class jt extends f{constructor(m,x,_){super(`Found multiple ${m} matching "${x}" (${_.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=jt.code,this.data={nouns:m,short:x,matches:_}}}jt.code="AmbiguousError";class fn extends f{constructor(m){super(`Your local changes to the following files would be overwritten by checkout: ${m.join(", ")}`),this.code=this.name=fn.code,this.data={filepaths:m}}}fn.code="CheckoutConflictError";class Zt extends f{constructor(m,x){super(`Failed to checkout "${m}" because commit ${x} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=Zt.code,this.data={ref:m,oid:x}}}Zt.code="CommitNotFetchedError";class rn extends f{constructor(){super("Empty response from git server."),this.code=this.name=rn.code,this.data={}}}rn.code="EmptyServerResponseError";class ln extends f{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=ln.code,this.data={}}}ln.code="FastForwardError";class Jt extends f{constructor(m,x){super(`One or more branches were not updated: ${m}`),this.code=this.name=Jt.code,this.data={prettyDetails:m,result:x}}}Jt.code="GitPushError";class xn extends f{constructor(m,x,_){super(`HTTP Error: ${m} ${x}`),this.code=this.name=xn.code,this.data={statusCode:m,statusMessage:x,response:_}}}xn.code="HttpError";class mn extends f{constructor(m){let x="invalid filepath";m==="leading-slash"||m==="trailing-slash"?x='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':m==="directory"&&(x='"filepath" should not be a directory.'),super(x),this.code=this.name=mn.code,this.data={reason:m}}}mn.code="InvalidFilepathError";class gn extends f{constructor(m,x){super(`"${m}" would be an invalid git reference. (Hint: a valid alternative would be "${x}".)`),this.code=this.name=gn.code,this.data={ref:m,suggestion:x}}}gn.code="InvalidRefNameError";class _n extends f{constructor(m){super(`Maximum search depth of ${m} exceeded.`),this.code=this.name=_n.code,this.data={depth:m}}}_n.code="MaxDepthError";class Sn extends f{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=Sn.code,this.data={}}}Sn.code="MergeNotSupportedError";class En extends f{constructor(m,x,_,$){super(`Automatic merge failed with one or more merge conflicts in the following files: ${m.toString()}. Fix conflicts then commit the result.`),this.code=this.name=En.code,this.data={filepaths:m,bothModified:x,deleteByUs:_,deleteByTheirs:$}}}En.code="MergeConflictError";class wn extends f{constructor(m){super(`No name was provided for ${m} in the argument or in the .git/config file.`),this.code=this.name=wn.code,this.data={role:m}}}wn.code="MissingNameError";class An extends f{constructor(m){super(`The function requires a "${m}" parameter but none was provided.`),this.code=this.name=An.code,this.data={parameter:m}}}An.code="MissingParameterError";class Bn extends f{constructor(m){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=Bn.code,this.data={errors:m},this.errors=m}}Bn.code="MultipleGitError";class jn extends f{constructor(m,x){super(`Expected "${m}" but received "${x}".`),this.code=this.name=jn.code,this.data={expected:m,actual:x}}}jn.code="ParseError";class tr extends f{constructor(m){let x="";m==="not-fast-forward"?x=" because it was not a simple fast-forward":m==="tag-exists"&&(x=" because tag already exists"),super(`Push rejected${x}. Use "force: true" to override.`),this.code=this.name=tr.code,this.data={reason:m}}}tr.code="PushRejectedError";class nr extends f{constructor(m,x){super(`Remote does not support the "${m}" so the "${x}" parameter cannot be used.`),this.code=this.name=nr.code,this.data={capability:m,parameter:x}}}nr.code="RemoteCapabilityError";class Un extends f{constructor(m,x){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${m}`),this.code=this.name=Un.code,this.data={preview:m,response:x}}}Un.code="SmartHttpError";class rr extends f{constructor(m,x,_){super(`Git remote "${m}" uses an unrecognized transport protocol: "${x}"`),this.code=this.name=rr.code,this.data={url:m,transport:x,suggestion:_}}}rr.code="UnknownTransportError";class Yn extends f{constructor(m){super(`Cannot parse remote URL: "${m}"`),this.code=this.name=Yn.code,this.data={url:m}}}Yn.code="UrlParseError";class Gn extends f{constructor(){super("The operation was canceled."),this.code=this.name=Gn.code,this.data={}}}Gn.code="UserCanceledError";class Cn extends f{constructor(m){super(`Could not merge index: Entry for '${m}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged changes.`),this.code=this.name=Cn.code,this.data={filepath:m}}}Cn.code="IndexResetError";class hr extends f{constructor(m){super(`"${m}" does not point to any commit. You're maybe working on a repository with no commits yet. `),this.code=this.name=hr.code,this.data={ref:m}}}hr.code="NoCommitError";var Mr=Object.freeze({__proto__:null,AlreadyExistsError:Qt,AmbiguousError:jt,CheckoutConflictError:fn,CommitNotFetchedError:Zt,EmptyServerResponseError:rn,FastForwardError:ln,GitPushError:Jt,HttpError:xn,InternalError:p,InvalidFilepathError:mn,InvalidOidError:xt,InvalidRefNameError:gn,MaxDepthError:_n,MergeNotSupportedError:Sn,MergeConflictError:En,MissingNameError:wn,MissingParameterError:An,MultipleGitError:Bn,NoRefspecError:Ct,NotFoundError:it,ObjectTypeError:yt,ParseError:jn,PushRejectedError:tr,RemoteCapabilityError:nr,SmartHttpError:Un,UnknownTransportError:rr,UnsafeFilepathError:g,UrlParseError:Yn,UserCanceledError:Gn,UnmergedPathsError:d,IndexResetError:Cn,NoCommitError:hr});function Sr({name:A,email:m,timestamp:x,timezoneOffset:_}){return _=_r(_),`${A} <${m}> ${x} ${_}`}function _r(A){const m=Jr(Br(A));A=Math.abs(A);const x=Math.floor(A/60);A-=x*60;let _=String(x),$=String(A);return _.length<2&&(_="0"+_),$.length<2&&($="0"+$),(m===-1?"-":"+")+_+$}function Jr(A){return Math.sign(A)||(Object.is(A,-0)?-1:1)}function Br(A){return A===0?A:-A}function Vn(A){return A=A.replace(/\r/g,""),A=A.replace(/^\n+/,""),A=A.replace(/\n+$/,"")+`
`,A}function Ir(A){const[,m,x,_,$]=A.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:m,email:x,timestamp:Number(_),timezoneOffset:In($)}}function In(A){let[,m,x,_]=A.match(/(\+|-)(\d\d)(\d\d)/);return _=(m==="+"?1:-1)*(Number(x)*60+Number(_)),yr(_)}function yr(A){return A===0?A:-A}class Hn{constructor(m){if(typeof m=="string")this._tag=m;else if(Buffer$1.isBuffer(m))this._tag=m.toString("utf8");else if(typeof m=="object")this._tag=Hn.render(m);else throw new p("invalid type passed to GitAnnotatedTag constructor")}static from(m){return new Hn(m)}static render(m){return`object ${m.object}
type ${m.type}
tag ${m.tag}
tagger ${Sr(m.tagger)}

${m.message}
${m.gpgsig?m.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){const m=this.withoutSignature();return m.slice(m.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){const m=this.justHeaders().split(`
`),x=[];for(const $ of m)$[0]===" "?x[x.length-1]+=`
`+$.slice(1):x.push($);const _={};for(const $ of x){const j=$.slice(0,$.indexOf(" ")),se=$.slice($.indexOf(" ")+1);Array.isArray(_[j])?_[j].push(se):_[j]=se}return _.tagger&&(_.tagger=Ir(_.tagger)),_.committer&&(_.committer=Ir(_.committer)),_}withoutSignature(){const m=Vn(this._tag);return m.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?m:m.slice(0,m.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;const m=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return Vn(m)}payload(){return this.withoutSignature()+`
`}toObject(){return Buffer$1.from(this._tag,"utf8")}static async sign(m,x,_){const $=m.payload();let{signature:j}=await x({payload:$,secretKey:_});j=Vn(j);const se=$+j;return Hn.from(se)}}function Lr(A){return A.trim().split(`
`).map(m=>" "+m).join(`
`)+`
`}function qr(A){return A.split(`
`).map(m=>m.replace(/^ /,"")).join(`
`)}class zn{constructor(m){if(typeof m=="string")this._commit=m;else if(Buffer$1.isBuffer(m))this._commit=m.toString("utf8");else if(typeof m=="object")this._commit=zn.render(m);else throw new p("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:m,signature:x}){const _=zn.justHeaders(m),$=zn.justMessage(m),j=Vn(_+`
gpgsig`+Lr(x)+`
`+$);return new zn(j)}static from(m){return new zn(m)}toObject(){return Buffer$1.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return zn.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(m){return Vn(m.slice(m.indexOf(`

`)+2))}static justHeaders(m){return m.slice(0,m.indexOf(`

`))}parseHeaders(){const m=zn.justHeaders(this._commit).split(`
`),x=[];for(const $ of m)$[0]===" "?x[x.length-1]+=`
`+$.slice(1):x.push($);const _={parent:[]};for(const $ of x){const j=$.slice(0,$.indexOf(" ")),se=$.slice($.indexOf(" ")+1);Array.isArray(_[j])?_[j].push(se):_[j]=se}return _.author&&(_.author=Ir(_.author)),_.committer&&(_.committer=Ir(_.committer)),_}static renderHeaders(m){let x="";if(m.tree?x+=`tree ${m.tree}
`:x+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,m.parent){if(m.parent.length===void 0)throw new p("commit 'parent' property should be an array");for(const j of m.parent)x+=`parent ${j}
`}const _=m.author;x+=`author ${Sr(_)}
`;const $=m.committer||m.author;return x+=`committer ${Sr($)}
`,m.gpgsig&&(x+="gpgsig"+Lr(m.gpgsig)),x}static render(m){return zn.renderHeaders(m)+`
`+Vn(m.message)}render(){return this._commit}withoutSignature(){const m=Vn(this._commit);if(m.indexOf(`
gpgsig`)===-1)return m;const x=m.slice(0,m.indexOf(`
gpgsig`)),_=m.slice(m.indexOf(`-----END PGP SIGNATURE-----
`)+28);return Vn(x+`
`+_)}isolateSignature(){const m=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return qr(m)}static async sign(m,x,_){const $=m.withoutSignature(),j=zn.justMessage(m._commit);let{signature:se}=await x({payload:$,secretKey:_});se=Vn(se);const Le=zn.justHeaders(m._commit)+`
gpgsig`+Lr(se)+`
`+j;return zn.from(Le)}}async function mr({fs:A,cache:m,gitdir:x,oid:_}){if(_==="4b825dc642cb6eb9a060e54bf8d69288fbee4904")return{tree:Me.from([]),oid:_};const{type:$,object:j}=await kt({fs:A,cache:m,gitdir:x,oid:_});if($==="tag")return _=Hn.from(j).parse().object,mr({fs:A,cache:m,gitdir:x,oid:_});if($==="commit")return _=zn.from(j).parse().tree,mr({fs:A,cache:m,gitdir:x,oid:_});if($!=="tree")throw new yt(_,$,"tree");return{tree:Me.from(j),oid:_}}class Zr{constructor({fs:m,gitdir:x,ref:_,cache:$}){this.fs=m,this.cache=$,this.gitdir=x,this.mapPromise=(async()=>{const se=new Map;let we;try{we=await ht.resolve({fs:m,gitdir:x,ref:_})}catch(Ie){Ie instanceof it&&(we="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}const Le=await mr({fs:m,cache:this.cache,gitdir:x,oid:we});return Le.type="tree",Le.mode="40000",se.set(".",Le),se})();const j=this;this.ConstructEntry=class{constructor(we){this._fullpath=we,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return j.type(this)}async mode(){return j.mode(this)}async stat(){return j.stat(this)}async content(){return j.content(this)}async oid(){return j.oid(this)}}}async readdir(m){const x=m._fullpath,{fs:_,cache:$,gitdir:j}=this,se=await this.mapPromise,we=se.get(x);if(!we)throw new Error(`No obj for ${x}`);const Le=we.oid;if(!Le)throw new Error(`No oid for obj ${JSON.stringify(we)}`);if(we.type!=="tree")return null;const{type:Ie,object:Ae}=await kt({fs:_,cache:$,gitdir:j,oid:Le});if(Ie!==we.type)throw new yt(Le,Ie,we.type);const Je=Me.from(Ae);for(const He of Je)se.set(r.join(x,He.path),He);return Je.entries().map(He=>r.join(x,He.path))}async type(m){if(m._type===!1){const x=await this.mapPromise,{type:_}=x.get(m._fullpath);m._type=_}return m._type}async mode(m){if(m._mode===!1){const x=await this.mapPromise,{mode:_}=x.get(m._fullpath);m._mode=O(parseInt(_,8))}return m._mode}async stat(m){}async content(m){if(m._content===!1){const x=await this.mapPromise,{fs:_,cache:$,gitdir:j}=this,we=x.get(m._fullpath).oid,{type:Le,object:Ie}=await kt({fs:_,cache:$,gitdir:j,oid:we});Le!=="blob"?m._content=void 0:m._content=new Uint8Array(Ie)}return m._content}async oid(m){if(m._oid===!1){const _=(await this.mapPromise).get(m._fullpath);m._oid=_.oid}return m._oid}}function Fn({ref:A="HEAD"}={}){const m=Object.create(null);return Object.defineProperty(m,rt,{value:function({fs:x,gitdir:_,cache:$}){return new Zr({fs:x,gitdir:_,ref:A,cache:$})}}),Object.freeze(m),m}class ei{constructor({fs:m,dir:x,gitdir:_,cache:$}){this.fs=m,this.cache=$,this.dir=x,this.gitdir=_,this.config=null;const j=this;this.ConstructEntry=class{constructor(we){this._fullpath=we,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return j.type(this)}async mode(){return j.mode(this)}async stat(){return j.stat(this)}async content(){return j.content(this)}async oid(){return j.oid(this)}}}async readdir(m){const x=m._fullpath,{fs:_,dir:$}=this,j=await _.readdir(r.join($,x));return j===null?null:j.map(se=>r.join(x,se))}async type(m){return m._type===!1&&await m.stat(),m._type}async mode(m){return m._mode===!1&&await m.stat(),m._mode}async stat(m){if(m._stat===!1){const{fs:x,dir:_}=this;let $=await x.lstat(`${_}/${m._fullpath}`);if(!$)throw new Error(`ENOENT: no such file or directory, lstat '${m._fullpath}'`);let j=$.isDirectory()?"tree":"blob";j==="blob"&&!$.isFile()&&!$.isSymbolicLink()&&(j="special"),m._type=j,$=I($),m._mode=$.mode,$.size===-1&&m._actualSize&&($.size=m._actualSize),m._stat=$}return m._stat}async content(m){if(m._content===!1){const{fs:x,dir:_,gitdir:$}=this;if(await m.type()==="tree")m._content=void 0;else{const se=await(await this._getGitConfig(x,$)).get("core.autocrlf"),we=await x.read(`${_}/${m._fullpath}`,{autocrlf:se});m._actualSize=we.length,m._stat&&m._stat.size===-1&&(m._stat.size=m._actualSize),m._content=new Uint8Array(we)}}return m._content}async oid(m){if(m._oid===!1){const x=this,{fs:_,gitdir:$,cache:j}=this;let se;await Ce.acquire({fs:_,gitdir:$,cache:j},async function(we){const Le=we.entriesMap.get(m._fullpath),Ie=await m.stat(),Je=await(await x._getGitConfig(_,$)).get("core.filemode"),He=typeof process$1<"u"?process$1.platform!=="win32":!0;if(!Le||R(Ie,Le,Je,He)){const ft=await m.content();ft===void 0?se=void 0:(se=await Q(Ue.wrap({type:"blob",object:ft})),Le&&se===Le.oid&&(!Je||Ie.mode===Le.mode)&&R(Ie,Le,Je,He)&&we.insert({filepath:m._fullpath,stats:Ie,oid:se}))}else se=Le.oid}),m._oid=se}return m._oid}async _getGitConfig(m,x){return this.config?this.config:(this.config=await De.get({fs:m,gitdir:x}),this.config)}}function sr(){const A=Object.create(null);return Object.defineProperty(A,rt,{value:function({fs:m,dir:x,gitdir:_,cache:$}){return new ei({fs:m,dir:x,gitdir:_,cache:$})}}),Object.freeze(A),A}function Vr(A,m){const x=m-A;return Array.from({length:x},(_,$)=>A+$)}const ti=typeof Array.prototype.flat>"u"?A=>A.reduce((m,x)=>m.concat(x),[]):A=>A.flat();class oi{constructor(){this.value=null}consider(m){m!=null&&(this.value===null?this.value=m:m<this.value&&(this.value=m))}reset(){this.value=null}}function*ai(A){const m=new oi;let x;const _=[],$=A.length;for(let j=0;j<$;j++)_[j]=A[j].next().value,_[j]!==void 0&&m.consider(_[j]);if(m.value!==null)for(;;){const j=[];x=m.value,m.reset();for(let se=0;se<$;se++)_[se]!==void 0&&_[se]===x?(j[se]=_[se],_[se]=A[se].next().value):j[se]=null,_[se]!==void 0&&m.consider(_[se]);if(yield j,m.value===null)return}}async function Or({fs:A,cache:m,dir:x,gitdir:_,trees:$,map:j=async(Le,Ie)=>Ie,reduce:se=async(Le,Ie)=>{const Ae=ti(Ie);return Le!==void 0&&Ae.unshift(Le),Ae},iterate:we=(Le,Ie)=>Promise.all([...Ie].map(Le))}){const Le=$.map(ft=>ft[rt]({fs:A,dir:x,gitdir:_,cache:m})),Ie=new Array(Le.length).fill("."),Ae=Vr(0,Le.length),Je=async ft=>{Ae.map(Dt=>{const qt=ft[Dt];ft[Dt]=qt&&new Le[Dt].ConstructEntry(qt)});const Mt=(await Promise.all(Ae.map(Dt=>{const qt=ft[Dt];return qt?Le[Dt].readdir(qt):[]}))).map(Dt=>(Dt===null?[]:Dt)[Symbol.iterator]());return{entries:ft,children:ai(Mt)}},He=async ft=>{const{entries:At,children:Mt}=await Je(ft),Dt=At.find(Xt=>Xt&&Xt._fullpath)._fullpath,qt=await j(Dt,At);if(qt!==null){let Xt=await we(He,Mt);return Xt=Xt.filter(nn=>nn!==void 0),se(qt,Xt)}};return He(Ie)}async function Dr(A,m){const x=await A.readdir(m);x==null?await A.rm(m):x.length?await Promise.all(x.map(_=>{const $=r.join(m,_);return A.lstat($).then(j=>{if(j)return j.isDirectory()?Dr(A,$):A.rm($)})})).then(()=>A.rmdir(m)):await A.rmdir(m)}function si(A){return ni(A)&&Ar(A.then)&&Ar(A.catch)}function ni(A){return A&&typeof A=="object"}function Ar(A){return typeof A=="function"}function vr(A){return si((x=>{try{return x.readFile().catch(_=>_)}catch(_){return _}})(A))}const qn=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function Nr(A,m){if(vr(m))for(const x of qn)A[`_${x}`]=m[x].bind(m);else for(const x of qn)A[`_${x}`]=l(m[x].bind(m));vr(m)?m.rm?A._rm=m.rm.bind(m):m.rmdir.length>1?A._rm=m.rmdir.bind(m):A._rm=Dr.bind(null,A):m.rm?A._rm=l(m.rm.bind(m)):m.rmdir.length>2?A._rm=l(m.rmdir.bind(m)):A._rm=Dr.bind(null,A)}class cn{constructor(m){if(typeof m._original_unwrapped_fs<"u")return m;const x=Object.getOwnPropertyDescriptor(m,"promises");x&&x.enumerable?Nr(this,m.promises):Nr(this,m),this._original_unwrapped_fs=m}async exists(m,x={}){try{return await this._stat(m),!0}catch(_){if(_.code==="ENOENT"||_.code==="ENOTDIR"||(_.code||"").includes("ENS"))return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',_),_}}async read(m,x={}){try{let _=await this._readFile(m,x);if(x.autocrlf==="true")try{_=new TextDecoder("utf8",{fatal:!0}).decode(_),_=_.replace(/\r\n/g,`
`),_=new TextEncoder().encode(_)}catch{}return typeof _!="string"&&(_=Buffer$1.from(_)),_}catch{return null}}async write(m,x,_={}){try{await this._writeFile(m,x,_);return}catch{await this.mkdir(Te(m)),await this._writeFile(m,x,_)}}async mkdir(m,x=!1){try{await this._mkdir(m);return}catch(_){if(_===null||_.code==="EEXIST")return;if(x)throw _;if(_.code==="ENOENT"){const $=Te(m);if($==="."||$==="/"||$===m)throw _;await this.mkdir($),await this.mkdir(m,!0)}}}async rm(m){try{await this._unlink(m)}catch(x){if(x.code!=="ENOENT")throw x}}async rmdir(m,x){try{x&&x.recursive?await this._rm(m,x):await this._rmdir(m)}catch(_){if(_.code!=="ENOENT")throw _}}async readdir(m){try{const x=await this._readdir(m);return x.sort(v),x}catch(x){return x.code==="ENOTDIR"?null:[]}}async readdirDeep(m){const x=await this._readdir(m);return(await Promise.all(x.map(async $=>{const j=m+"/"+$;return(await this._stat(j)).isDirectory()?this.readdirDeep(j):j}))).reduce(($,j)=>$.concat(j),[])}async lstat(m){try{return await this._lstat(m)}catch(x){if(x.code==="ENOENT"||(x.code||"").includes("ENS"))return null;throw x}}async readlink(m,x={encoding:"buffer"}){try{const _=await this._readlink(m,x);return Buffer$1.isBuffer(_)?_:Buffer$1.from(_)}catch(_){if(_.code==="ENOENT"||(_.code||"").includes("ENS"))return null;throw _}}async writelink(m,x){return this._symlink(x.toString("utf8"),m)}}function mt(A,m){if(m===void 0)throw new An(A)}async function Cr(A,m){return!A&&!m?!1:A&&!m||!A&&m?!0:!(await A.type()==="tree"&&await m.type()==="tree"||await A.type()===await m.type()&&await A.mode()===await m.mode()&&await A.oid()===await m.oid())}async function Tr({fs:A,dir:m,gitdir:x=r.join(m,".git"),commit:_="HEAD",cache:$={}}){try{mt("fs",A),mt("dir",m),mt("gitdir",x);const j=new cn(A),se=[Fn({ref:_}),sr(),vt()];let we=[];await Ce.acquire({fs:j,gitdir:x,cache:$},async function(Ie){we=Ie.unmergedPaths});const Le=await Or({fs:j,cache:$,dir:m,gitdir:x,trees:se,map:async function(Ie,[Ae,Je,He]){const ft=!await Cr(Je,He),At=we.includes(Ie),Mt=!await Cr(He,Ae);if(ft||At)return Ae?{path:Ie,mode:await Ae.mode(),oid:await Ae.oid(),type:await Ae.type(),content:await Ae.content()}:void 0;if(Mt)return!1;throw new Cn(Ie)}});await Ce.acquire({fs:j,gitdir:x,cache:$},async function(Ie){for(const Ae of Le)if(Ae!==!1){if(!Ae){await j.rmdir(`${m}/${Ae.path}`,{recursive:!0}),Ie.delete({filepath:Ae.path});continue}if(Ae.type==="blob"){const Je=new TextDecoder().decode(Ae.content);await j.write(`${m}/${Ae.path}`,Je,{mode:Ae.mode}),Ie.insert({filepath:Ae.path,oid:Ae.oid,stage:0})}}})}catch(j){throw j.caller="git.abortMerge",j}}class Pr{static async isIgnored({fs:m,dir:x,gitdir:_=r.join(x,".git"),filepath:$}){if(ge($)===".git")return!0;if($===".")return!1;let j="";const se=r.join(_,"info","exclude");await m.exists(se)&&(j=await m.read(se,"utf8"));const we=[{gitignore:r.join(x,".gitignore"),filepath:$}],Le=$.split("/").filter(Boolean);for(let Ae=1;Ae<Le.length;Ae++){const Je=Le.slice(0,Ae).join("/"),He=Le.slice(Ae).join("/");we.push({gitignore:r.join(x,Je,".gitignore"),filepath:He})}let Ie=!1;for(const Ae of we){let Je;try{Je=await m.read(Ae.gitignore,"utf8")}catch(At){if(At.code==="NOENT")continue}const He=c().add(j);He.add(Je);const ft=Te(Ae.filepath);if(ft!=="."&&He.ignores(ft))return!0;Ie?Ie=!He.test(Ae.filepath).unignored:Ie=He.test(Ae.filepath).ignored}return Ie}}async function b({fs:A,gitdir:m,object:x,format:_,oid:$}){const j=`objects/${$.slice(0,2)}/${$.slice(2)}`,se=`${m}/${j}`;await A.exists(se)||await A.write(se,x)}let P=null;async function M(A){return P===null&&(P=U()),P?L(A):s.deflate(A)}async function L(A){const m=new CompressionStream("deflate"),x=new Blob([A]).stream().pipeThrough(m);return new Uint8Array(await new Response(x).arrayBuffer())}function U(){try{return new CompressionStream("deflate").writable.close(),new Blob([]).stream().cancel(),!0}catch{return!1}}async function K({fs:A,gitdir:m,type:x,object:_,format:$="content",oid:j=void 0,dryRun:se=!1}){return $!=="deflated"&&($!=="wrapped"&&(_=Ue.wrap({type:x,object:_})),j=await Q(_),_=Buffer$1.from(await M(_))),se||await b({fs:A,gitdir:m,object:_,format:"deflated",oid:j}),j}function z(A){let m;for(;~(m=A.indexOf(92));)A[m]=47;return A}async function X({fs:A,dir:m,gitdir:x=r.join(m,".git"),filepath:_,cache:$={},force:j=!1,parallel:se=!0}){try{mt("fs",A),mt("dir",m),mt("gitdir",x),mt("filepath",_);const we=new cn(A);await Ce.acquire({fs:we,gitdir:x,cache:$},async Le=>{const Ae=await(await De.get({fs:we,gitdir:x})).get("core.autocrlf");return re({dir:m,gitdir:x,fs:we,filepath:_,index:Le,force:j,parallel:se,autocrlf:Ae})})}catch(we){throw we.caller="git.add",we}}async function re({dir:A,gitdir:m,fs:x,filepath:_,index:$,force:j,parallel:se,autocrlf:we}){_=Array.isArray(_)?_:[_];const Le=_.map(async He=>{if(!j&&await Pr.isIgnored({fs:x,dir:A,gitdir:m,filepath:He}))return;const ft=await x.lstat(r.join(A,He));if(!ft)throw new it(He);if(ft.isDirectory()){const At=await x.readdir(r.join(A,He));if(se){const Mt=At.map(Dt=>re({dir:A,gitdir:m,fs:x,filepath:[r.join(He,Dt)],index:$,force:j,parallel:se,autocrlf:we}));await Promise.all(Mt)}else for(const Mt of At)await re({dir:A,gitdir:m,fs:x,filepath:[r.join(He,Mt)],index:$,force:j,parallel:se,autocrlf:we})}else{const At=ft.isSymbolicLink()?await x.readlink(r.join(A,He)).then(z):await x.read(r.join(A,He),{autocrlf:we});if(At===null)throw new it(He);const Mt=await K({fs:x,gitdir:m,type:"blob",object:At});$.insert({filepath:He,stats:ft,oid:Mt})}}),Ie=await Promise.allSettled(Le),Ae=Ie.filter(He=>He.status==="rejected").map(He=>He.reason);if(Ae.length>1)throw new Bn(Ae);if(Ae.length===1)throw Ae[0];return Ie.filter(He=>He.status==="fulfilled"&&He.value).map(He=>He.value)}async function Se({fs:A,gitdir:m,path:x}){return(await De.get({fs:A,gitdir:m})).get(x)}function Be(A,...m){for(const x of m)if(x)for(const _ of Object.keys(x)){const $=x[_];$!==void 0&&(A[_]=$)}return A}async function Ge({fs:A,gitdir:m,author:x,commit:_}){const $=Math.floor(Date.now()/1e3),j={name:await Se({fs:A,gitdir:m,path:"user.name"}),email:await Se({fs:A,gitdir:m,path:"user.email"})||"",timestamp:$,timezoneOffset:new Date($*1e3).getTimezoneOffset()},se=Be({},j,_?_.author:void 0,x);if(se.name!==void 0)return se}async function et({fs:A,gitdir:m,author:x,committer:_,commit:$}){const j=Math.floor(Date.now()/1e3),se={name:await Se({fs:A,gitdir:m,path:"user.name"}),email:await Se({fs:A,gitdir:m,path:"user.email"})||"",timestamp:j,timezoneOffset:new Date(j*1e3).getTimezoneOffset()},we=Be({},se,$?$.committer:void 0,x,_);if(we.name!==void 0)return we}async function ct({fs:A,cache:m,gitdir:x,oid:_}){const{type:$,object:j}=await kt({fs:A,cache:m,gitdir:x,oid:_});if($==="tag")return _=Hn.from(j).parse().object,ct({fs:A,cache:m,gitdir:x,oid:_});if($!=="commit")throw new yt(_,$,"commit");return{commit:zn.from(j),oid:_}}async function We({fs:A,cache:m,gitdir:x,oid:_}){const{commit:$,oid:j}=await ct({fs:A,cache:m,gitdir:x,oid:_});return{oid:j,commit:$.parse(),payload:$.withoutSignature()}}async function Tt({fs:A,cache:m,onSign:x,gitdir:_,message:$,author:j,committer:se,signingKey:we,amend:Le=!1,dryRun:Ie=!1,noUpdateBranch:Ae=!1,ref:Je,parent:He,tree:ft}){let At=!1;Je||(Je=await ht.resolve({fs:A,gitdir:_,ref:"HEAD",depth:2}));let Mt,Dt;try{Mt=await ht.resolve({fs:A,gitdir:_,ref:Je}),Dt=await We({fs:A,gitdir:_,oid:Mt,cache:{}})}catch{At=!0}if(Le&&At)throw new hr(Je);const qt=Le?await Ge({fs:A,gitdir:_,author:j,commit:Dt.commit}):await Ge({fs:A,gitdir:_,author:j});if(!qt)throw new wn("author");const Xt=Le?await et({fs:A,gitdir:_,author:qt,committer:se,commit:Dt.commit}):await et({fs:A,gitdir:_,author:qt,committer:se});if(!Xt)throw new wn("committer");return Ce.acquire({fs:A,gitdir:_,cache:m,allowUnmerged:!1},async function(nn){const pn=Ke(nn.entries).get(".");if(ft||(ft=await It({fs:A,gitdir:_,inode:pn,dryRun:Ie})),He?He=await Promise.all(He.map(en=>ht.resolve({fs:A,gitdir:_,ref:en}))):Le?He=Dt.commit.parent:He=Mt?[Mt]:[],!$)if(Le)$=Dt.commit.message;else throw new An("message");let hn=zn.from({tree:ft,parent:He,author:qt,committer:Xt,message:$});we&&(hn=await zn.sign(hn,x,we));const Yt=await K({fs:A,gitdir:_,type:"commit",object:hn.toObject(),dryRun:Ie});return!Ae&&!Ie&&await ht.writeRef({fs:A,gitdir:_,ref:Je,value:Yt}),Yt})}async function It({fs:A,gitdir:m,inode:x,dryRun:_}){const $=x.children;for(const Le of $)Le.type==="tree"&&(Le.metadata.mode="040000",Le.metadata.oid=await It({fs:A,gitdir:m,inode:Le,dryRun:_}));const j=$.map(Le=>({mode:Le.metadata.mode,path:Le.basename,oid:Le.metadata.oid,type:Le.type})),se=Me.from(j);return await K({fs:A,gitdir:m,type:"tree",object:se.toObject(),dryRun:_})}async function Wt({fs:A,cache:m,gitdir:x,oid:_,filepath:$}){if($.startsWith("/"))throw new mn("leading-slash");if($.endsWith("/"))throw new mn("trailing-slash");const j=_,se=await mr({fs:A,cache:m,gitdir:x,oid:_}),we=se.tree;if($==="")_=se.oid;else{const Le=$.split("/");_=await Ut({fs:A,cache:m,gitdir:x,tree:we,pathArray:Le,oid:j,filepath:$})}return _}async function Ut({fs:A,cache:m,gitdir:x,tree:_,pathArray:$,oid:j,filepath:se}){const we=$.shift();for(const Le of _)if(Le.path===we){if($.length===0)return Le.oid;{const{type:Ie,object:Ae}=await kt({fs:A,cache:m,gitdir:x,oid:Le.oid});if(Ie!=="tree")throw new yt(j,Ie,"tree",se);return _=Me.from(Ae),Ut({fs:A,cache:m,gitdir:x,tree:_,pathArray:$,oid:j,filepath:se})}}throw new it(`file or directory found at "${j}:${se}"`)}async function Ht({fs:A,cache:m,gitdir:x,oid:_,filepath:$=void 0}){$!==void 0&&(_=await Wt({fs:A,cache:m,gitdir:x,oid:_,filepath:$}));const{tree:j,oid:se}=await mr({fs:A,cache:m,gitdir:x,oid:_});return{oid:se,tree:j.entries()}}async function un({fs:A,gitdir:m,tree:x}){const _=Me.from(x).toObject();return await K({fs:A,gitdir:m,type:"tree",object:_,format:"content"})}async function bn({fs:A,cache:m,onSign:x,gitdir:_,ref:$,oid:j,note:se,force:we,author:Le,committer:Ie,signingKey:Ae}){let Je;try{Je=await ht.resolve({gitdir:_,fs:A,ref:$})}catch(qt){if(!(qt instanceof it))throw qt}let ft=(await Ht({fs:A,cache:m,gitdir:_,oid:Je||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;if(we)ft=ft.filter(qt=>qt.path!==j);else for(const qt of ft)if(qt.path===j)throw new Qt("note",j);typeof se=="string"&&(se=Buffer$1.from(se,"utf8"));const At=await K({fs:A,gitdir:_,type:"blob",object:se,format:"content"});ft.push({mode:"100644",path:j,oid:At,type:"blob"});const Mt=await un({fs:A,gitdir:_,tree:ft});return await Tt({fs:A,cache:m,onSign:x,gitdir:_,ref:$,tree:Mt,parent:Je&&[Je],message:`Note added by 'isomorphic-git addNote'
`,author:Le,committer:Ie,signingKey:Ae})}async function Tn({fs:A,onSign:m,dir:x,gitdir:_=r.join(x,".git"),ref:$="refs/notes/commits",oid:j,note:se,force:we,author:Le,committer:Ie,signingKey:Ae,cache:Je={}}){try{mt("fs",A),mt("gitdir",_),mt("oid",j),mt("note",se),Ae&&mt("onSign",m);const He=new cn(A),ft=await Ge({fs:He,gitdir:_,author:Le});if(!ft)throw new wn("author");const At=await et({fs:He,gitdir:_,author:ft,committer:Ie});if(!At)throw new wn("committer");return await bn({fs:new cn(He),cache:Je,onSign:m,gitdir:_,ref:$,oid:j,note:se,force:we,author:ft,committer:At,signingKey:Ae})}catch(He){throw He.caller="git.addNote",He}}async function Rn({fs:A,gitdir:m,remote:x,url:_,force:$}){if(x!==u.clean(x))throw new gn(x,u.clean(x));const j=await De.get({fs:A,gitdir:m});if(!$&&(await j.getSubsections("remote")).includes(x)&&_!==await j.get(`remote.${x}.url`))throw new Qt("remote",x);await j.set(`remote.${x}.url`,_),await j.set(`remote.${x}.fetch`,`+refs/heads/*:refs/remotes/${x}/*`),await De.save({fs:A,gitdir:m,config:j})}async function kn({fs:A,dir:m,gitdir:x=r.join(m,".git"),remote:_,url:$,force:j=!1}){try{return mt("fs",A),mt("gitdir",x),mt("remote",_),mt("url",$),await Rn({fs:new cn(A),gitdir:x,remote:_,url:$,force:j})}catch(se){throw se.caller="git.addRemote",se}}async function vn({fs:A,cache:m,onSign:x,gitdir:_,ref:$,tagger:j,message:se=$,gpgsig:we,object:Le,signingKey:Ie,force:Ae=!1}){if($=$.startsWith("refs/tags/")?$:`refs/tags/${$}`,!Ae&&await ht.exists({fs:A,gitdir:_,ref:$}))throw new Qt("tag",$);const Je=await ht.resolve({fs:A,gitdir:_,ref:Le||"HEAD"}),{type:He}=await kt({fs:A,cache:m,gitdir:_,oid:Je});let ft=Hn.from({object:Je,type:He,tag:$.replace("refs/tags/",""),tagger:j,message:se,gpgsig:we});Ie&&(ft=await Hn.sign(ft,x,Ie));const At=await K({fs:A,gitdir:_,type:"tag",object:ft.toObject()});await ht.writeRef({fs:A,gitdir:_,ref:$,value:At})}async function Mn({fs:A,onSign:m,dir:x,gitdir:_=r.join(x,".git"),ref:$,tagger:j,message:se=$,gpgsig:we,object:Le,signingKey:Ie,force:Ae=!1,cache:Je={}}){try{mt("fs",A),mt("gitdir",_),mt("ref",$),Ie&&mt("onSign",m);const He=new cn(A),ft=await Ge({fs:He,gitdir:_,author:j});if(!ft)throw new wn("tagger");return await vn({fs:He,cache:Je,onSign:m,gitdir:_,ref:$,tagger:ft,message:se,gpgsig:we,object:Le,signingKey:Ie,force:Ae})}catch(He){throw He.caller="git.annotatedTag",He}}async function ir({fs:A,gitdir:m,ref:x,object:_,checkout:$=!1,force:j=!1}){if(x!==u.clean(x))throw new gn(x,u.clean(x));const se=`refs/heads/${x}`;if(!j&&await ht.exists({fs:A,gitdir:m,ref:se}))throw new Qt("branch",x,!1);let we;try{we=await ht.resolve({fs:A,gitdir:m,ref:_||"HEAD"})}catch{}we&&await ht.writeRef({fs:A,gitdir:m,ref:se,value:we}),$&&await ht.writeSymbolicRef({fs:A,gitdir:m,ref:"HEAD",value:se})}async function Ln({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_,object:$,checkout:j=!1,force:se=!1}){try{return mt("fs",A),mt("gitdir",x),mt("ref",_),await ir({fs:new cn(A),gitdir:x,ref:_,object:$,checkout:j,force:se})}catch(we){throw we.caller="git.branch",we}}const Kn=(A,m)=>A==="."||m==null||m.length===0||m==="."?!0:m.length>=A.length?m.startsWith(A):A.startsWith(m);async function ar({fs:A,cache:m,onProgress:x,onPostCheckout:_,dir:$,gitdir:j,remote:se,ref:we,filepaths:Le,noCheckout:Ie,noUpdateHead:Ae,dryRun:Je,force:He,track:ft=!0,nonBlocking:At=!1,batchSize:Mt=100}){let Dt;if(_)try{Dt=await ht.resolve({fs:A,gitdir:j,ref:"HEAD"})}catch{Dt="0000000000000000000000000000000000000000"}let qt;try{qt=await ht.resolve({fs:A,gitdir:j,ref:we})}catch(Xt){if(we==="HEAD")throw Xt;const nn=`${se}/${we}`;if(qt=await ht.resolve({fs:A,gitdir:j,ref:nn}),ft){const dn=await De.get({fs:A,gitdir:j});await dn.set(`branch.${we}.remote`,se),await dn.set(`branch.${we}.merge`,`refs/heads/${we}`),await De.save({fs:A,gitdir:j,config:dn})}await ht.writeRef({fs:A,gitdir:j,ref:`refs/heads/${we}`,value:qt})}if(!Ie){let Xt;try{Xt=await Er({fs:A,cache:m,onProgress:x,dir:$,gitdir:j,ref:we,force:He,filepaths:Le})}catch(Yt){throw Yt instanceof it&&Yt.data.what===qt?new Zt(we,qt):Yt}const nn=Xt.filter(([Yt])=>Yt==="conflict").map(([Yt,en])=>en);if(nn.length>0)throw new fn(nn);const dn=Xt.filter(([Yt])=>Yt==="error").map(([Yt,en])=>en);if(dn.length>0)throw new p(dn.join(", "));if(Je){_&&await _({previousHead:Dt,newHead:qt,type:Le!=null&&Le.length>0?"file":"branch"});return}let pn=0;const hn=Xt.length;if(await Ce.acquire({fs:A,gitdir:j,cache:m},async function(Yt){await Promise.all(Xt.filter(([en])=>en==="delete"||en==="delete-index").map(async function([en,sn]){const Qn=`${$}/${sn}`;en==="delete"&&await A.rm(Qn),Yt.delete({filepath:sn}),x&&await x({phase:"Updating workdir",loaded:++pn,total:hn})}))}),await Ce.acquire({fs:A,gitdir:j,cache:m},async function(Yt){for(const[en,sn]of Xt)if(en==="rmdir"||en==="rmdir-index"){const Qn=`${$}/${sn}`;try{en==="rmdir"&&await A.rmdir(Qn),Yt.delete({filepath:sn}),x&&await x({phase:"Updating workdir",loaded:++pn,total:hn})}catch(Zn){if(Zn.code==="ENOTEMPTY")console.log(`Did not delete ${sn} because directory is not empty`);else throw Zn}}}),await Promise.all(Xt.filter(([Yt])=>Yt==="mkdir"||Yt==="mkdir-index").map(async function([Yt,en]){const sn=`${$}/${en}`;await A.mkdir(sn),x&&await x({phase:"Updating workdir",loaded:++pn,total:hn})})),At){const Yt=Xt.filter(([sn])=>sn==="create"||sn==="create-index"||sn==="update"||sn==="mkdir-index"),en=await Xr("Update Working Dir",Yt.map(([sn,Qn,Zn,lr,Xn])=>()=>Wr({fs:A,cache:m,gitdir:j,dir:$},[sn,Qn,Zn,lr,Xn])),x,Mt);await Ce.acquire({fs:A,gitdir:j,cache:m,allowUnmerged:!0},async function(sn){await Xr("Update Index",en.map(([Qn,Zn,lr])=>()=>$r({index:sn,fullpath:Qn,oid:Zn,stats:lr})),x,Mt)})}else await Ce.acquire({fs:A,gitdir:j,cache:m,allowUnmerged:!0},async function(Yt){await Promise.all(Xt.filter(([en])=>en==="create"||en==="create-index"||en==="update"||en==="mkdir-index").map(async function([en,sn,Qn,Zn,lr]){const Xn=`${$}/${sn}`;try{if(en!=="create-index"&&en!=="mkdir-index"){const{object:dr}=await kt({fs:A,cache:m,gitdir:j,oid:Qn});if(lr&&await A.rm(Xn),Zn===33188)await A.write(Xn,dr);else if(Zn===33261)await A.write(Xn,dr,{mode:511});else if(Zn===40960)await A.writelink(Xn,dr);else throw new p(`Invalid mode 0o${Zn.toString(8)} detected in blob ${Qn}`)}const cr=await A.lstat(Xn);Zn===33261&&(cr.mode=493),en==="mkdir-index"&&(cr.mode=57344),Yt.insert({filepath:sn,stats:cr,oid:Qn}),x&&await x({phase:"Updating workdir",loaded:++pn,total:hn})}catch(cr){console.log(cr)}}))});_&&await _({previousHead:Dt,newHead:qt,type:Le!=null&&Le.length>0?"file":"branch"})}if(!Ae){const Xt=await ht.expand({fs:A,gitdir:j,ref:we});Xt.startsWith("refs/heads")?await ht.writeSymbolicRef({fs:A,gitdir:j,ref:"HEAD",value:Xt}):await ht.writeRef({fs:A,gitdir:j,ref:"HEAD",value:qt})}}async function Er({fs:A,cache:m,onProgress:x,dir:_,gitdir:$,ref:j,force:se,filepaths:we}){let Le=0;return Or({fs:A,cache:m,dir:_,gitdir:$,trees:[Fn({ref:j}),sr(),vt()],map:async function(Ie,[Ae,Je,He]){if(Ie===".")return;if(we&&!we.some(At=>Kn(Ie,At)))return null;switch(x&&await x({phase:"Analyzing workdir",loaded:++Le}),[!!He,!!Ae,!!Je].map(Number).join("")){case"000":return;case"001":return se&&we&&we.includes(Ie)?["delete",Ie]:void 0;case"010":switch(await Ae.type()){case"tree":return["mkdir",Ie];case"blob":return["create",Ie,await Ae.oid(),await Ae.mode()];case"commit":return["mkdir-index",Ie,await Ae.oid(),await Ae.mode()];default:return["error",`new entry Unhandled type ${await Ae.type()}`]}case"011":switch(`${await Ae.type()}-${await Je.type()}`){case"tree-tree":return;case"tree-blob":case"blob-tree":return["conflict",Ie];case"blob-blob":return await Ae.oid()!==await Je.oid()?se?["update",Ie,await Ae.oid(),await Ae.mode(),await Ae.mode()!==await Je.mode()]:["conflict",Ie]:await Ae.mode()!==await Je.mode()?se?["update",Ie,await Ae.oid(),await Ae.mode(),!0]:["conflict",Ie]:["create-index",Ie,await Ae.oid(),await Ae.mode()];case"commit-tree":return;case"commit-blob":return["conflict",Ie];default:return["error",`new entry Unhandled type ${Ae.type}`]}case"100":return["delete-index",Ie];case"101":switch(await He.type()){case"tree":return["rmdir-index",Ie];case"blob":return await He.oid()!==await Je.oid()?se?["delete",Ie]:["conflict",Ie]:["delete",Ie];case"commit":return["rmdir-index",Ie];default:return["error",`delete entry Unhandled type ${await He.type()}`]}case"110":case"111":switch(`${await He.type()}-${await Ae.type()}`){case"tree-tree":return;case"blob-blob":{if(await He.oid()===await Ae.oid()&&await He.mode()===await Ae.mode()&&!se)return;if(Je){if(await Je.oid()!==await He.oid()&&await Je.oid()!==await Ae.oid())return se?["update",Ie,await Ae.oid(),await Ae.mode(),await Ae.mode()!==await Je.mode()]:["conflict",Ie]}else if(se)return["update",Ie,await Ae.oid(),await Ae.mode(),await Ae.mode()!==await He.mode()];return await Ae.mode()!==await He.mode()?["update",Ie,await Ae.oid(),await Ae.mode(),!0]:await Ae.oid()!==await He.oid()?["update",Ie,await Ae.oid(),await Ae.mode(),!1]:void 0}case"tree-blob":return["update-dir-to-blob",Ie,await Ae.oid()];case"blob-tree":return["update-blob-to-tree",Ie];case"commit-commit":return["mkdir-index",Ie,await Ae.oid(),await Ae.mode()];default:return["error",`update entry Unhandled type ${await He.type()}-${await Ae.type()}`]}}},reduce:async function(Ie,Ae){return Ae=ti(Ae),Ie?Ie&&Ie[0]==="rmdir"?(Ae.push(Ie),Ae):(Ae.unshift(Ie),Ae):Ae}})}async function $r({index:A,fullpath:m,stats:x,oid:_}){try{A.insert({filepath:m,stats:x,oid:_})}catch($){console.warn(`Error inserting ${m} into index:`,$)}}async function Wr({fs:A,cache:m,gitdir:x,dir:_},[$,j,se,we,Le]){const Ie=`${_}/${j}`;if($!=="create-index"&&$!=="mkdir-index"){const{object:Je}=await kt({fs:A,cache:m,gitdir:x,oid:se});if(Le&&await A.rm(Ie),we===33188)await A.write(Ie,Je);else if(we===33261)await A.write(Ie,Je,{mode:511});else if(we===40960)await A.writelink(Ie,Je);else throw new p(`Invalid mode 0o${we.toString(8)} detected in blob ${se}`)}const Ae=await A.lstat(Ie);return we===33261&&(Ae.mode=493),$==="mkdir-index"&&(Ae.mode=57344),[j,se,Ae]}async function Xr(A,m,x,_){const $=[];try{for(let j=0;j<m.length;j+=_){const se=m.slice(j,j+_).map(Le=>Le());(await Promise.allSettled(se)).forEach(Le=>{Le.status==="fulfilled"&&$.push(Le.value)}),x&&await x({phase:"Updating workdir",loaded:j+se.length,total:m.length})}return $}catch(j){console.error(`Error during ${A}: ${j}`)}return $}async function Yr({fs:A,onProgress:m,onPostCheckout:x,dir:_,gitdir:$=r.join(_,".git"),remote:j="origin",ref:se,filepaths:we,noCheckout:Le=!1,noUpdateHead:Ie=se===void 0,dryRun:Ae=!1,force:Je=!1,track:He=!0,cache:ft={},nonBlocking:At=!1,batchSize:Mt=100}){try{mt("fs",A),mt("dir",_),mt("gitdir",$);const Dt=se||"HEAD";return await ar({fs:new cn(A),cache:ft,onProgress:m,onPostCheckout:x,dir:_,gitdir:$,remote:j,ref:Dt,filepaths:we,noCheckout:Le,noUpdateHead:Ie,dryRun:Ae,force:Je,track:He,nonBlocking:At,batchSize:Mt})}catch(Dt){throw Dt.caller="git.checkout",Dt}}const zr=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function br(A){const m=zr.exec(A);return m?m[1]==="remotes/"&&A.endsWith("/HEAD")?m[2].slice(0,-5):m[2]:A}async function wr({fs:A,gitdir:m,fullname:x=!1,test:_=!1}){const $=await ht.resolve({fs:A,gitdir:m,ref:"HEAD",depth:2});if(_)try{await ht.resolve({fs:A,gitdir:m,ref:$})}catch{return}if($.startsWith("refs/"))return x?$:br($)}function li(A){return A=A.replace(/^git@([^:]+):/,"https://$1/"),A=A.replace(/^ssh:\/\//,"https://"),A}function ci({username:A="",password:m=""}){return`Basic ${Buffer$1.from(`${A}:${m}`).toString("base64")}`}async function Fr(A,m){const x=Ot(A);for(;;){const{value:_,done:$}=await x.next();if(_&&await m(_),$)break}x.return&&x.return()}async function Jn(A){let m=0;const x=[];await Fr(A,j=>{x.push(j),m+=j.byteLength});const _=new Uint8Array(m);let $=0;for(const j of x)_.set(j,$),$+=j.byteLength;return _}function ui(A){let m=A.match(/^https?:\/\/([^/]+)@/);if(m==null)return{url:A,auth:{}};m=m[1];const[x,_]=m.split(":");return A=A.replace(`${m}@`,""),{url:A,auth:{username:x,password:_}}}function ri(A,m){const x=m.toString(16);return"0".repeat(A-x.length)+x}class er{static flush(){return Buffer$1.from("0000","utf8")}static delim(){return Buffer$1.from("0001","utf8")}static encode(m){typeof m=="string"&&(m=Buffer$1.from(m));const x=m.length+4,_=ri(4,x);return Buffer$1.concat([Buffer$1.from(_,"utf8"),m])}static streamReader(m){const x=new Gt(m);return async function(){try{let $=await x.read(4);if($==null)return!0;if($=parseInt($.toString("utf8"),16),$===0||$===1)return null;const j=await x.read($-4);return j??!0}catch($){return m.error=$,!0}}}}async function Ti(A){const m={};let x;for(;x=await A(),x!==!0;){if(x===null)continue;x=x.toString("utf8").replace(/\n$/,"");const _=x.indexOf("=");if(_>-1){const $=x.slice(0,_),j=x.slice(_+1);m[$]=j}else m[x]=!0}return{protocolVersion:2,capabilities2:m}}async function Pi(A,{service:m}){const x=new Set,_=new Map,$=new Map,j=er.streamReader(A);let se=await j();for(;se===null;)se=await j();if(se===!0)throw new rn;if(se.includes("version 2"))return Ti(j);if(se.toString("utf8").replace(/\n$/,"")!==`# service=${m}`)throw new jn(`# service=${m}\\n`,se.toString("utf8"));let we=await j();for(;we===null;)we=await j();if(we===!0)return{capabilities:x,refs:_,symrefs:$};if(we=we.toString("utf8"),we.includes("version 2"))return Ti(j);const[Le,Ie]=ii(we,"\0","\\x00");if(Ie.split(" ").map(Ae=>x.add(Ae)),Le!=="0000000000000000000000000000000000000000 capabilities^{}"){const[Ae,Je]=ii(Le," "," ");for(_.set(Je,Ae);;){const He=await j();if(He===!0)break;if(He!==null){const[ft,At]=ii(He.toString("utf8")," "," ");_.set(At,ft)}}}for(const Ae of x)if(Ae.startsWith("symref=")){const Je=Ae.match(/symref=([^:]+):(.*)/);Je.length===3&&$.set(Je[1],Je[2])}return{protocolVersion:1,capabilities:x,refs:_,symrefs:$}}function ii(A,m,x){const _=A.trim().split(m);if(_.length!==2)throw new jn(`Two strings separated by '${x}'`,A.toString("utf8"));return _}const Vi=(A,m)=>A.endsWith("?")?`${A}${m}`:`${A}/${m.replace(/^https?:\/\//,"")}`,Ei=(A,m)=>{(m.username||m.password)&&(A.Authorization=ci(m)),m.headers&&Object.assign(A,m.headers)},$i=async A=>{try{const m=Buffer$1.from(await Jn(A.body)),x=m.toString("utf8");return{preview:x.length<256?x:x.slice(0,256)+"...",response:x,data:m}}catch{return{}}};class bi{static async capabilities(){return["discover","connect"]}static async discover({http:m,onProgress:x,onAuth:_,onAuthSuccess:$,onAuthFailure:j,corsProxy:se,service:we,url:Le,headers:Ie,protocolVersion:Ae}){let{url:Je,auth:He}=ui(Le);const ft=se?Vi(se,Je):Je;(He.username||He.password)&&(Ie.Authorization=ci(He)),Ae===2&&(Ie["Git-Protocol"]="version=2");let At,Mt,Dt=!1;do if(At=await m.request({onProgress:x,method:"GET",url:`${ft}/info/refs?service=${we}`,headers:Ie}),Mt=!1,At.statusCode===401||At.statusCode===203){const qt=Dt?j:_;if(qt){if(He=await qt(Je,{...He,headers:{...Ie}}),He&&He.cancel)throw new Gn;He&&(Ei(Ie,He),Dt=!0,Mt=!0)}}else At.statusCode===200&&Dt&&$&&await $(Je,He);while(Mt);if(At.statusCode!==200){const{response:qt}=await $i(At);throw new xn(At.statusCode,At.statusMessage,qt)}if(At.headers["content-type"]===`application/x-${we}-advertisement`){const qt=await Pi(At.body,{service:we});return qt.auth=He,qt}else{const{preview:qt,response:Xt,data:nn}=await $i(At);try{const dn=await Pi([nn],{service:we});return dn.auth=He,dn}catch{throw new Un(qt,Xt)}}}static async connect({http:m,onProgress:x,corsProxy:_,service:$,url:j,auth:se,body:we,headers:Le}){const Ie=ui(j);Ie&&(j=Ie.url),_&&(j=Vi(_,j)),Le["content-type"]=`application/x-${$}-request`,Le.accept=`application/x-${$}-result`,Ei(Le,se);const Ae=await m.request({onProgress:x,method:"POST",url:`${j}/${$}`,body:we,headers:Le});if(Ae.statusCode!==200){const{response:Je}=$i(Ae);throw new xn(Ae.statusCode,Ae.statusMessage,Je)}return Ae}}class wi{static getRemoteHelperFor({url:m}){const x=new Map;x.set("http",bi),x.set("https",bi);const _=So({url:m});if(!_)throw new Yn(m);if(x.has(_.transport))return x.get(_.transport);throw new rr(m,_.transport,_.transport==="ssh"?li(m):void 0)}}function So({url:A}){if(A.startsWith("git@"))return{transport:"ssh",address:A};const m=A.match(/(\w+)(:\/\/|::)(.*)/);if(m!==null){if(m[2]==="://")return{transport:m[1],address:m[0]};if(m[2]==="::")return{transport:m[1],address:m[3]}}}let Qr=null;class hi{static async read({fs:m,gitdir:x}){Qr===null&&(Qr=new e);const _=r.join(x,"shallow"),$=new Set;return await Qr.acquire(_,async function(){const j=await m.read(_,{encoding:"utf8"});if(j===null||j.trim()==="")return $;j.trim().split(`
`).map(se=>$.add(se))}),$}static async write({fs:m,gitdir:x,oids:_}){Qr===null&&(Qr=new e);const $=r.join(x,"shallow");if(_.size>0){const j=[..._].join(`
`)+`
`;await Qr.acquire($,async function(){await m.write($,j,{encoding:"utf8"})})}else await Qr.acquire($,async function(){await m.rm($)})}}async function Qi({fs:A,gitdir:m,oid:x}){const _=`objects/${x.slice(0,2)}/${x.slice(2)}`;return A.exists(`${m}/${_}`)}async function jr({fs:A,cache:m,gitdir:x,oid:_,getExternalRefDelta:$}){let j=await A.readdir(r.join(x,"objects/pack"));j=j.filter(se=>se.endsWith(".idx"));for(const se of j){const we=`${x}/objects/pack/${se}`,Le=await wt({fs:A,cache:m,filename:we,getExternalRefDelta:$});if(Le.error)throw new p(Le.error);if(Le.offsets.has(_))return!0}return!1}async function Wi({fs:A,cache:m,gitdir:x,oid:_,format:$="content"}){const j=we=>kt({fs:A,cache:m,gitdir:x,oid:we});let se=await Qi({fs:A,gitdir:x,oid:_});return se||(se=await jr({fs:A,cache:m,gitdir:x,oid:_,getExternalRefDelta:j})),se}function _o(A){const $="5041434b"+"00000002"+"00000000";return A.slice(0,12).toString("hex")===$}function Yi(A,m){const x=A.map(_=>_.split("=",1)[0]);return m.filter(_=>{const $=_.split("=",1)[0];return x.includes($)})}const fi={name:"isomorphic-git",version:"1.33.1",agent:"git/isomorphic-git@1.33.1"};class di{constructor(){this._queue=[]}write(m){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){const x=this._waiting;this._waiting=null,x({value:m})}else this._queue.push(m)}end(){if(this._ended=!0,this._waiting){const m=this._waiting;this._waiting=null,m({done:!0})}}destroy(m){this.error=m,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(m=>{this._waiting=m})}}function Ao(A){const m=A.indexOf("\r"),x=A.indexOf(`
`);return m===-1&&x===-1?-1:m===-1?x+1:x===-1?m+1:x===m+1?x+1:Math.min(m,x)+1}function Hi(A){const m=new di;let x="";return(async()=>(await Fr(A,_=>{for(_=_.toString("utf8"),x+=_;;){const $=Ao(x);if($===-1)break;m.write(x.slice(0,$)),x=x.slice($)}}),x.length>0&&m.write(x),m.end()))(),m}class Ki{static demux(m){const x=er.streamReader(m),_=new di,$=new di,j=new di,se=async function(){const we=await x();if(we===null)return se();if(we===!0){_.end(),j.end(),m.error?$.destroy(m.error):$.end();return}switch(we[0]){case 1:{$.write(we.slice(1));break}case 2:{j.write(we.slice(1));break}case 3:{const Le=we.slice(1);j.write(Le),_.end(),j.end(),$.destroy(new Error(Le.toString("utf8")));return}default:_.write(we)}se()};return se(),{packetlines:_,packfile:$,progress:j}}}async function Co(A){const{packetlines:m,packfile:x,progress:_}=Ki.demux(A),$=[],j=[],se=[];let we=!1,Le=!1;return new Promise((Ie,Ae)=>{Fr(m,Je=>{const He=Je.toString("utf8").trim();if(He.startsWith("shallow")){const ft=He.slice(-41).trim();ft.length!==40&&Ae(new xt(ft)),$.push(ft)}else if(He.startsWith("unshallow")){const ft=He.slice(-41).trim();ft.length!==40&&Ae(new xt(ft)),j.push(ft)}else if(He.startsWith("ACK")){const[,ft,At]=He.split(" ");se.push({oid:ft,status:At}),At||(Le=!0)}else He.startsWith("NAK")?(we=!0,Le=!0):(Le=!0,we=!0);Le&&(A.error?Ae(A.error):Ie({shallows:$,unshallows:j,acks:se,nak:we,packfile:x,progress:_}))}).finally(()=>{Le||(A.error?Ae(A.error):Ie({shallows:$,unshallows:j,acks:se,nak:we,packfile:x,progress:_}))})})}function Ji({capabilities:A=[],wants:m=[],haves:x=[],shallows:_=[],depth:$=null,since:j=null,exclude:se=[]}){const we=[];m=[...new Set(m)];let Le=` ${A.join(" ")}`;for(const Ie of m)we.push(er.encode(`want ${Ie}${Le}
`)),Le="";for(const Ie of _)we.push(er.encode(`shallow ${Ie}
`));$!==null&&we.push(er.encode(`deepen ${$}
`)),j!==null&&we.push(er.encode(`deepen-since ${Math.floor(j.valueOf()/1e3)}
`));for(const Ie of se)we.push(er.encode(`deepen-not ${Ie}
`));we.push(er.flush());for(const Ie of x)we.push(er.encode(`have ${Ie}
`));return we.push(er.encode(`done
`)),we}async function Ri({fs:A,cache:m,http:x,onProgress:_,onMessage:$,onAuth:j,onAuthSuccess:se,onAuthFailure:we,gitdir:Le,ref:Ie,remoteRef:Ae,remote:Je,url:He,corsProxy:ft,depth:At=null,since:Mt=null,exclude:Dt=[],relative:qt=!1,tags:Xt=!1,singleBranch:nn=!1,headers:dn={},prune:pn=!1,pruneTags:hn=!1}){const Yt=Ie||await wr({fs:A,gitdir:Le,test:!0}),en=await De.get({fs:A,gitdir:Le}),sn=Je||Yt&&await en.get(`branch.${Yt}.remote`)||"origin",Qn=He||await en.get(`remote.${sn}.url`);if(typeof Qn>"u")throw new An("remote OR url");const Zn=Ae||Yt&&await en.get(`branch.${Yt}.merge`)||Ie||"HEAD";ft===void 0&&(ft=await en.get("http.corsProxy"));const lr=wi.getRemoteHelperFor({url:Qn}),Xn=await lr.discover({http:x,onAuth:j,onAuthSuccess:se,onAuthFailure:we,corsProxy:ft,service:"git-upload-pack",url:Qn,headers:dn,protocolVersion:1}),cr=Xn.auth,dr=Xn.refs;if(dr.size===0)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(At!==null&&!Xn.capabilities.has("shallow"))throw new nr("shallow","depth");if(Mt!==null&&!Xn.capabilities.has("deepen-since"))throw new nr("deepen-since","since");if(Dt.length>0&&!Xn.capabilities.has("deepen-not"))throw new nr("deepen-not","exclude");if(qt===!0&&!Xn.capabilities.has("deepen-relative"))throw new nr("deepen-relative","relative");const{oid:Oi,fullref:vi}=ht.resolveAgainstMap({ref:Zn,map:dr});for(const Wn of dr.keys())Wn===vi||Wn==="HEAD"||Wn.startsWith("refs/heads/")||Xt&&Wn.startsWith("refs/tags/")||dr.delete(Wn);const Ci=Yi([...Xn.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${fi.agent}`]);qt&&Ci.push("deepen-relative");const Do=nn?[Oi]:dr.values(),No=nn?[Yt]:await ht.listRefs({fs:A,gitdir:Le,filepath:"refs"});let kr=[];for(let Wn of No)try{Wn=await ht.expand({fs:A,gitdir:Le,ref:Wn});const pr=await ht.resolve({fs:A,gitdir:Le,ref:Wn});await Wi({fs:A,cache:m,gitdir:Le,oid:pr})&&kr.push(pr)}catch{}kr=[...new Set(kr)];const or=await hi.read({fs:A,gitdir:Le}),Gr=Xn.capabilities.has("shallow")?[...or]:[],gr=Ji({capabilities:Ci,wants:Do,haves:kr,shallows:Gr,depth:At,since:Mt,exclude:Dt}),Xi=Buffer$1.from(await Jn(gr)),yi=await lr.connect({http:x,onProgress:_,corsProxy:ft,service:"git-upload-pack",url:Qn,auth:cr,body:[Xi],headers:dn}),ur=await Co(yi.body);yi.headers&&(ur.headers=yi.headers);for(const Wn of ur.shallows)if(!or.has(Wn))try{const{object:pr}=await kt({fs:A,cache:m,gitdir:Le,oid:Wn}),Rr=new zn(pr),Ur=await Promise.all(Rr.headers().parent.map(Ui=>Wi({fs:A,cache:m,gitdir:Le,oid:Ui})));Ur.length===0||Ur.every(Ui=>Ui)||or.add(Wn)}catch{or.add(Wn)}for(const Wn of ur.unshallows)or.delete(Wn);if(await hi.write({fs:A,gitdir:Le,oids:or}),nn){const Wn=new Map([[vi,Oi]]),pr=new Map;let Rr=10,Ur=vi;for(;Rr--;){const Fo=Xn.symrefs.get(Ur);if(Fo===void 0)break;pr.set(Ur,Fo),Ur=Fo}const zo=dr.get(Ur);zo&&Wn.set(Ur,zo);const{pruned:Ui}=await ht.updateRemoteRefs({fs:A,gitdir:Le,remote:sn,refs:Wn,symrefs:pr,tags:Xt,prune:pn});pn&&(ur.pruned=Ui)}else{const{pruned:Wn}=await ht.updateRemoteRefs({fs:A,gitdir:Le,remote:sn,refs:dr,symrefs:Xn.symrefs,tags:Xt,prune:pn,pruneTags:hn});pn&&(ur.pruned=Wn)}if(ur.HEAD=Xn.symrefs.get("HEAD"),ur.HEAD===void 0){const{oid:Wn}=ht.resolveAgainstMap({ref:"HEAD",map:dr});for(const[pr,Rr]of dr.entries())if(pr!=="HEAD"&&Rr===Wn){ur.HEAD=pr;break}}const Wa=vi.startsWith("refs/tags")?"tag":"branch";if(ur.FETCH_HEAD={oid:Oi,description:`${Wa} '${br(vi)}' of ${Qn}`},_||$){const Wn=Hi(ur.progress);Fr(Wn,async pr=>{if($&&await $(pr),_){const Rr=pr.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);Rr&&await _({phase:Rr[1].trim(),loaded:parseInt(Rr[2],10),total:parseInt(Rr[3],10)})}})}const ko=Buffer$1.from(await Jn(ur.packfile));if(yi.body.error)throw yi.body.error;const Aa=ko.slice(-20).toString("hex"),Gi={defaultBranch:ur.HEAD,fetchHead:ur.FETCH_HEAD.oid,fetchHeadDescription:ur.FETCH_HEAD.description};if(ur.headers&&(Gi.headers=ur.headers),pn&&(Gi.pruned=ur.pruned),Aa!==""&&!_o(ko)){Gi.packfile=`objects/pack/pack-${Aa}.pack`;const Wn=r.join(Le,Gi.packfile);await A.write(Wn,ko);const pr=Ur=>kt({fs:A,cache:m,gitdir:Le,oid:Ur}),Rr=await Lt.fromPack({pack:ko,getExternalRefDelta:pr,onProgress:_});await A.write(Wn.replace(/\.pack$/,".idx"),await Rr.toBuffer())}return Gi}async function xi({fs:A,bare:m=!1,dir:x,gitdir:_=m?x:r.join(x,".git"),defaultBranch:$="master"}){if(await A.exists(_+"/config"))return;let j=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];j=j.map(se=>_+"/"+se);for(const se of j)await A.mkdir(se);await A.write(_+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${m}
`+(m?"":`	logallrefupdates = true
`)+`	symlinks = false
	ignorecase = true
`),await A.write(_+"/HEAD",`ref: refs/heads/${$}
`)}async function To({fs:A,cache:m,http:x,onProgress:_,onMessage:$,onAuth:j,onAuthSuccess:se,onAuthFailure:we,onPostCheckout:Le,dir:Ie,gitdir:Ae,url:Je,corsProxy:He,ref:ft,remote:At,depth:Mt,since:Dt,exclude:qt,relative:Xt,singleBranch:nn,noCheckout:dn,noTags:pn,headers:hn,nonBlocking:Yt,batchSize:en=100}){try{if(await xi({fs:A,gitdir:Ae}),await Rn({fs:A,gitdir:Ae,remote:At,url:Je,force:!1}),He){const Zn=await De.get({fs:A,gitdir:Ae});await Zn.set("http.corsProxy",He),await De.save({fs:A,gitdir:Ae,config:Zn})}const{defaultBranch:sn,fetchHead:Qn}=await Ri({fs:A,cache:m,http:x,onProgress:_,onMessage:$,onAuth:j,onAuthSuccess:se,onAuthFailure:we,gitdir:Ae,ref:ft,remote:At,corsProxy:He,depth:Mt,since:Dt,exclude:qt,relative:Xt,singleBranch:nn,headers:hn,tags:!pn});if(Qn===null)return;ft=ft||sn,ft=ft.replace("refs/heads/",""),await ar({fs:A,cache:m,onProgress:_,onPostCheckout:Le,dir:Ie,gitdir:Ae,ref:ft,remote:At,noCheckout:dn,nonBlocking:Yt,batchSize:en})}catch(sn){throw await A.rmdir(Ae,{recursive:!0,maxRetries:10}).catch(()=>{}),sn}}async function eo({fs:A,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,onPostCheckout:we,dir:Le,gitdir:Ie=r.join(Le,".git"),url:Ae,corsProxy:Je=void 0,ref:He=void 0,remote:ft="origin",depth:At=void 0,since:Mt=void 0,exclude:Dt=[],relative:qt=!1,singleBranch:Xt=!1,noCheckout:nn=!1,noTags:dn=!1,headers:pn={},cache:hn={},nonBlocking:Yt=!1,batchSize:en=100}){try{return mt("fs",A),mt("http",m),mt("gitdir",Ie),nn||mt("dir",Le),mt("url",Ae),await To({fs:new cn(A),cache:hn,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,onPostCheckout:we,dir:Le,gitdir:Ie,url:Ae,corsProxy:Je,ref:He,remote:ft,depth:At,since:Mt,exclude:Dt,relative:qt,singleBranch:Xt,noCheckout:nn,noTags:dn,headers:pn,nonBlocking:Yt,batchSize:en})}catch(sn){throw sn.caller="git.clone",sn}}async function Mi({fs:A,onSign:m,dir:x,gitdir:_=r.join(x,".git"),message:$,author:j,committer:se,signingKey:we,amend:Le=!1,dryRun:Ie=!1,noUpdateBranch:Ae=!1,ref:Je,parent:He,tree:ft,cache:At={}}){try{mt("fs",A),Le||mt("message",$),we&&mt("onSign",m);const Mt=new cn(A);return await Tt({fs:Mt,cache:At,onSign:m,gitdir:_,message:$,author:j,committer:se,signingKey:we,amend:Le,dryRun:Ie,noUpdateBranch:Ae,ref:Je,parent:He,tree:ft})}catch(Mt){throw Mt.caller="git.commit",Mt}}async function pi({fs:A,dir:m,gitdir:x=r.join(m,".git"),fullname:_=!1,test:$=!1}){try{return mt("fs",A),mt("gitdir",x),await wr({fs:new cn(A),gitdir:x,fullname:_,test:$})}catch(j){throw j.caller="git.currentBranch",j}}async function ki({fs:A,gitdir:m,ref:x}){if(x=x.startsWith("refs/heads/")?x:`refs/heads/${x}`,!await ht.exists({fs:A,gitdir:m,ref:x}))throw new it(x);const $=await ht.expand({fs:A,gitdir:m,ref:x}),j=await wr({fs:A,gitdir:m,fullname:!0});if($===j){const Le=await ht.resolve({fs:A,gitdir:m,ref:$});await ht.writeRef({fs:A,gitdir:m,ref:"HEAD",value:Le})}await ht.deleteRef({fs:A,gitdir:m,ref:$});const se=br(x),we=await De.get({fs:A,gitdir:m});await we.deleteSection("branch",se),await De.save({fs:A,gitdir:m,config:we})}async function to({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_}){try{return mt("fs",A),mt("ref",_),await ki({fs:new cn(A),gitdir:x,ref:_})}catch($){throw $.caller="git.deleteBranch",$}}async function no({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_}){try{mt("fs",A),mt("ref",_),await ht.deleteRef({fs:new cn(A),gitdir:x,ref:_})}catch($){throw $.caller="git.deleteRef",$}}async function ro({fs:A,gitdir:m,remote:x}){const _=await De.get({fs:A,gitdir:m});await _.deleteSection("remote",x),await De.save({fs:A,gitdir:m,config:_})}async function Bi({fs:A,dir:m,gitdir:x=r.join(m,".git"),remote:_}){try{return mt("fs",A),mt("remote",_),await ro({fs:new cn(A),gitdir:x,remote:_})}catch($){throw $.caller="git.deleteRemote",$}}async function Si({fs:A,gitdir:m,ref:x}){x=x.startsWith("refs/tags/")?x:`refs/tags/${x}`,await ht.deleteRef({fs:A,gitdir:m,ref:x})}async function io({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_}){try{return mt("fs",A),mt("ref",_),await Si({fs:new cn(A),gitdir:x,ref:_})}catch($){throw $.caller="git.deleteTag",$}}async function Po({fs:A,gitdir:m,oid:x}){const _=x.slice(0,2);return(await A.readdir(`${m}/objects/${_}`)).map(j=>`${_}${j}`).filter(j=>j.startsWith(x))}async function Eo({fs:A,cache:m,gitdir:x,oid:_,getExternalRefDelta:$}){const j=[];let se=await A.readdir(r.join(x,"objects/pack"));se=se.filter(we=>we.endsWith(".idx"));for(const we of se){const Le=`${x}/objects/pack/${we}`,Ie=await wt({fs:A,cache:m,filename:Le,getExternalRefDelta:$});if(Ie.error)throw new p(Ie.error);for(const Ae of Ie.offsets.keys())Ae.startsWith(_)&&j.push(Ae)}return j}async function $o({fs:A,cache:m,gitdir:x,oid:_}){const $=we=>kt({fs:A,cache:m,gitdir:x,oid:we}),j=await Po({fs:A,gitdir:x,oid:_}),se=await Eo({fs:A,cache:m,gitdir:x,oid:_,getExternalRefDelta:$});for(const we of se)j.indexOf(we)===-1&&j.push(we);if(j.length===1)return j[0];throw j.length>1?new jt("oids",_,j):new it(`an object matching "${_}"`)}async function Ii({fs:A,dir:m,gitdir:x=r.join(m,".git"),oid:_,cache:$={}}){try{return mt("fs",A),mt("gitdir",x),mt("oid",_),await $o({fs:new cn(A),cache:$,gitdir:x,oid:_})}catch(j){throw j.caller="git.expandOid",j}}async function Li({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_}){try{return mt("fs",A),mt("gitdir",x),mt("ref",_),await ht.expand({fs:new cn(A),gitdir:x,ref:_})}catch($){throw $.caller="git.expandRef",$}}async function Di({fs:A,cache:m,gitdir:x,oids:_}){const $={},j=_.length;let se=_.map((we,Le)=>({index:Le,oid:we}));for(;se.length;){const we=new Set;for(const{oid:Ie,index:Ae}of se)$[Ie]||($[Ie]=new Set),$[Ie].add(Ae),$[Ie].size===j&&we.add(Ie);if(we.size>0)return[...we];const Le=new Map;for(const{oid:Ie,index:Ae}of se)try{const{object:Je}=await kt({fs:A,cache:m,gitdir:x,oid:Ie}),He=zn.from(Je),{parent:ft}=He.parseHeaders();for(const At of ft)(!$[At]||!$[At].has(Ae))&&Le.set(At+":"+Ae,{oid:At,index:Ae})}catch{}se=Array.from(Le.values())}return[]}const Ni=/^.*(\r?\n|$)/gm;function Qo({branches:A,contents:m}){const x=A[1],_=A[2],$=m[0],j=m[1],se=m[2],we=j.match(Ni),Le=$.match(Ni),Ie=se.match(Ni),Ae=h(we,Le,Ie),Je=7;let He="",ft=!0;for(const At of Ae)At.ok&&(He+=At.ok.join("")),At.conflict&&(ft=!1,He+=`${"<".repeat(Je)} ${x}
`,He+=At.conflict.a.join(""),He+=`${"=".repeat(Je)}
`,He+=At.conflict.b.join(""),He+=`${">".repeat(Je)} ${_}
`);return{cleanMerge:ft,mergedText:He}}async function oo({fs:A,cache:m,dir:x,gitdir:_=r.join(x,".git"),index:$,ourOid:j,baseOid:se,theirOid:we,ourName:Le="ours",baseName:Ie="base",theirName:Ae="theirs",dryRun:Je=!1,abortOnConflict:He=!0,mergeDriver:ft}){const At=Fn({ref:j}),Mt=Fn({ref:se}),Dt=Fn({ref:we}),qt=[],Xt=[],nn=[],dn=[],pn=await Or({fs:A,cache:m,dir:x,gitdir:_,trees:[At,Mt,Dt],map:async function(hn,[Yt,en,sn]){const Qn=ge(hn),Zn=await Cr(Yt,en),lr=await Cr(sn,en);switch(`${Zn}-${lr}`){case"false-false":return{mode:await en.mode(),path:Qn,oid:await en.oid(),type:await en.type()};case"false-true":return!sn&&await Yt.type()==="tree"?{mode:await Yt.mode(),path:Qn,oid:await Yt.oid(),type:await Yt.type()}:sn?{mode:await sn.mode(),path:Qn,oid:await sn.oid(),type:await sn.type()}:void 0;case"true-false":return!Yt&&await sn.type()==="tree"?{mode:await sn.mode(),path:Qn,oid:await sn.oid(),type:await sn.type()}:Yt?{mode:await Yt.mode(),path:Qn,oid:await Yt.oid(),type:await Yt.type()}:void 0;case"true-true":{if(Yt&&sn&&await Yt.type()==="tree"&&await sn.type()==="tree")return{mode:await Yt.mode(),path:Qn,oid:await Yt.oid(),type:"tree"};if(Yt&&sn&&await Yt.type()==="blob"&&await sn.type()==="blob")return ao({fs:A,gitdir:_,path:Qn,ours:Yt,base:en,theirs:sn,ourName:Le,baseName:Ie,theirName:Ae,mergeDriver:ft}).then(async Xn=>{if(Xn.cleanMerge)He||$.insert({filepath:hn,oid:Xn.mergeResult.oid,stage:0});else if(qt.push(hn),Xt.push(hn),!He){let cr="";en&&await en.type()==="blob"&&(cr=await en.oid());const dr=await Yt.oid(),Oi=await sn.oid();$.delete({filepath:hn}),cr&&$.insert({filepath:hn,oid:cr,stage:1}),$.insert({filepath:hn,oid:dr,stage:2}),$.insert({filepath:hn,oid:Oi,stage:3})}return Xn.mergeResult});if(en&&!Yt&&sn&&await en.type()==="blob"&&await sn.type()==="blob"){if(qt.push(hn),nn.push(hn),!He){const Xn=await en.oid(),cr=await sn.oid();$.delete({filepath:hn}),$.insert({filepath:hn,oid:Xn,stage:1}),$.insert({filepath:hn,oid:cr,stage:3})}return{mode:await sn.mode(),oid:await sn.oid(),type:"blob",path:Qn}}if(en&&Yt&&!sn&&await en.type()==="blob"&&await Yt.type()==="blob"){if(qt.push(hn),dn.push(hn),!He){const Xn=await en.oid(),cr=await Yt.oid();$.delete({filepath:hn}),$.insert({filepath:hn,oid:Xn,stage:1}),$.insert({filepath:hn,oid:cr,stage:2})}return{mode:await Yt.mode(),oid:await Yt.oid(),type:"blob",path:Qn}}if(en&&!Yt&&!sn&&(await en.type()==="blob"||await en.type()==="tree"))return;throw new Sn}}},reduce:qt.length!==0&&(!x||He)?void 0:async(hn,Yt)=>{const en=Yt.filter(Boolean);if(hn&&!(hn&&hn.type==="tree"&&en.length===0&&hn.path!==".")){if(en.length>0||hn.path==="."&&en.length===0){const Qn=new Me(en).toObject(),Zn=await K({fs:A,gitdir:_,type:"tree",object:Qn,dryRun:Je});hn.oid=Zn}return hn}}});return qt.length!==0?(x&&!He&&await Or({fs:A,cache:m,dir:x,gitdir:_,trees:[Fn({ref:pn.oid})],map:async function(hn,[Yt]){const en=`${x}/${hn}`;if(await Yt.type()==="blob"){const sn=await Yt.mode(),Qn=new TextDecoder().decode(await Yt.content());await A.write(en,Qn,{mode:sn})}return!0}}),new En(qt,Xt,nn,dn)):pn.oid}async function ao({fs:A,gitdir:m,path:x,ours:_,base:$,theirs:j,ourName:se,theirName:we,baseName:Le,dryRun:Ie,mergeDriver:Ae=Qo}){const Je="blob";let He="100755",ft="",At="";$&&await $.type()==="blob"&&(He=await $.mode(),ft=await $.oid(),At=Buffer$1.from(await $.content()).toString("utf8"));const Mt=He===await _.mode()?await j.mode():await _.mode();if(await _.oid()===await j.oid())return{cleanMerge:!0,mergeResult:{mode:Mt,path:x,oid:await _.oid(),type:Je}};if(await _.oid()===ft)return{cleanMerge:!0,mergeResult:{mode:Mt,path:x,oid:await j.oid(),type:Je}};if(await j.oid()===ft)return{cleanMerge:!0,mergeResult:{mode:Mt,path:x,oid:await _.oid(),type:Je}};const Dt=Buffer$1.from(await _.content()).toString("utf8"),qt=Buffer$1.from(await j.content()).toString("utf8"),{mergedText:Xt,cleanMerge:nn}=await Ae({branches:[Le,se,we],contents:[At,Dt,qt],path:x}),dn=await K({fs:A,gitdir:m,type:"blob",object:Buffer$1.from(Xt,"utf8"),dryRun:Ie});return{cleanMerge:nn,mergeResult:{mode:Mt,path:x,oid:dn,type:Je}}}async function so({fs:A,cache:m,dir:x,gitdir:_,ours:$,theirs:j,fastForward:se=!0,fastForwardOnly:we=!1,dryRun:Le=!1,noUpdateBranch:Ie=!1,abortOnConflict:Ae=!0,message:Je,author:He,committer:ft,signingKey:At,onSign:Mt,mergeDriver:Dt,allowUnrelatedHistories:qt=!1}){$===void 0&&($=await wr({fs:A,gitdir:_,fullname:!0})),$=await ht.expand({fs:A,gitdir:_,ref:$}),j=await ht.expand({fs:A,gitdir:_,ref:j});const Xt=await ht.resolve({fs:A,gitdir:_,ref:$}),nn=await ht.resolve({fs:A,gitdir:_,ref:j}),dn=await Di({fs:A,cache:m,gitdir:_,oids:[Xt,nn]});if(dn.length!==1)if(dn.length===0&&qt)dn.push("4b825dc642cb6eb9a060e54bf8d69288fbee4904");else throw new Sn;const pn=dn[0];if(pn===nn)return{oid:Xt,alreadyMerged:!0};if(se&&pn===Xt)return!Le&&!Ie&&await ht.writeRef({fs:A,gitdir:_,ref:$,value:nn}),{oid:nn,fastForward:!0};{if(we)throw new ln;const hn=await Ce.acquire({fs:A,gitdir:_,cache:m,allowUnmerged:!1},async en=>oo({fs:A,cache:m,dir:x,gitdir:_,index:en,ourOid:Xt,theirOid:nn,baseOid:pn,ourName:br($),baseName:"base",theirName:br(j),dryRun:Le,abortOnConflict:Ae,mergeDriver:Dt}));if(hn instanceof En)throw hn;return Je||(Je=`Merge branch '${br(j)}' into ${br($)}`),{oid:await Tt({fs:A,cache:m,gitdir:_,message:Je,ref:$,tree:hn,parent:[Xt,nn],author:He,committer:ft,signingKey:At,onSign:Mt,dryRun:Le,noUpdateBranch:Ie}),tree:hn,mergeCommit:!0}}}async function lo({fs:A,cache:m,http:x,onProgress:_,onMessage:$,onAuth:j,onAuthSuccess:se,onAuthFailure:we,dir:Le,gitdir:Ie,ref:Ae,url:Je,remote:He,remoteRef:ft,prune:At,pruneTags:Mt,fastForward:Dt,fastForwardOnly:qt,corsProxy:Xt,singleBranch:nn,headers:dn,author:pn,committer:hn,signingKey:Yt}){try{if(!Ae){const Qn=await wr({fs:A,gitdir:Ie});if(!Qn)throw new An("ref");Ae=Qn}const{fetchHead:en,fetchHeadDescription:sn}=await Ri({fs:A,cache:m,http:x,onProgress:_,onMessage:$,onAuth:j,onAuthSuccess:se,onAuthFailure:we,gitdir:Ie,corsProxy:Xt,ref:Ae,url:Je,remote:He,remoteRef:ft,singleBranch:nn,headers:dn,prune:At,pruneTags:Mt});await so({fs:A,cache:m,gitdir:Ie,ours:Ae,theirs:en,fastForward:Dt,fastForwardOnly:qt,message:`Merge ${sn}`,author:pn,committer:hn,signingKey:Yt,dryRun:!1,noUpdateBranch:!1}),await ar({fs:A,cache:m,onProgress:_,dir:Le,gitdir:Ie,ref:Ae,remote:He,noCheckout:!1})}catch(en){throw en.caller="git.pull",en}}async function co({fs:A,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,dir:we,gitdir:Le=r.join(we,".git"),ref:Ie,url:Ae,remote:Je,remoteRef:He,corsProxy:ft,singleBranch:At,headers:Mt={},cache:Dt={}}){try{mt("fs",A),mt("http",m),mt("gitdir",Le);const qt={name:"",email:"",timestamp:Date.now(),timezoneOffset:0};return await lo({fs:new cn(A),cache:Dt,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,dir:we,gitdir:Le,ref:Ie,url:Ae,remote:Je,remoteRef:He,fastForwardOnly:!0,corsProxy:ft,singleBranch:At,headers:Mt,author:qt,committer:qt})}catch(qt){throw qt.caller="git.fastForward",qt}}async function uo({fs:A,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,dir:we,gitdir:Le=r.join(we,".git"),ref:Ie,remote:Ae,remoteRef:Je,url:He,corsProxy:ft,depth:At=null,since:Mt=null,exclude:Dt=[],relative:qt=!1,tags:Xt=!1,singleBranch:nn=!1,headers:dn={},prune:pn=!1,pruneTags:hn=!1,cache:Yt={}}){try{return mt("fs",A),mt("http",m),mt("gitdir",Le),await Ri({fs:new cn(A),cache:Yt,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,gitdir:Le,ref:Ie,remote:Ae,remoteRef:Je,url:He,corsProxy:ft,depth:At,since:Mt,exclude:Dt,relative:qt,tags:Xt,singleBranch:nn,headers:dn,prune:pn,pruneTags:hn})}catch(en){throw en.caller="git.fetch",en}}async function ho({fs:A,dir:m,gitdir:x=r.join(m,".git"),oids:_,cache:$={}}){try{return mt("fs",A),mt("gitdir",x),mt("oids",_),await Di({fs:new cn(A),cache:$,gitdir:x,oids:_})}catch(j){throw j.caller="git.findMergeBase",j}}async function fo({fs:A,filepath:m}){if(await A.exists(r.join(m,".git")))return m;{const x=Te(m);if(x===m)throw new it(`git root for ${m}`);return fo({fs:A,filepath:x})}}async function zi({fs:A,filepath:m}){try{return mt("fs",A),mt("filepath",m),await fo({fs:new cn(A),filepath:m})}catch(x){throw x.caller="git.findRoot",x}}async function Fi({fs:A,dir:m,gitdir:x=r.join(m,".git"),path:_}){try{return mt("fs",A),mt("gitdir",x),mt("path",_),await Se({fs:new cn(A),gitdir:x,path:_})}catch($){throw $.caller="git.getConfig",$}}async function ji({fs:A,gitdir:m,path:x}){return(await De.get({fs:A,gitdir:m})).getall(x)}async function po({fs:A,dir:m,gitdir:x=r.join(m,".git"),path:_}){try{return mt("fs",A),mt("gitdir",x),mt("path",_),await ji({fs:new cn(A),gitdir:x,path:_})}catch($){throw $.caller="git.getConfigAll",$}}async function go({http:A,onAuth:m,onAuthSuccess:x,onAuthFailure:_,corsProxy:$,url:j,headers:se={},forPush:we=!1}){try{mt("http",A),mt("url",j);const Ie=await wi.getRemoteHelperFor({url:j}).discover({http:A,onAuth:m,onAuthSuccess:x,onAuthFailure:_,corsProxy:$,service:we?"git-receive-pack":"git-upload-pack",url:j,headers:se,protocolVersion:1}),Ae={capabilities:[...Ie.capabilities]};for(const[Je,He]of Ie.refs){const ft=Je.split("/"),At=ft.pop();let Mt=Ae;for(const Dt of ft)Mt[Dt]=Mt[Dt]||{},Mt=Mt[Dt];Mt[At]=He}for(const[Je,He]of Ie.symrefs){const ft=Je.split("/"),At=ft.pop();let Mt=Ae;for(const Dt of ft)Mt[Dt]=Mt[Dt]||{},Mt=Mt[Dt];Mt[At]=He}return Ae}catch(Le){throw Le.caller="git.getRemoteInfo",Le}}function qi(A,m,x,_){const $=[];for(const[j,se]of A.refs){if(m&&!j.startsWith(m))continue;if(j.endsWith("^{}")){if(_){const Le=j.replace("^{}",""),Ie=$[$.length-1],Ae=Ie.ref===Le?Ie:$.find(Je=>Je.ref===Le);if(Ae===void 0)throw new Error("I did not expect this to happen");Ae.peeled=se}continue}const we={ref:j,oid:se};x&&A.symrefs.has(j)&&(we.target=A.symrefs.get(j)),$.push(we)}return $}async function gi({http:A,onAuth:m,onAuthSuccess:x,onAuthFailure:_,corsProxy:$,url:j,headers:se={},forPush:we=!1,protocolVersion:Le=2}){try{mt("http",A),mt("url",j);const Ae=await wi.getRemoteHelperFor({url:j}).discover({http:A,onAuth:m,onAuthSuccess:x,onAuthFailure:_,corsProxy:$,service:we?"git-receive-pack":"git-upload-pack",url:j,headers:se,protocolVersion:Le});if(Ae.protocolVersion===2)return{protocolVersion:Ae.protocolVersion,capabilities:Ae.capabilities2};const Je={};for(const He of Ae.capabilities){const[ft,At]=He.split("=");At?Je[ft]=At:Je[ft]=!0}return{protocolVersion:1,capabilities:Je,refs:qi(Ae,void 0,!0,!0)}}catch(Ie){throw Ie.caller="git.getRemoteInfo2",Ie}}async function Ro({type:A,object:m,format:x="content",oid:_=void 0}){return x!=="deflated"&&(x!=="wrapped"&&(m=Ue.wrap({type:A,object:m})),_=await Q(m)),{oid:_,object:m}}async function mo({object:A}){try{mt("object",A),typeof A=="string"?A=Buffer$1.from(A,"utf8"):A instanceof Uint8Array||(A=new Uint8Array(A));const m="blob",{oid:x,object:_}=await Ro({type:m,format:"content",object:A});return{oid:x,type:m,object:_,format:"wrapped"}}catch(m){throw m.caller="git.hashBlob",m}}async function Mo({fs:A,cache:m,onProgress:x,dir:_,gitdir:$,filepath:j}){try{j=r.join(_,j);const se=await A.read(j),we=Ie=>kt({fs:A,cache:m,gitdir:$,oid:Ie}),Le=await Lt.fromPack({pack:se,getExternalRefDelta:we,onProgress:x});return await A.write(j.replace(/\.pack$/,".idx"),await Le.toBuffer()),{oids:[...Le.hashes]}}catch(se){throw se.caller="git.indexPack",se}}async function Oo({fs:A,onProgress:m,dir:x,gitdir:_=r.join(x,".git"),filepath:$,cache:j={}}){try{return mt("fs",A),mt("dir",x),mt("gitdir",x),mt("filepath",$),await Mo({fs:new cn(A),cache:j,onProgress:m,dir:x,gitdir:_,filepath:$})}catch(se){throw se.caller="git.indexPack",se}}async function vo({fs:A,bare:m=!1,dir:x,gitdir:_=m?x:r.join(x,".git"),defaultBranch:$="master"}){try{return mt("fs",A),mt("gitdir",_),m||mt("dir",x),await xi({fs:new cn(A),bare:m,dir:x,gitdir:_,defaultBranch:$})}catch(j){throw j.caller="git.init",j}}async function yo({fs:A,cache:m,gitdir:x,oid:_,ancestor:$,depth:j}){const se=await hi.read({fs:A,gitdir:x});if(!_)throw new An("oid");if(!$)throw new An("ancestor");if(_===$)return!1;const we=[_],Le=new Set;let Ie=0;for(;we.length;){if(Ie++===j)throw new _n(j);const Ae=we.shift(),{type:Je,object:He}=await kt({fs:A,cache:m,gitdir:x,oid:Ae});if(Je!=="commit")throw new yt(Ae,Je,"commit");const ft=zn.from(He).parse();for(const At of ft.parent)if(At===$)return!0;if(!se.has(Ae))for(const At of ft.parent)Le.has(At)||(we.push(At),Le.add(At))}return!1}async function bo({fs:A,dir:m,gitdir:x=r.join(m,".git"),oid:_,ancestor:$,depth:j=-1,cache:se={}}){try{return mt("fs",A),mt("gitdir",x),mt("oid",_),mt("ancestor",$),await yo({fs:new cn(A),cache:se,gitdir:x,oid:_,ancestor:$,depth:j})}catch(we){throw we.caller="git.isDescendent",we}}async function xe({fs:A,dir:m,gitdir:x=r.join(m,".git"),filepath:_}){try{return mt("fs",A),mt("dir",m),mt("gitdir",x),mt("filepath",_),Pr.isIgnored({fs:new cn(A),dir:m,gitdir:x,filepath:_})}catch($){throw $.caller="git.isIgnored",$}}async function Fe({fs:A,dir:m,gitdir:x=r.join(m,".git"),remote:_}){try{return mt("fs",A),mt("gitdir",x),ht.listBranches({fs:new cn(A),gitdir:x,remote:_})}catch($){throw $.caller="git.listBranches",$}}async function B({fs:A,gitdir:m,ref:x,cache:_}){if(x){const $=await ht.resolve({gitdir:m,fs:A,ref:x}),j=[];return await ue({fs:A,cache:_,gitdir:m,oid:$,filenames:j,prefix:""}),j}else return Ce.acquire({fs:A,gitdir:m,cache:_},async function($){return $.entries.map(j=>j.path)})}async function ue({fs:A,cache:m,gitdir:x,oid:_,filenames:$,prefix:j}){const{tree:se}=await Ht({fs:A,cache:m,gitdir:x,oid:_});for(const we of se)we.type==="tree"?await ue({fs:A,cache:m,gitdir:x,oid:we.oid,filenames:$,prefix:r.join(j,we.path)}):$.push(r.join(j,we.path))}async function ke({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_,cache:$={}}){try{return mt("fs",A),mt("gitdir",x),await B({fs:new cn(A),cache:$,gitdir:x,ref:_})}catch(j){throw j.caller="git.listFiles",j}}async function tt({fs:A,cache:m,gitdir:x,ref:_}){let $;try{$=await ht.resolve({gitdir:x,fs:A,ref:_})}catch(we){if(we instanceof it)return[]}return(await Ht({fs:A,cache:m,gitdir:x,oid:$})).tree.map(we=>({target:we.path,note:we.oid}))}async function ut({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_="refs/notes/commits",cache:$={}}){try{return mt("fs",A),mt("gitdir",x),mt("ref",_),await tt({fs:new cn(A),cache:$,gitdir:x,ref:_})}catch(j){throw j.caller="git.listNotes",j}}async function pt({fs:A,dir:m,gitdir:x=r.join(m,".git"),filepath:_}){try{return mt("fs",A),mt("gitdir",x),ht.listRefs({fs:new cn(A),gitdir:x,filepath:_})}catch($){throw $.caller="git.listRefs",$}}async function _t({fs:A,gitdir:m}){const x=await De.get({fs:A,gitdir:m}),_=await x.getSubsections("remote");return Promise.all(_.map(async j=>{const se=await x.get(`remote.${j}.url`);return{remote:j,url:se}}))}async function zt({fs:A,dir:m,gitdir:x=r.join(m,".git")}){try{return mt("fs",A),mt("gitdir",x),await _t({fs:new cn(A),gitdir:x})}catch(_){throw _.caller="git.listRemotes",_}}async function tn(A){const m=er.streamReader(A),x=[];let _;for(;_=await m(),_!==!0;){if(_===null)continue;_=_.toString("utf8").replace(/\n$/,"");const[$,j,...se]=_.split(" "),we={ref:j,oid:$};for(const Le of se){const[Ie,Ae]=Le.split(":");Ie==="symref-target"?we.target=Ae:Ie==="peeled"&&(we.peeled=Ae)}x.push(we)}return x}async function Pn({prefix:A,symrefs:m,peelTags:x}){const _=[];return _.push(er.encode(`command=ls-refs
`)),_.push(er.encode(`agent=${fi.agent}
`)),(x||m||A)&&_.push(er.delim()),x&&_.push(er.encode("peel")),m&&_.push(er.encode("symrefs")),A&&_.push(er.encode(`ref-prefix ${A}`)),_.push(er.flush()),_}async function $n({http:A,onAuth:m,onAuthSuccess:x,onAuthFailure:_,corsProxy:$,url:j,headers:se={},forPush:we=!1,protocolVersion:Le=2,prefix:Ie,symrefs:Ae,peelTags:Je}){try{mt("http",A),mt("url",j);const He=await bi.discover({http:A,onAuth:m,onAuthSuccess:x,onAuthFailure:_,corsProxy:$,service:we?"git-receive-pack":"git-upload-pack",url:j,headers:se,protocolVersion:Le});if(He.protocolVersion===1)return qi(He,Ie,Ae,Je);const ft=await Pn({prefix:Ie,symrefs:Ae,peelTags:Je}),At=await bi.connect({http:A,auth:He.auth,headers:se,corsProxy:$,service:we?"git-receive-pack":"git-upload-pack",url:j,body:ft});return tn(At.body)}catch(He){throw He.caller="git.listServerRefs",He}}async function Dn({fs:A,dir:m,gitdir:x=r.join(m,".git")}){try{return mt("fs",A),mt("gitdir",x),ht.listTags({fs:new cn(A),gitdir:x})}catch(_){throw _.caller="git.listTags",_}}function Nn(A,m){return A.committer.timestamp-m.committer.timestamp}const fr="e69de29bb2d1d6434b8b29ae775ad8c2e48c5391";async function xr({fs:A,cache:m,gitdir:x,oid:_,fileId:$}){if($===fr)return;const j=_;let se;const we=await mr({fs:A,cache:m,gitdir:x,oid:_}),Le=we.tree;return $===we.oid?se=we.path:(se=await Zi({fs:A,cache:m,gitdir:x,tree:Le,fileId:$,oid:j}),Array.isArray(se)&&(se.length===0?se=void 0:se.length===1&&(se=se[0]))),se}async function Zi({fs:A,cache:m,gitdir:x,tree:_,fileId:$,oid:j,filepaths:se=[],parentPath:we=""}){const Le=_.entries().map(function(Ie){let Ae;return Ie.oid===$?(Ae=r.join(we,Ie.path),se.push(Ae)):Ie.type==="tree"&&(Ae=kt({fs:A,cache:m,gitdir:x,oid:Ie.oid}).then(function({object:Je}){return Zi({fs:A,cache:m,gitdir:x,tree:Me.from(Je),fileId:$,oid:j,filepaths:se,parentPath:r.join(we,Ie.path)})})),Ae});return await Promise.all(Le),se}async function wo({fs:A,cache:m,gitdir:x,filepath:_,ref:$,depth:j,since:se,force:we,follow:Le}){const Ie=typeof se>"u"?void 0:Math.floor(se.valueOf()/1e3),Ae=[],Je=await hi.read({fs:A,gitdir:x}),He=await ht.resolve({fs:A,gitdir:x,ref:$}),ft=[await We({fs:A,cache:m,gitdir:x,oid:He})];let At,Mt,Dt;function qt(Xt){Dt&&_&&Ae.push(Xt)}for(;ft.length>0;){const Xt=ft.pop();if(Ie!==void 0&&Xt.commit.committer.timestamp<=Ie)break;if(_){let nn;try{nn=await Wt({fs:A,cache:m,gitdir:x,oid:Xt.commit.tree,filepath:_}),Mt&&At!==nn&&Ae.push(Mt),At=nn,Mt=Xt,Dt=!0}catch(dn){if(dn instanceof it){let pn=Le&&At;if(pn&&(pn=await xr({fs:A,cache:m,gitdir:x,oid:Xt.commit.tree,fileId:At}),pn))if(Array.isArray(pn)){if(Mt){const hn=await xr({fs:A,cache:m,gitdir:x,oid:Mt.commit.tree,fileId:At});if(Array.isArray(hn))if(pn=pn.filter(Yt=>hn.indexOf(Yt)===-1),pn.length===1)pn=pn[0],_=pn,Mt&&Ae.push(Mt);else{pn=!1,Mt&&Ae.push(Mt);break}}}else _=pn,Mt&&Ae.push(Mt);if(!pn){if(Dt&&At&&(Ae.push(Mt),!we))break;if(!we&&!Le)throw dn}Mt=Xt,Dt=!1}else throw dn}}else Ae.push(Xt);if(j!==void 0&&Ae.length===j){qt(Xt);break}if(!Je.has(Xt.oid))for(const nn of Xt.commit.parent){const dn=await We({fs:A,cache:m,gitdir:x,oid:nn});ft.map(pn=>pn.oid).includes(dn.oid)||ft.push(dn)}ft.length===0&&qt(Xt),ft.sort((nn,dn)=>Nn(nn.commit,dn.commit))}return Ae}async function Hr({fs:A,dir:m,gitdir:x=r.join(m,".git"),filepath:_,ref:$="HEAD",depth:j,since:se,force:we,follow:Le,cache:Ie={}}){try{return mt("fs",A),mt("gitdir",x),mt("ref",$),await wo({fs:new cn(A),cache:Ie,gitdir:x,filepath:_,ref:$,depth:j,since:se,force:we,follow:Le})}catch(Ae){throw Ae.caller="git.log",Ae}}async function mi({fs:A,onSign:m,dir:x,gitdir:_=r.join(x,".git"),ours:$,theirs:j,fastForward:se=!0,fastForwardOnly:we=!1,dryRun:Le=!1,noUpdateBranch:Ie=!1,abortOnConflict:Ae=!0,message:Je,author:He,committer:ft,signingKey:At,cache:Mt={},mergeDriver:Dt,allowUnrelatedHistories:qt=!1}){try{mt("fs",A),At&&mt("onSign",m);const Xt=new cn(A),nn=await Ge({fs:Xt,gitdir:_,author:He});if(!nn&&(!we||!se))throw new wn("author");const dn=await et({fs:Xt,gitdir:_,author:nn,committer:ft});if(!dn&&(!we||!se))throw new wn("committer");return await so({fs:Xt,cache:Mt,dir:x,gitdir:_,ours:$,theirs:j,fastForward:se,fastForwardOnly:we,dryRun:Le,noUpdateBranch:Ie,abortOnConflict:Ae,message:Je,author:nn,committer:dn,signingKey:At,onSign:m,mergeDriver:Dt,allowUnrelatedHistories:qt})}catch(Xt){throw Xt.caller="git.merge",Xt}}const _i={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function qo({fs:A,cache:m,dir:x,gitdir:_=r.join(x,".git"),oids:$}){const j=new n,se=[];function we(Ae,Je){const He=Buffer$1.from(Ae,Je);se.push(He),j.update(He)}async function Le({stype:Ae,object:Je}){const He=_i[Ae];let ft=Je.length,At=ft>15?128:0;const Mt=ft&15;ft=ft>>>4;let Dt=(At|He|Mt).toString(16);for(we(Dt,"hex");At;)At=ft>127?128:0,Dt=At|ft&127,we(ri(2,Dt),"hex"),ft=ft>>>7;we(Buffer$1.from(await M(Je)))}we("PACK"),we("00000002","hex"),we(ri(8,$.length),"hex");for(const Ae of $){const{type:Je,object:He}=await kt({fs:A,cache:m,gitdir:_,oid:Ae});await Le({object:He,stype:Je})}const Ie=j.digest();return se.push(Ie),se}async function Pa({fs:A,cache:m,gitdir:x,oids:_,write:$}){const j=await qo({fs:A,cache:m,gitdir:x,oids:_}),se=Buffer$1.from(await Jn(j)),Le=`pack-${se.slice(-20).toString("hex")}.pack`;return $?(await A.write(r.join(x,`objects/pack/${Le}`),se),{filename:Le}):{filename:Le,packfile:new Uint8Array(se)}}async function Zo({fs:A,dir:m,gitdir:x=r.join(m,".git"),oids:_,write:$=!1,cache:j={}}){try{return mt("fs",A),mt("gitdir",x),mt("oids",_),await Pa({fs:new cn(A),cache:j,gitdir:x,oids:_,write:$})}catch(se){throw se.caller="git.packObjects",se}}async function Xo({fs:A,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,dir:we,gitdir:Le=r.join(we,".git"),ref:Ie,url:Ae,remote:Je,remoteRef:He,prune:ft=!1,pruneTags:At=!1,fastForward:Mt=!0,fastForwardOnly:Dt=!1,corsProxy:qt,singleBranch:Xt,headers:nn={},author:dn,committer:pn,signingKey:hn,cache:Yt={}}){try{mt("fs",A),mt("gitdir",Le);const en=new cn(A),sn=await Ge({fs:en,gitdir:Le,author:dn});if(!sn)throw new wn("author");const Qn=await et({fs:en,gitdir:Le,author:sn,committer:pn});if(!Qn)throw new wn("committer");return await lo({fs:en,cache:Yt,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,dir:we,gitdir:Le,ref:Ie,url:Ae,remote:Je,remoteRef:He,fastForward:Mt,fastForwardOnly:Dt,corsProxy:qt,singleBranch:Xt,headers:nn,author:sn,committer:Qn,signingKey:hn,prune:ft,pruneTags:At})}catch(en){throw en.caller="git.pull",en}}async function Ea({fs:A,cache:m,dir:x,gitdir:_=r.join(x,".git"),start:$,finish:j}){const se=await hi.read({fs:A,gitdir:_}),we=new Set,Le=new Set;for(const Je of $)we.add(await ht.resolve({fs:A,gitdir:_,ref:Je}));for(const Je of j)try{const He=await ht.resolve({fs:A,gitdir:_,ref:Je});Le.add(He)}catch{}const Ie=new Set;async function Ae(Je){Ie.add(Je);const{type:He,object:ft}=await kt({fs:A,cache:m,gitdir:_,oid:Je});if(He==="tag"){const Mt=Hn.from(ft).headers().object;return Ae(Mt)}if(He!=="commit")throw new yt(Je,He,"commit");if(!se.has(Je)){const Mt=zn.from(ft).headers().parent;for(Je of Mt)!Le.has(Je)&&!Ie.has(Je)&&await Ae(Je)}}for(const Je of we)await Ae(Je);return Ie}async function Bo({fs:A,cache:m,dir:x,gitdir:_=r.join(x,".git"),oids:$}){const j=new Set;async function se(we){if(j.has(we))return;j.add(we);const{type:Le,object:Ie}=await kt({fs:A,cache:m,gitdir:_,oid:we});if(Le==="tag"){const Je=Hn.from(Ie).headers().object;await se(Je)}else if(Le==="commit"){const Je=zn.from(Ie).headers().tree;await se(Je)}else if(Le==="tree"){const Ae=Me.from(Ie);for(const Je of Ae)Je.type==="blob"&&j.add(Je.oid),Je.type==="tree"&&await se(Je.oid)}}for(const we of $)await se(we);return j}async function $a(A){const m={};let x="";const _=er.streamReader(A);let $=await _();for(;$!==!0;)$!==null&&(x+=$.toString("utf8")+`
`),$=await _();const j=x.toString("utf8").split(`
`);if($=j.shift(),!$.startsWith("unpack "))throw new jn('unpack ok" or "unpack [error message]',$);m.ok=$==="unpack ok",m.ok||(m.error=$.slice(7)),m.refs={};for(const se of j){if(se.trim()==="")continue;const we=se.slice(0,2),Le=se.slice(3);let Ie=Le.indexOf(" ");Ie===-1&&(Ie=Le.length);const Ae=Le.slice(0,Ie),Je=Le.slice(Ie+1);m.refs[Ae]={ok:we==="ok",error:Je}}return m}async function Qa({capabilities:A=[],triplets:m=[]}){const x=[];let _=`\0 ${A.join(" ")}`;for(const $ of m)x.push(er.encode(`${$.oldoid} ${$.oid} ${$.fullRef}${_}
`)),_="";return x.push(er.flush()),x}async function Ra({fs:A,cache:m,http:x,onProgress:_,onMessage:$,onAuth:j,onAuthSuccess:se,onAuthFailure:we,onPrePush:Le,gitdir:Ie,ref:Ae,remoteRef:Je,remote:He,url:ft,force:At=!1,delete:Mt=!1,corsProxy:Dt,headers:qt={}}){const Xt=Ae||await wr({fs:A,gitdir:Ie});if(typeof Xt>"u")throw new An("ref");const nn=await De.get({fs:A,gitdir:Ie});He=He||await nn.get(`branch.${Xt}.pushRemote`)||await nn.get("remote.pushDefault")||await nn.get(`branch.${Xt}.remote`)||"origin";const dn=ft||await nn.get(`remote.${He}.pushurl`)||await nn.get(`remote.${He}.url`);if(typeof dn>"u")throw new An("remote OR url");const pn=Je||await nn.get(`branch.${Xt}.merge`);if(typeof dn>"u")throw new An("remoteRef");Dt===void 0&&(Dt=await nn.get("http.corsProxy"));const hn=await ht.expand({fs:A,gitdir:Ie,ref:Xt}),Yt=Mt?"0000000000000000000000000000000000000000":await ht.resolve({fs:A,gitdir:Ie,ref:hn}),en=wi.getRemoteHelperFor({url:dn}),sn=await en.discover({http:x,onAuth:j,onAuthSuccess:se,onAuthFailure:we,corsProxy:Dt,service:"git-receive-pack",url:dn,headers:qt,protocolVersion:1}),Qn=sn.auth;let Zn;if(!pn)Zn=hn;else try{Zn=await ht.expandAgainstMap({ref:pn,map:sn.refs})}catch(or){if(or instanceof it)Zn=pn.startsWith("refs/")?pn:`refs/heads/${pn}`;else throw or}const lr=sn.refs.get(Zn)||"0000000000000000000000000000000000000000";if(Le&&!await Le({remote:He,url:dn,localRef:{ref:Mt?"(delete)":hn,oid:Yt},remoteRef:{ref:Zn,oid:lr}}))throw new Gn;const Xn=!sn.capabilities.has("no-thin");let cr=new Set;if(!Mt){const or=[...sn.refs.values()];let Gr=new Set;if(lr!=="0000000000000000000000000000000000000000"){const gr=await Di({fs:A,cache:m,gitdir:Ie,oids:[Yt,lr]});for(const Xi of gr)or.push(Xi);Xn&&(Gr=await Bo({fs:A,cache:m,gitdir:Ie,oids:gr}))}if(!or.includes(Yt)){const gr=await Ea({fs:A,cache:m,gitdir:Ie,start:[Yt],finish:or});cr=await Bo({fs:A,cache:m,gitdir:Ie,oids:gr})}if(Xn){try{const gr=await ht.resolve({fs:A,gitdir:Ie,ref:`refs/remotes/${He}/HEAD`,depth:2}),{oid:Xi}=await ht.resolveAgainstMap({ref:gr.replace(`refs/remotes/${He}/`,""),fullref:gr,map:sn.refs}),yi=[Xi];for(const ur of await Bo({fs:A,cache:m,gitdir:Ie,oids:yi}))Gr.add(ur)}catch{}for(const gr of Gr)cr.delete(gr)}if(Yt===lr&&(At=!0),!At){if(hn.startsWith("refs/tags")&&lr!=="0000000000000000000000000000000000000000")throw new tr("tag-exists");if(Yt!=="0000000000000000000000000000000000000000"&&lr!=="0000000000000000000000000000000000000000"&&!await yo({fs:A,cache:m,gitdir:Ie,oid:Yt,ancestor:lr,depth:-1}))throw new tr("not-fast-forward")}}const dr=Yi([...sn.capabilities],["report-status","side-band-64k",`agent=${fi.agent}`]),Oi=await Qa({capabilities:dr,triplets:[{oldoid:lr,oid:Yt,fullRef:Zn}]}),vi=Mt?[]:await qo({fs:A,cache:m,gitdir:Ie,oids:[...cr]}),Ci=await en.connect({http:x,onProgress:_,corsProxy:Dt,service:"git-receive-pack",url:dn,auth:Qn,headers:qt,body:[...Oi,...vi]}),{packfile:Do,progress:No}=await Ki.demux(Ci.body);if($){const or=Hi(No);Fr(or,async Gr=>{await $(Gr)})}const kr=await $a(Do);if(Ci.headers&&(kr.headers=Ci.headers),He&&kr.ok&&kr.refs[Zn].ok&&!hn.startsWith("refs/tags")){const or=`refs/remotes/${He}/${Zn.replace("refs/heads","")}`;Mt?await ht.deleteRef({fs:A,gitdir:Ie,ref:or}):await ht.writeRef({fs:A,gitdir:Ie,ref:or,value:Yt})}if(kr.ok&&Object.values(kr.refs).every(or=>or.ok))return kr;{const or=Object.entries(kr.refs).filter(([Gr,gr])=>!gr.ok).map(([Gr,gr])=>`
  - ${Gr}: ${gr.error}`).join("");throw new Jt(or,kr)}}async function Go({fs:A,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,onPrePush:we,dir:Le,gitdir:Ie=r.join(Le,".git"),ref:Ae,remoteRef:Je,remote:He="origin",url:ft,force:At=!1,delete:Mt=!1,corsProxy:Dt,headers:qt={},cache:Xt={}}){try{return mt("fs",A),mt("http",m),mt("gitdir",Ie),await Ra({fs:new cn(A),cache:Xt,http:m,onProgress:x,onMessage:_,onAuth:$,onAuthSuccess:j,onAuthFailure:se,onPrePush:we,gitdir:Ie,ref:Ae,remoteRef:Je,remote:He,url:ft,force:At,delete:Mt,corsProxy:Dt,headers:qt})}catch(nn){throw nn.caller="git.push",nn}}async function Uo({fs:A,cache:m,gitdir:x,oid:_}){const{type:$,object:j}=await kt({fs:A,cache:m,gitdir:x,oid:_});if($==="tag")return _=Hn.from(j).parse().object,Uo({fs:A,cache:m,gitdir:x,oid:_});if($!=="blob")throw new yt(_,$,"blob");return{oid:_,blob:new Uint8Array(j)}}async function Vo({fs:A,cache:m,gitdir:x,oid:_,filepath:$=void 0}){return $!==void 0&&(_=await Wt({fs:A,cache:m,gitdir:x,oid:_,filepath:$})),await Uo({fs:A,cache:m,gitdir:x,oid:_})}async function Wo({fs:A,dir:m,gitdir:x=r.join(m,".git"),oid:_,filepath:$,cache:j={}}){try{return mt("fs",A),mt("gitdir",x),mt("oid",_),await Vo({fs:new cn(A),cache:j,gitdir:x,oid:_,filepath:$})}catch(se){throw se.caller="git.readBlob",se}}async function Io({fs:A,dir:m,gitdir:x=r.join(m,".git"),oid:_,cache:$={}}){try{return mt("fs",A),mt("gitdir",x),mt("oid",_),await We({fs:new cn(A),cache:$,gitdir:x,oid:_})}catch(j){throw j.caller="git.readCommit",j}}async function Ma({fs:A,cache:m,gitdir:x,ref:_="refs/notes/commits",oid:$}){const j=await ht.resolve({gitdir:x,fs:A,ref:_}),{blob:se}=await Vo({fs:A,cache:m,gitdir:x,oid:j,filepath:$});return se}async function Yo({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_="refs/notes/commits",oid:$,cache:j={}}){try{return mt("fs",A),mt("gitdir",x),mt("ref",_),mt("oid",$),await Ma({fs:new cn(A),cache:j,gitdir:x,ref:_,oid:$})}catch(se){throw se.caller="git.readNote",se}}async function Ho({fs:A,dir:m,gitdir:x=r.join(m,".git"),oid:_,format:$="parsed",filepath:j=void 0,encoding:se=void 0,cache:we={}}){try{mt("fs",A),mt("gitdir",x),mt("oid",_);const Le=new cn(A);j!==void 0&&(_=await Wt({fs:Le,cache:we,gitdir:x,oid:_,filepath:j}));const Ae=await kt({fs:Le,cache:we,gitdir:x,oid:_,format:$==="parsed"?"content":$});if(Ae.oid=_,$==="parsed")switch(Ae.format="parsed",Ae.type){case"commit":Ae.object=zn.from(Ae.object).parse();break;case"tree":Ae.object=Me.from(Ae.object).entries();break;case"blob":se?Ae.object=Ae.object.toString(se):(Ae.object=new Uint8Array(Ae.object),Ae.format="content");break;case"tag":Ae.object=Hn.from(Ae.object).parse();break;default:throw new yt(Ae.oid,Ae.type,"blob|commit|tag|tree")}else(Ae.format==="deflated"||Ae.format==="wrapped")&&(Ae.type=Ae.format);return Ae}catch(Le){throw Le.caller="git.readObject",Le}}async function Ba({fs:A,cache:m,gitdir:x,oid:_}){const{type:$,object:j}=await kt({fs:A,cache:m,gitdir:x,oid:_,format:"content"});if($!=="tag")throw new yt(_,$,"tag");const se=Hn.from(j);return{oid:_,tag:se.parse(),payload:se.payload()}}async function Ko({fs:A,dir:m,gitdir:x=r.join(m,".git"),oid:_,cache:$={}}){try{return mt("fs",A),mt("gitdir",x),mt("oid",_),await Ba({fs:new cn(A),cache:$,gitdir:x,oid:_})}catch(j){throw j.caller="git.readTag",j}}async function Jo({fs:A,dir:m,gitdir:x=r.join(m,".git"),oid:_,filepath:$=void 0,cache:j={}}){try{return mt("fs",A),mt("gitdir",x),mt("oid",_),await Ht({fs:new cn(A),cache:j,gitdir:x,oid:_,filepath:$})}catch(se){throw se.caller="git.readTree",se}}async function ea({fs:A,dir:m,gitdir:x=r.join(m,".git"),filepath:_,cache:$={}}){try{mt("fs",A),mt("gitdir",x),mt("filepath",_),await Ce.acquire({fs:new cn(A),gitdir:x,cache:$},async function(j){j.delete({filepath:_})})}catch(j){throw j.caller="git.remove",j}}async function Ia({fs:A,cache:m,onSign:x,gitdir:_,ref:$="refs/notes/commits",oid:j,author:se,committer:we,signingKey:Le}){let Ie;try{Ie=await ht.resolve({gitdir:_,fs:A,ref:$})}catch(At){if(!(At instanceof it))throw At}let Je=(await Ht({fs:A,gitdir:_,oid:Ie||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"})).tree;Je=Je.filter(At=>At.path!==j);const He=await un({fs:A,gitdir:_,tree:Je});return await Tt({fs:A,cache:m,onSign:x,gitdir:_,ref:$,tree:He,parent:Ie&&[Ie],message:`Note removed by 'isomorphic-git removeNote'
`,author:se,committer:we,signingKey:Le})}async function ta({fs:A,onSign:m,dir:x,gitdir:_=r.join(x,".git"),ref:$="refs/notes/commits",oid:j,author:se,committer:we,signingKey:Le,cache:Ie={}}){try{mt("fs",A),mt("gitdir",_),mt("oid",j);const Ae=new cn(A),Je=await Ge({fs:Ae,gitdir:_,author:se});if(!Je)throw new wn("author");const He=await et({fs:Ae,gitdir:_,author:Je,committer:we});if(!He)throw new wn("committer");return await Ia({fs:Ae,cache:Ie,onSign:m,gitdir:_,ref:$,oid:j,author:Je,committer:He,signingKey:Le})}catch(Ae){throw Ae.caller="git.removeNote",Ae}}async function La({fs:A,gitdir:m,oldref:x,ref:_,checkout:$=!1}){if(_!==u.clean(_))throw new gn(_,u.clean(_));if(x!==u.clean(x))throw new gn(x,u.clean(x));const j=`refs/heads/${x}`,se=`refs/heads/${_}`;if(await ht.exists({fs:A,gitdir:m,ref:se}))throw new Qt("branch",_,!1);const Le=await ht.resolve({fs:A,gitdir:m,ref:j,depth:1});await ht.writeRef({fs:A,gitdir:m,ref:se,value:Le}),await ht.deleteRef({fs:A,gitdir:m,ref:j});const Ae=await wr({fs:A,gitdir:m,fullname:!0})===j;($||Ae)&&await ht.writeSymbolicRef({fs:A,gitdir:m,ref:"HEAD",value:se})}async function na({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_,oldref:$,checkout:j=!1}){try{return mt("fs",A),mt("gitdir",x),mt("ref",_),mt("oldref",$),await La({fs:new cn(A),gitdir:x,ref:_,oldref:$,checkout:j})}catch(se){throw se.caller="git.renameBranch",se}}async function ra({gitdir:A,type:m,object:x}){return Q(Ue.wrap({type:m,object:x}))}async function ia({fs:A,dir:m,gitdir:x=r.join(m,".git"),filepath:_,ref:$,cache:j={}}){try{mt("fs",A),mt("gitdir",x),mt("filepath",_);const se=new cn(A);let we,Le;try{we=await ht.resolve({fs:se,gitdir:x,ref:$||"HEAD"})}catch(Je){if($)throw Je}if(we)try{we=await Wt({fs:se,cache:j,gitdir:x,oid:we,filepath:_})}catch{we=null}let Ie={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0};const Ae=m&&await se.read(r.join(m,_));Ae&&(Le=await ra({gitdir:x,type:"blob",object:Ae}),we===Le&&(Ie=await se.lstat(r.join(m,_)))),await Ce.acquire({fs:se,gitdir:x,cache:j},async function(Je){Je.delete({filepath:_}),we&&Je.insert({filepath:_,stats:Ie,oid:we})})}catch(se){throw se.caller="git.reset",se}}async function oa({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_,depth:$}){try{return mt("fs",A),mt("gitdir",x),mt("ref",_),await ht.resolve({fs:new cn(A),gitdir:x,ref:_,depth:$})}catch(j){throw j.caller="git.resolveRef",j}}async function aa({fs:A,dir:m,gitdir:x=r.join(m,".git"),path:_,value:$,append:j=!1}){try{mt("fs",A),mt("gitdir",x),mt("path",_);const se=new cn(A),we=await De.get({fs:se,gitdir:x});j?await we.append(_,$):await we.set(_,$),await De.save({fs:se,gitdir:x,config:we})}catch(se){throw se.caller="git.setConfig",se}}async function sa({fs:A,gitdir:m,commit:x}){const _=zn.from(x).toObject();return await K({fs:A,gitdir:m,type:"commit",object:_,format:"content"})}class xo{static get timezoneOffsetForRefLogEntry(){const m=new Date().getTimezoneOffset(),x=Math.abs(Math.floor(m/60)),_=Math.abs(m%60).toString().padStart(2,"0");return`${m>0?"-":"+"}${x.toString().padStart(2,"0")}${_}`}static createStashReflogEntry(m,x,_){const $=m.name.replace(/\s/g,""),j="0000000000000000000000000000000000000000",se=Math.floor(Date.now()/1e3),we=xo.timezoneOffsetForRefLogEntry;return`${j} ${x} ${$} ${m.email} ${se} ${we}	${_}
`}static getStashReflogEntry(m,x=!1){return m.split(`
`).filter(j=>j).reverse().map((j,se)=>x?`stash@{${se}}: ${j.split("	")[1]}`:j)}}const Da={stage:vt,workdir:sr};let Lo;async function Ai(A,m){return Lo===void 0&&(Lo=new e),Lo.acquire(A,m)}async function Na(A,m,x,_,$=null){const j=r.join(x,_),se=await A.lstat(j);if(!se)throw new it(j);if(se.isDirectory())throw new p(`${j}: file expected, but found directory`);const we=$?await Y({fs:A,gitdir:m,oid:$}):void 0;let Le=we?$:void 0;return we||await Ai({fs:A,gitdir:m,currentFilepath:j},async()=>{const Ie=se.isSymbolicLink()?await A.readlink(j).then(z):await A.read(j);if(Ie===null)throw new it(j);Le=await K({fs:A,gitdir:m,type:"blob",object:Ie})}),Le}async function za({fs:A,dir:m,gitdir:x,entries:_}){async function $(j){if(j.type==="tree"){if(!j.oid){const se=await Promise.all(j.children.map($));j.oid=await un({fs:A,gitdir:x,tree:se}),j.mode=16384}}else j.type==="blob"&&(j.oid=await Na(A,x,m,j.path,j.oid),j.mode=33188);return j.path=j.path.split("/").pop(),j}return Promise.all(_.map($))}async function la({fs:A,dir:m,gitdir:x,treePair:_}){const $=_[1]==="stage",j=_.map(ft=>typeof ft=="string"?Da[ft]():ft),se=[],Ae=await Or({fs:A,cache:{},dir:m,gitdir:x,trees:j,map:async(ft,[At,Mt])=>{if(!(ft==="."||await Pr.isIgnored({fs:A,dir:m,gitdir:x,filepath:ft}))&&Mt)return(!At||await At.oid()!==await Mt.oid()&&await Mt.oid()!==void 0)&&se.push([At,Mt]),{mode:await Mt.mode(),path:ft,oid:await Mt.oid(),type:await Mt.type()}},reduce:async(ft,At)=>(At=At.filter(Boolean),ft?(ft.children=At,ft):At.length>0?At:void 0),iterate:async(ft,At)=>{const Mt=[];for(const Dt of At){const[qt,Xt]=Dt;$?Xt&&(await A.exists(`${m}/${Xt.toString()}`)?Mt.push(Dt):se.push([null,Xt])):qt&&(Xt?Mt.push(Dt):se.push([qt,null]))}return Mt.length?Promise.all(Mt.map(ft)):[]}});if(se.length===0||Ae.length===0)return null;const He=(await za({fs:A,dir:m,gitdir:x,entries:Ae})).filter(Boolean).map(ft=>({mode:ft.mode,path:ft.path,oid:ft.oid,type:ft.type}));return un({fs:A,gitdir:x,tree:He})}async function Fa({fs:A,dir:m,gitdir:x,stashCommit:_,parentCommit:$,wasStaged:j}){const se=[],we=[],Le=await Or({fs:A,cache:{},dir:m,gitdir:x,trees:[Fn({ref:$}),Fn({ref:_})],map:async(Ie,[Ae,Je])=>{if(Ie==="."||await Pr.isIgnored({fs:A,dir:m,gitdir:x,filepath:Ie}))return;const He=Je?await Je.type():await Ae.type();if(He!=="tree"&&He!=="blob")return;if(!Je&&Ae){const At=He==="tree"?"rmdir":"rm";return He==="tree"&&se.push(Ie),He==="blob"&&j&&we.push({filepath:Ie,oid:await Ae.oid()}),{method:At,filepath:Ie}}const ft=await Je.oid();if(!Ae||await Ae.oid()!==ft)return He==="tree"?{method:"mkdir",filepath:Ie}:(j&&we.push({filepath:Ie,oid:ft,stats:await A.lstat(r.join(m,Ie))}),{method:"write",filepath:Ie,oid:ft})}});await Ai({fs:A,gitdir:x,dirRemoved:se,ops:Le},async()=>{for(const Ie of Le){const Ae=r.join(m,Ie.filepath);switch(Ie.method){case"rmdir":await A.rmdir(Ae);break;case"mkdir":await A.mkdir(Ae);break;case"rm":await A.rm(Ae);break;case"write":if(!se.some(Je=>Ae.startsWith(Je))){const{object:Je}=await kt({fs:A,cache:{},gitdir:x,oid:Ie.oid});await A.exists(Ae)&&await A.rm(Ae),await A.write(Ae,Je)}break}}}),await Ce.acquire({fs:A,gitdir:x,cache:{}},async Ie=>{we.forEach(({filepath:Ae,stats:Je,oid:He})=>{Ie.insert({filepath:Ae,stats:Je,oid:He})})})}class Kr{constructor({fs:m,dir:x,gitdir:_=r.join(x,".git")}){Object.assign(this,{fs:m,dir:x,gitdir:_,_author:null})}static get refStash(){return"refs/stash"}static get refLogsStash(){return"logs/refs/stash"}get refStashPath(){return r.join(this.gitdir,Kr.refStash)}get refLogsStashPath(){return r.join(this.gitdir,Kr.refLogsStash)}async getAuthor(){if(!this._author&&(this._author=await Ge({fs:this.fs,gitdir:this.gitdir,author:{}}),!this._author))throw new wn("author");return this._author}async getStashSHA(m,x){return await this.fs.exists(this.refStashPath)?(x||await this.readStashReflogs({parsed:!1}))[m].split(" ")[1]:null}async writeStashCommit({message:m,tree:x,parent:_}){return sa({fs:this.fs,gitdir:this.gitdir,commit:{message:m,tree:x,parent:_,author:await this.getAuthor(),committer:await this.getAuthor()}})}async readStashCommit(m){const x=await this.readStashReflogs({parsed:!1});if(m!==0&&(m<0||m>x.length-1))throw new gn(`stash@${m}`,"number that is in range of [0, num of stash pushed]");const _=await this.getStashSHA(m,x);return _?We({fs:this.fs,cache:{},gitdir:this.gitdir,oid:_}):{}}async writeStashRef(m){return ht.writeRef({fs:this.fs,gitdir:this.gitdir,ref:Kr.refStash,value:m})}async writeStashReflogEntry({stashCommit:m,message:x}){const _=await this.getAuthor(),$=xo.createStashReflogEntry(_,m,x),j=this.refLogsStashPath;await Ai({filepath:j,entry:$},async()=>{const se=await this.fs.exists(j)?await this.fs.read(j,"utf8"):"";await this.fs.write(j,se+$,"utf8")})}async readStashReflogs({parsed:m=!1}){if(!await this.fs.exists(this.refLogsStashPath))return[];const _=(await this.fs.read(this.refLogsStashPath)).toString();return xo.getStashReflogEntry(_,m)}}async function ja({fs:A,dir:m,gitdir:x,message:_=""}){const $=new Kr({fs:A,dir:m,gitdir:x});await $.getAuthor();const j=await wr({fs:A,gitdir:x,fullname:!1}),se=await ht.resolve({fs:A,gitdir:x,ref:"HEAD"}),Le=(await Io({fs:A,dir:m,gitdir:x,oid:se})).commit.message,Ie=[se];let Ae=null,Je=Fn({ref:"HEAD"});const He=await la({fs:A,dir:m,gitdir:x,treePair:[Fn({ref:"HEAD"}),"stage"]});if(He){const Dt=await $.writeStashCommit({message:`stash-Index: WIP on ${j} - ${new Date().toISOString()}`,tree:He,parent:Ie});Ie.push(Dt),Ae=He,Je=vt()}const ft=await la({fs:A,dir:m,gitdir:x,treePair:[Je,"workdir"]});if(ft){const Dt=await $.writeStashCommit({message:`stash-WorkDir: WIP on ${j} - ${new Date().toISOString()}`,tree:ft,parent:[Ie[Ie.length-1]]});Ie.push(Dt),Ae=ft}if(!Ae||!He&&!ft)throw new it("changes, nothing to stash");const At=(_.trim()||`WIP on ${j}`)+`: ${se.substring(0,7)} ${Le}`,Mt=await $.writeStashCommit({message:At,tree:Ae,parent:Ie});return await $.writeStashRef(Mt),await $.writeStashReflogEntry({stashCommit:Mt,message:At}),await Yr({fs:A,dir:m,gitdir:x,ref:j,track:!1,force:!0}),Mt}async function ca({fs:A,dir:m,gitdir:x,refIdx:_=0}){const j=await new Kr({fs:A,dir:m,gitdir:x}).readStashCommit(_),{parent:se=null}=j.commit?j.commit:{};if(!(!se||!Array.isArray(se)))for(let we=0;we<se.length-1;we++){const Ie=(await We({fs:A,cache:{},gitdir:x,oid:se[we+1]})).commit.message.startsWith("stash-Index");await Fa({fs:A,dir:m,gitdir:x,stashCommit:se[we+1],parentCommit:se[we],wasStaged:Ie})}}async function ua({fs:A,dir:m,gitdir:x,refIdx:_=0}){const $=new Kr({fs:A,dir:m,gitdir:x});if(!(await $.readStashCommit(_)).commit)return;const se=$.refStashPath;await Ai(se,async()=>{await A.exists(se)&&await A.rm(se)});const we=await $.readStashReflogs({parsed:!1});if(!we.length)return;we.splice(_,1);const Le=$.refLogsStashPath;await Ai({reflogEntries:we,stashReflogPath:Le,stashMgr:$},async()=>{if(we.length){await A.write(Le,we.join(`
`),"utf8");const Ie=we[we.length-1].split(" ")[1];await $.writeStashRef(Ie)}else await A.rm(Le)})}async function qa({fs:A,dir:m,gitdir:x}){return new Kr({fs:A,dir:m,gitdir:x}).readStashReflogs({parsed:!0})}async function Za({fs:A,dir:m,gitdir:x}){const _=new Kr({fs:A,dir:m,gitdir:x}),$=[_.refStashPath,_.refLogsStashPath];await Ai($,async()=>{await Promise.all($.map(async j=>{if(await A.exists(j))return A.rm(j)}))})}async function Xa({fs:A,dir:m,gitdir:x,refIdx:_=0}){await ca({fs:A,dir:m,gitdir:x,refIdx:_}),await ua({fs:A,dir:m,gitdir:x,refIdx:_})}async function ha({fs:A,dir:m,gitdir:x=r.join(m,".git"),op:_="push",message:$="",refIdx:j=0}){mt("fs",A),mt("dir",m),mt("gitdir",x),mt("op",_);const se={push:ja,apply:ca,drop:ua,list:qa,clear:Za,pop:Xa},we=["apply","drop","pop"];try{const Le=new cn(A);["refs","logs","logs/refs"].map(Je=>r.join(x,Je)).forEach(async Je=>{await Le.exists(Je)||await Le.mkdir(Je)});const Ae=se[_];if(Ae){if(we.includes(_)&&j<0)throw new gn(`stash@${j}`,"number that is in range of [0, num of stash pushed]");return await Ae({fs:Le,dir:m,gitdir:x,message:$,refIdx:j})}throw new Error(`To be implemented: ${_}`)}catch(Le){throw Le.caller="git.stash",Le}}async function fa({fs:A,dir:m,gitdir:x=r.join(m,".git"),filepath:_,cache:$={}}){try{mt("fs",A),mt("gitdir",x),mt("filepath",_);const j=new cn(A);if(await Pr.isIgnored({fs:j,gitdir:x,dir:m,filepath:_}))return"ignored";const we=await Ga({fs:j,cache:$,gitdir:x}),Le=await da({fs:j,cache:$,gitdir:x,tree:we,path:_}),Ie=await Ce.acquire({fs:j,gitdir:x,cache:$},async function(Mt){for(const Dt of Mt)if(Dt.path===_)return Dt;return null}),Ae=await j.lstat(r.join(m,_)),Je=Le!==null,He=Ie!==null,ft=Ae!==null,At=async()=>{if(He&&!R(Ie,Ae))return Ie.oid;{const Mt=await j.read(r.join(m,_)),Dt=await ra({gitdir:x,type:"blob",object:Mt});return He&&Ie.oid===Dt&&Ae.size!==-1&&Ce.acquire({fs:j,gitdir:x,cache:$},async function(qt){qt.insert({filepath:_,stats:Ae,oid:Dt})}),Dt}};if(!Je&&!ft&&!He)return"absent";if(!Je&&!ft&&He)return"*absent";if(!Je&&ft&&!He)return"*added";if(!Je&&ft&&He)return await At()===Ie.oid?"added":"*added";if(Je&&!ft&&!He)return"deleted";if(Je&&!ft&&He)return Le===Ie.oid,"*deleted";if(Je&&ft&&!He)return await At()===Le?"*undeleted":"*undeletemodified";if(Je&&ft&&He){const Mt=await At();return Mt===Le?Mt===Ie.oid?"unmodified":"*unmodified":Mt===Ie.oid?"modified":"*modified"}}catch(j){throw j.caller="git.status",j}}async function da({fs:A,cache:m,gitdir:x,tree:_,path:$}){typeof $=="string"&&($=$.split("/"));const j=$.shift();for(const se of _)if(se.path===j){if($.length===0)return se.oid;const{type:we,object:Le}=await kt({fs:A,cache:m,gitdir:x,oid:se.oid});if(we==="tree"){const Ie=Me.from(Le);return da({fs:A,cache:m,gitdir:x,tree:Ie,path:$})}if(we==="blob")throw new yt(se.oid,we,"blob",$.join("/"))}return null}async function Ga({fs:A,cache:m,gitdir:x}){let _;try{_=await ht.resolve({fs:A,gitdir:x,ref:"HEAD"})}catch(j){if(j instanceof it)return[]}const{tree:$}=await Ht({fs:A,cache:m,gitdir:x,oid:_});return $}async function pa({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_="HEAD",filepaths:$=["."],filter:j,cache:se={},ignored:we=!1}){try{mt("fs",A),mt("gitdir",x),mt("ref",_);const Le=new cn(A);return await Or({fs:Le,cache:se,dir:m,gitdir:x,trees:[Fn({ref:_}),sr(),vt()],map:async function(Ie,[Ae,Je,He]){if(!Ae&&!He&&Je&&!we&&await Pr.isIgnored({fs:Le,dir:m,filepath:Ie})||!$.some(hn=>Kn(Ie,hn)))return null;if(j&&!j(Ie))return;const[ft,At,Mt]=await Promise.all([Ae&&Ae.type(),Je&&Je.type(),He&&He.type()]),Dt=[ft,At,Mt].includes("blob");if((ft==="tree"||ft==="special")&&!Dt)return;if(ft==="commit")return null;if((At==="tree"||At==="special")&&!Dt)return;if(Mt==="commit")return null;if((Mt==="tree"||Mt==="special")&&!Dt)return;const qt=ft==="blob"?await Ae.oid():void 0,Xt=Mt==="blob"?await He.oid():void 0;let nn;ft!=="blob"&&At==="blob"&&Mt!=="blob"?nn="42":At==="blob"&&(nn=await Je.oid());const dn=[void 0,qt,nn,Xt],pn=dn.map(hn=>dn.indexOf(hn));return pn.shift(),[Ie,...pn]}})}catch(Le){throw Le.caller="git.statusMatrix",Le}}async function ga({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_,object:$,force:j=!1}){try{mt("fs",A),mt("gitdir",x),mt("ref",_);const se=new cn(A);if(_===void 0)throw new An("ref");_=_.startsWith("refs/tags/")?_:`refs/tags/${_}`;const we=await ht.resolve({fs:se,gitdir:x,ref:$||"HEAD"});if(!j&&await ht.exists({fs:se,gitdir:x,ref:_}))throw new Qt("tag",_);await ht.writeRef({fs:se,gitdir:x,ref:_,value:we})}catch(se){throw se.caller="git.tag",se}}async function ma({fs:A,dir:m,gitdir:x=r.join(m,".git"),cache:_={},filepath:$,oid:j,mode:se,add:we,remove:Le,force:Ie}){try{mt("fs",A),mt("gitdir",x),mt("filepath",$);const Ae=new cn(A);if(Le)return await Ce.acquire({fs:Ae,gitdir:x,cache:_},async function(He){if(!Ie){const ft=await Ae.lstat(r.join(m,$));if(ft){if(ft.isDirectory())throw new mn("directory");return}}He.has({filepath:$})&&He.delete({filepath:$})});let Je;if(!j){if(Je=await Ae.lstat(r.join(m,$)),!Je)throw new it(`file at "${$}" on disk and "remove" not set`);if(Je.isDirectory())throw new mn("directory")}return await Ce.acquire({fs:Ae,gitdir:x,cache:_},async function(He){if(!we&&!He.has({filepath:$}))throw new it(`file at "${$}" in index and "add" not set`);let ft;if(j)ft={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:se,uid:0,gid:0,size:0};else{ft=Je;const At=ft.isSymbolicLink()?await Ae.readlink(r.join(m,$)):await Ae.read(r.join(m,$));j=await K({fs:Ae,gitdir:x,type:"blob",format:"content",object:At})}return He.insert({filepath:$,oid:j,stats:ft}),j})}catch(Ae){throw Ae.caller="git.updateIndex",Ae}}function Oa(){try{return fi.version}catch(A){throw A.caller="git.version",A}}async function va({fs:A,dir:m,gitdir:x=r.join(m,".git"),trees:_,map:$,reduce:j,iterate:se,cache:we={}}){try{return mt("fs",A),mt("gitdir",x),mt("trees",_),await Or({fs:new cn(A),cache:we,dir:m,gitdir:x,trees:_,map:$,reduce:j,iterate:se})}catch(Le){throw Le.caller="git.walk",Le}}async function ya({fs:A,dir:m,gitdir:x=r.join(m,".git"),blob:_}){try{return mt("fs",A),mt("gitdir",x),mt("blob",_),await K({fs:new cn(A),gitdir:x,type:"blob",object:_,format:"content"})}catch($){throw $.caller="git.writeBlob",$}}async function ba({fs:A,dir:m,gitdir:x=r.join(m,".git"),commit:_}){try{return mt("fs",A),mt("gitdir",x),mt("commit",_),await sa({fs:new cn(A),gitdir:x,commit:_})}catch($){throw $.caller="git.writeCommit",$}}async function wa({fs:A,dir:m,gitdir:x=r.join(m,".git"),type:_,object:$,format:j="parsed",oid:se,encoding:we=void 0}){try{const Le=new cn(A);if(j==="parsed"){switch(_){case"commit":$=zn.from($).toObject();break;case"tree":$=Me.from($).toObject();break;case"blob":$=Buffer$1.from($,we);break;case"tag":$=Hn.from($).toObject();break;default:throw new yt(se||"",_,"blob|commit|tag|tree")}j="content"}return se=await K({fs:Le,gitdir:x,type:_,object:$,oid:se,format:j}),se}catch(Le){throw Le.caller="git.writeObject",Le}}async function xa({fs:A,dir:m,gitdir:x=r.join(m,".git"),ref:_,value:$,force:j=!1,symbolic:se=!1}){try{mt("fs",A),mt("gitdir",x),mt("ref",_),mt("value",$);const we=new cn(A);if(_!==u.clean(_))throw new gn(_,u.clean(_));if(!j&&await ht.exists({fs:we,gitdir:x,ref:_}))throw new Qt("ref",_);se?await ht.writeSymbolicRef({fs:we,gitdir:x,ref:_,value:$}):($=await ht.resolve({fs:we,gitdir:x,ref:$}),await ht.writeRef({fs:we,gitdir:x,ref:_,value:$}))}catch(we){throw we.caller="git.writeRef",we}}async function Ua({fs:A,gitdir:m,tag:x}){const _=Hn.from(x).toObject();return await K({fs:A,gitdir:m,type:"tag",object:_,format:"content"})}async function ka({fs:A,dir:m,gitdir:x=r.join(m,".git"),tag:_}){try{return mt("fs",A),mt("gitdir",x),mt("tag",_),await Ua({fs:new cn(A),gitdir:x,tag:_})}catch($){throw $.caller="git.writeTag",$}}async function Sa({fs:A,dir:m,gitdir:x=r.join(m,".git"),tree:_}){try{return mt("fs",A),mt("gitdir",x),mt("tree",_),await un({fs:new cn(A),gitdir:x,tree:_})}catch($){throw $.caller="git.writeTree",$}}var Va={Errors:Mr,STAGE:vt,TREE:Fn,WORKDIR:sr,add:X,abortMerge:Tr,addNote:Tn,addRemote:kn,annotatedTag:Mn,branch:Ln,checkout:Yr,clone:eo,commit:Mi,getConfig:Fi,getConfigAll:po,setConfig:aa,currentBranch:pi,deleteBranch:to,deleteRef:no,deleteRemote:Bi,deleteTag:io,expandOid:Ii,expandRef:Li,fastForward:co,fetch:uo,findMergeBase:ho,findRoot:zi,getRemoteInfo:go,getRemoteInfo2:gi,hashBlob:mo,indexPack:Oo,init:vo,isDescendent:bo,isIgnored:xe,listBranches:Fe,listFiles:ke,listNotes:ut,listRefs:pt,listRemotes:zt,listServerRefs:$n,listTags:Dn,log:Hr,merge:mi,packObjects:Zo,pull:Xo,push:Go,readBlob:Wo,readCommit:Io,readNote:Yo,readObject:Ho,readTag:Ko,readTree:Jo,remove:ea,removeNote:ta,renameBranch:na,resetIndex:ia,updateIndex:ma,resolveRef:oa,status:fa,statusMatrix:pa,tag:ga,version:Oa,walk:va,writeBlob:ya,writeCommit:ba,writeObject:wa,writeRef:xa,writeTag:ka,writeTree:Sa,stash:ha};return isomorphicGit.Errors=Mr,isomorphicGit.STAGE=vt,isomorphicGit.TREE=Fn,isomorphicGit.WORKDIR=sr,isomorphicGit.abortMerge=Tr,isomorphicGit.add=X,isomorphicGit.addNote=Tn,isomorphicGit.addRemote=kn,isomorphicGit.annotatedTag=Mn,isomorphicGit.branch=Ln,isomorphicGit.checkout=Yr,isomorphicGit.clone=eo,isomorphicGit.commit=Mi,isomorphicGit.currentBranch=pi,isomorphicGit.default=Va,isomorphicGit.deleteBranch=to,isomorphicGit.deleteRef=no,isomorphicGit.deleteRemote=Bi,isomorphicGit.deleteTag=io,isomorphicGit.expandOid=Ii,isomorphicGit.expandRef=Li,isomorphicGit.fastForward=co,isomorphicGit.fetch=uo,isomorphicGit.findMergeBase=ho,isomorphicGit.findRoot=zi,isomorphicGit.getConfig=Fi,isomorphicGit.getConfigAll=po,isomorphicGit.getRemoteInfo=go,isomorphicGit.getRemoteInfo2=gi,isomorphicGit.hashBlob=mo,isomorphicGit.indexPack=Oo,isomorphicGit.init=vo,isomorphicGit.isDescendent=bo,isomorphicGit.isIgnored=xe,isomorphicGit.listBranches=Fe,isomorphicGit.listFiles=ke,isomorphicGit.listNotes=ut,isomorphicGit.listRefs=pt,isomorphicGit.listRemotes=zt,isomorphicGit.listServerRefs=$n,isomorphicGit.listTags=Dn,isomorphicGit.log=Hr,isomorphicGit.merge=mi,isomorphicGit.packObjects=Zo,isomorphicGit.pull=Xo,isomorphicGit.push=Go,isomorphicGit.readBlob=Wo,isomorphicGit.readCommit=Io,isomorphicGit.readNote=Yo,isomorphicGit.readObject=Ho,isomorphicGit.readTag=Ko,isomorphicGit.readTree=Jo,isomorphicGit.remove=ea,isomorphicGit.removeNote=ta,isomorphicGit.renameBranch=na,isomorphicGit.resetIndex=ia,isomorphicGit.resolveRef=oa,isomorphicGit.setConfig=aa,isomorphicGit.stash=ha,isomorphicGit.status=fa,isomorphicGit.statusMatrix=pa,isomorphicGit.tag=ga,isomorphicGit.updateIndex=ma,isomorphicGit.version=Oa,isomorphicGit.walk=va,isomorphicGit.writeBlob=ya,isomorphicGit.writeCommit=ba,isomorphicGit.writeObject=wa,isomorphicGit.writeRef=xa,isomorphicGit.writeTag=ka,isomorphicGit.writeTree=Sa,isomorphicGit}var isomorphicGitExports=requireIsomorphicGit();const git=getDefaultExportFromCjs(isomorphicGitExports);class Git{constructor(e){if(!e)throw new Error("A garden name is required to initialize the Git client.");this.gardenName=e,this.fs=new FS(`garden-fs-${this.gardenName}`),this.pfs=this.fs.promises}async initRepo(){try{await this.pfs.stat("/.git"),console.log(`Garden "${this.gardenName}" already exists. Loading it.`);return}catch{}console.log(`Initializing new garden: "${this.gardenName}"...`);try{await git.init({fs:this.fs,dir:"/",defaultBranch:"main"});const e=`# Welcome to your new garden: ${this.gardenName}

Start writing your thoughts here.`;await this.pfs.writeFile("/README",e,"utf8"),this.registerNewGarden(),console.log("New garden initialized successfully.")}catch(e){console.error("Error initializing repository:",e)}}registerNewGarden(){try{const e=localStorage.getItem("thoughtform_gardens"),n=e?JSON.parse(e):[];n.includes(this.gardenName)||(n.push(this.gardenName),localStorage.setItem("thoughtform_gardens",JSON.stringify(n)))}catch(e){console.error("Failed to update garden registry:",e)}}async stage(e){const n=e.startsWith("/")?e.substring(1):e;await git.add({fs:this.fs,dir:"/",filepath:n})}async unstage(e){const n=e.startsWith("/")?e.substring(1):e;await git.remove({fs:this.fs,dir:"/",filepath:n})}async discard(e){console.log(`[discard] Starting discard for: ${e}`);const n=e.startsWith("/")?e.substring(1):e;try{const a=(await this.getStatuses()).find(l=>l[0]===n);if(!a){console.warn(`[discard] Could not find status for "${n}".`);return}a[1]===0?(console.log(`[discard] File is untracked. Deleting: ${e}`),await this.pfs.unlink(e),console.log(`[discard] Successfully unlinked ${e}.`)):(console.log(`[discard] File is tracked. Force checking out from HEAD: ${n}`),await git.checkout({fs:this.fs,dir:"/",filepaths:[n],force:!0}),console.log(`[discard] Successfully checked out ${n}.`))}catch(r){console.error(`[discard] An error occurred for ${e}:`,r)}}async commit(e){const n=await git.commit({fs:this.fs,dir:"/",message:e,author:{name:"User",email:"user@thoughtform.garden"}});return this.markGardenAsDirty(!1),n}async log(){try{return await git.log({fs:this.fs,dir:"/",depth:20})}catch{return console.log("No commit history found."),[]}}async getChangedFiles(e){try{const r=(await git.readCommit({fs:this.fs,dir:"/",oid:e})).commit.parent[0];if(!r)return(await git.listFiles({fs:this.fs,dir:"/",ref:e})).map(l=>({path:`/${l}`,type:"add"}));const a=[];return await git.walk({fs:this.fs,dir:"/",trees:[git.TREE({ref:r}),git.TREE({ref:e})],map:async function(s,[l,c]){if(s===".")return;const u=await l.oid(),h=await c.oid();u!==h&&a.push(`/${s}`)}}),a}catch(n){return console.error(`Error getting changed files for commit ${e}:`,n),[]}}async readBlob(e){return this.readBlobFromCommit("HEAD",e)}async readBlobFromCommit(e,n){const r=n.startsWith("/")?n.substring(1):n;if(!e)return"";try{const a=e==="HEAD"?await git.resolveRef({fs:this.fs,dir:"/",ref:"HEAD"}):e,{blob:s}=await git.readBlob({fs:this.fs,dir:"/",oid:a,filepath:r});return new TextDecoder().decode(s)}catch(a){return a.name==="NotFoundError"?"":(console.error(`Could not read blob for ${r} from commit ${e}:`,a),null)}}async readFile(e){try{return await this.pfs.readFile(e,"utf8")}catch{return console.warn(`File not found: ${e}`),`// File not found: ${e}
// Start typing to create it.`}}async writeFile(e,n){try{const r=e.substring(0,e.lastIndexOf("/"));r&&await this.pfs.mkdir(r,{recursive:!0}),await this.pfs.writeFile(e,n,"utf8"),this.markGardenAsDirty(!0)}catch(r){console.error(`Error writing file ${e}:`,r)}}markGardenAsDirty(e){try{const n=localStorage.getItem("dirty_gardens"),r=n?JSON.parse(n):[],a=r.indexOf(this.gardenName);e&&a===-1?r.push(this.gardenName):!e&&a!==-1&&r.splice(a,1),localStorage.setItem("dirty_gardens",JSON.stringify(r))}catch(n){console.error("Failed to update dirty garden registry:",n)}}async getStatuses(){return git.statusMatrix({fs:this.fs,dir:"/"})}}const gardenActions={async renderGardens(){try{const o=localStorage.getItem("thoughtform_gardens"),e=o?JSON.parse(o):[],n=new URL(import.meta.url).pathname.split("/").slice(0,-2).join("/")||"";if(e.length===0){this.contentContainer.innerHTML='<p class="sidebar-info">No gardens found. Create one!</p>';return}let r="";for(const a of e.sort()){const s=decodeURIComponent(a),c=await new Git(s).getStatuses(),u=Array.from(c.values()).some(p=>p==="modified"),h=`${n}/${a}`,f=this.gitClient.gardenName===s,d=[];f&&d.push("active"),u&&d.push("status-modified"),r+=`<li><a href="${h}" class="${d.join(" ")}" data-garden-name="${a}">${s}</a></li>`}this.contentContainer.innerHTML=`<ul>${r}</ul>`}catch(o){console.error("Error rendering garden list:",o),this.contentContainer.innerHTML='<p class="sidebar-error">Could not load gardens.</p>'}},handleNewGarden(){const o=prompt("Enter new garden name:");if(!o||!o.trim())return;const e=localStorage.getItem("thoughtform_gardens");if((e?JSON.parse(e):[]).includes(o)){alert(`Garden "${o}" already exists.`);return}const r=new URL(import.meta.url).pathname.split("/").slice(0,-2).join("/")||"";window.location.href=`${r}/${o}`},async handleDuplicateGarden(o){if(!o)return;const n=`${decodeURIComponent(o)} (copy)`,r=prompt("Enter name for new garden:",n);if(!r||!r.trim()||r===o)return;const a=this.contentContainer.innerHTML;this.contentContainer.innerHTML='<p class="sidebar-info">Preparing duplication...<br>(UI may be unresponsive)</p>',setTimeout(async()=>{try{const s=new Git(o),l=new Git(r);await l.initRepo();const c=await this.listFiles(s,"/");let u=0;for(const h of c){u++,this.contentContainer.innerHTML=`<p class="sidebar-info">Copying file ${u} of ${c.length}:<br>${h.substring(1)}</p>`;const f=await s.readFile(h);await l.writeFile(h,f)}this.contentContainer.innerHTML='<p class="sidebar-info">Duplication complete. Redirecting...</p>',setTimeout(()=>{const h=new URL(import.meta.url).pathname.split("/").slice(0,-2).join("/")||"",f=`${window.location.origin}${h}/${r}`;window.location.replace(f)},500)}catch(s){console.error("Error duplicating garden:",s),alert("Failed to duplicate garden. Check console for details."),this.contentContainer.innerHTML=a}},100)},async handleDeleteGarden(o){if(o){if(o==="home"){alert('The default "home" garden cannot be deleted.');return}if(confirm(`ARE YOU SURE you want to permanently delete the garden "${o}"?
This cannot be undone.`))try{const e=localStorage.getItem("thoughtform_gardens");let n=e?JSON.parse(e):[];n=n.filter(a=>a!==o),localStorage.setItem("thoughtform_gardens",JSON.stringify(n));const r=`garden-fs-${o}`;if(await new Promise((a,s)=>{const l=indexedDB.deleteDatabase(r);l.onsuccess=()=>a(),l.onerror=c=>s(c.target.error),l.onblocked=()=>{alert("Could not delete the database because it's still in use. Please refresh the page and try again."),s(new Error("Deletion blocked"))}}),this.gitClient.gardenName===o){const a=new URL(import.meta.url).pathname.split("/").slice(0,-2).join("/")||"";window.location.href=`${a}/home`}else await this.refresh()}catch(e){console.error("Error deleting garden:",e),alert("Failed to delete garden.")}}}},gitActions={async renderGitView(){try{const[o,e]=await Promise.all([this.gitClient.getStatuses(),this.gitClient.log()]),n=[],r=[];for(const[f,d,p,g]of o){const y=`/${f}`;(d!==p||d!==g)&&(p===g?n.push({filepath:y,status:"staged"}):r.push({filepath:y,status:"unstaged"}))}const a=`
        <div class="git-commit-area">
          <textarea id="git-commit-message" placeholder="Commit message..." rows="3"></textarea>
          <button id="git-commit-button" disabled>Commit</button>
        </div>
      `,s=this.renderFileSection("Changes",r,!1),l=this.renderFileSection("Staged Changes",n,!0),c=this.renderHistorySection(e),u=this.contentContainer.querySelector("#git-commit-message")?.value||"";this.contentContainer.innerHTML=`
        <div class="git-view-container">
          ${a}
          ${l}
          ${s}
          ${c}
        </div>
      `;const h=this.contentContainer.querySelector("#git-commit-message");h&&(h.value=u),this.addGitViewListeners(),this.updateCommitButtonState()}catch(o){console.error("Error rendering Git view:",o),this.contentContainer.innerHTML='<p class="sidebar-error">Could not load Git status.</p>'}},renderFileSection(o,e,n){const r=n?'<button class="git-action-button unstage" title="Unstage Changes">-</button>':'<button class="git-action-button stage" title="Stage Changes">+</button>';let a="";return e.length>0?a=e.map(l=>{const c=l.filepath.startsWith("/")?l.filepath.substring(1):l.filepath;return`
          <li class="git-file-item ${this.editor.filePath===l.filepath?"active":""}" data-filepath="${l.filepath}">
            <span class="git-file-path">${c}</span>
            <span class="git-file-actions">
              <button class="git-action-button discard" title="Discard Changes"></button>
              ${r}
            </span>
          </li>
        `}).join(""):a=`<li><span class="no-changes">No ${n?"staged ":""}changes.</span></li>`,`
      <div class="git-file-section ${n?"git-staged-section":""}">
        <h3 class="git-section-header">${o} (${e.length})</h3>
        <ul class="git-file-list">
          ${a}
        </ul>
      </div>
    `},renderHistorySection(o){let e="";return o.length>0?e=o.map(n=>{const r=n.commit.message.split(`
`)[0],a=n.oid.substring(0,7),s=n.commit.author.name,l=new Date(n.commit.author.timestamp*1e3).toLocaleString(),c=n.commit.parent[0]||"";return`
              <li class="git-history-item" data-oid="${n.oid}" data-parent-oid="${c}" data-author="${s}" data-date="${l}">
                <div class="git-history-header">
                  <span class="git-history-message">${r}</span>
                  <span class="git-history-oid">${a}</span>
                </div>
                <div class="git-history-details" style="display: none;"></div>
              </li>
            `}).join(""):e='<li><span class="no-changes">No commit history.</span></li>',`
        <div class="git-history-section">
            <h3 class="git-section-header">History</h3>
            <ul class="git-history-list">
                ${e}
            </ul>
        </div>
    `},updateCommitButtonState(){const o=this.contentContainer.querySelector("#git-commit-message"),e=this.contentContainer.querySelector("#git-commit-button");if(!o||!e)return;const n=this.contentContainer.querySelector(".git-staged-section .git-file-item")!==null,r=o.value.trim().length>0;e.disabled=!(n&&r)},addGitViewListeners(){const o=this.contentContainer.querySelector("#git-commit-message");o&&!o.dataset.listenerAttached&&(o.dataset.listenerAttached="true",o.addEventListener("input",()=>this.updateCommitButtonState()));const e=this.contentContainer.querySelector(".git-view-container");e&&!e.dataset.listenerAttached&&(e.dataset.listenerAttached="true",e.addEventListener("click",async r=>{const a=r.target,s=a.closest(".git-file-item"),l=a.closest(".git-history-item");if(s){const c=s.dataset.filepath;a.matches(".git-file-path")?(this.editor.filePath!==c&&await this.editor.loadFile(c),this.editor.showDiff(await this.gitClient.readBlob(c))):a.matches(".git-action-button")&&(r.stopPropagation(),a.classList.contains("discard")?confirm(`Are you sure you want to discard all changes to "${c}"?
This cannot be undone.`)&&(await this.gitClient.discard(c),this.editor.filePath===c&&await this.editor.forceReloadFile(c),await this.refresh()):a.classList.contains("stage")?(await this.gitClient.stage(c),await this.renderGitView()):a.classList.contains("unstage")&&(await this.gitClient.unstage(c),await this.renderGitView()))}else if(l&&a.closest(".git-history-header")){const c=l.querySelector(".git-history-details");if(c.style.display!=="none")c.style.display="none";else if(c.style.display="block",!c.dataset.loaded){c.innerHTML='<span class="no-changes">Loading...</span>';const h=l.dataset.oid,f=await this.gitClient.getChangedFiles(h),d=l.dataset.author,p=l.dataset.date,g=f.map(y=>{const v=typeof y=="string"?y:y.path;return`<div class="history-file-path" data-path="${v}">${v.substring(1)}</div>`}).join("");c.innerHTML=`
                    <div class="commit-meta">
                      <div><strong>Author:</strong> ${d}</div>
                      <div><strong>Date:</strong> ${p}</div>
                    </div>
                    <div class="history-file-list">${g||'<span class="no-changes">No files changed.</span>'}</div>
                  `,c.dataset.loaded="true"}}else if(a.closest(".history-file-path")){e.querySelectorAll(".history-file-path.active").forEach(d=>d.classList.remove("active")),a.classList.add("active");const c=a.closest(".git-history-item"),u=a.dataset.path,h=c.dataset.oid,f=c.dataset.parentOid;await this.editor.previewHistoricalFile(u,h,f)}}));const n=this.contentContainer.querySelector("#git-commit-button");n&&!n.dataset.listenerAttached&&(n.dataset.listenerAttached="true",n.addEventListener("click",async()=>{const a=this.contentContainer.querySelector("#git-commit-message").value.trim();if(a)try{n.disabled=!0,n.textContent="Committing...",await this.gitClient.commit(a),this.editor.hideDiff(),await this.refresh()}catch(s){console.error("Commit failed:",s),alert("Commit failed. See console for details."),this.updateCommitButtonState(),n.textContent="Commit"}}))}};class Sidebar{constructor({target:e,gitClient:n,editor:r}){if(!n)throw new Error("Sidebar requires a gitClient instance.");if(!r)throw new Error("Sidebar requires an editor instance.");this.gitClient=n,this.editor=r,this.targetSelector=e;const a=document.querySelector(this.targetSelector);if(!a){console.error(`Sidebar container not found: ${this.targetSelector}`);return}this.container=a,this.tabsContainer=document.createElement("div"),this.tabsContainer.className="sidebar-tabs",this.contentContainer=document.createElement("div"),this.contentContainer.className="sidebar-content",this.container.appendChild(this.tabsContainer),this.container.appendChild(this.contentContainer),this.activeTab=sessionStorage.getItem("sidebarActiveTab")||"Files",Object.assign(this,fileActions),Object.assign(this,gardenActions),Object.assign(this,gitActions)}async init(){console.log("Initializing sidebar..."),this.renderTabs(),this.setupContextMenus(),await this.refresh(),console.log("Sidebar initialized.")}setupContextMenus(){new ContextMenu({targetSelector:".sidebar-content.files-view",itemSelector:"[data-filepath]",dataAttribute:"data-filepath",items:[{label:"New File",action:()=>this.handleNewFile()},{label:"Rename",action:e=>this.handleRename(e)},{label:"Duplicate",action:e=>this.handleDuplicate(e)},{label:"Delete",action:e=>this.handleDelete(e)}],containerItems:[{label:"New File",action:()=>this.handleNewFile()}]}),new ContextMenu({targetSelector:".sidebar-content.gardens-view",itemSelector:"[data-garden-name]",dataAttribute:"data-garden-name",items:[{label:"New Garden",action:()=>this.handleNewGarden()},{label:"Duplicate",action:e=>this.handleDuplicateGarden(e)},{label:"Delete",action:e=>this.handleDeleteGarden(e)}],containerItems:[{label:"New Garden",action:()=>this.handleNewGarden()}]})}renderTabs(){this.tabsContainer.innerHTML=`
      <button class="sidebar-tab" data-tab="Files">Files</button>
      <button class="sidebar-tab" data-tab="Gardens">Gardens</button>
      <button class="sidebar-tab" data-tab="Git">Git</button>
    `,this.tabsContainer.querySelectorAll(".sidebar-tab").forEach(e=>{e.addEventListener("click",n=>{const r=n.target.dataset.tab,a=this.activeTab;if(this.activeTab=r,sessionStorage.setItem("sidebarActiveTab",this.activeTab),a==="Git"&&r!=="Git"){const s=this.editor.getFilePath(window.location.hash);this.editor.loadFile(s)}this.refresh()})})}async refresh(){this.tabsContainer.querySelectorAll(".sidebar-tab").forEach(r=>{r.classList.toggle("active",r.dataset.tab===this.activeTab)}),this.contentContainer.classList.toggle("files-view",this.activeTab==="Files"),this.contentContainer.classList.toggle("gardens-view",this.activeTab==="Gardens"),this.contentContainer.classList.toggle("git-view",this.activeTab==="Git");const e=await this.gitClient.getStatuses();this.activeTab==="Files"?await this.renderFiles(e):this.activeTab==="Gardens"?await this.renderGardens():this.activeTab==="Git"&&await this.renderGitView();const n=e.some(([,r,a])=>r!==a);this.tabsContainer.querySelector('[data-tab="Git"]').classList.toggle("dirty",n)}async listFiles(e,n){const r=e.pfs;let a=[];try{const s=await r.readdir(n);for(const l of s){if(l===".git")continue;const c=`${n==="/"?"":n}/${l}`;try{(await r.stat(c)).isDirectory()?a=a.concat(await this.listFiles(e,c)):a.push(c)}catch{console.warn(`Could not stat ${c}, skipping.`)}}}catch{console.log(`Directory not found: ${n}. No files to list.`)}return a}}const baseTheme=EditorView.theme({"&":{color:"#ccc",backgroundColor:"#222"},".cm-content":{caretColor:"#fff"},"&.cm-focused .cm-cursor":{borderLeftColor:"#fff"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#444"},".cm-gutters":{backgroundColor:"#222",color:"#888",border:"none"}},{dark:!0}),highlightStyle=HighlightStyle.define([{tag:tags$1.keyword,color:"#CF8E6D"},{tag:[tags$1.name,tags$1.deleted,tags$1.character,tags$1.propertyName,tags$1.macroName],color:"#9CDCFE"},{tag:[tags$1.processingInstruction,tags$1.string,tags$1.inserted],color:"#CE9178"},{tag:[tags$1.function(tags$1.variableName),tags$1.labelName],color:"#DCDCAA"},{tag:[tags$1.color,tags$1.constant(tags$1.name),tags$1.standard(tags$1.name)],color:"#B5CEA8"},{tag:[tags$1.definition(tags$1.name),tags$1.separator],color:"#D4D4D4"},{tag:[tags$1.typeName,tags$1.className,tags$1.number,tags$1.changed,tags$1.annotation,tags$1.modifier,tags$1.self,tags$1.namespace],color:"#4EC9B0"},{tag:[tags$1.operator,tags$1.operatorKeyword,tags$1.url,tags$1.escape,tags$1.regexp,tags$1.link,tags$1.special(tags$1.string)],color:"#D4D4D4"},{tag:[tags$1.meta,tags$1.comment],color:"#6A9955"},{tag:tags$1.strong,fontWeight:"bold"},{tag:tags$1.emphasis,fontStyle:"italic"},{tag:tags$1.strikethrough,textDecoration:"line-through"},{tag:tags$1.link,color:"#6A9955",textDecoration:"underline"},{tag:tags$1.heading,fontWeight:"bold",color:"#569CD6"},{tag:[tags$1.atom,tags$1.bool,tags$1.special(tags$1.variableName)],color:"#B5CEA8"},{tag:tags$1.invalid,color:"#f00"}]),basicDark=[baseTheme,syntaxHighlighting(highlightStyle)];var diff_1,hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff_1;hasRequiredDiff=1;var o=-1,e=1,n=0;function r(ee,N,Z,R,ae){if(ee===N)return ee?[[n,ee]]:[];if(Z!=null){var de=pe(ee,N,Z);if(de)return de}var H=c(ee,N),ne=ee.substring(0,H);ee=ee.substring(H),N=N.substring(H),H=h(ee,N);var V=ee.substring(ee.length-H);ee=ee.substring(0,ee.length-H),N=N.substring(0,N.length-H);var Ce=a(ee,N);return ne&&Ce.unshift([n,ne]),V&&Ce.push([n,V]),k(Ce,ae),R&&d(Ce),Ce}function a(ee,N){var Z;if(!ee)return[[e,N]];if(!N)return[[o,ee]];var R=ee.length>N.length?ee:N,ae=ee.length>N.length?N:ee,de=R.indexOf(ae);if(de!==-1)return Z=[[e,R.substring(0,de)],[n,ae],[e,R.substring(de+ae.length)]],ee.length>N.length&&(Z[0][0]=Z[2][0]=o),Z;if(ae.length===1)return[[o,ee],[e,N]];var H=f(ee,N);if(H){var ne=H[0],V=H[1],Ce=H[2],ge=H[3],Te=H[4],Ke=r(ne,Ce),Ye=r(V,ge);return Ke.concat([[n,Te]],Ye)}return s(ee,N)}function s(ee,N){for(var Z=ee.length,R=N.length,ae=Math.ceil((Z+R)/2),de=ae,H=2*ae,ne=new Array(H),V=new Array(H),Ce=0;Ce<H;Ce++)ne[Ce]=-1,V[Ce]=-1;ne[de+1]=0,V[de+1]=0;for(var ge=Z-R,Te=ge%2!==0,Ke=0,Ye=0,Qe=0,rt=0,vt=0;vt<ae;vt++){for(var it=-vt+Ke;it<=vt-Ye;it+=2){var yt=de+it,xt;it===-vt||it!==vt&&ne[yt-1]<ne[yt+1]?xt=ne[yt+1]:xt=ne[yt-1]+1;for(var Ct=xt-it;xt<Z&&Ct<R&&ee.charAt(xt)===N.charAt(Ct);)xt++,Ct++;if(ne[yt]=xt,xt>Z)Ye+=2;else if(Ct>R)Ke+=2;else if(Te){var St=de+ge-it;if(St>=0&&St<H&&V[St]!==-1){var Rt=Z-V[St];if(xt>=Rt)return l(ee,N,xt,Ct)}}}for(var oe=-vt+Qe;oe<=vt-rt;oe+=2){var St=de+oe,Rt;oe===-vt||oe!==vt&&V[St-1]<V[St+1]?Rt=V[St+1]:Rt=V[St-1]+1;for(var je=Rt-oe;Rt<Z&&je<R&&ee.charAt(Z-Rt-1)===N.charAt(R-je-1);)Rt++,je++;if(V[St]=Rt,Rt>Z)rt+=2;else if(je>R)Qe+=2;else if(!Te){var yt=de+ge-oe;if(yt>=0&&yt<H&&ne[yt]!==-1){var xt=ne[yt],Ct=de+xt-yt;if(Rt=Z-Rt,xt>=Rt)return l(ee,N,xt,Ct)}}}}return[[o,ee],[e,N]]}function l(ee,N,Z,R){var ae=ee.substring(0,Z),de=N.substring(0,R),H=ee.substring(Z),ne=N.substring(R),V=r(ae,de),Ce=r(H,ne);return V.concat(Ce)}function c(ee,N){if(!ee||!N||ee.charAt(0)!==N.charAt(0))return 0;for(var Z=0,R=Math.min(ee.length,N.length),ae=R,de=0;Z<ae;)ee.substring(de,ae)==N.substring(de,ae)?(Z=ae,de=Z):R=ae,ae=Math.floor((R-Z)/2+Z);return E(ee.charCodeAt(ae-1))&&ae--,ae}function u(ee,N){var Z=ee.length,R=N.length;if(Z==0||R==0)return 0;Z>R?ee=ee.substring(Z-R):Z<R&&(N=N.substring(0,Z));var ae=Math.min(Z,R);if(ee==N)return ae;for(var de=0,H=1;;){var ne=ee.substring(ae-H),V=N.indexOf(ne);if(V==-1)return de;H+=V,(V==0||ee.substring(ae-H)==N.substring(0,H))&&(de=H,H++)}}function h(ee,N){if(!ee||!N||ee.slice(-1)!==N.slice(-1))return 0;for(var Z=0,R=Math.min(ee.length,N.length),ae=R,de=0;Z<ae;)ee.substring(ee.length-ae,ee.length-de)==N.substring(N.length-ae,N.length-de)?(Z=ae,de=Z):R=ae,ae=Math.floor((R-Z)/2+Z);return I(ee.charCodeAt(ee.length-ae))&&ae--,ae}function f(ee,N){var Z=ee.length>N.length?ee:N,R=ee.length>N.length?N:ee;if(Z.length<4||R.length*2<Z.length)return null;function ae(Ye,Qe,rt){for(var vt=Ye.substring(rt,rt+Math.floor(Ye.length/4)),it=-1,yt="",xt,Ct,St,Rt;(it=Qe.indexOf(vt,it+1))!==-1;){var oe=c(Ye.substring(rt),Qe.substring(it)),je=h(Ye.substring(0,rt),Qe.substring(0,it));yt.length<je+oe&&(yt=Qe.substring(it-je,it)+Qe.substring(it,it+oe),xt=Ye.substring(0,rt-je),Ct=Ye.substring(rt+oe),St=Qe.substring(0,it-je),Rt=Qe.substring(it+oe))}return yt.length*2>=Ye.length?[xt,Ct,St,Rt,yt]:null}var de=ae(Z,R,Math.ceil(Z.length/4)),H=ae(Z,R,Math.ceil(Z.length/2)),ne;if(!de&&!H)return null;H?de?ne=de[4].length>H[4].length?de:H:ne=H:ne=de;var V,Ce,ge,Te;ee.length>N.length?(V=ne[0],Ce=ne[1],ge=ne[2],Te=ne[3]):(ge=ne[0],Te=ne[1],V=ne[2],Ce=ne[3]);var Ke=ne[4];return[V,Ce,ge,Te,Ke]}function d(ee){for(var N=!1,Z=[],R=0,ae=null,de=0,H=0,ne=0,V=0,Ce=0;de<ee.length;)ee[de][0]==n?(Z[R++]=de,H=V,ne=Ce,V=0,Ce=0,ae=ee[de][1]):(ee[de][0]==e?V+=ee[de][1].length:Ce+=ee[de][1].length,ae&&ae.length<=Math.max(H,ne)&&ae.length<=Math.max(V,Ce)&&(ee.splice(Z[R-1],0,[o,ae]),ee[Z[R-1]+1][0]=e,R--,R--,de=R>0?Z[R-1]:-1,H=0,ne=0,V=0,Ce=0,ae=null,N=!0)),de++;for(N&&k(ee),O(ee),de=1;de<ee.length;){if(ee[de-1][0]==o&&ee[de][0]==e){var ge=ee[de-1][1],Te=ee[de][1],Ke=u(ge,Te),Ye=u(Te,ge);Ke>=Ye?(Ke>=ge.length/2||Ke>=Te.length/2)&&(ee.splice(de,0,[n,Te.substring(0,Ke)]),ee[de-1][1]=ge.substring(0,ge.length-Ke),ee[de+1][1]=Te.substring(Ke),de++):(Ye>=ge.length/2||Ye>=Te.length/2)&&(ee.splice(de,0,[n,ge.substring(0,Ye)]),ee[de-1][0]=e,ee[de-1][1]=Te.substring(0,Te.length-Ye),ee[de+1][0]=o,ee[de+1][1]=ge.substring(Ye),de++),de++}de++}}var p=/[^a-zA-Z0-9]/,g=/\s/,y=/[\r\n]/,v=/\n\r?\n$/,w=/^\r?\n\r?\n/;function O(ee){function N(Ye,Qe){if(!Ye||!Qe)return 6;var rt=Ye.charAt(Ye.length-1),vt=Qe.charAt(0),it=rt.match(p),yt=vt.match(p),xt=it&&rt.match(g),Ct=yt&&vt.match(g),St=xt&&rt.match(y),Rt=Ct&&vt.match(y),oe=St&&Ye.match(v),je=Rt&&Qe.match(w);return oe||je?5:St||Rt?4:it&&!xt&&Ct?3:xt||Ct?2:it||yt?1:0}for(var Z=1;Z<ee.length-1;){if(ee[Z-1][0]==n&&ee[Z+1][0]==n){var R=ee[Z-1][1],ae=ee[Z][1],de=ee[Z+1][1],H=h(R,ae);if(H){var ne=ae.substring(ae.length-H);R=R.substring(0,R.length-H),ae=ne+ae.substring(0,ae.length-H),de=ne+de}for(var V=R,Ce=ae,ge=de,Te=N(R,ae)+N(ae,de);ae.charAt(0)===de.charAt(0);){R+=ae.charAt(0),ae=ae.substring(1)+de.charAt(0),de=de.substring(1);var Ke=N(R,ae)+N(ae,de);Ke>=Te&&(Te=Ke,V=R,Ce=ae,ge=de)}ee[Z-1][1]!=V&&(V?ee[Z-1][1]=V:(ee.splice(Z-1,1),Z--),ee[Z][1]=Ce,ge?ee[Z+1][1]=ge:(ee.splice(Z+1,1),Z--))}Z++}}function k(ee,N){ee.push([n,""]);for(var Z=0,R=0,ae=0,de="",H="",ne;Z<ee.length;){if(Z<ee.length-1&&!ee[Z][1]){ee.splice(Z,1);continue}switch(ee[Z][0]){case e:ae++,H+=ee[Z][1],Z++;break;case o:R++,de+=ee[Z][1],Z++;break;case n:var V=Z-ae-R-1;if(N){if(V>=0&&J(ee[V][1])){var Ce=ee[V][1].slice(-1);if(ee[V][1]=ee[V][1].slice(0,-1),de=Ce+de,H=Ce+H,!ee[V][1]){ee.splice(V,1),Z--;var ge=V-1;ee[ge]&&ee[ge][0]===e&&(ae++,H=ee[ge][1]+H,ge--),ee[ge]&&ee[ge][0]===o&&(R++,de=ee[ge][1]+de,ge--),V=ge}}if(G(ee[Z][1])){var Ce=ee[Z][1].charAt(0);ee[Z][1]=ee[Z][1].slice(1),de+=Ce,H+=Ce}}if(Z<ee.length-1&&!ee[Z][1]){ee.splice(Z,1);break}if(de.length>0||H.length>0){de.length>0&&H.length>0&&(ne=c(H,de),ne!==0&&(V>=0?ee[V][1]+=H.substring(0,ne):(ee.splice(0,0,[n,H.substring(0,ne)]),Z++),H=H.substring(ne),de=de.substring(ne)),ne=h(H,de),ne!==0&&(ee[Z][1]=H.substring(H.length-ne)+ee[Z][1],H=H.substring(0,H.length-ne),de=de.substring(0,de.length-ne)));var Te=ae+R;de.length===0&&H.length===0?(ee.splice(Z-Te,Te),Z=Z-Te):de.length===0?(ee.splice(Z-Te,Te,[e,H]),Z=Z-Te+1):H.length===0?(ee.splice(Z-Te,Te,[o,de]),Z=Z-Te+1):(ee.splice(Z-Te,Te,[o,de],[e,H]),Z=Z-Te+2)}Z!==0&&ee[Z-1][0]===n?(ee[Z-1][1]+=ee[Z][1],ee.splice(Z,1)):Z++,ae=0,R=0,de="",H="";break}}ee[ee.length-1][1]===""&&ee.pop();var Ke=!1;for(Z=1;Z<ee.length-1;)ee[Z-1][0]===n&&ee[Z+1][0]===n&&(ee[Z][1].substring(ee[Z][1].length-ee[Z-1][1].length)===ee[Z-1][1]?(ee[Z][1]=ee[Z-1][1]+ee[Z][1].substring(0,ee[Z][1].length-ee[Z-1][1].length),ee[Z+1][1]=ee[Z-1][1]+ee[Z+1][1],ee.splice(Z-1,1),Ke=!0):ee[Z][1].substring(0,ee[Z+1][1].length)==ee[Z+1][1]&&(ee[Z-1][1]+=ee[Z+1][1],ee[Z][1]=ee[Z][1].substring(ee[Z+1][1].length)+ee[Z+1][1],ee.splice(Z+1,1),Ke=!0)),Z++;Ke&&k(ee,N)}function E(ee){return ee>=55296&&ee<=56319}function I(ee){return ee>=56320&&ee<=57343}function G(ee){return I(ee.charCodeAt(0))}function J(ee){return E(ee.charCodeAt(ee.length-1))}function Q(ee){for(var N=[],Z=0;Z<ee.length;Z++)ee[Z][1].length>0&&N.push(ee[Z]);return N}function te(ee,N,Z,R){return J(ee)||G(R)?null:Q([[n,ee],[o,N],[e,Z],[n,R]])}function pe(ee,N,Z){var R=typeof Z=="number"?{index:Z,length:0}:Z.oldRange,ae=typeof Z=="number"?null:Z.newRange,de=ee.length,H=N.length;if(R.length===0&&(ae===null||ae.length===0)){var ne=R.index,V=ee.slice(0,ne),Ce=ee.slice(ne),ge=ae?ae.index:null;e:{var Te=ne+H-de;if(ge!==null&&ge!==Te||Te<0||Te>H)break e;var Ke=N.slice(0,Te),Ye=N.slice(Te);if(Ye!==Ce)break e;var Qe=Math.min(ne,Te),rt=V.slice(0,Qe),vt=Ke.slice(0,Qe);if(rt!==vt)break e;var it=V.slice(Qe),yt=Ke.slice(Qe);return te(rt,it,yt,Ce)}e:{if(ge!==null&&ge!==ne)break e;var xt=ne,Ke=N.slice(0,xt),Ye=N.slice(xt);if(Ke!==V)break e;var Ct=Math.min(de-xt,H-xt),St=Ce.slice(Ce.length-Ct),Rt=Ye.slice(Ye.length-Ct);if(St!==Rt)break e;var it=Ce.slice(0,Ce.length-Ct),yt=Ye.slice(0,Ye.length-Ct);return te(V,it,yt,St)}}if(R.length>0&&ae&&ae.length===0)e:{var rt=ee.slice(0,R.index),St=ee.slice(R.index+R.length),Qe=rt.length,Ct=St.length;if(H<Qe+Ct)break e;var vt=N.slice(0,Qe),Rt=N.slice(H-Ct);if(rt!==vt||St!==Rt)break e;var it=ee.slice(Qe,de-Ct),yt=N.slice(Qe,H-Ct);return te(rt,it,yt,St)}return null}function fe(ee,N,Z,R){return r(ee,N,Z,R,!0)}return fe.INSERT=e,fe.DELETE=o,fe.EQUAL=n,diff_1=fe,diff_1}var diffExports=requireDiff();const diff=getDefaultExportFromCjs(diffExports),addDecoration=Decoration.mark({class:"cm-diff-inserted"});function calculateDecorations(o,e){const n=[],r=e.doc.toString(),a=diff(o,r);let s=0;for(const[l,c]of a)l===diff.INSERT&&n.push(addDecoration.range(s,s+c.length)),l!==diff.DELETE&&(s+=c.length);return Decoration.set(n)}const diffCompartment=new Compartment;function createDiffExtension(o){return StateField.define({create(e){return calculateDecorations(o,e)},update(e,n){return n.docChanged?calculateDecorations(o,n.state):e.map(n.changes)},provide:e=>EditorView.decorations.from(e)})}const shellLanguage=StreamLanguage.define(shell),programmaticChange=Annotation.define();class Editor{static editors=[];constructor({url:e,target:n="body > main",editorConfig:r={},gitClient:a}={}){if(!a)throw new Error("Editor requires a gitClient instance.");this.gitClient=a,window.location.hash||(window.location.hash="#/README"),this.targetSelector=n,this.url=e||window.location.hash,this.editorConfig=r,this.editorView=null,this.sidebar=null,this.filePath=this.getFilePath(this.url),this.isReady=!1,this.languageCompartment=new Compartment,this.markdownLanguage=this.createMarkdownLanguage(),this.debouncedHandleUpdate=debounce(this.handleUpdate.bind(this),500),this.init()}async init(){const e=document.querySelector(this.targetSelector);if(!e){console.error(`Target container not found: ${this.targetSelector}`);return}await this.gitClient.initRepo(),this.sidebar=new Sidebar({target:"#sidebar",gitClient:this.gitClient,editor:this}),await this.sidebar.init();const n=await this.gitClient.readFile(this.filePath),r=document.getElementById("loading-indicator");r&&r.remove(),e.style.display="block";const a=EditorView.updateListener.of(u=>{u.docChanged&&!u.transactions.some(h=>h.annotation(programmaticChange))&&this.debouncedHandleUpdate(u.state.doc.toString())}),s=u=>EditorView.theme({"&":{fontSize:u},".cm-scroller":{fontFamily:"monospace"}}),l=window.matchMedia("(hover: none) and (pointer: coarse)").matches,c=s(l?"1.5rem":"1rem");Vim.map("jj","<Esc>","insert"),this.editorView=new EditorView({doc:n,extensions:[vim(),basicSetup,this.languageCompartment.of(this.getLanguageExtension(this.filePath)),a,basicDark,c,diffCompartment.of([]),...this.editorConfig.extensions||[]],parent:e}),Editor.editors.push(this),this.isReady=!0,this.listenForNavigation(),this.editorView.focus()}async showDiff(e){if(e===null){console.error("Cannot show diff, original content is null."),this.hideDiff();return}const n=createDiffExtension(e);this.editorView.dispatch({effects:diffCompartment.reconfigure(n)})}hideDiff(){this.editorView.dispatch({effects:diffCompartment.reconfigure([])})}createMarkdownLanguage(){return markdown({base:markdownLanguage,codeLanguages:[LanguageDescription.of({name:"javascript",load:()=>Promise.resolve(javascript())}),LanguageDescription.of({name:"html",load:()=>Promise.resolve(html())}),LanguageDescription.of({name:"css",load:()=>Promise.resolve(css())})]})}getLanguageExtension(e){const n=e.split("/").pop(),r=n.includes(".")?n.split(".").pop().toLowerCase():"";switch(n){case".gitignore":case".npmrc":case".editorconfig":case"Dockerfile":return shellLanguage}switch(r){case"js":return javascript();case"css":return css();case"html":return html();case"json":return json();case"xml":return xml();case"yaml":case"yml":return yaml();case"sh":case"bash":case"zsh":return shellLanguage;case"md":default:return this.markdownLanguage}}listenForNavigation(){window.addEventListener("hashchange",async()=>{this.hideDiff();const e=this.getFilePath(window.location.hash);e!==this.filePath&&await this.loadFile(e)})}async previewHistoricalFile(e,n,r){const[a,s]=await Promise.all([this.gitClient.readBlobFromCommit(n,e),this.gitClient.readBlobFromCommit(r,e)]);if(a===null||s===null){alert("Could not load historical diff for this file.");return}this.editorView.dispatch({changes:{from:0,to:this.editorView.state.doc.length,insert:a},annotations:programmaticChange.of(!0)}),this.showDiff(s)}async loadFile(e){console.log(`Loading ${e}...`),this.hideDiff();const n=await this.gitClient.readFile(e);this.filePath=e;const r=this.getLanguageExtension(e);this.editorView.dispatch({effects:this.languageCompartment.reconfigure(r)});const a=this.editorView.state.doc;this.editorView.dispatch({changes:{from:0,to:a.length,insert:n},annotations:programmaticChange.of(!0)}),this.sidebar&&await this.sidebar.refresh(),this.editorView.focus()}async forceReloadFile(e){console.log(`[forceReloadFile] Forcibly reloading ${e} from disk.`);const n=await this.gitClient.readFile(e);this.filePath=e;const r=this.editorView.state.doc;this.editorView.dispatch({changes:{from:0,to:r.length,insert:n},annotations:programmaticChange.of(!0)}),this.hideDiff()}async handleUpdate(e){if(this.isReady){if(this.filePath!==this.getFilePath(window.location.hash)){console.log("In preview mode, not saving changes.");return}console.log(`Saving ${this.filePath}...`),await this.gitClient.writeFile(this.filePath,e),this.sidebar&&await this.sidebar.refresh()}}getFilePath(e){let n=e.startsWith("#")?e.substring(1):e;return n=decodeURIComponent(n),(n==="/"||n==="")&&(n="/README"),n}}window.Editor=Editor;function initializeAppInteractions(){initializeSidebarInteractions(),initializeErudaResizer()}function initializeSidebarInteractions(){const o=document.querySelector(".app-container"),e=document.getElementById("resizer"),n=document.getElementById("resize-overlay");if(!o||!e||!n)return;const r=document.createElement("button");r.id="sidebar-toggle-icon",r.title="Toggle Sidebar",e.appendChild(r);let a=0,s=!1;const l=()=>{if(o.classList.contains("sidebar-collapsed")){const g=localStorage.getItem("sidebarWidth")||"250px";o.classList.remove("sidebar-collapsed"),document.documentElement.style.setProperty("--sidebar-width",g),localStorage.setItem("sidebarCollapsed","false"),r.textContent=""}else{const g=document.documentElement.style.getPropertyValue("--sidebar-width");g!=="0px"&&localStorage.setItem("sidebarWidth",g),o.classList.add("sidebar-collapsed"),document.documentElement.style.setProperty("--sidebar-width","0px"),localStorage.setItem("sidebarCollapsed","true"),r.textContent=""}},c=p=>{p.type==="touchmove"&&p.preventDefault();const g=p.clientX||p.touches&&p.touches[0].clientX;if(Math.abs(g-a)>5&&(s=!0),s){const y=Math.max(0,Math.min(g,window.innerWidth-100));document.documentElement.style.setProperty("--sidebar-width",`${y}px`),o.classList.remove("sidebar-collapsed"),r.textContent=""}},u=()=>{if(n.style.display="none",document.body.style.cursor="default",document.body.style.userSelect="auto",document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u),s){const p=document.documentElement.style.getPropertyValue("--sidebar-width");localStorage.setItem("sidebarWidth",p),localStorage.setItem("sidebarCollapsed","false")}else l()},h=p=>{a=p.clientX||p.touches&&p.touches[0].clientX,s=!1,p.preventDefault(),n.style.display="block",document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",c),document.addEventListener("touchmove",c,{passive:!1}),document.addEventListener("mouseup",u),document.addEventListener("touchend",u)};e.addEventListener("mousedown",h),e.addEventListener("touchstart",h,{passive:!1});const f=localStorage.getItem("sidebarWidth");localStorage.getItem("sidebarCollapsed")==="true"?(o.classList.add("sidebar-collapsed"),document.documentElement.style.setProperty("--sidebar-width","0px"),r.textContent=""):(document.documentElement.style.setProperty("--sidebar-width",f||"250px"),r.textContent="")}function initializeErudaResizer(){const o=document.getElementById("eruda-container"),e=document.getElementById("eruda-resizer");let n;if(!o||!e)return;const r=document.createElement("button");r.id="eruda-toggle",r.title="Toggle Eruda Panel",e.appendChild(r);let a=0,s=!1;const l=()=>{if(!n)return;n.style.height==="0px"||n.offsetHeight<10?(n.style.height="250px",r.textContent="",localStorage.setItem("erudaCollapsed","false"),localStorage.setItem("erudaHeight","250px")):(localStorage.setItem("erudaHeight",n.style.height),n.style.height="0px",r.textContent="",localStorage.setItem("erudaCollapsed","true"))},c=d=>{d.type==="touchmove"&&d.preventDefault();const p=d.clientY||d.touches&&d.touches[0].clientY;if(Math.abs(p-a)>5&&(s=!0),!s)return;const g=window.innerHeight-p,y=42,v=window.innerHeight-100;n.style.height=`${Math.max(y,Math.min(g,v))}px`,r.textContent=""},u=d=>{document.body.style.cursor="default",document.body.style.userSelect="auto",document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u),setTimeout(()=>{s&&(localStorage.setItem("erudaHeight",n.style.height),localStorage.setItem("erudaCollapsed","false"))},0)},h=d=>{a=d.clientY||d.touches&&d.touches[0].clientY,s=!1,d.preventDefault(),n=document.querySelector(".eruda-dev-tools"),n&&(document.body.style.cursor="row-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",c),document.addEventListener("touchmove",c,{passive:!1}),document.addEventListener("mouseup",u),document.addEventListener("touchend",u))};e.addEventListener("mousedown",h),e.addEventListener("touchstart",h,{passive:!1}),e.addEventListener("click",()=>{s||l()});const f=new MutationObserver(()=>{n=document.querySelector(".eruda-dev-tools"),n&&(localStorage.getItem("erudaCollapsed")==="true"?(n.style.height="0px",r.textContent=""):(n.style.height=localStorage.getItem("erudaHeight")||"150px",r.textContent=""),f.disconnect())});f.observe(o,{childList:!0})}var eruda$1={exports:{}},hasRequiredEruda;function requireEruda(){return hasRequiredEruda||(hasRequiredEruda=1,(function(module,exports){(function(o,e){module.exports=e()})(self,(function(){return(function(){var __webpack_modules__={8:function(o,e){e=function(s){var l,c,u=s[0]/255,h=s[1]/255,f=s[2]/255,d=n(u,h,f),p=r(u,h,f),g=p-d;(l=n(60*(l=p===d?0:u===p?(h-f)/g:h===p?2+(f-u)/g:4+(u-h)/g),360))<0&&(l+=360);var y=(d+p)/2;c=p===d?0:y<=.5?g/(p+d):g/(2-p-d);var v=[a(l),a(100*c),a(100*y)];return s[3]&&(v[3]=s[3]),v};var n=Math.min,r=Math.max,a=Math.round;o.exports=e},15:function(o,e,n){var r=n(5651),a=n(8971);e=function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r(u,s);var h=u.ellipsis,f=u.separator;if(c>l.length)return l;var d=c-h.length;if(d<1)return h;var p=l.slice(0,d);if(a(f))return p+h;if(l.indexOf(f,d)!==d){var g=p.lastIndexOf(f);g>-1&&(p=p.slice(0,g))}return p+h};var s={ellipsis:"..."};o.exports=e},21:function(o,e,n){var r=n(2717),a=n(1738),s=n(9100),l=n(8178),c=new(e=r({className:"Select",initialize:function(u){return this.length=0,u?a(u)?c.find(u):void(u.nodeType&&(this[0]=u,this.length=1)):this},find:function(u){var h=new e;return this.each((function(){l(h,this.querySelectorAll(u))})),h},each:function(u){return s(this,(function(h,f){u.call(h,f,h)})),this}}))(document);o.exports=e},96:function(o,e,n){var r=n(2561);e=function(a){return r(a).toLocaleLowerCase()},o.exports=e},128:function(o,e,n){n.d(e,{A:function(){return oe}});var r=n(3029),a=n(2901),s=n(388),l=n(3954),c=n(5361),u=n(3915),h=n.n(u),f=n(6097),d=n.n(f),p=n(1738),g=n.n(p),y=n(4994),v=n.n(y),w=n(9405),O=n.n(w),k=n(5169),E=n.n(k),I=n(9548),G=n.n(I),J=n(3249),Q=n.n(J),te=n(6030),pe=n.n(te),fe=n(5004),ee=n.n(fe);n(9410),n(8609);function N(ze){var he="luna-".concat(ze,"-");function le(me){return h()(O()(me).split(/\s+/),(function(Xe){return Q()(Xe,he)?Xe:Xe.replace(/[\w-]+/,(function(Ee){return"".concat(he).concat(Ee)}))})).join(" ")}return function(me){if(/<[^>]*>/g.test(me))try{var Xe=G().parse(me);return Z(Xe,(function(Ee){Ee.attrs&&Ee.attrs.class&&(Ee.attrs.class=le(Ee.attrs.class))})),G().stringify(Xe)}catch{return le(me)}return le(me)}}function Z(ze,he){for(var le=0,me=ze.length;le<me;le++){var Xe=ze[le];he(Xe),Xe.content&&Z(Xe.content,he)}}E();function R(ze){return pe()(ze.replace("px",""))}var ae=n(2263),de=n.n(ae),H=n(3693),ne=n.n(H),V=n(9100),Ce=n.n(V),ge=n(8105),Te=n.n(ge),Ke=n(5651),Ye=n.n(Ke),Qe=n(961),rt=n.n(Qe),vt=n(7e3),it=n.n(vt),yt=n(1009),xt=n.n(yt);function Ct(){try{var ze=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Ct=function(){return!!ze})()}var St=(function(ze){function he(le,me){var Xe,Ee,Re=me.compName,at=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Ve=at===void 0?"light":at;return(0,r.A)(this,he),Xe=(function(qe,ot,Pt){return ot=(0,l.A)(ot),(0,s.A)(qe,Ct()?Reflect.construct(ot,[],(0,l.A)(qe).constructor):ot.apply(qe,Pt))})(this,he),Xe.subComponents=[],Xe.theme="",Xe.onThemeChange=function(qe){Xe.options.theme==="auto"&&Xe.setTheme(qe)},Xe.compName=Re,Xe.c=N(Re),Xe.options={},Xe.container=le,Xe.$container=ne()(le),Xe.$container.addClass(["luna-".concat(Re),Xe.c("platform-".concat((Ee=ee()(),Ee==="os x"?"mac":Ee)))]),Xe.on("changeOption",(function(qe,ot){if(qe==="theme"&&ot){var Pt=ot;ot==="auto"&&(Pt=it().get()),Xe.setTheme(Pt),Ce()(Xe.subComponents,(function(Et){return Et.setOption("theme",ot)}))}})),it().on("change",Xe.onThemeChange),Xe.setOption("theme",Ve),Xe}return(0,c.A)(he,ze),(0,a.A)(he,[{key:"destroy",value:function(){var le=this;this.destroySubComponents();var me=this.$container,Xe=me.attr("class");Ce()(Xe.split(/\s+/),(function(Ee){xt()(Ee,"luna-".concat(le.compName))&&me.rmClass(Ee)})),me.html(""),this.emit("destroy"),this.removeAllListeners(),it().off("change",this.onThemeChange)}},{key:"setOption",value:function(le,me){var Xe=this,Ee=this.options,Re={};typeof le=="string"?Re[le]=me:Re=le,Ce()(Re,(function(at,Ve){var qe=Ee[Ve];Ee[Ve]=at,at!==qe&&Xe.emit("changeOption",Ve,at,qe)}))}},{key:"getOption",value:function(le){return this.options[le]}},{key:"addSubComponent",value:function(le){le.setOption("theme",this.options.theme),this.subComponents.push(le)}},{key:"removeSubComponent",value:function(le){rt()(this.subComponents,(function(me){return me===le}))}},{key:"destroySubComponents",value:function(){Ce()(this.subComponents,(function(le){return le.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(le){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ye()(le,me),Te()(this.options,le)}},{key:"find",value:function(le){return this.$container.find(this.c(le))}},{key:"setTheme",value:function(le){var me=this.c,Xe=this.$container;this.theme&&Xe.rmClass(me("theme-".concat(this.theme))),Xe.addClass(me("theme-".concat(le))),this.theme=le}}])})(de());function Rt(){try{var ze=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Rt=function(){return!!ze})()}o=n.hmd(o);var oe=(function(ze){function he(le){var me,Xe,Ee,Re,at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.A)(this,he),Xe=this,Ee=he,Re=[le,{compName:"box-model"}],Ee=(0,l.A)(Ee),(me=(0,s.A)(Xe,Rt()?Reflect.construct(Ee,Re||[],(0,l.A)(Xe).constructor):Ee.apply(Xe,Re))).initOptions(at),me.options.element&&me.render(),me.bindEvent(),me}return(0,c.A)(he,ze),(0,a.A)(he,[{key:"bindEvent",value:function(){var le=this;this.on("changeOption",(function(me){me==="element"&&le.render()}))}},{key:"render",value:function(){var le=this,me=this.c,Xe=this.$container,Ee=this.getBoxModelData();Xe.html([Ee.position?'<div class="'.concat(me("position"),'">'):"",Ee.position?'<div class="'.concat(me("label"),'">position</div><div class="').concat(me("top"),'">').concat(Ee.position.top,'</div><br><div class="').concat(me("left"),'">').concat(Ee.position.left,"</div>"):"",'<div class="'.concat(me("margin"),'">'),'<div class="'.concat(me("label"),'">margin</div><div class="').concat(me("top"),'">').concat(Ee.margin.top,'</div><br><div class="').concat(me("left"),'">').concat(Ee.margin.left,"</div>"),'<div class="'.concat(me("border"),'">'),'<div class="'.concat(me("label"),'">border</div><div class="').concat(me("top"),'">').concat(Ee.border.top,'</div><br><div class="').concat(me("left"),'">').concat(Ee.border.left,"</div>"),'<div class="'.concat(me("padding"),'">'),'<div class="'.concat(me("label"),'">padding</div><div class="').concat(me("top"),'">').concat(Ee.padding.top,'</div><br><div class="').concat(me("left"),'">').concat(Ee.padding.left,"</div>"),'<div class="'.concat(me("content"),'">'),"<span>".concat(Ee.content.width,"</span>&nbsp;&nbsp;<span>").concat(Ee.content.height,"</span>"),"</div>",'<div class="'.concat(me("right"),'">').concat(Ee.padding.right,'</div><br><div class="').concat(me("bottom"),'">').concat(Ee.padding.bottom,"</div>"),"</div>",'<div class="'.concat(me("right"),'">').concat(Ee.border.right,'</div><br><div class="').concat(me("bottom"),'">').concat(Ee.border.bottom,"</div>"),"</div>",'<div class="'.concat(me("right"),'">').concat(Ee.margin.right,'</div><br><div class="').concat(me("bottom"),'">').concat(Ee.margin.bottom,"</div>"),"</div>",Ee.position?'<div class="'.concat(me("right"),'">').concat(Ee.position.right,'</div><br><div class="').concat(me("bottom"),'">').concat(Ee.position.bottom,"</div>"):"",Ee.position?"</div>":""].join(""));var Re=this.find(".margin"),at=this.find(".border"),Ve=this.find(".padding"),qe=this.find(".content"),ot=function(){Re.addClass(me("highlighted")),at.addClass(me("highlighted")),Ve.addClass(me("highlighted")),qe.addClass(me("highlighted"))};ot();var Pt=function(F){var ye;switch(le.find(".highlighted").rmClass(me("highlighted")),F){case"margin":ye=Re;break;case"border":ye=at;break;case"padding":ye=Ve;break;default:ye=qe}ye.addClass(me("highlighted")),le.emit("highlight",F)},Et=v()(Pt,this,"margin"),Ft=v()(Pt,this,"border"),ve=v()(Pt,this,"padding"),T=v()(Pt,this,"content");Re.on("mouseenter",Et).on("mouseleave",(function(){ot(),le.emit("highlight","all")})),at.on("mouseenter",Ft).on("mouseleave",Et),Ve.on("mouseenter",ve).on("mouseleave",Ft),qe.on("mouseenter",T).on("mouseleave",ve)}},{key:"getBoxModelData",value:function(){var le=this.options.element,me=window.getComputedStyle(le);function Xe(Et){var Ft=["top","left","right","bottom"];return Et!=="position"&&(Ft=h()(Ft,(function(ve){return"".concat(Et,"-").concat(ve)}))),Et==="border"&&(Ft=h()(Ft,(function(ve){return"".concat(ve,"-width")}))),{top:je(me[Ft[0]],Et),left:je(me[Ft[1]],Et),right:je(me[Ft[2]],Et),bottom:je(me[Ft[3]],Et)}}var Ee,Re,at,Ve,qe,ot,Pt={margin:Xe("margin"),border:Xe("border"),padding:Xe("padding"),content:(Ee=le,Re=window.getComputedStyle(Ee),at=R(Re.paddingLeft)+R(Re.paddingRight),Ve=R(Re.paddingTop)+R(Re.paddingBottom),qe=R(Re.borderLeftWidth)+R(Re.borderRightWidth),ot=R(Re.borderTopWidth)+R(Re.borderBottomWidth),{width:je(Ee.offsetWidth-at-qe),height:je(Ee.offsetHeight-Ve-ot)})};return me.position!=="static"&&(Pt.position=Xe("position")),Pt}}])})(St);function je(ze,he){if(d()(ze))return ze;if(!g()(ze))return"";var le=R(ze);return isNaN(le)?ze:he==="position"?le:le===0?"":le}(function(ze,he){try{ze.exports=he,ze.exports.default=he}catch{}})(o,oe)},162:function(o,e){var n=this&&this.__values||function(h){var f=typeof Symbol=="function"&&Symbol.iterator,d=f&&h[f],p=0;if(d)return d.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&p>=h.length&&(h=void 0),{value:h&&h[p++],done:!h}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(h,f){var d=typeof Symbol=="function"&&h[Symbol.iterator];if(!d)return h;var p,g,y=d.call(h),v=[];try{for(;(f===void 0||f-- >0)&&!(p=y.next()).done;)v.push(p.value)}catch(w){g={error:w}}finally{try{p&&!p.done&&(d=y.return)&&d.call(y)}finally{if(g)throw g.error}}return v},a=this&&this.__spreadArray||function(h,f,d){if(d||arguments.length===2)for(var p,g=0,y=f.length;g<y;g++)!p&&g in f||(p||(p=Array.prototype.slice.call(f,0,g)),p[g]=f[g]);return h.concat(p||Array.prototype.slice.call(f))};Object.defineProperty(e,"__esModule",{value:!0}),e.adoptStyleSheet=e.constrainNumber=e.ellipsify=e.createElement=e.createTextChild=e.createChild=e.log=e.Overlay=void 0;var s=(function(){function h(f,d){d===void 0&&(d=[]),this.viewportSize={width:800,height:600},this.deviceScaleFactor=1,this.emulationScaleFactor=1,this.pageScaleFactor=1,this.pageZoomFactor=1,this.scrollX=0,this.scrollY=0,this.canvasWidth=0,this.canvasHeight=0,this._installed=!1,this._window=f,this._document=f.document,Array.isArray(d)||(d=[d]),this.style=d}return h.prototype.setCanvas=function(f){this.canvas=f,this._context=f.getContext("2d")},h.prototype.install=function(){var f,d;try{for(var p=n(this.style),g=p.next();!g.done;g=p.next())u(g.value)}catch(y){f={error:y}}finally{try{g&&!g.done&&(d=p.return)&&d.call(p)}finally{if(f)throw f.error}}this._installed=!0},h.prototype.uninstall=function(){var f,d,p=function(v){document.adoptedStyleSheets=document.adoptedStyleSheets.filter((function(w){return w!==v}))};try{for(var g=n(this.style),y=g.next();!y.done;y=g.next())p(y.value)}catch(v){f={error:v}}finally{try{y&&!y.done&&(d=g.return)&&d.call(g)}finally{if(f)throw f.error}}this._installed=!1},h.prototype.reset=function(f){f&&(this.viewportSize=f.viewportSize,this.visualViewportSize=f.visualViewportSize,this.deviceScaleFactor=f.deviceScaleFactor,this.pageScaleFactor=f.pageScaleFactor,this.pageZoomFactor=f.pageZoomFactor,this.emulationScaleFactor=f.emulationScaleFactor,this.scrollX=Math.round(f.scrollX),this.scrollY=Math.round(f.scrollY)),this.resetCanvas()},h.prototype.resetCanvas=function(){this.canvas&&this._context&&(this.canvas.width=this.deviceScaleFactor*this.viewportSize.width,this.canvas.height=this.deviceScaleFactor*this.viewportSize.height,this.canvas.style.width=this.viewportSize.width+"px",this.canvas.style.height=this.viewportSize.height+"px",this._context.scale(this.deviceScaleFactor,this.deviceScaleFactor),this.canvasWidth=this.viewportSize.width,this.canvasHeight=this.viewportSize.height)},h.prototype.setPlatform=function(f){this.platform=f,this._installed||this.install()},h.prototype.dispatch=function(f){this[f.shift()].apply(this,f)},h.prototype.eventHasCtrlOrMeta=function(f){return this.platform==="mac"?f.metaKey&&!f.ctrlKey:f.ctrlKey&&!f.metaKey},Object.defineProperty(h.prototype,"context",{get:function(){if(!this._context)throw new Error("Context object is missing");return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"document",{get:function(){if(!this._document)throw new Error("Document object is missing");return this._document},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"window",{get:function(){if(!this._window)throw new Error("Window object is missing");return this._window},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"installed",{get:function(){return this._installed},enumerable:!1,configurable:!0}),h})();function l(h,f,d){var p=c(f,d);return p.addEventListener("click",(function(g){g.stopPropagation()}),!1),h.appendChild(p),p}function c(h,f){var d=document.createElement(h);if(f){var p=f.split(/\s+/);p=p.map((function(g){return"luna-dom-highlighter-"+g})),d.className=p.join(" ")}return d}function u(h){document.adoptedStyleSheets=a(a([],r(document.adoptedStyleSheets),!1),[h],!1)}e.Overlay=s,e.log=function(h){var f=document.getElementById("log");f||((f=l(document.body,"div")).id="log"),l(f,"div").textContent=h},e.createChild=l,e.createTextChild=function(h,f){var d=document.createTextNode(f);return h.appendChild(d),d},e.createElement=c,e.ellipsify=function(h,f){return h.length<=f?String(h):h.substr(0,f-1)+""},e.constrainNumber=function(h,f,d){return h<f?h=f:h>d&&(h=d),h},e.adoptStyleSheet=u},187:function(o,e,n){(e=n(6314)(!1)).push([o.id,'.luna-setting{min-width:320px;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-setting .luna-setting-hidden,.luna-setting.luna-setting-hidden{display:none}.luna-setting .luna-setting-invisible,.luna-setting.luna-setting-invisible{visibility:hidden}.luna-setting *{box-sizing:border-box}.luna-setting.luna-setting-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:rgba(0,0,0,0)}.luna-setting-item.luna-setting-selected:focus{outline:1px solid}.luna-setting-item .luna-setting-title{line-height:1.4em;font-weight:600}.luna-setting-item .luna-setting-description,.luna-setting-item.luna-setting-item-markdown{line-height:1.4em}.luna-setting-item .luna-setting-description *,.luna-setting-item.luna-setting-item-markdown *{margin:0}.luna-setting-item .luna-setting-description strong,.luna-setting-item.luna-setting-item-markdown strong{font-weight:600}.luna-setting-item .luna-setting-description a,.luna-setting-item.luna-setting-item-markdown a{background-color:rgba(0,0,0,0);text-decoration:none}.luna-setting-item .luna-setting-control,.luna-setting-item .luna-setting-description{font-size:12px}.luna-setting-item .luna-setting-description{margin-bottom:8px}.luna-setting-item .luna-setting-control{display:flex;align-items:center}.luna-setting-item-button,.luna-setting-item-checkbox,.luna-setting-item-input,.luna-setting-item-markdown,.luna-setting-item-number,.luna-setting-item-select,.luna-setting-item-title{padding:10px}.luna-setting-item-title{font-weight:600}.luna-setting-item-title.luna-setting-level-1{font-size:18px}.luna-setting-item-title.luna-setting-level-2{font-size:16px}.luna-setting-item-title.luna-setting-level-3{font-size:14px}.luna-setting-item-input.luna-setting-disabled input{opacity:.6}.luna-setting-item-input input{-webkit-tap-highlight-color:transparent;color:rgba(0,0,0,.88);-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid;outline:0;padding:2px 8px;border-radius:2px;font-size:14px;width:100%}.luna-setting-item-number.luna-setting-disabled .luna-setting-range-container,.luna-setting-item-number.luna-setting-disabled input{opacity:.6}.luna-setting-item-number.luna-setting-disabled .luna-setting-range-container input{opacity:1}.luna-setting-item-number input[type=number]{-webkit-tap-highlight-color:transparent;color:rgba(0,0,0,.88);-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid;outline:0;padding:2px 8px;border-radius:2px;font-size:14px;width:200px;padding:2px}.luna-setting-item-number .luna-setting-range-container{flex:2;position:relative;top:1px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track{height:4px;width:100%;padding:0 10px;position:absolute;left:0;top:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{border-radius:2px;overflow:hidden;width:100%;height:4px}.luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{height:100%;width:50%}.luna-setting-item-number .luna-setting-range-container input{-webkit-appearance:none;background:rgba(0,0,0,0);height:4px;width:100%;position:relative;top:-3px;margin:0 auto;outline:0;border-radius:2px}.luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{-webkit-appearance:none;position:relative;top:0;z-index:1;width:16px;border:none;height:16px;border-radius:10px;border:1px solid}.luna-setting-item-checkbox.luna-setting-disabled .luna-setting-control{opacity:.6}.luna-setting-item-checkbox input{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;border:1px solid;border-radius:0;position:relative;outline:0;margin-left:0;margin-right:8px;transition:background-color .1s;align-self:flex-start;flex-shrink:0}.luna-setting-item-checkbox input:checked:after{content:"";width:100%;height:100%;position:absolute;left:0;top:0;background-image:url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzMwMHB4JyB3aWR0aD0nMzAwcHgnICBmaWxsPSIjZmZmZmZmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4PSIwcHgiIHk9IjBweCI+PHRpdGxlPmljb25fYnlfUG9zaGx5YWtvdjEwPC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSIjZmZmZmZmIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi4wMDAwMDAsIDI2LjAwMDAwMCkiPjxwYXRoIGQ9Ik0xNy45OTk5ODc4LDMyLjQgTDEwLjk5OTk4NzgsMjUuNCBDMTAuMjI2Nzg5MSwyNC42MjY4MDE0IDguOTczMTg2NDQsMjQuNjI2ODAxNCA4LjE5OTk4Nzc5LDI1LjQgTDguMTk5OTg3NzksMjUuNCBDNy40MjY3ODkxNCwyNi4xNzMxOTg2IDcuNDI2Nzg5MTQsMjcuNDI2ODAxNCA4LjE5OTk4Nzc5LDI4LjIgTDE2LjU4NTc3NDIsMzYuNTg1Nzg2NCBDMTcuMzY2ODIyOCwzNy4zNjY4MzUgMTguNjMzMTUyOCwzNy4zNjY4MzUgMTkuNDE0MjAxNCwzNi41ODU3ODY0IEw0MC41OTk5ODc4LDE1LjQgQzQxLjM3MzE4NjQsMTQuNjI2ODAxNCA0MS4zNzMxODY0LDEzLjM3MzE5ODYgNDAuNTk5OTg3OCwxMi42IEw0MC41OTk5ODc4LDEyLjYgQzM5LjgyNjc4OTEsMTEuODI2ODAxNCAzOC41NzMxODY0LDExLjgyNjgwMTQgMzcuNzk5OTg3OCwxMi42IEwxNy45OTk5ODc4LDMyLjQgWiI+PC9wYXRoPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-size:30px;background-repeat:no-repeat;background-position:center}.luna-setting-item-checkbox label{-webkit-tap-highlight-color:transparent}.luna-setting-item-checkbox label *{margin:0}.luna-setting-item-select.luna-setting-disabled .luna-setting-select{opacity:.6}.luna-setting-item-select .luna-setting-select{position:relative}.luna-setting-item-select .luna-setting-select select{margin:0;font-size:14px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid;padding:2px 8px;padding-right:18px;outline:0;border-radius:2px;-webkit-tap-highlight-color:transparent}.luna-setting-item-select .luna-setting-select:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:0;bottom:0;right:6px;margin:auto;pointer-events:none}.luna-setting-item-select .luna-setting-select select{width:300px}.luna-setting-item-button button{-webkit-tap-highlight-color:transparent;border:1px solid;padding:2px 8px;font-size:14px;border-radius:2px}.luna-setting-item-button button:active{border:1px solid}.luna-setting-item-separator{border-bottom:1px solid}.luna-setting-theme-light .luna-setting-item.luna-setting-selected,.luna-setting-theme-light .luna-setting-item:hover{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-setting-theme-light .luna-setting-item.luna-setting-selected:focus{outline-color:#1a73e8;outline-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item .luna-setting-description a,.luna-setting-theme-light .luna-setting-item.luna-setting-item-markdown a{color:#1a73e8;color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-separator{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-input input{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-checkbox input{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-checkbox input:checked{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8);border-color:#1a73e8;border-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-select .luna-setting-select select{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-select .luna-setting-select:after{border-top-color:rgba(0,0,0,.88);border-top-color:var(--luna-color-text,rgba(0,0,0,.88))}.luna-setting-theme-light .luna-setting-item-button button{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);color:#1a73e8;color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-button button:active,.luna-setting-theme-light .luna-setting-item-button button:hover{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-setting-theme-light .luna-setting-item-button button:active{border-color:#1a73e8;border-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-number input[type=number]{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background-color:#d9d9d9;background-color:var(--luna-color-border,#d9d9d9)}.luna-setting-theme-light .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-setting-theme-light .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);background:radial-gradient(circle at center,#eee 0,#eee 15%,#fff 22%,#fff 100%)}.luna-setting-theme-dark .luna-setting-item.luna-setting-selected,.luna-setting-theme-dark .luna-setting-item:hover{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-setting-theme-dark .luna-setting-item.luna-setting-selected:focus{outline-color:#1965c8;outline-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item .luna-setting-description a,.luna-setting-theme-dark .luna-setting-item.luna-setting-item-markdown a{color:#1965c8;color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-separator{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-input input{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-checkbox input{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-checkbox input:checked{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8);border-color:#1965c8;border-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select select{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-select .luna-setting-select:after{border-top-color:hsla(0,0%,100%,.85);border-top-color:var(--luna-color-text,rgba(255,255,255,.85))}.luna-setting-theme-dark .luna-setting-item-button button{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);border-color:#424242;border-color:var(--luna-color-border,#424242);color:#1965c8;color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-button button:active,.luna-setting-theme-dark .luna-setting-item-button button:hover{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-setting-theme-dark .luna-setting-item-button button:active{border-color:#1965c8;border-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-number input[type=number]{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background-color:#424242;background-color:var(--luna-color-border,#424242)}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}.luna-setting-theme-dark .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:#424242;border-color:var(--luna-color-border,#424242);background:radial-gradient(circle at center,#aaa 0,#aaa 15%,#ccc 22%,#ccc 100%)}',""]),o.exports=e},199:function(o,e,n){var r=n(3089),a=n(7468);e=function(s){return s=r({},s),function(l){return a(l,s)}},o.exports=e},282:function(o,e,n){var r=n(438),a=n(9405),s=n(3915),l=n(769);e=function(u){var h=l(u.match(c));return r(s(h,(function(f){return a(f)})))};var c=/((https?)|(ftp)):\/\/[\w.]+[^ \f\n\r\t\v"\\<>[\]\u2100-\uFFFF(),]*/gi;o.exports=e},311:function(o,e,n){var r=n(3957),a=n(9993),s=n(5651),l=n(9760),c=n(7257);function u(h,f,d,p){return r(f)&&(p=d,d=f,f={}),{url:h,data:f,success:d,dataType:p}}(e=function(h){s(h,e.setting);var f,d=h.type,p=h.url,g=h.data,y=h.dataType,v=h.success,w=h.error,O=h.timeout,k=h.complete,E=h.xhr();return E.onreadystatechange=function(){if(E.readyState===4){var I;clearTimeout(f);var G=E.status;if(G>=200&&G<300||G===304){I=E.responseText,y==="xml"&&(I=E.responseXML);try{y==="json"&&(I=JSON.parse(I))}catch{}v(I,E)}else w(E);k(E)}},d==="GET"?(g=c.stringify(g))&&(p+=p.indexOf("?")>-1?"&"+g:"?"+g):h.contentType==="application/x-www-form-urlencoded"?l(g)&&(g=c.stringify(g)):h.contentType==="application/json"&&l(g)&&(g=JSON.stringify(g)),E.open(d,p,!0),E.setRequestHeader("Content-Type",h.contentType),O>0&&(f=setTimeout((function(){E.onreadystatechange=a,E.abort(),w(E,"timeout"),k(E)}),O)),E.send(d==="GET"?null:g),E}).setting={type:"GET",success:a,error:a,complete:a,dataType:"json",contentType:"application/x-www-form-urlencoded",data:{},xhr:function(){return new XMLHttpRequest},timeout:0},e.get=function(){return e(u.apply(null,arguments))},e.post=function(){var h=u.apply(null,arguments);return h.type="POST",e(h)},o.exports=e},365:function(o,e){var n=Object.prototype.hasOwnProperty;e=function(r,a){return n.call(r,a)},o.exports=e},383:function(o,e,n){var r=n(3497),a=n(1849),s=n(1009),l=n(96);e=function(p,g){for(var y,v=[],w=p;p;){if(y=!0,r(v)&&d[r(v)]){var O=new RegExp("</".concat(r(v),"[^>]*>")).exec(p);if(O){var k=p.substring(0,O.index);p=p.substring(O.index+O[0].length),k&&g.text&&g.text(k)}fe("",r(v))}else{if(s(p,"<!--")){var E=p.indexOf("-->");E>=0&&(g.comment&&g.comment(p.substring(4,E)),p=p.substring(E+3),y=!1)}else if(s(p,"<!")){var I=p.match(c);I&&(g.text&&g.text(p.substring(0,I[0].length)),p=p.substring(I[0].length),y=!1)}else if(s(p,"</")){var G=p.match(u);G&&(p=p.substring(G[0].length),G[0].replace(u,fe),y=!1)}else if(s(p,"<")){var J=p.match(h);J&&(p=p.substring(J[0].length),J[0].replace(h,pe),y=!1)}if(y){var Q=p.indexOf("<"),te=Q<0?p:p.substring(0,Q);p=Q<0?"":p.substring(Q),g.text&&g.text(te)}}if(w===p)throw Error("Parse Error: "+p);w=p}function pe(ee,N,Z,R){if(N=l(N),(R=!!R)||v.push(N),g.start){var ae={};Z.replace(f,(function(de,H,ne,V,Ce){ae[H]=ne||V||Ce||""})),g.start(N,ae,R)}}function fe(ee,N){var Z;if(N=l(N))for(Z=v.length-1;Z>=0&&v[Z]!==N;Z--);else Z=0;if(Z>=0){for(var R=v.length-1;R>=Z;R--)g.end&&g.end(v[R]);v.length=Z}}fe()};var c=/^<!\s*doctype((?:\s+[\w:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,u=/^<\/([-A-Za-z0-9_]+)[^>]*>/,h=/^<([-A-Za-z0-9_]+)((?:\s+[-A-Za-z0-9_:@.]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/i,f=/([-A-Za-z0-9_:@.]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,d=a("script,style".split(","));o.exports=e},387:function(o,e,n){var r=n(6833);function a(s,l){this[l]=s.replace(/\w/,(function(c){return c.toUpperCase()}))}e=function(s){var l=r(s),c=l[0];return l.shift(),l.forEach(a,l),c+=l.join("")},o.exports=e},388:function(o,e,n){n.d(e,{A:function(){return a}});var r=n(2284);function a(s,l){if(l&&((0,r.A)(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c})(s)}},438:function(o,e,n){var r=n(2571);function a(s,l){return s===l}e=function(s,l){return l=l||a,r(s,(function(c,u,h){for(var f=h.length;++u<f;)if(l(c,h[u]))return!1;return!0}))},o.exports=e},466:function(o,e,n){var r=n(2510),a=n(2971),s=n(2571),l=n(3249);e=r((function(c,u){return u=a(u),s(c,(function(h){return!l(u,h)}))})),o.exports=e},500:function(o,e,n){var r=n(6214),a=n(6186);e=function(s){return r(s)?function(c){return a(c,s)}:(l=s,function(c){return c?.[l]});var l},o.exports=e},541:function(o,e,n){(e=n(6314)(!1)).push([o.id,"._dev-tools{position:absolute;width:100%;height:100%;left:0;bottom:0;background:var(--background);z-index:500;display:none;padding-top:40px!important;opacity:0;transition:opacity .3s;border-top:1px solid var(--border)}._dev-tools ._resizer{position:absolute;width:100%;touch-action:none;left:0;top:-8px;cursor:row-resize;z-index:120}._dev-tools ._tools{overflow:auto;-webkit-overflow-scrolling:touch;height:100%;width:100%;position:relative}._dev-tools ._tools ._tool{position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;display:none}",""]),o.exports=e},621:function(o,e,n){var r=n(3974);e=typeof process$1<"u"&&r(process$1)==="[object process]",o.exports=e},688:function(o,e,n){(e=n(6314)(!1)).push([o.id,"._search-highlight-block{display:inline}._search-highlight-block ._keyword{background:var(--console-warn-background);color:var(--console-warn-foreground)}",""]),o.exports=e},769:function(o,e,n){var r=n(5793),a=n(3915),s=n(6214),l=n(1738);e=function(c){return c?s(c)?c:r(c)&&!l(c)?a(c):[c]:[]},o.exports=e},816:function(o,e,n){n.d(e,{A:function(){return a}});var r=n(2284);function a(s){var l=(function(c,u){if((0,r.A)(c)!="object"||!c)return c;var h=c[Symbol.toPrimitive];if(h!==void 0){var f=h.call(c,u);if((0,r.A)(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(c)})(s,"string");return(0,r.A)(l)=="symbol"?l:l+""}},825:function(o,e,n){n.r(e),e.default={}},879:function(o,e,n){(e=n(6314)(!1)).push([o.id,`@font-face{font-family:luna-dom-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS8AAsAAAAAB7QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAGEAAACMISgl+k9TLzIAAAFsAAAAPQAAAFZLxUkWY21hcAAAAawAAADWAAACdBU42qdnbHlmAAAChAAAAC4AAAAwabU7V2hlYWQAAAK0AAAALwAAADZzjr4faGhlYQAAAuQAAAAYAAAAJAFyANlobXR4AAAC/AAAABAAAABAAZAAAGxvY2EAAAMMAAAAEAAAACIAtACobWF4cAAAAxwAAAAfAAAAIAEbAA9uYW1lAAADPAAAASkAAAIWm5e+CnBvc3QAAARoAAAAUwAAAHZW8MNZeJxNjTsOQFAQRc/z/+sV1mABohKV0gZeJRJR2X9cT4RJZu7nFIMBMjoGvHGaF6rdngcNAc/c/O/Nvq2W5E1igdNE2zv1iGh1c5FQPlYXUlJRyxt9+/pUKadQa/AveGEGZQAAAHicY2BkkGScwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAQfcjE8MJIFcITDIwMIIIAFqDCGkAAAB4nM2STQ4BQRCFv54ZP8MwFhYW4gQcShBsSERi50BWDuFCcwJedddKRGKnOt8k9aanqudVAy0gF3NRQLgTsLhJDVHP6UW94Kp8zEhKwYIlG/YcOXHm0mTPp96aumLLwdUQ1fcIqmJrwpSZL+iqak5JmyE1Ayr1bdGhr/2ZPmp/qPQtuj/uJzqQl+pfDyypesQD6AT/ElV8PjyrMccT9rdLR3PUFBI227VTio1jbm6dodg5VnPvmAsHxzofHfmi+Sbs/pwdWcXFkWdNSNg9arIE2QufuSCyAAB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOINe2b6x/PbfGXgZjgBFIjifLyvAUEDwUqGZUCSg4EJxAEAUn4LLAB4nGNgZGBgOMHAACdXMjAyoAIBADizAkx4nGNgAIITUEwGAABZUAGReJxjYAACHgYJ3BAAE94BXXicY2BkYGAQYGBmANEMDExAzAWEDAz/wXwGAApcASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxjkOgCAUANE/uOOGB+FQBIjaaEJIuL6FsfE1M6Lk9fXPoKioaWjp6BnQjEzMLKwYNtHepZhtuMs1vpvO/ch4HIlIxhK4KVyc7BwiD8nvDlkA') format('woff')}[class*=' luna-dom-viewer-icon-'],[class^=luna-dom-viewer-icon-]{display:inline-block;font-family:luna-dom-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-dom-viewer-icon-caret-down:before{content:'\\f101'}.luna-dom-viewer-icon-caret-right:before{content:'\\f102'}.luna-dom-viewer{padding:0 0 0 12px;cursor:default;list-style:none;min-width:100%;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-dom-viewer .luna-dom-viewer-hidden,.luna-dom-viewer.luna-dom-viewer-hidden{display:none}.luna-dom-viewer .luna-dom-viewer-invisible,.luna-dom-viewer.luna-dom-viewer-invisible{visibility:hidden}.luna-dom-viewer *{box-sizing:border-box}.luna-dom-viewer.luna-dom-viewer-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:rgba(0,0,0,0)}.luna-dom-viewer{font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-dom-viewer ul{display:inline-block}.luna-dom-viewer-toggle{min-width:12px;margin-left:-12px}.luna-dom-viewer-icon-caret-down,.luna-dom-viewer-icon-caret-right{position:absolute!important;font-size:12px!important}.luna-dom-viewer-tree-item{min-width:200px;line-height:16px;min-height:16px;position:relative;z-index:10;outline:0}.luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection,.luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{display:block}.luna-dom-viewer-tree-item .luna-dom-viewer-icon-caret-down{display:none}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-caret-down{display:inline-block}.luna-dom-viewer-tree-item.luna-dom-viewer-expanded .luna-dom-viewer-icon-caret-right{display:none}.luna-dom-viewer-attribute-value{word-break:break-all}.luna-dom-viewer-attribute-value.luna-dom-viewer-attribute-underline{text-decoration:underline}.luna-dom-viewer-selection{position:absolute;display:none;left:-10000px;right:0;top:0;bottom:0;z-index:-1}.luna-dom-viewer-children{margin:0;overflow-x:visible;overflow-y:visible;padding-left:15px}.luna-dom-viewer-theme-light .luna-dom-viewer-icon-caret-down,.luna-dom-viewer-theme-light .luna-dom-viewer-icon-caret-right{color:#9aa0a6}.luna-dom-viewer-theme-light .luna-dom-viewer-html-tag,.luna-dom-viewer-theme-light .luna-dom-viewer-tag-name{color:#881280}.luna-dom-viewer-theme-light .luna-dom-viewer-attribute-name{color:#994500}.luna-dom-viewer-theme-light .luna-dom-viewer-attribute-value{color:#1a1aa6}.luna-dom-viewer-theme-light .luna-dom-viewer-html-comment{color:#236e25}.luna-dom-viewer-theme-light .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#e8eaed}.luna-dom-viewer-theme-light .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#e0e0e0}.luna-dom-viewer-theme-light .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#cfe8fc}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node{word-break:break-all}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#881280}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-number{color:#1c00cf}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:gray}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#236e25}.luna-dom-viewer-theme-light .luna-dom-viewer-text-node .luna-dom-viewer-string{color:#1a1aa6}.luna-dom-viewer-theme-dark{color:#e8eaed}.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-caret-down,.luna-dom-viewer-theme-dark .luna-dom-viewer-icon-caret-right{color:#9aa0a6}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-tag,.luna-dom-viewer-theme-dark .luna-dom-viewer-tag-name{color:#5db0d7}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-name{color:#9bbbdc}.luna-dom-viewer-theme-dark .luna-dom-viewer-attribute-value{color:#f29766}.luna-dom-viewer-theme-dark .luna-dom-viewer-html-comment{color:#898989}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:#083c69}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:#454545}.luna-dom-viewer-theme-dark .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:#073d69}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node{word-break:break-all}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:#e36eec}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-number{color:#9980ff}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:#7f7f7f}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:#747474}.luna-dom-viewer-theme-dark .luna-dom-viewer-text-node .luna-dom-viewer-string{color:#f29766}`,""]),o.exports=e},894:function(o,e,n){var r=n(5207);e=function(a,s,l){return a.replace(new RegExp(r(s),"g"),l)},o.exports=e},896:function(o,e,n){var r=n(1738),a=n(6214),s=n(3249),l=n(9100);e=function(c,u,h){if(r(u)&&(u=[u]),a(u)){var f=u;u=function(g,y){return s(f,y)}}var d={},p=function(g,y){u(g,y)&&(d[y]=g)};return h&&(p=function(g,y){u(g,y)||(d[y]=g)}),l(c,p),d},o.exports=e},916:function(o,e,n){var r,a=this&&this.__extends||(r=function(I,G){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,Q){J.__proto__=Q}||function(J,Q){for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(J[te]=Q[te])},r(I,G)},function(I,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function J(){this.constructor=I}r(I,G),I.prototype=G===null?Object.create(G):(J.prototype=G.prototype,new J)}),s=this&&this.__awaiter||function(I,G,J,Q){return new(J||(J=Promise))((function(te,pe){function fe(Z){try{N(Q.next(Z))}catch(R){pe(R)}}function ee(Z){try{N(Q.throw(Z))}catch(R){pe(R)}}function N(Z){var R;Z.done?te(Z.value):(R=Z.value,R instanceof J?R:new J((function(ae){ae(R)}))).then(fe,ee)}N((Q=Q.apply(I,G||[])).next())}))},l=this&&this.__generator||function(I,G){var J,Q,te,pe={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]},fe=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return fe.next=ee(0),fe.throw=ee(1),fe.return=ee(2),typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function ee(N){return function(Z){return(function(R){if(J)throw new TypeError("Generator is already executing.");for(;fe&&(fe=0,R[0]&&(pe=0)),pe;)try{if(J=1,Q&&(te=2&R[0]?Q.return:R[0]?Q.throw||((te=Q.return)&&te.call(Q),0):Q.next)&&!(te=te.call(Q,R[1])).done)return te;switch(Q=0,te&&(R=[2&R[0],te.value]),R[0]){case 0:case 1:te=R;break;case 4:return pe.label++,{value:R[1],done:!1};case 5:pe.label++,Q=R[1],R=[0];continue;case 7:R=pe.ops.pop(),pe.trys.pop();continue;default:if(te=pe.trys,!((te=te.length>0&&te[te.length-1])||R[0]!==6&&R[0]!==2)){pe=0;continue}if(R[0]===3&&(!te||R[1]>te[0]&&R[1]<te[3])){pe.label=R[1];break}if(R[0]===6&&pe.label<te[1]){pe.label=te[1],te=R;break}if(te&&pe.label<te[2]){pe.label=te[2],pe.ops.push(R);break}te[2]&&pe.ops.pop(),pe.trys.pop();continue}R=G.call(I,pe)}catch(ae){R=[6,ae],Q=0}finally{J=te=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}})([N,Z])}}},c=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorWithCode=void 0,e.createId=function(){return(0,u.default)(w)},e.getAbsoluteUrl=function(I){var G=document.createElement("a");return G.href=I,G.href},e.createErr=function(I,G){return new O(I,G)},e.getUrl=function(){var I=location.href;return(0,f.default)(I,"about:")?parent.location.href:I},e.getOrigin=function(){var I=location.origin;return I==="null"?parent.location.origin:I},e.getTextContent=function(I){return s(this,arguments,void 0,(function(G,J){return J===void 0&&(J=""),l(this,(function(Q){switch(Q.label){case 0:return[4,k(G,"text",J)];case 1:return[2,Q.sent()]}}))}))},e.getBase64Content=function(I){return s(this,arguments,void 0,(function(G,J){var Q;return J===void 0&&(J=""),l(this,(function(te){switch(te.label){case 0:return Q=p.default,[4,k(G,"arraybuffer",J)];case 1:return[2,Q.apply(void 0,[te.sent(),"base64"])]}}))}))},e.getType=function(I,G){try{return y.default.apply(null,[I,G])}catch{return"Error"}},e.has=function(I,G){try{return v.default.apply(null,[I,G])}catch{return!1}};var u=c(n(5630)),h=c(n(6774)),f=c(n(1009)),d=c(n(6032)),p=c(n(5957)),g=c(n(825)),y=c(n(2989)),v=c(n(365)),w=(0,h.default)(1e3,9999)+".",O=(function(I){function G(J,Q){var te=this.constructor,pe=I.call(this,Q)||this;return pe.code=J,Object.setPrototypeOf(pe,te.prototype),pe}return a(G,I),G})(Error);function k(I,G){return s(this,arguments,void 0,(function(J,Q,te){var pe;return te===void 0&&(te=""),l(this,(function(fe){switch(fe.label){case 0:return fe.trys.push([0,2,,8]),(pe=new d.default(J)).setQuery("__chobitsu-hide__","true"),[4,g.default.get(pe.toString(),{responseType:Q})];case 1:return[2,fe.sent().data];case 2:if(fe.sent(),!te)return[3,7];fe.label=3;case 3:return fe.trys.push([3,6,,7]),[4,g.default.get(E(te,J),{responseType:Q})];case 4:return[4,fe.sent().data];case 5:return[2,fe.sent()];case 6:return fe.sent(),[3,7];case 7:return[3,8];case 8:return[2,Q==="arraybuffer"?new ArrayBuffer(0):""]}}))}))}function E(I,G){var J=new d.default(I);return J.setQuery("url",G),J.setQuery("__chobitsu-hide__","true"),J.toString()}e.ErrorWithCode=O},926:function(o,e,n){var r,a=this&&this.__extends||(r=function(v,w){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var E in k)Object.prototype.hasOwnProperty.call(k,E)&&(O[E]=k[E])},r(v,w)},function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function O(){this.constructor=v}r(v,w),v.prototype=w===null?Object.create(w):(O.prototype=w.prototype,new O)}),s=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightOverlay=void 0;var l=s(n(1580)),c=n(3703),u=n(162),h=n(3979),f=(function(v){function w(){var O=v!==null&&v.apply(this,arguments)||this;return O.gridLabelState={gridLayerCounter:0},O}return a(w,v),w.prototype.setContainer=function(O){this._container=O},w.prototype.setPlatform=function(O){this.container&&this.container.classList.add("luna-dom-highlighter-platform-"+O),v.prototype.setPlatform.call(this,O)},Object.defineProperty(w.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),w.prototype.reset=function(O){v.prototype.reset.call(this,O),this.tooltip.innerHTML="",this.gridLabelState.gridLayerCounter=0},w.prototype.install=function(){var O=this.document.createElement("canvas");O.classList.add("luna-dom-highlighter-fill"),this.container.appendChild(O);var k=this.document.createElement("div");this.container.appendChild(k),this.tooltip=k,this.setCanvas(O),v.prototype.install.call(this)},w.prototype.uninstall=function(){this.document.body.classList.remove("fill"),this.document.body.innerHTML="",v.prototype.uninstall.call(this)},w.prototype.drawHighlight=function(O){this.context.save();for(var k=(0,h.emptyBounds)(),E=O.paths.slice();E.length;){var I=E.pop();I&&(this.context.save(),(0,h.drawPath)(this.context,I.path,I.fillColor,I.outlineColor,void 0,k,this.emulationScaleFactor),E.length&&(this.context.globalCompositeOperation="destination-out",(0,h.drawPath)(this.context,E[E.length-1].path,"red",void 0,void 0,k,this.emulationScaleFactor)),this.context.restore())}this.context.restore(),this.context.save();var G=!!(O.paths.length&&O.showRulers&&k.minX<20&&k.maxX+20<this.canvasWidth),J=!!(O.paths.length&&O.showRulers&&k.minY<20&&k.maxY+20<this.canvasHeight);return O.showRulers&&this.drawAxis(this.context,G,J),O.paths.length&&(O.showExtensionLines&&(function(Q,te,pe,fe,ee,N,Z,R){Q.save();var ae=Z,de=R;if(Q.strokeStyle=y,Q.lineWidth=1,Q.translate(.5,.5),pe)for(var H in te.rightmostXForY)Q.beginPath(),Q.moveTo(ae,Number(H)),Q.lineTo(te.rightmostXForY[H],Number(H)),Q.stroke();else for(var H in te.leftmostXForY)Q.beginPath(),Q.moveTo(0,Number(H)),Q.lineTo(te.leftmostXForY[H],Number(H)),Q.stroke();if(fe)for(var ne in te.bottommostYForX)Q.beginPath(),Q.moveTo(Number(ne),de),Q.lineTo(Number(ne),te.topmostYForX[ne]),Q.stroke();else for(var ne in te.topmostYForX)Q.beginPath(),Q.moveTo(Number(ne),0),Q.lineTo(Number(ne),te.topmostYForX[ne]),Q.stroke();Q.restore()})(this.context,k,G,J,void 0,!1,this.canvasWidth,this.canvasHeight),O.elementInfo&&(function(Q,te,pe,fe,ee,N){Q.innerHTML="";var Z=(0,u.createChild)(Q,"div"),R=(0,u.createChild)(Z,"div","tooltip-content"),ae=(function(je,ze){var he=(0,u.createElement)("div","element-info"),le=(0,u.createChild)(he,"div","element-info-header"),me=(function(gt){return gt.layoutObjectName&&(0,l.default)(gt.layoutObjectName,"Grid")?"grid":gt.layoutObjectName&&gt.layoutObjectName==="LayoutNGFlexibleBox"?"flex":null})(je);me&&(0,u.createChild)(le,"div","element-layout-type ".concat(me));var Xe=(0,u.createChild)(le,"div","element-description");(0,u.createChild)(Xe,"span","material-tag-name").textContent=je.tagName;var Ee=(0,u.createChild)(Xe,"span","material-node-id"),Re=80;Ee.textContent=je.idValue?"#"+(0,u.ellipsify)(je.idValue,Re):"",Ee.classList.toggle("hidden",!je.idValue);var at=(0,u.createChild)(Xe,"span","material-class-name");Ee.textContent.length<Re&&(at.textContent=(0,u.ellipsify)(je.className||"",Re-Ee.textContent.length)),at.classList.toggle("hidden",!je.className);var Ve=(0,u.createChild)(le,"div","dimensions");(0,u.createChild)(Ve,"span","material-node-width").textContent=String(Math.round(100*je.nodeWidth)/100),(0,u.createTextChild)(Ve,""),(0,u.createChild)(Ve,"span","material-node-height").textContent=String(Math.round(100*je.nodeHeight)/100);var qe,ot=je.style||{};je.isLockedAncestor&&ht("Showing content-visibility ancestor",""),je.isLocked&&ht("Descendants are skipped due to content-visibility","");var Pt=ot.color;Pt&&Pt!=="#00000000"&&q("Color",Pt,ze);var Et=ot["font-family"],Ft=ot["font-size"];Et&&Ft!=="0px"&&ht("Font","".concat(Ft," ").concat(Et));var ve=ot["background-color"];ve&&ve!=="#00000000"&&q("Background",ve,ze);var T=ot.margin;T&&T!=="0px"&&ht("Margin",T);var F=ot.padding;F&&F!=="0px"&&ht("Padding",F);var ye=je.contrast?je.contrast.backgroundColor:null,De=Pt&&Pt!=="#00000000"&&ye&&ye!=="#00000000";je.showAccessibilityInfo&&(Ze("Accessibility"),De&&ot.color&&je.contrast&&dt(ot.color,je.contrast),ht("Name",je.accessibleName),ht("Role",je.accessibleRole),bt("Keyboard-focusable",je.isKeyboardFocusable?"a11y-icon a11y-icon-ok":"a11y-icon a11y-icon-not-ok"));function $e(){qe||(qe=(0,u.createChild)(he,"div","element-info-body"))}function Ze(gt){$e();var be=(0,u.createChild)(qe,"div","element-info-row element-info-section");(0,u.createChild)(be,"div","section-name").textContent=gt,(0,u.createChild)((0,u.createChild)(be,"div","separator-container"),"div","separator")}function Oe(gt,be,Ne){$e();var Pe=(0,u.createChild)(qe,"div","element-info-row");return(0,u.createChild)(Pe,"div","element-info-name").textContent=gt,(0,u.createChild)(Pe,"div","element-info-gap"),(0,u.createChild)(Pe,"div",Ne||"")}function bt(gt,be){(0,u.createChild)(Oe(gt,"","element-info-value-icon"),"div",be)}function ht(gt,be){(0,u.createTextChild)(Oe(gt,"","element-info-value-text"),be)}function q(gt,be,Ne){var Pe=Oe(gt,"","element-info-value-color"),Me=(0,u.createChild)(Pe,"div","color-swatch");(0,u.createChild)(Me,"div","color-swatch-inner").style.backgroundColor=be,(0,u.createTextChild)(Pe,(0,h.formatColor)(be,Ne))}function dt(gt,be){var Ne=(0,h.parseHexa)(gt),Pe=(0,h.parseHexa)(be.backgroundColor);Ne[3]*=be.textOpacity;var Me=Oe("Contrast","","element-info-value-contrast"),Ue=(0,u.createChild)(Me,"div","contrast-text");Ue.style.color=(0,h.formatRgba)(Ne,"rgb"),Ue.style.backgroundColor=be.backgroundColor,Ue.textContent="Aa";var Y=(0,u.createChild)(Me,"span");if(be.contrastAlgorithm==="apca"){var D=(0,c.contrastRatioAPCA)(Ne,Pe),W=(0,c.getAPCAThreshold)(be.fontSize,be.fontWeight);Y.textContent=String(Math.floor(100*D)/100)+"%",(0,u.createChild)(Me,"div",W===null||Math.abs(D)<W?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}else if(be.contrastAlgorithm==="aa"||be.contrastAlgorithm==="aaa"){var _e=(0,c.contrastRatio)(Ne,Pe);W=(0,c.getContrastThreshold)(be.fontSize,be.fontWeight)[be.contrastAlgorithm],Y.textContent=String(Math.floor(100*_e)/100),(0,u.createChild)(Me,"div",_e<W?"a11y-icon a11y-icon-warning":"a11y-icon a11y-icon-ok")}}return he})(te,pe);R.appendChild(ae);var de,H=R.offsetWidth,ne=R.offsetHeight,V=8,Ce=2,ge=2*V,Te=V+2,Ke=Ce+Te,Ye=ee-Ce-Te-ge,Qe=fe.maxX-fe.minX<ge+2*Te;if(Qe)de=.5*(fe.minX+fe.maxX)-V;else{var rt=fe.minX+Te,vt=fe.maxX-Te-ge;de=rt>Ke&&rt<Ye?rt:(0,u.constrainNumber)(Ke,rt,vt)}var it=de<Ke||de>Ye,yt=de-Te;yt=(0,u.constrainNumber)(yt,Ce,ee-H-Ce);var xt=fe.minY-V-ne,Ct=!0;xt<0?(xt=Math.min(N-ne,fe.maxY+V),Ct=!1):fe.minY>N&&(xt=N-V-ne);var St=yt>=fe.minX&&yt+H<=fe.maxX&&xt>=fe.minY&&xt+ne<=fe.maxY,Rt=yt<fe.maxX&&yt+H>fe.minX&&xt<fe.maxY&&xt+ne>fe.minY;if(Rt&&!St)return void(R.style.display="none");if(R.style.top=xt+"px",R.style.left=yt+"px",!it){var oe=(0,u.createChild)(R,"div","tooltip-arrow");oe.style.clipPath=Ct?"polygon(0 0, 100% 0, 50% 100%)":"polygon(50% 0, 0 100%, 100% 100%)",oe.style.top=(Ct?ne-1:-V)+"px",oe.style.left=de-yt+"px"}})(this.tooltip,O.elementInfo,O.colorFormat,k,this.canvasWidth,this.canvasHeight)),this.context.restore(),{bounds:k}},w.prototype.drawAxis=function(O,k,E){O.save();var I=this.pageZoomFactor*this.pageScaleFactor*this.emulationScaleFactor,G=this.scrollX*this.pageScaleFactor,J=this.scrollY*this.pageScaleFactor;function Q(H){return Math.round(H*I)}function te(H){return Math.round(H/I)}var pe=this.canvasWidth/I,fe=this.canvasHeight/I,ee=50;O.save(),O.fillStyle=g,E?O.fillRect(0,Q(fe)-15,Q(pe),Q(fe)):O.fillRect(0,0,Q(pe),15),O.globalCompositeOperation="destination-out",O.fillStyle="red",k?O.fillRect(Q(pe)-15,0,Q(pe),Q(fe)):O.fillRect(0,0,15,Q(fe)),O.restore(),O.fillStyle=g,k?O.fillRect(Q(pe)-15,0,Q(pe),Q(fe)):O.fillRect(0,0,15,Q(fe)),O.lineWidth=1,O.strokeStyle=p,O.fillStyle=p,O.save(),O.translate(-G,.5-J);for(var N=fe+te(J),Z=100;Z<N;Z+=100)O.save(),O.translate(G,Q(Z)),O.rotate(-Math.PI/2),O.fillText(String(Z),2,k?Q(pe)-7:13),O.restore();O.translate(.5,-.5);for(var R=pe+te(G),ae=100;ae<R;ae+=100)O.save(),O.fillText(String(ae),Q(ae)+2,E?J+Q(fe)-7:J+13),O.restore();for(O.restore(),O.save(),k&&(O.translate(Q(pe),0),O.scale(-1,1)),O.translate(-G,.5-J),N=fe+te(J),Z=ee;Z<N;Z+=ee){O.beginPath(),O.moveTo(G,Q(Z));var de=Z%100?5:8;O.lineTo(G+de,Q(Z)),O.stroke()}for(O.strokeStyle=d,Z=5;Z<N;Z+=5)Z%ee&&(O.beginPath(),O.moveTo(G,Q(Z)),O.lineTo(G+5,Q(Z)),O.stroke());for(O.restore(),O.save(),E&&(O.translate(0,Q(fe)),O.scale(1,-1)),O.translate(.5-G,-J),R=pe+te(G),ae=ee;ae<R;ae+=ee)O.beginPath(),O.moveTo(Q(ae),J),de=ae%100?5:8,O.lineTo(Q(ae),J+de),O.stroke();for(O.strokeStyle=d,ae=5;ae<R;ae+=5)ae%ee&&(O.beginPath(),O.moveTo(Q(ae),J),O.lineTo(Q(ae),J+5),O.stroke());O.restore(),O.restore()},w})(u.Overlay);e.HighlightOverlay=f;var d="rgba(0,0,0,0.2)",p="rgba(0,0,0,0.7)",g="rgba(255, 255, 255, 0.8)",y="rgba(128, 128, 128, 0.3)"},928:function(o,e){e=function(r){var a,s,l,c=r[0]/360,u=r[1]/100,h=r[2]/100,f=[];if(r[3]&&(f[3]=r[3]),u===0)return l=n(255*h),f[0]=f[1]=f[2]=l,f;for(var d=2*h-(a=h<.5?h*(1+u):h+u-h*u),p=0;p<3;p++)(s=c+.3333333333333333*-(p-1))<0&&s++,s>1&&s--,l=6*s<1?d+6*(a-d)*s:2*s<1?a:3*s<2?d+(a-d)*(.6666666666666666-s)*6:d,f[p]=n(255*l);return f};var n=Math.round;o.exports=e},961:function(o,e,n){var r=n(5693);e=function(a,s,l){var c=[];s=r(s,l);for(var u=-1,h=a.length;++u<h;){var f=u-c.length,d=a[f];s(d,u,a)&&(c.push(d),a.splice(f,1))}return c},o.exports=e},975:function(o,e,n){var r=n(5651),a=n(6097),s=n(8971),l=n(6334),c={path:"/"};function u(h,f,d){if(!s(f)){if(d=r(d=d||{},c),a(d.expires)){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*d.expires),d.expires=p}return f=encodeURIComponent(f),h=encodeURIComponent(h),document.cookie=[h,"=",f,d.expires&&"; expires="+d.expires.toUTCString(),d.path&&"; path="+d.path,d.domain&&"; domain="+d.domain,d.secure?"; secure":""].join(""),e}for(var g=document.cookie?document.cookie.split("; "):[],y=h?void 0:{},v=0,w=g.length;v<w;v++){var O=g[v],k=O.split("="),E=l(k.shift());if(O=k.join("="),O=l(O),h===E){y=O;break}h||(y[E]=O)}return y}e={get:u,set:u,remove:function(h,f){return(f=f||{}).expires=-1,u(h,"",f)}},o.exports=e},991:function(o,e,n){n.d(e,{A:function(){return a}});var r=n(3954);function a(){return a=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(s,l,c){var u=(function(f,d){for(;!{}.hasOwnProperty.call(f,d)&&(f=(0,r.A)(f))!==null;);return f})(s,l);if(u){var h=Object.getOwnPropertyDescriptor(u,l);return h.get?h.get.call(arguments.length<3?s:c):h.value}},a.apply(null,arguments)}},1009:function(o,e){e=function(n,r){return n.indexOf(r)===0},o.exports=e},1023:function(o,e,n){var r=n(2717),a=n(8420),s=n(9100),l=n(769);e=r({initialize:function(){this._listeners=[]},addListener:function(c){this._listeners.push(c)},rmListener:function(c){var u=this._listeners.indexOf(c);u>-1&&this._listeners.splice(u,1)},rmAllListeners:function(){this._listeners=[]},emit:function(){var c=this,u=l(arguments),h=a(this._listeners);s(h,(function(f){return f.apply(c,u)}),this)}},{mixin:function(c){s(["addListener","rmListener","emit","rmAllListeners"],(function(u){c[u]=e.prototype[u]})),c._listeners=c._listeners||[]}}),o.exports=e},1034:function(o,e,n){var r=n(9760),a=n(3957),s=n(6214),l=n(5154);e=function(c){return s(c)?c.map((function(u){return e(u)})):r(c)&&!a(c)?l(c,(function(u){return e(u)})):c},o.exports=e},1107:function(o,e,n){(e=n(6314)(!1)).push([o.id,"@font-face{font-family:luna-text-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS0AAsAAAAAB2QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFQAAAB0INElr09TLzIAAAFcAAAAPQAAAFZL+0klY21hcAAAAZwAAACfAAACEAEewxRnbHlmAAACPAAAAIYAAACkNSDggmhlYWQAAALEAAAALgAAADZzrb4oaGhlYQAAAvQAAAAWAAAAJAGRANNobXR4AAADDAAAABAAAAAoAZAAAGxvY2EAAAMcAAAAEAAAABYBWgFIbWF4cAAAAywAAAAdAAAAIAEXADtuYW1lAAADTAAAASkAAAIWm5e+CnBvc3QAAAR4AAAAOwAAAFJIWdOleJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBWAdNMDGwMQkAWK1CGlYEZyGMCstiBMpxAUUYGZgDbGgXDeJxjYGTQYJzAwMrAwFDH0AMkZaB0AgMngzEDAxMDKzMDVhCQ5prCcIAh+SMTwwkgVwhMMjAwgggAY84IrgAAAHicvZFLCsMwDERHzsdJ6aL0HD1VQiDQRbIN9Axd9aI+QTpjq5Bdd5F4Bo1lybIBNAAq8iA1YB8YZG+qlvUKl6zXGBjf6MofMWHGEyu2FPb9oCxULCtHs3yy+J2urg1rtojo0HM/MKnFGabOGlbdYvdT+1N6/7drXl8e6Vajo3efHP3b7HAUvntBMy1OJKujMTeHNZMV9McpFBC+tLgY4QB4nGNgZACBEwzrGdgZGOwZxdnVDdXNPfKEGlhchO0KhZtZ3IQYmMFq1jCsZpBi0GLQY2AwNzGzZjQSk2UUYdNmVFID8UyVRUXYlNRMlVGlTM1FjU3tmZkTmVhYmFRBhHwoCyuzKgtTIjMzWJg3ZClIGMRlZQmVB7GhMixM0aGhQIsB52sTqgAAeJxjYGRgYADi2JNxkvH8Nl8ZuBlOAAWiOB/va0DQQHCCYT2Q5GBgAnEANJ0KnQAAeJxjYGRgYDjBwIBEMjKgAi4AOvoCZQAAeJxjYACCE1CMBwAAM7gBkXicY2AAAiGGIFQIABXIAqN4nGNgZGBg4GLQZ2BmAAEmMI8LSP4H8xkADjQBUwAAAHicZZA9bsJAFITHYEgCUoIUKSmzVQoimZ+SA0BPQZfCmLUxsr3WekGiywlyhBwhp4hyghwoY/NoYC0/fzNv3u7KAAb4hYd6ebhtar1auKE6cZv0IOyTn4U76ONFuEt/KNzDG6bCfTzinTt4/h2dAUrhFu7xIdym/ynsk7+EO3jCt3CX/o9wDyv8Cffx6g3TyBSxKdxSJ/sstGd5/q60rVJTqEkwPlsLXWgbOr1R66OqDsnUuVjF1uRqzq7OMqNKa3Y6csHWuXI2GsXiB5HJkSKCQYG4qQ5LaCTYI0MIe9W91CumLSr6tVaYIMD4KrVgqmiSIZXGhsk1jqwVDjxtStcxrfhazuSkucxq3iQjK/7vurejE9EPsG2mSsww4hNf5IPmDvk/PRFeqAAAAHicXcU7CsAgFEXBe4x/l/kQBAtt3X0KSZNpRk7X91/F8eAJRBKZQqUp2Og2va19MAadyWJzpBd4kgcWAA==') format('woff')}[class*=' luna-text-viewer-icon-'],[class^=luna-text-viewer-icon-]{display:inline-block;font-family:luna-text-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-text-viewer-icon-check:before{content:'\\f101'}.luna-text-viewer-icon-copy:before{content:'\\f102'}.luna-text-viewer{color:#333;background-color:#fff;font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;padding:0;unicode-bidi:embed;position:relative;overflow:auto;border:1px solid #ccc}.luna-text-viewer.luna-text-viewer-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-text-viewer.luna-text-viewer-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-text-viewer .luna-text-viewer-hidden,.luna-text-viewer.luna-text-viewer-hidden{display:none}.luna-text-viewer .luna-text-viewer-invisible,.luna-text-viewer.luna-text-viewer-invisible{visibility:hidden}.luna-text-viewer *{box-sizing:border-box}.luna-text-viewer.luna-text-viewer-theme-dark{color:#d9d9d9;border-color:#3d3d3d;background:#242424}.luna-text-viewer:hover .luna-text-viewer-copy{opacity:1}.luna-text-viewer-table{display:table}.luna-text-viewer-table .luna-text-viewer-line-number,.luna-text-viewer-table .luna-text-viewer-line-text{padding:0}.luna-text-viewer-table-row{display:table-row}.luna-text-viewer-line-number{display:table-cell;padding:0 3px 0 8px!important;text-align:right;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-right:1px solid #ccc}.luna-text-viewer-line-text{display:table-cell;padding-left:4px!important;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-text-viewer-copy{background:#fff;opacity:0;position:absolute;right:5px;top:5px;border:1px solid #ccc;border-radius:4px;width:25px;height:25px;text-align:center;line-height:25px;cursor:pointer;transition:opacity .3s,top .3s}.luna-text-viewer-copy .luna-text-viewer-icon-check{color:#188037}.luna-text-viewer-text{padding:4px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;box-sizing:border-box;white-space:pre;display:block}.luna-text-viewer-text.luna-text-viewer-line-numbers{padding:0}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines{white-space:pre-wrap}.luna-text-viewer-text.luna-text-viewer-wrap-long-lines .luna-text-viewer-line-text{word-break:break-all}.luna-text-viewer-theme-dark{color-scheme:dark}.luna-text-viewer-theme-dark .luna-text-viewer-copy,.luna-text-viewer-theme-dark .luna-text-viewer-line-number{border-color:#3d3d3d}.luna-text-viewer-theme-dark .luna-text-viewer-copy .luna-text-viewer-icon-check{color:#81c995}.luna-text-viewer-theme-dark .luna-text-viewer-copy{background-color:#242424}",""]),o.exports=e},1162:function(o,e,n){n.d(e,{Ay:function(){return ye}});var r=n(991),a=n(3029),s=n(2901),l=n(388),c=n(3954),u=n(5361),h=n(3693),f=n.n(h),d=n(5241),p=n.n(d),g=n(5902),y=n.n(g),v=n(5630),w=n.n(v),O=n(9760),k=n.n(O),E=n(5651),I=n.n(E),G=n(3915),J=n.n(G),Q=n(6030),te=n.n(Q),pe=n(2561),fe=n.n(pe),ee=n(3957),N=n.n(ee),Z=n(3497),R=n.n(Z),ae=n(1976),de=n.n(ae),H=n(1738),ne=n.n(H),V=n(9405),Ce=n.n(V),ge=n(3249),Te=n.n(ge),Ke=n(96),Ye=n.n(Ke),Qe=n(4236),rt=n.n(Qe),vt=n(9100),it=n.n(vt),yt=n(2263),xt=n.n(yt),Ct=n(5169),St=n.n(Ct),Rt=n(9548),oe=n.n(Rt),je=(n(6097),n(5004)),ze=n.n(je);n(9410),n(8609);function he(Ne){var Pe="luna-".concat(Ne,"-");function Me(Ue){return J()(Ce()(Ue).split(/\s+/),(function(Y){return Te()(Y,Pe)?Y:Y.replace(/[\w-]+/,(function(D){return"".concat(Pe).concat(D)}))})).join(" ")}return function(Ue){if(/<[^>]*>/g.test(Ue))try{var Y=oe().parse(Ue);return le(Y,(function(D){D.attrs&&D.attrs.class&&(D.attrs.class=Me(D.attrs.class))})),oe().stringify(Y)}catch{return Me(Ue)}return Me(Ue)}}function le(Ne,Pe){for(var Me=0,Ue=Ne.length;Me<Ue;Me++){var Y=Ne[Me];Pe(Y),Y.content&&le(Y.content,Pe)}}St();var me=n(8105),Xe=n.n(me),Ee=n(961),Re=n.n(Ee),at=n(7e3),Ve=n.n(at),qe=n(1009),ot=n.n(qe);function Pt(){try{var Ne=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Pt=function(){return!!Ne})()}var Et=(function(Ne){function Pe(Me,Ue){var Y,D,W=Ue.compName,_e=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,ce=_e===void 0?"light":_e;return(0,a.A)(this,Pe),Y=(function(st,Ot,Gt){return Ot=(0,c.A)(Ot),(0,l.A)(st,Pt()?Reflect.construct(Ot,[],(0,c.A)(st).constructor):Ot.apply(st,Gt))})(this,Pe),Y.subComponents=[],Y.theme="",Y.onThemeChange=function(st){Y.options.theme==="auto"&&Y.setTheme(st)},Y.compName=W,Y.c=he(W),Y.options={},Y.container=Me,Y.$container=f()(Me),Y.$container.addClass(["luna-".concat(W),Y.c("platform-".concat((D=ze()(),D==="os x"?"mac":D)))]),Y.on("changeOption",(function(st,Ot){if(st==="theme"&&Ot){var Gt=Ot;Ot==="auto"&&(Gt=Ve().get()),Y.setTheme(Gt),it()(Y.subComponents,(function(On){return On.setOption("theme",Ot)}))}})),Ve().on("change",Y.onThemeChange),Y.setOption("theme",ce),Y}return(0,u.A)(Pe,Ne),(0,s.A)(Pe,[{key:"destroy",value:function(){var Me=this;this.destroySubComponents();var Ue=this.$container,Y=Ue.attr("class");it()(Y.split(/\s+/),(function(D){ot()(D,"luna-".concat(Me.compName))&&Ue.rmClass(D)})),Ue.html(""),this.emit("destroy"),this.removeAllListeners(),Ve().off("change",this.onThemeChange)}},{key:"setOption",value:function(Me,Ue){var Y=this,D=this.options,W={};typeof Me=="string"?W[Me]=Ue:W=Me,it()(W,(function(_e,ce){var st=D[ce];D[ce]=_e,_e!==st&&Y.emit("changeOption",ce,_e,st)}))}},{key:"getOption",value:function(Me){return this.options[Me]}},{key:"addSubComponent",value:function(Me){Me.setOption("theme",this.options.theme),this.subComponents.push(Me)}},{key:"removeSubComponent",value:function(Me){Re()(this.subComponents,(function(Ue){return Ue===Me}))}},{key:"destroySubComponents",value:function(){it()(this.subComponents,(function(Me){return Me.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(Me){var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};I()(Me,Ue),Xe()(this.options,Me)}},{key:"find",value:function(Me){return this.$container.find(this.c(Me))}},{key:"setTheme",value:function(Me){var Ue=this.c,Y=this.$container;this.theme&&Y.rmClass(Ue("theme-".concat(this.theme))),Y.addClass(Ue("theme-".concat(Me))),this.theme=Me}}])})(xt()),Ft=function(Ne,Pe,Me){return((Ne-Pe)/(Me-Pe)*100).toFixed(2)};function ve(Ne,Pe,Me,Ue){var Y=(0,r.A)((0,c.A)(Ne.prototype),Pe,Me);return typeof Y=="function"?function(D){return Y.apply(Me,D)}:Y}function T(Ne,Pe,Me){return Pe=(0,c.A)(Pe),(0,l.A)(Ne,F()?Reflect.construct(Pe,Me||[],(0,c.A)(Ne).constructor):Pe.apply(Ne,Me))}function F(){try{var Ne=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(F=function(){return!!Ne})()}o=n.hmd(o);var ye=(function(Ne){function Pe(Me){var Ue,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,a.A)(this,Pe),(Ue=T(this,Pe,[Me,{compName:"setting"},Y])).items=[],Ue.selectedItem=null,Ue.initOptions(Y,{separatorCollapse:!0,filter:""}),Ue.bindEvent(),Ue}return(0,u.A)(Pe,Ne),(0,s.A)(Pe,[{key:"appendTitle",value:function(Me){var Ue=new $e(this,Me,arguments.length>1&&arguments[1]!==void 0?arguments[1]:1);return this.append(Ue),Ue}},{key:"appendSeparator",value:function(){var Me=this.items,Ue=this.options.separatorCollapse,Y=R()(Me);if(Ue&&Y instanceof Oe)return Y;var D=new Oe(this);return this.append(D),D}},{key:"appendNumber",value:function(Me,Ue,Y,D,W){k()(D)&&(W=D,D="");var _e=new ht(this,Me,Ue,Y,D,W);return this.append(_e),_e}},{key:"appendButton",value:function(Me,Ue,Y){N()(Ue)&&(Y=Ue,Ue="");var D=new gt(this,Me,Ue,Y);return this.append(D),D}},{key:"appendHtml",value:function(Me){var Ue=new be(this,Me);return this.append(Ue),Ue}},{key:"appendMarkdown",value:function(Me){var Ue=new Ze(this,Me);return this.append(Ue),Ue}},{key:"appendInput",value:function(Me,Ue,Y){var D=new bt(this,Me,Ue,Y,arguments.length>3&&arguments[3]!==void 0?arguments[3]:"");return this.append(D),D}},{key:"appendCheckbox",value:function(Me,Ue,Y,D){D||(D=Y,Y="");var W=new q(this,Me,Ue,Y,D);return this.append(W),W}},{key:"appendSelect",value:function(Me,Ue,Y,D,W){k()(D)&&(W=D,D="");var _e=new dt(this,Me,Ue,Y,D,W);return this.append(_e),_e}},{key:"remove",value:function(Me){var Ue=this.items,Y=Ue.indexOf(Me);Y>-1&&(Me.detach(),Ue.splice(Y,1),Me===this.selectedItem&&this.selectItem(null))}},{key:"clear",value:function(){it()(this.items,(function(Me){return Me.detach()})),this.items=[],this.selectItem(null)}},{key:"selectItem",value:function(Me){var Ue;this.selectedItem&&(this.selectedItem.deselect(),this.selectedItem=null),rt()(Me)||(this.selectedItem=Me,(Ue=this.selectedItem)===null||Ue===void 0||Ue.select())}},{key:"renderSettings",value:function(){var Me=this,Ue=this.items;it()(Ue,(function(Y){return Y.detach()})),it()(Ue,(function(Y){Me.filterItem(Y)&&Me.$container.append(Y.container)}))}},{key:"bindEvent",value:function(){var Me=this,Ue=this.c;this.on("changeOption",(function(D){D==="filter"&&Me.renderSettings()}));var Y=this;this.$container.on("click",Ue(".item"),(function(){Y.selectItem(this.settingItem)}))}},{key:"filterItem",value:function(Me){var Ue=this.options.filter;if(Ue){if(N()(Ue))return Ue(Me);if(de()(Ue))return Ue.test(Me.text());if(ne()(Ue)&&(Ue=Ce()(Ue)))return Te()(Ye()(Me.text()),Ye()(Ue))}return!0}},{key:"append",value:function(Me){this.items.push(Me),this.filterItem(Me)&&this.$container.append(Me.container)}}])})(Et),De=(function(){return(0,s.A)((function Ne(Pe,Me,Ue,Y){(0,a.A)(this,Ne),this.container=p()("div",{tabindex:"0"}),this.setting=Pe,this.container.settingItem=this,this.$container=f()(this.container),this.$container.addClass(Pe.c("item")).addClass(Pe.c("item-".concat(Y))),this.key=Me,this.value=Ue}),[{key:"select",value:function(){this.$container.addClass(this.setting.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.setting.c("selected"))}},{key:"detach",value:function(){this.$container.remove()}},{key:"disable",value:function(){this.$container.addClass(this.setting.c("disabled"))}},{key:"enable",value:function(){this.$container.rmClass(this.setting.c("disabled"))}},{key:"text",value:function(){return this.$container.text()}},{key:"onChange",value:function(Ne){this.value!==Ne&&(this.setting.emit("change",this.key,Ne,this.value),this.value=Ne)}}])})(),$e=(function(Ne){function Pe(Me,Ue,Y){var D;return(0,a.A)(this,Pe),(D=T(this,Pe,[Me,"","","title"])).$container.addClass(Me.c("level-".concat(Y))),D.$container.text(Ue),D}return(0,u.A)(Pe,Ne),(0,s.A)(Pe)})(De),Ze=(function(Ne){function Pe(Me,Ue){var Y;return(0,a.A)(this,Pe),(Y=T(this,Pe,[Me,"","","markdown"])).$container.html(Ue),Y}return(0,u.A)(Pe,Ne),(0,s.A)(Pe)})(De),Oe=(function(Ne){function Pe(Me){return(0,a.A)(this,Pe),T(this,Pe,[Me,"","","separator"])}return(0,u.A)(Pe,Ne),(0,s.A)(Pe)})(De),bt=(function(Ne){function Pe(Me,Ue,Y,D,W){var _e;(0,a.A)(this,Pe),_e=T(this,Pe,[Me,Ue,Y,"input"]);var ce=Me.c;_e.$container.html('<div class="'.concat(ce("title"),'">').concat(y()(D),`</div>
      <div class="`).concat(ce("description"),'">').concat(W,`</div>
      <div class="`).concat(ce("control"),`">
        <input type="text"></input>
      </div>`));var st=_e.$container.find("input");return st.val(Y),st.on("change",(function(){return _e.onChange(st.val())})),_e.$input=st,_e}return(0,u.A)(Pe,Ne),(0,s.A)(Pe,[{key:"setValue",value:function(Me){this.$input.val(Me),this.value=Me}},{key:"disable",value:function(){ve(Pe,"disable",this)([]),this.$input.attr("disabled","")}},{key:"enable",value:function(){ve(Pe,"enable",this)([]),this.$input.rmAttr("disabled")}}])})(De),ht=(function(Ne){function Pe(Me,Ue,Y,D,W){var _e,ce=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};(0,a.A)(this,Pe),(_e=T(this,Pe,[Me,Ue,Y,"number"])).renderRange=function(){var an=te()(_e.$input.val()),$t=_e.options;_e.$trackProgress.css("width",Ft(an,$t.min,$t.max)+"%"),_e.$value.text(fe()(an))},I()(ce,{min:0,max:10,step:1}),_e.options=ce;var st=_e.$container,Ot=Me.c,Gt=!!ce.range;delete ce.range;var On=ce.min,yn=ce.max,Kt='<input type="'.concat(Gt?"range":"number",'"').concat(J()(ce,(function(an,$t){return" ".concat($t,'="').concat(an,'"')})),"></input>");Gt&&(Kt="".concat(On,'<div class="').concat(Ot("range-container"),`">
        <div class="`).concat(Ot("range-track"),`">
          <div class="`).concat(Ot("range-track-bar"),`">
            <div class="`).concat(Ot("range-track-progress"),'" style="width: ').concat(Ft(Y,On,yn),`%;"></div>
          </div>
        </div>
        `).concat(Kt,`
      </div><span class="`).concat(Ot("value"),'">').concat(Y,"</span>/").concat(yn)),st.html('<div class="'.concat(Ot("title"),'">').concat(y()(D),`</div>
      <div class="`).concat(Ot("description"),'">').concat(W,`</div>
      <div class="`).concat(Ot("control"),'">').concat(Kt,"</div>"));var Vt=st.find("input");return _e.$value=st.find(Ot(".value")),_e.$trackProgress=st.find(Ot(".range-track-progress")),Vt.val(fe()(Y)),Vt.on("change",(function(){var an=te()(Vt.val());_e.onChange(an)})),Vt.on("input",_e.renderRange),_e.$input=Vt,_e}return(0,u.A)(Pe,Ne),(0,s.A)(Pe,[{key:"setValue",value:function(Me){this.$input.val(fe()(Me)),this.value=Me,this.renderRange()}},{key:"disable",value:function(){ve(Pe,"disable",this)([]),this.$input.attr("disabled","")}},{key:"enable",value:function(){ve(Pe,"enable",this)([]),this.$input.rmAttr("disabled")}}])})(De),q=(function(Ne){function Pe(Me,Ue,Y,D,W){var _e;(0,a.A)(this,Pe),_e=T(this,Pe,[Me,Ue,Y,"checkbox"]);var ce=Me.c,st=w()(Me.c("checkbox-"));_e.$container.html('<div class="'.concat(ce("title"),'">').concat(y()(D),`</div>
      <div class="`).concat(ce("control"),`">
        <input type="checkbox" id="`).concat(st,`"></input>
        <label for="`).concat(st,'">').concat(W,`</label>
      </div>`));var Ot=_e.$container.find("input"),Gt=Ot.get(0);return Gt.checked=Y,Ot.on("change",(function(){return _e.onChange(Gt.checked)})),_e.$input=Ot,_e.input=Gt,_e}return(0,u.A)(Pe,Ne),(0,s.A)(Pe,[{key:"setValue",value:function(Me){this.input.checked=Me,this.value=Me}},{key:"disable",value:function(){ve(Pe,"disable",this)([]),this.$input.attr("disabled","")}},{key:"enable",value:function(){ve(Pe,"enable",this)([]),this.$input.rmAttr("disabled")}}])})(De),dt=(function(Ne){function Pe(Me,Ue,Y,D,W,_e){var ce;(0,a.A)(this,Pe),ce=T(this,Pe,[Me,Ue,Y,"select"]);var st=Me.c;ce.$container.html('<div class="'.concat(st("title"),'">').concat(y()(D),`</div>
      <div class="`).concat(st("description"),'">').concat(W,`</div>
      <div class="`).concat(st("control"),`">
        <div class="`).concat(st("select"),`">
          <select></select>
        </div>
      </div>`));var Ot=ce.$container.find("select");return ce.$select=Ot,ce.setOptions(_e),Ot.on("change",(function(){return ce.onChange(Ot.val())})),ce}return(0,u.A)(Pe,Ne),(0,s.A)(Pe,[{key:"setValue",value:function(Me){this.$select.val(Me),this.value=Me}},{key:"setOptions",value:function(Me){var Ue=this;this.$select.html(J()(Me,(function(Y,D){return'<option value="'.concat(y()(Y),'"').concat(Y===Ue.value?" selected":"",">").concat(y()(D),"</option>")})).join(""))}},{key:"disable",value:function(){ve(Pe,"disable",this)([]),this.$select.attr("disabled","")}},{key:"enable",value:function(){ve(Pe,"enable",this)([]),this.$select.rmAttr("disabled")}}])})(De),gt=(function(Ne){function Pe(Me,Ue,Y,D){var W;return(0,a.A)(this,Pe),Y||(Y=Ue,Ue=""),(W=T(this,Pe,[Me,"","","button"])).$container.html(Me.c('<div class="title">'.concat(y()(Ue),`</div>
      <div class="control">
        <button>`).concat(y()(Y),`</button>
      </div>`))),W.$container.find("button").on("click",D),W}return(0,u.A)(Pe,Ne),(0,s.A)(Pe)})(De),be=(function(Ne){function Pe(Me,Ue){var Y;return(0,a.A)(this,Pe),(Y=T(this,Pe,[Me,"","","html"])).$container.append(Ue),Y}return(0,u.A)(Pe,Ne),(0,s.A)(Pe)})(De);(function(Ne,Pe){try{Ne.exports=Pe,Ne.exports.default=Pe}catch{}})(o,ye)},1167:function(o,e,n){var r=n(1909),a=n(5869),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;e=a((function(c){return c=c||(r?navigator.userAgent:""),s.test(c)||l.test(c.substr(0,4))})),o.exports=e},1168:function(o,e,n){var r=n(3422);e=function(s){if(r(s))return"";try{return a.call(s)}catch{}try{return s+""}catch{}return""};var a=Function.prototype.toString;o.exports=e},1277:function(o,e,n){(e=n(6314)(!1)).push([o.id,'.luna-box-model{display:inline-block;text-align:center;white-space:nowrap;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-box-model .luna-box-model-hidden,.luna-box-model.luna-box-model-hidden{display:none}.luna-box-model .luna-box-model-invisible,.luna-box-model.luna-box-model-invisible{visibility:hidden}.luna-box-model *{box-sizing:border-box}.luna-box-model.luna-box-model-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-box-model{font-size:12px}.luna-box-model-label{position:absolute;margin-left:3px;padding:0 2px}.luna-box-model-bottom,.luna-box-model-left,.luna-box-model-right,.luna-box-model-top{display:inline-block}.luna-box-model-left,.luna-box-model-right{vertical-align:middle}.luna-box-model-border,.luna-box-model-content,.luna-box-model-margin,.luna-box-model-padding,.luna-box-model-position{position:relative;display:inline-block;text-align:center;vertical-align:middle;padding:3px;margin:3px;color:rgba(0,0,0,.88);background:#fff}.luna-box-model-position{border:1px gray dotted}.luna-box-model-margin{border:1px dashed}.luna-box-model-margin.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(246,178,107,.66)!important}.luna-box-model-border{border:1px #000 solid}.luna-box-model-border.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(255,229,153,.66)!important}.luna-box-model-padding{border:1px gray dashed}.luna-box-model-padding.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(147,196,125,.55)!important}.luna-box-model-content{border:1px gray solid;min-width:100px}.luna-box-model-content.luna-box-model-highlighted{color:rgba(0,0,0,.88)!important;background:rgba(111,168,220,.66)!important}.luna-box-model-theme-dark .luna-box-model-border,.luna-box-model-theme-dark .luna-box-model-content,.luna-box-model-theme-dark .luna-box-model-margin,.luna-box-model-theme-dark .luna-box-model-padding,.luna-box-model-theme-dark .luna-box-model-position{color:hsla(0,0%,100%,.85);background:#141414}.luna-box-model-theme-dark .luna-box-model-border{border-color:gray}',""]),o.exports=e},1443:function(o,e,n){(e=n(6314)(!1)).push([o.id,'#_resources{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:14px}#_resources ._section{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_resources ._section._warn{border:1px solid var(--console-warn-border)}#_resources ._section._warn ._title{background:var(--console-warn-background);color:var(--console-warn-foreground)}#_resources ._section._danger{border:1px solid var(--console-error-border)}#_resources ._section._danger ._title{background:var(--console-error-background);color:var(--console-error-foreground)}#_resources ._section._cookie,#_resources ._section._local-storage,#_resources ._section._session-storage{border:none}#_resources ._section._cookie ._title,#_resources ._section._local-storage ._title,#_resources ._section._session-storage ._title{border:1px solid var(--border);border-bottom:none}#_resources ._title{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background)}#_resources ._title ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_resources ._title ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_resources ._title ._btn:active{color:var(--accent)}#_resources ._title ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_resources ._title ._btn._btn-disabled *{pointer-events:none}#_resources ._link-list{font-size:12px;color:var(--foreground)}#_resources ._link-list li{padding:10px;word-break:break-all}#_resources ._link-list li a{color:var(--link-color)!important}#_resources ._image-list{color:var(--foreground);font-size:12px;display:flex;flex-wrap:wrap;padding-left:10px;padding-top:10px}#_resources ._image-list::after{content:"";flex-grow:1000}#_resources ._image-list li{flex-grow:1;cursor:pointer;overflow-y:hidden;margin-right:10px;margin-bottom:10px;border:1px solid var(--border)}#_resources ._image-list li._image{height:100px;font-size:0}#_resources ._image-list li img{height:100px;min-width:100%;-o-object-fit:cover;object-fit:cover}._safe-area #_resources{padding-bottom:calc(10px + env(safe-area-inset-bottom))}',""]),o.exports=e},1505:function(o,e,n){var r=n(7308),a=n(6026),s=n(9405),l=n(9100),c=n(3915),u=n(1932);e=function(){var h=r("viewport");if(!h)return 1;h=c(h.split(","),(function(y){return s(y)}));var f=.25,d=5,p=1;l(h,(function(y){var v=(y=y.split("="))[0];y=y[1],v==="initial-scale"&&(p=+y),v==="maximum-scale"&&(d=+y),v==="minimum-scale"&&(f=+y)}));var g=a(p,f,d);return u(g)?1:g},o.exports=e},1532:function(o,e,n){var r=n(1009),a=n(5169),s=n(2561);function l(c,u){if(c=s(c),u=s(u),r(c,"_")&&!r(u,"_"))return 1;if(r(u,"_")&&!r(c,"_"))return-1;for(var h,f,d,p,g=/^\d+|^\D+/;;){if(!c)return u?-1:0;if(!u)return 1;if(h=c.match(g)[0],f=u.match(g)[0],d=!a.isNaN(h),p=!a.isNaN(f),d&&!p)return-1;if(p&&!d)return 1;if(d&&p){var y=h-f;if(y)return y;if(h.length!==f.length)return+h||+f?f.length-h.length:h.length-f.length}else if(h!==f)return h<f?-1:1;c=c.substring(h.length),u=u.substring(f.length)}}(e=function(c){return c.sort(l)}).comparator=l,o.exports=e},1580:function(o,e){e=function(n,r){var a=n.length-r.length;return a>=0&&n.indexOf(r,a)===a},o.exports=e},1710:function(o,e){e=function(n,r){var a="";if(r<1)return"";for(;r>0;)1&r&&(a+=n),r>>=1,n+=n;return a},o.exports=e},1714:function(o,e,n){n.d(e,{A:function(){return Xe}});var r=n(3029),a=n(2901),s=n(388),l=n(3954),c=n(991),u=n(5361),h=n(2263),f=n.n(h),d=n(3693),p=n.n(d),g=n(3915),y=n.n(g),v=n(9405),w=n.n(v),O=n(5169),k=n.n(O),E=n(9548),I=n.n(E),G=(n(6097),n(3249)),J=n.n(G),Q=(n(6030),n(5004)),te=n.n(Q);n(8609);function pe(Re){var at="luna-".concat(Re,"-");function Ve(qe){return y()(w()(qe).split(/\s+/),(function(ot){return J()(ot,at)?ot:ot.replace(/[\w-]+/,(function(Pt){return"".concat(at).concat(Pt)}))})).join(" ")}return function(qe){if(/<[^>]*>/g.test(qe))try{var ot=I().parse(qe);return fe(ot,(function(Pt){Pt.attrs&&Pt.attrs.class&&(Pt.attrs.class=Ve(Pt.attrs.class))})),I().stringify(ot)}catch{return Ve(qe)}return Ve(qe)}}function fe(Re,at){for(var Ve=0,qe=Re.length;Ve<qe;Ve++){var ot=Re[Ve];at(ot),ot.content&&fe(ot.content,at)}}var ee="ontouchstart"in k();function N(){var Re=te()();return Re==="os x"?"mac":Re}var Z=n(9100),R=n.n(Z),ae=n(8105),de=n.n(ae),H=n(5651),ne=n.n(H),V=n(961),Ce=n.n(V);function ge(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(ge=function(){return!!Re})()}var Te=(function(Re){function at(Ve,qe){var ot,Pt,Et,Ft,ve=qe.compName,T=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,F=T===void 0?"light":T;return(0,r.A)(this,at),Pt=this,Et=at,Et=(0,l.A)(Et),(ot=(0,s.A)(Pt,ge()?Reflect.construct(Et,[],(0,l.A)(Pt).constructor):Et.apply(Pt,Ft))).subComponents=[],ot.compName=ve,ot.c=pe(ve),ot.options={},ot.container=Ve,ot.$container=p()(Ve),ot.$container.addClass(["luna-".concat(ve),ot.c("platform-".concat(N()))]),ot.on("optionChange",(function(ye,De,$e){var Ze=ot.c;ye==="theme"&&(ot.$container.rmClass(Ze("theme-".concat($e))).addClass(Ze("theme-".concat(De))),R()(ot.subComponents,(function(Oe){return Oe.setOption("theme",De)})))})),ot.setOption("theme",F),ot}return(0,u.A)(at,Re),(0,a.A)(at,[{key:"destroy",value:function(){this.destroySubComponents();var Ve=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(Ve("platform-".concat(N()))).rmClass(Ve("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()}},{key:"setOption",value:function(Ve,qe){var ot=this,Pt=this.options,Et={};typeof Ve=="string"?Et[Ve]=qe:Et=Ve,R()(Et,(function(Ft,ve){var T=Pt[ve];Pt[ve]=Ft,ot.emit("optionChange",ve,Ft,T)}))}},{key:"getOption",value:function(Ve){return this.options[Ve]}},{key:"addSubComponent",value:function(Ve){Ve.setOption("theme",this.options.theme),this.subComponents.push(Ve)}},{key:"removeSubComponent",value:function(Ve){Ce()(this.subComponents,(function(qe){return qe===Ve}))}},{key:"destroySubComponents",value:function(){R()(this.subComponents,(function(Ve){return Ve.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(Ve){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ne()(Ve,qe),de()(this.options,Ve)}},{key:"find",value:function(Ve){return this.$container.find(this.c(Ve))}}])})(f()),Ke=n(3497),Ye=n.n(Ke),Qe=n(9464),rt=n.n(Qe),vt=n(5865),it=n.n(vt),yt=n(4534),xt=n.n(yt),Ct=n(4844),St=n.n(Ct),Rt=n(5902),oe=n.n(Rt),je=n(9389),ze=n.n(je),he=n(6948),le=n.n(he);function me(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(me=function(){return!!Re})()}o=n.hmd(o);var Xe=(function(Re){function at(Ve){var qe,ot,Pt,Et,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.A)(this,at),ot=this,Pt=at,Et=[Ve,{compName:"text-viewer"},Ft],Pt=(0,l.A)(Pt),(qe=(0,s.A)(ot,me()?Reflect.construct(Pt,Et||[],(0,l.A)(ot).constructor):Pt.apply(ot,Et))).lineNum=0,qe.copy=function(){var ve=qe.c,T=qe.options,F=T.text,ye=T.escape;St()(ye?F:ze()(le()(F)));var De=qe.$copy.find(ve(".icon"));De.addClass(ve("icon-check")).rmClass(ve("icon-copy")),setTimeout((function(){De.rmClass(ve("icon-check")).addClass(ve("icon-copy"))}),1e3)},qe._updateCopyPos=function(){var ve=qe.container;qe.$copy.css({top:ve.scrollTop+5,right:5-ve.scrollLeft})},qe.initOptions(Ft,{text:"",escape:!0,showLineNumbers:!0,wrapLongLines:!0,maxHeight:1/0}),qe.render=it()((function(){return qe._render()}),16),qe.updateCopyPos=xt()((function(){return qe._updateCopyPos()}),300),qe.initTpl(),qe.$text=qe.find(".text"),qe.$copy=qe.find(".copy"),ee&&qe.$copy.css("opacity","1"),qe.options.text&&qe.render(),qe.bindEvent(),qe.updateHeight(),qe}return(0,u.A)(at,Re),(0,a.A)(at,[{key:"append",value:function(Ve){var qe=this,ot=this.options,Pt=this.$copy,Et=this.c,Ft=this.$text,ve=ot.showLineNumbers;if(this.options.text+=Ve,!ve)return this.$text.append(ot.escape?oe()(Ve):Ve);var T=(function(ye){return ye.length===0?[]:ye.split(Ee)})(Ve);rt()(T)&&(T=["&nbsp;"]),w()(Ye()(T))||T.pop();var F="";R()(T,(function(ye,De){qe.lineNum+=1,F+='<div class="'.concat(Et("table-row"),'"><div class="').concat(Et("line-number"),'">').concat(qe.lineNum,'</div><div class="').concat(Et("line-text"),'">').concat(ot.escape?oe()(ye):ye||" ","</div></div>")})),Ft.find(Et(".table")).append(F),Pt.hide(),Ft.offset().height>40&&Pt.show(),this.updateCopyPos()}},{key:"destroy",value:function(){var Ve,qe,ot,Pt,Et;this.$container.off("scroll",this.updateCopyPos),(Ve=at,qe="destroy",ot=this,Pt=3,Et=(0,c.A)((0,l.A)(1&Pt?Ve.prototype:Ve),qe,ot),2&Pt&&typeof Et=="function"?function(Ft){return Et.apply(ot,Ft)}:Et)([])}},{key:"updateHeight",value:function(){var Ve=this.options.maxHeight;Ve>0&&Ve!==1/0?this.$text.css("max-height",Ve):this.$text.css("max-height","none")}},{key:"initTpl",value:function(){this.$container.html(this.c('<div class="text"></div><div class="copy"><span class="icon icon-copy"></span></div>'))}},{key:"bindEvent",value:function(){var Ve=this;this.on("optionChange",(function(qe){qe==="maxHeight"?Ve.updateHeight():Ve.render()})),this.$container.on("scroll",this.updateCopyPos),this.$copy.on("click",this.copy)}},{key:"_render",value:function(){var Ve=this.c,qe=this.$text,ot=this.options,Pt=ot.text,Et=ot.wrapLongLines,Ft=ot.showLineNumbers;Et?qe.addClass(Ve("wrap-long-lines")):qe.rmClass(Ve("wrap-long-lines")),Ft?qe.addClass(Ve("line-numbers")):qe.rmClass(Ve("line-numbers")),qe.html('<div class="'.concat(Ve("table"),'"></div>')),this.lineNum=0,this.options.text="",this.append(Pt)}}])})(Te),Ee=/\r\n|\r|\n/g;(function(Re,at){try{Re.exports=at,Re.exports.default=at}catch{}})(o,Xe)},1738:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object String]"},o.exports=e},1751:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object Map]"},o.exports=e},1849:function(o,e,n){var r=n(9100),a=n(8971),s=n(3957);e=function(l,c){a(c)&&(c=!0);var u=s(c),h={};return r(l,(function(f){h[f]=u?c(f):c})),h},o.exports=e},1909:function(o,e){e=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,o.exports=e},1931:function(o,e,n){var r=n(1947);e=function(a){var s;switch(a=a||"local"){case"local":s=window.localStorage;break;case"session":s=window.sessionStorage}try{var l="test-localStorage-"+Date.now();s.setItem(l,l);var c=s.getItem(l);if(s.removeItem(l),c!==l)throw new Error}catch{return r}return s},o.exports=e},1932:function(o,e,n){var r=n(6097);e=function(a){return r(a)&&a!==+a},o.exports=e},1944:function(o,e,n){n.d(e,{A:function(){return ze}});var r=n(5458),a=n(4467),s=n(7528),l=n(3029),c=n(2901),u=n(388),h=n(3954),f=n(991),d=n(5361),p=n(2263),g=n.n(p),y=n(3693),v=n.n(y),w=n(3915),O=n.n(w),k=n(9405),E=n.n(k),I=n(5169),G=n.n(I),J=n(9548),Q=n.n(J),te=(n(6097),n(3249)),pe=n.n(te),fe=(n(6030),n(5004)),ee=n.n(fe);n(9410),n(8609);function N(Re){var at="luna-".concat(Re,"-");function Ve(qe){return O()(E()(qe).split(/\s+/),(function(ot){return pe()(ot,at)?ot:ot.replace(/[\w-]+/,(function(Pt){return"".concat(at).concat(Pt)}))})).join(" ")}return function(qe){if(/<[^>]*>/g.test(qe))try{var ot=Q().parse(qe);return Z(ot,(function(Pt){Pt.attrs&&Pt.attrs.class&&(Pt.attrs.class=Ve(Pt.attrs.class))})),Q().stringify(ot)}catch{return Ve(qe)}return Ve(qe)}}function Z(Re,at){for(var Ve=0,qe=Re.length;Ve<qe;Ve++){var ot=Re[Ve];at(ot),ot.content&&Z(ot.content,at)}}G();var R=n(9100),ae=n.n(R),de=n(8105),H=n.n(de),ne=n(5651),V=n.n(ne),Ce=n(961),ge=n.n(Ce),Te=n(7e3),Ke=n.n(Te),Ye=n(1009),Qe=n.n(Ye);function rt(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(rt=function(){return!!Re})()}var vt,it=(function(Re){function at(Ve,qe){var ot,Pt,Et=qe.compName,Ft=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,ve=Ft===void 0?"light":Ft;return(0,l.A)(this,at),ot=(function(T,F,ye){return F=(0,h.A)(F),(0,u.A)(T,rt()?Reflect.construct(F,[],(0,h.A)(T).constructor):F.apply(T,ye))})(this,at),ot.subComponents=[],ot.theme="",ot.onThemeChange=function(T){ot.options.theme==="auto"&&ot.setTheme(T)},ot.compName=Et,ot.c=N(Et),ot.options={},ot.container=Ve,ot.$container=v()(Ve),ot.$container.addClass(["luna-".concat(Et),ot.c("platform-".concat((Pt=ee()(),Pt==="os x"?"mac":Pt)))]),ot.on("changeOption",(function(T,F){if(T==="theme"&&F){var ye=F;F==="auto"&&(ye=Ke().get()),ot.setTheme(ye),ae()(ot.subComponents,(function(De){return De.setOption("theme",F)}))}})),Ke().on("change",ot.onThemeChange),ot.setOption("theme",ve),ot}return(0,d.A)(at,Re),(0,c.A)(at,[{key:"destroy",value:function(){var Ve=this;this.destroySubComponents();var qe=this.$container,ot=qe.attr("class");ae()(ot.split(/\s+/),(function(Pt){Qe()(Pt,"luna-".concat(Ve.compName))&&qe.rmClass(Pt)})),qe.html(""),this.emit("destroy"),this.removeAllListeners(),Ke().off("change",this.onThemeChange)}},{key:"setOption",value:function(Ve,qe){var ot=this,Pt=this.options,Et={};typeof Ve=="string"?Et[Ve]=qe:Et=Ve,ae()(Et,(function(Ft,ve){var T=Pt[ve];Pt[ve]=Ft,Ft!==T&&ot.emit("changeOption",ve,Ft,T)}))}},{key:"getOption",value:function(Ve){return this.options[Ve]}},{key:"addSubComponent",value:function(Ve){Ve.setOption("theme",this.options.theme),this.subComponents.push(Ve)}},{key:"removeSubComponent",value:function(Ve){ge()(this.subComponents,(function(qe){return qe===Ve}))}},{key:"destroySubComponents",value:function(){ae()(this.subComponents,(function(Ve){return Ve.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(Ve){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V()(Ve,qe),H()(this.options,Ve)}},{key:"find",value:function(Ve){return this.$container.find(this.c(Ve))}},{key:"setTheme",value:function(Ve){var qe=this.c,ot=this.$container;this.theme&&ot.rmClass(qe("theme-".concat(this.theme))),ot.addClass(qe("theme-".concat(Ve))),this.theme=Ve}}])})(g()),yt=n(5773),xt=n.n(yt),Ct=n(5241),St=n.n(Ct),Rt=n(6741),oe=n.n(Rt);function je(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(je=function(){return!!Re})()}o=n.hmd(o);var ze=(function(Re){function at(Ve){var qe,ot,Pt,Et,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,l.A)(this,at),ot=this,Pt=at,Et=[Ve,{compName:"modal"},Ft],Pt=(0,h.A)(Pt),(qe=(0,u.A)(ot,je()?Reflect.construct(Pt,Et||[],(0,h.A)(ot).constructor):Pt.apply(ot,Et))).render=function(){var ve=qe,T=ve.options,F=ve.c,ye=ve.$body;T.title?(ye.rmClass(F("no-title")),qe.$title.text(T.title)):ye.addClass(F("no-title")),T.footer?(ye.rmClass(F("no-footer")),qe.$footer.html("").append(T.footer)):ye.addClass(F("no-footer")),T.showClose?qe.$close.show():qe.$close.hide(),qe.$body.css("width",T.width+"px"),qe.renderContent()},qe.hide(),qe.initOptions(Ft,{title:"",content:"",footer:"",showClose:!0,width:Ee()}),qe.initTpl(),qe.$title=qe.find(".title"),qe.$content=qe.find(".content"),qe.$body=qe.find(".body"),qe.$footer=qe.find(".footer"),qe.$close=qe.find(".icon-close"),qe.bindEvent(),qe}return(0,d.A)(at,Re),(0,c.A)(at,[{key:"show",value:function(){this.render(),this.$container.rmClass(this.c("hidden"))}},{key:"hide",value:function(){this.$container.addClass(this.c("hidden"))}},{key:"destroy",value:function(){var Ve,qe,ot,Pt,Et;(Ve=at,qe="destroy",ot=this,Pt=3,Et=(0,f.A)((0,h.A)(1&Pt?Ve.prototype:Ve),qe,ot),2&Pt&&typeof Et=="function"?function(Ft){return Et.apply(ot,Ft)}:Et)([]),this.$container.rmClass(this.c("hidden"))}},{key:"renderContent",value:function(){this.$content.html("").append(this.options.content)}},{key:"bindEvent",value:function(){var Ve=this;this.$body.on("click",this.c(".icon-close"),(function(){return Ve.hide()})),this.on("changeOption",this.render)}},{key:"initTpl",value:function(){this.$container.html(this.c(xt()(vt||(vt=(0,s.A)([`
      <div class="body">
        <span class="icon icon-close"></span>
        <div class="title"></div>
        <div class="content"></div>
        <div class="footer"></div>
      </div>
      `])))))}}],[{key:"alert",value:function(Ve){return new Promise((function(qe){var ot=me(),Pt=ot.c;ot.setOption({title:"",content:Ve,width:Ee(),footer:Xe((0,a.A)({},at.i18n.t("ok"),{type:"primary",onclick:function(){ot.hide(),qe()}}),Pt)}),ot.show()}))}},{key:"confirm",value:function(Ve){return new Promise((function(qe){var ot=me(),Pt=ot.c;ot.setOption({title:"",content:Ve,width:Ee(),footer:Xe((0,a.A)((0,a.A)({},at.i18n.t("cancel"),{type:"secondary",onclick:function(){ot.hide(),qe(!1)}}),at.i18n.t("ok"),{type:"primary",onclick:function(){ot.hide(),qe(!0)}}),Pt)}),ot.show()}))}},{key:"prompt",value:function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((function(ot){var Pt=me(),Et=Pt.c,Ft=St()("input"+Et(".input"),{value:qe});function ve(){Pt.hide(),ot(Ft.value)}v()(Ft).on("keypress",(function(F){(F=F.origEvent).key==="Enter"&&ve()})),Pt.setOption({title:Ve,content:Ft,width:Ee(),footer:Xe((0,a.A)((0,a.A)({},at.i18n.t("cancel"),{type:"secondary",onclick:function(){Pt.hide(),ot(null)}}),at.i18n.t("ok"),{type:"primary",onclick:ve}),Et)}),Pt.show();var T=Ft.value.length;Ft.setSelectionRange(T,T),Ft.focus()}))}},{key:"setContainer",value:function(Ve){le=Ve}}])})(it);ze.i18n=new(oe())(navigator.language!=="zh-CN"?"en-US":"zh-CN",{"en-US":{ok:"OK",cancel:"Cancel"},"zh-CN":{ok:"",cancel:""}});var he=null,le=null;function me(){return le||(le=St()("div"),document.body.append(le)),he||(he=new ze(le,{showClose:!1})),he}function Xe(Re,at){var Ve=O()(Re,(function(qe,ot){return St()(at(".button")+at("."+qe.type),{onclick:qe.onclick},ot)}));return St().apply(void 0,[at(".button-group"),{}].concat((0,r.A)(Ve)))}function Ee(){return window.innerWidth<500?window.innerWidth-32:500}(function(Re,at){try{Re.exports=at,Re.exports.default=at}catch{}})(o,ze)},1947:function(o,e,n){var r=n(3145);e={getItem:function(h){return(s[h]?a[h]:this[h])||null},setItem:function(h,f){s[h]?a[h]=f:this[h]=f},removeItem:function(h){s[h]?delete a[h]:delete this[h]},key:function(h){var f=l();return h>=0&&h<f.length?f[h]:null},clear:function(){for(var h,f=c(),d=0;h=f[d];d++)delete this[h];f=u();for(var p,g=0;p=f[g];g++)delete a[p]}},Object.defineProperty(e,"length",{enumerable:!1,configurable:!0,get:function(){return l().length}});var a={},s={getItem:1,setItem:1,removeItem:1,key:1,clear:1,length:1};function l(){return c().concat(u())}function c(){return r(e).filter((function(h){return!s[h]}))}function u(){return r(a)}o.exports=e},1976:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object RegExp]"},o.exports=e},2113:function(o,e,n){var r=n(9100),a=n(3612);e=function(s){s=a(s),r(s,(function(l){var c=l.parentNode;c&&c.removeChild(l)}))},o.exports=e},2125:function(o,e,n){var r=n(9186),a=n(1738),s=n(9760),l=n(9100);n(3612),e=function(c,u,h){var f=u;return a(u)&&(f="data-"+u),s(u)&&(f={},l(u,(function(d,p){f["data-"+p]=d}))),r(c,f,h)},o.exports=e},2192:function(o,e,n){var r=n(2717),a=n(3722),s=n(6214),l=n(9100),c=n(3145);e=r({initialize:function(u){s(u)?(this.size=u.length,l(u,(function(h,f){this[h]=f}),this)):(this.size=c(u).length,l(u,(function(h,f){this[f]=h}),this)),a(this)}}),o.exports=e},2208:function(o,e,n){var r=n(2717);(e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)||(e=r({initialize:function(){},observe:function(){},disconnect:function(){},takeRecords:function(){}})),o.exports=e},2228:function(o,e,n){var r,a,s=n(3981),l=n(1909),c=0;if(l){r=window.requestAnimationFrame,a=window.cancelAnimationFrame;for(var u=["ms","moz","webkit","o"],h=0,f=u.length;h<f&&!r;h++)r=window[u[h]+"RequestAnimationFrame"],a=window[u[h]+"CancelAnimationFrame"]||window[u[h]+"CancelRequestAnimationFrame"];r&&(r=r.bind(window),a=a.bind(window))}a=a||function(d){clearTimeout(d)},(r=r||function(d){var p=s(),g=Math.max(0,16-(p-c)),y=setTimeout((function(){d(p+g)}),g);return c=p+g,y}).cancel=a,e=r,o.exports=e},2230:function(o,e,n){var r=n(3612);e=function(a){var s=(a=r(a))[0].getBoundingClientRect();return{left:s.left+window.pageXOffset,top:s.top+window.pageYOffset,width:Math.round(s.width),height:Math.round(s.height)}},o.exports=e},2263:function(o,e,n){var r=n(2717),a=n(365),s=n(9100),l=n(4951),c=n(8996),u=n(8420);e=r({initialize:function(){this._events=this._events||{}},on:function(h,f){return this._events[h]=this._events[h]||[],this._events[h].push(f),this},off:function(h,f){var d=this._events;if(a(d,h)){var p=d[h].indexOf(f);return p>-1&&d[h].splice(p,1),this}},once:function(h,f){return this.on(h,c(f)),this},emit:function(h){var f=this;if(a(this._events,h)){var d=l(arguments,1),p=u(this._events[h]);return s(p,(function(g){return g.apply(f,d)}),this),this}},removeAllListeners:function(h){return h?delete this._events[h]:this._events={},this}},{mixin:function(h){s(["on","off","once","emit","removeAllListeners"],(function(f){h[f]=e.prototype[f]})),h._events=h._events||{}}}),o.exports=e},2284:function(o,e,n){function r(a){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(a)}n.d(e,{A:function(){return r}})},2388:function(o,e,n){n.d(e,{A:function(){return yn}});var r=n(7528),a=n(3029),s=n(2901),l=n(388),c=n(3954),u=n(991),h=n(5361),f=n(3693),d=n.n(f),p=n(5773),g=n.n(p),y=n(2263),v=n.n(y),w=n(3915),O=n.n(w),k=n(9405),E=n.n(k),I=n(5169),G=n.n(I),J=n(9548),Q=n.n(J),te=(n(6097),n(3249)),pe=n.n(te),fe=n(6030),ee=n.n(fe),N=n(5004),Z=n.n(N),R=(n(9410),n(8609)),ae=n.n(R);function de(Vt){var an="luna-".concat(Vt,"-");function $t(Lt){return O()(E()(Lt).split(/\s+/),(function(nt){return pe()(nt,an)?nt:nt.replace(/[\w-]+/,(function(Nt){return"".concat(an).concat(Nt)}))})).join(" ")}return function(Lt){if(/<[^>]*>/g.test(Lt))try{var nt=Q().parse(Lt);return H(nt,(function(Nt){Nt.attrs&&Nt.attrs.class&&(Nt.attrs.class=$t(Nt.attrs.class))})),Q().stringify(nt)}catch{return $t(Lt)}return $t(Lt)}}function H(Vt,an){for(var $t=0,Lt=Vt.length;$t<Lt;$t++){var nt=Vt[$t];an(nt),nt.content&&H(nt.content,an)}}G();function ne(Vt,an){var $t="clientX";return an[$t]?an[$t]:an.changedTouches?an.changedTouches[0][$t]:0}function V(Vt){return ee()(Vt.replace("px",""))}var Ce=n(9100),ge=n.n(Ce),Te=n(8105),Ke=n.n(Te),Ye=n(5651),Qe=n.n(Ye),rt=n(961),vt=n.n(rt),it=n(7e3),yt=n.n(it),xt=n(1009),Ct=n.n(xt);function St(){try{var Vt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(St=function(){return!!Vt})()}var Rt,oe=(function(Vt){function an($t,Lt){var nt,Nt,wt=Lt.compName,Bt=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,kt=Bt===void 0?"light":Bt;return(0,a.A)(this,an),nt=(function(Qt,jt,fn){return jt=(0,c.A)(jt),(0,l.A)(Qt,St()?Reflect.construct(jt,[],(0,c.A)(Qt).constructor):jt.apply(Qt,fn))})(this,an),nt.subComponents=[],nt.theme="",nt.onThemeChange=function(Qt){nt.options.theme==="auto"&&nt.setTheme(Qt)},nt.compName=wt,nt.c=de(wt),nt.options={},nt.container=$t,nt.$container=d()($t),nt.$container.addClass(["luna-".concat(wt),nt.c("platform-".concat((Nt=Z()(),Nt==="os x"?"mac":Nt)))]),nt.on("changeOption",(function(Qt,jt){if(Qt==="theme"&&jt){var fn=jt;jt==="auto"&&(fn=yt().get()),nt.setTheme(fn),ge()(nt.subComponents,(function(Zt){return Zt.setOption("theme",jt)}))}})),yt().on("change",nt.onThemeChange),nt.setOption("theme",kt),nt}return(0,h.A)(an,Vt),(0,s.A)(an,[{key:"destroy",value:function(){var $t=this;this.destroySubComponents();var Lt=this.$container,nt=Lt.attr("class");ge()(nt.split(/\s+/),(function(Nt){Ct()(Nt,"luna-".concat($t.compName))&&Lt.rmClass(Nt)})),Lt.html(""),this.emit("destroy"),this.removeAllListeners(),yt().off("change",this.onThemeChange)}},{key:"setOption",value:function($t,Lt){var nt=this,Nt=this.options,wt={};typeof $t=="string"?wt[$t]=Lt:wt=$t,ge()(wt,(function(Bt,kt){var Qt=Nt[kt];Nt[kt]=Bt,Bt!==Qt&&nt.emit("changeOption",kt,Bt,Qt)}))}},{key:"getOption",value:function($t){return this.options[$t]}},{key:"addSubComponent",value:function($t){$t.setOption("theme",this.options.theme),this.subComponents.push($t)}},{key:"removeSubComponent",value:function($t){vt()(this.subComponents,(function(Lt){return Lt===$t}))}},{key:"destroySubComponents",value:function(){ge()(this.subComponents,(function($t){return $t.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function($t){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qe()($t,Lt),Ke()(this.options,$t)}},{key:"find",value:function($t){return this.$container.find(this.c($t))}},{key:"setTheme",value:function($t){var Lt=this.c,nt=this.$container;this.theme&&nt.rmClass(Lt("theme-".concat(this.theme))),nt.addClass(Lt("theme-".concat($t))),this.theme=$t}}])})(v()),je=n(5902),ze=n.n(je),he=n(5241),le=n.n(he),me=n(2561),Xe=n.n(me),Ee=n(2708),Re=n.n(Ee),at=n(8971),Ve=n.n(at),qe=n(4095),ot=n.n(qe),Pt=n(5865),Et=n.n(Pt),Ft=n(1532),ve=n.n(Ft),T=n(4236),F=n.n(T),ye=n(3957),De=n.n(ye),$e=n(1976),Ze=n.n($e),Oe=n(6214),bt=n.n(Oe),ht=n(1738),q=n.n(ht),dt=n(96),gt=n.n(dt),be=n(6026),Ne=n.n(be),Pe=n(3539),Me=n.n(Pe),Ue=n(8785),Y=n.n(Ue),D=n(6024),W=n.n(D),_e=n(3981),ce=n.n(_e),st=n(5546),Ot=n.n(st);function Gt(){try{var Vt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Gt=function(){return!!Vt})()}o=n.hmd(o);var On=d()(document),yn=(function(Vt){function an($t,Lt){var nt,Nt,wt,Bt;(0,a.A)(this,an),Nt=this,wt=an,Bt=[$t,{compName:"data-grid"},Lt],wt=(0,c.A)(wt),(nt=(0,l.A)(Nt,Gt()?Reflect.construct(wt,Bt||[],(0,c.A)(Nt).constructor):wt.apply(Nt,Bt))).resizeIdx=0,nt.resizeStartX=0,nt.resizeStartLeft=0,nt.resizeDeltaX=0,nt.nodes=[],nt.displayNodes=[],nt.colWidthsInitialized=!1,nt.colMap={},nt.selectedNode=null,nt.isAscending=!0,nt.sorted=!1,nt.colWidths=[],nt.spaceHeight=0,nt.topSpaceHeight=0,nt.lastScrollTop=0,nt.lastTimestamp=0,nt.speedToleranceFactor=100,nt.maxSpeedTolerance=2e3,nt.minSpeedTolerance=100,nt.scrollTimer=null,nt.onResizeColMove=function(Zt){var rn=nt,ln=rn.resizeIdx,Jt=rn.$resizers,xn=rn.colWidths,mn=rn.$colgroup,gn=ne("x",Zt=Zt.origEvent)-nt.resizeStartX,_n=xn[ln],Sn=xn[ln+1],En=Y()(24-_n,0),wn=Me()(Sn-24,0);gn=Ne()(gn,En,wn),mn.each((function(){var Bn=d()(this).find("col");Bn.eq(ln).css("width",_n+gn+"px"),Bn.eq(ln+1).css("width",Sn-gn+"px")})),nt.resizeDeltaX=gn;var An=nt.resizeStartLeft+gn;Jt.eq(ln).css("left","".concat(An,"px"))},nt.onResizeColEnd=function(Zt){nt.onResizeColMove(Zt);var rn=nt,ln=rn.c,Jt=rn.colWidths,xn=rn.resizeIdx,mn=rn.resizeDeltaX,gn=nt.options.columns,_n=gn[xn],Sn=gn[xn+1],En=Jt[xn]+mn,wn=En+(Jt[xn+1]-mn),An=_n.weight+Sn.weight,Bn=An*(En/wn),jn=An-Bn;_n.weight=Bn,Sn.weight=jn,nt.applyColWeights(),d()(document.body).rmClass(ln("resizing")),On.off(Ot()("move"),nt.onResizeColMove),On.off(Ot()("up"),nt.onResizeColEnd)},nt.onScroll=function(){var Zt=nt.dataContainer,rn=Zt.scrollHeight,ln=Zt.clientHeight,Jt=Zt.scrollTop;if(!(Jt<=0||ln+Jt>rn)){var xn=nt.lastScrollTop,mn=nt.lastTimestamp,gn=ce()(),_n=gn-mn,Sn=Jt-xn,En=Math.abs(Sn/_n)*nt.speedToleranceFactor;_n>1e3&&(En=1e3),En>nt.maxSpeedTolerance&&(En=nt.maxSpeedTolerance),En<nt.minSpeedTolerance&&(En=nt.minSpeedTolerance),nt.lastScrollTop=Jt,nt.lastTimestamp=gn;var wn=0,An=0;xn<Jt?(wn=nt.minSpeedTolerance,An=En):(wn=En,An=nt.minSpeedTolerance),nt.topSpaceHeight<Jt-wn&&nt.topSpaceHeight+nt.data.offsetHeight>Jt+ln+An||(nt.renderData({topTolerance:2*wn,bottomTolerance:2*An}),nt.scrollTimer&&clearTimeout(nt.scrollTimer),nt.scrollTimer=setTimeout((function(){nt.renderData()}),100))}},nt.renderData=Et()((function(){var Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rn=Zt.topTolerance,ln=rn===void 0?500:rn,Jt=Zt.bottomTolerance,xn=Jt===void 0?500:Jt;nt.sortId&&!nt.sorted&&nt.sortNodes(nt.sortId,nt.isAscending);for(var mn=nt,gn=mn.dataContainer,_n=mn.displayNodes,Sn=mn.tableBody,En=gn.scrollTop,wn=En-ln,An=En+gn.clientHeight+xn,Bn=0,jn=0,tr=_n.length,nr=[],Un=0;Un<tr;Un++){var rr=_n[Un];jn<=An&&(jn+20>wn?(nr.length===0&&W()(Un)&&(nr.push(_n[Un-1]),Bn-=20),nr.push(rr)):jn<wn&&(Bn+=20)),jn+=20}nt.updateSpace(jn),nt.updateTopSpace(Bn);for(var Yn=document.createDocumentFragment(),Gn=0,Cn=nr.length;Gn<Cn;Gn++)Yn.appendChild(nr[Gn].container);Yn.appendChild(nt.fillerRow),Sn.textContent="",Sn.appendChild(Yn)}),16),nt.$container.attr("tabindex","0"),nt.resizeSensor=new(ot())($t),nt.onResize=Et()((function(){nt.updateHeight(),nt.updateWeights(),nt.renderData()}),16),Lt.height&&(Lt.maxHeight=Lt.height,Lt.minHeight=Lt.height),nt.initOptions(Lt,{minHeight:41,maxHeight:1/0,filter:"",selectable:!1});var kt=nt.options,Qt=kt.columns,jt=kt.minHeight,fn=kt.maxHeight;return ge()(Qt,(function(Zt){Qe()(Zt,{sortable:!1}),nt.colMap[Zt.id]=Zt})),fn<jt&&nt.setOption("maxHeight",jt),nt.initTpl(),nt.$headerRow=nt.find(".header").find("tr"),nt.$fillerRow=nt.find(".filler-row"),nt.fillerRow=nt.$fillerRow.get(0),nt.$data=nt.find(".data"),nt.data=nt.$data.get(0),nt.$tableBody=nt.$data.find("tbody"),nt.tableBody=nt.$tableBody.get(0),nt.$colgroup=nt.$container.find("colgroup"),nt.$dataContainer=nt.find(".data-container"),nt.dataContainer=nt.$dataContainer.get(0),nt.$space=nt.find(".data-space"),nt.space=nt.$space.get(0),nt.renderHeader(),nt.renderResizers(),nt.updateWeights(),nt.updateHeight(),nt.bindEvent(),nt}return(0,h.A)(an,Vt),(0,s.A)(an,[{key:"destroy",value:function(){var $t,Lt,nt,Nt,wt;($t=an,Lt="destroy",nt=this,Nt=3,wt=(0,u.A)((0,c.A)(1&Nt?$t.prototype:$t),Lt,nt),2&Nt&&typeof wt=="function"?function(Bt){return wt.apply(nt,Bt)}:wt)([]),this.resizeSensor.destroy(),this.$container.rmAttr("tabindex")}},{key:"remove",value:function($t){var Lt=this.nodes,nt=this.displayNodes;vt()(Lt,(function(Nt){return Nt===$t})),vt()(nt,(function(Nt){return Nt===$t})),$t===this.selectedNode&&this.selectNode(null),this.renderData(),this.updateHeight()}},{key:"append",value:function($t){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qe()(Lt,{selectable:this.options.selectable});var nt=new Kt(this,$t,Lt);this.nodes.push(nt);var Nt=this.filterNode(nt);return Nt&&this.displayNodes.push(nt),(this.sortId||Nt)&&(this.sortId&&(this.sorted=!1),this.renderData()),this.updateHeight(),nt}},{key:"setData",value:function($t,Lt){var nt=this,Nt=O()($t,(function(Qt){return bt()(Qt)?(Qe()(Qt[1],{selectable:nt.options.selectable}),Qt):[Qt,{selectable:nt.options.selectable}]}));if(Lt){var wt={};ge()(this.nodes,(function(Qt){wt[Qt.data[Lt]]=Qt}));var Bt=[],kt=[];ge()(Nt,(function(Qt){var jt,fn=Qt[0][Lt];wt[fn]?((jt=wt[fn]).data=Qt[0],jt.render()):jt=new Kt(nt,Qt[0],Qt[1]),Bt.push(jt),nt.filterNode(jt)&&kt.push(jt)})),this.selectedNode&&!pe()(Bt,this.selectedNode)&&this.selectNode(null),this.nodes=Bt,this.displayNodes=kt}else this.clearData(),ge()(Nt,(function(Qt){var jt=new Kt(nt,Qt[0],Qt[1]);nt.nodes.push(jt),nt.filterNode(jt)&&nt.displayNodes.push(jt)}));this.sortId&&(this.sorted=!1),this.renderData(),this.updateHeight()}},{key:"clear",value:function(){this.clearData(),this.renderData(),this.updateHeight()}},{key:"fit",value:function(){if(!ae()(this.container)){var $t=this.$container.parent().get(0),Lt=window.getComputedStyle($t),nt=$t.clientHeight-V(Lt.paddingTop)-V(Lt.paddingBottom);this.setOption({minHeight:nt,maxHeight:nt})}}},{key:"clearData",value:function(){this.nodes=[],this.displayNodes=[],this.selectNode(null)}},{key:"updateHeight",value:function(){var $t=this.$fillerRow,Lt=this.$container,nt=this.options,Nt=nt.maxHeight,wt=nt.minHeight,Bt=this.$headerRow.offset().height+V(Lt.css("border-top-width"))+V(Lt.css("border-bottom-width"));(wt-=Bt)<0&&(wt=0),Nt-=Bt;var kt=this.displayNodes.length,Qt=0;kt>0&&(Qt=20*kt),Qt>wt?$t.hide():$t.show(),Qt<wt?Qt=wt:Qt>=Nt&&(Qt=Nt),this.$dataContainer.css({height:Qt})}},{key:"selectNode",value:function($t){(F()($t)||$t!=null&&$t.selectable)&&this.selectedNode!==$t&&(this.selectedNode&&(this.selectedNode.deselect(),this.selectedNode=null,F()($t)&&this.emit("deselect")),F()($t)||(this.selectedNode=$t,$t.select(),this.emit("select",$t)))}},{key:"onResizeColStart",value:function($t){var Lt=this.c,nt=this.resizeIdx,Nt=this.$resizers;$t.stopPropagation(),$t.preventDefault(),$t=$t.origEvent,this.resizeStartX=ne("x",$t),this.resizeStartLeft=V(Nt.eq(nt).css("left")),d()(document.body).addClass(Lt("resizing")),On.on(Ot()("move"),this.onResizeColMove),On.on(Ot()("up"),this.onResizeColEnd)}},{key:"bindEvent",value:function(){var $t=this,Lt=this.c,nt=this.$headerRow,Nt=this.$tableBody,wt=this.$resizers,Bt=this.$dataContainer;this.resizeSensor.addListener(this.onResize),Bt.on("scroll",this.onScroll);var kt=this;Nt.on("click",Lt(".node"),(function(Qt){var jt=this;kt.selectNode(this.dataGridNode),setTimeout((function(){jt.hasDoubleClick||kt.emit("click",Qt.origEvent,jt.dataGridNode)}),200)})).on("dblclick",Lt(".node"),(function(Qt){var jt=this;Qt.stopPropagation(),this.hasDoubleClick=!0,kt.emit("dblclick",Qt.origEvent,this.dataGridNode),setTimeout((function(){jt.hasDoubleClick=!1}),300)})).on("contextmenu",Lt(".node"),(function(Qt){Qt.preventDefault(),Qt.stopPropagation(),kt.selectNode(this.dataGridNode),kt.emit("contextmenu",Qt.origEvent,this.dataGridNode)})),nt.on("click",Lt(".sortable"),(function(Qt){Qt.stopPropagation();var jt=d()(this),fn=jt.data("id"),Zt=jt.data("order")!=="descending";jt.data("order",Zt?"descending":"ascending"),nt.find(Lt(".icon-caret-up")).hide(),nt.find(Lt(".icon-caret-down")).hide();var rn=jt.find(Lt(".icon-caret-up")),ln=jt.find(Lt(".icon-caret-down"));Zt?rn.show():ln.show(),kt.sortNodes(fn,Zt),kt.renderData(),nt.find("th").each((function(){var Jt=d()(this);Jt.data("id")!==fn&&Jt.rmAttr("data-order")}))})),wt.on(Ot()("down"),(function(Qt){var jt=d()(this);kt.resizeIdx=ee()(jt.data("idx")),kt.onResizeColStart(Qt)})),this.on("changeOption",(function(Qt){switch(Qt){case"minHeight":case"maxHeight":$t.updateHeight();break;case"filter":$t.displayNodes=[],ge()($t.nodes,(function(jt){$t.filterNode(jt)&&$t.displayNodes.push(jt)})),$t.selectedNode&&!$t.filterNode($t.selectedNode)&&$t.selectNode(null),$t.renderData(),$t.updateHeight()}}))}},{key:"sortNodes",value:function($t,Lt){var nt=this.colMap[$t].comparator||ve().comparator;function Nt(wt,Bt){var kt=wt.data[$t],Qt=Bt.data[$t];return Re()(kt)&&(kt=kt.innerText),Re()(Qt)&&(Qt=Qt.innerText),Lt?nt(kt,Qt):nt(Qt,kt)}this.nodes.sort(Nt),this.displayNodes.sort(Nt),this.sorted=!0,this.sortId=$t,this.isAscending=Lt}},{key:"updateWeights",value:function(){var $t=this.container,Lt=this.$headerRow,nt=this.options.columns,Nt=$t.offsetWidth;if(!this.colWidthsInitialized&&Nt){for(var wt=0,Bt=nt.length;wt<Bt;wt++){var kt=nt[wt];if(!kt.weight){var Qt=Lt.find("th").get(wt).offsetWidth;kt.weight=100*Qt/Nt}}this.colWidthsInitialized=!0}this.applyColWeights()}},{key:"applyColWeights",value:function(){var $t=this.container,Lt=this.$colgroup,nt=this.options.columns,Nt=$t.offsetWidth;if(!(Nt<=0)){for(var wt=0,Bt=nt.length,kt=0;kt<Bt;kt++)wt+=nt[kt].weight;var Qt="",jt=0,fn=0;this.colWidths=[];for(var Zt=0;Zt<Bt;Zt++){var rn=(jt+=nt[Zt].weight)*Nt/wt|0,ln=Math.max(rn-fn,14);fn=rn,Qt+='<col style="width:'.concat(ln,'px"></col>'),this.colWidths[Zt]=ln}Lt.html(Qt),this.positionResizers()}}},{key:"positionResizers",value:function(){for(var $t=this.colWidths,Lt=[],nt=$t.length-1,Nt=0;Nt<nt;Nt++)Lt[Nt]=(Lt[Nt-1]||0)+$t[Nt];for(var wt=0;wt<nt;wt++)this.$resizers.eq(wt).css("left",Lt[wt]+"px")}},{key:"updateTopSpace",value:function($t){this.topSpaceHeight=$t,this.data.style.top=$t+"px"}},{key:"updateSpace",value:function($t){this.spaceHeight!==$t&&(this.spaceHeight=$t,this.space.style.height=$t+"px")}},{key:"filterNode",value:function($t){var Lt=this.options.filter;if(Lt){if(De()(Lt))return Lt($t);if(Ze()(Lt))return Lt.test($t.text());if(q()(Lt)&&(Lt=E()(Lt)))return pe()(gt()($t.text()),gt()(Lt))}return!0}},{key:"renderHeader",value:function(){var $t=this.c,Lt="",nt="";ge()(this.options.columns,(function(Nt){var wt=ze()(Nt.title);Nt.sortable?Lt+=$t(`
          <th class="sortable" data-id="`.concat(Nt.id,`">
            `).concat(wt,`
            <span class="icon-caret-up"></span>
            <span class="icon-caret-down"></span>
          </th>`)):Lt+="<th>".concat(wt,"</th>"),nt+="<td></td>"})),this.$headerRow.html(Lt),this.$fillerRow.html(nt)}},{key:"renderResizers",value:function(){for(var $t="",Lt=this.options.columns.length-1,nt=0;nt<Lt;nt++)$t+=this.c('<div class="resizer" data-idx="'.concat(nt,'"></div>'));this.$container.append($t),this.$resizers=this.find(".resizer")}},{key:"initTpl",value:function(){this.$container.html(this.c(g()(Rt||(Rt=(0,r.A)([`
        <div class="header-container">
          <table class="header">
            <colgroup></colgroup>
            <tbody>
              <tr></tr>
            </tbody>
          </table>
        </div>
        <div class="data-container">
          <div class="data-space">
            <table class="data">
              <colgroup></colgroup>
              <tbody>
                <tr class="filler-row"></tr>
              </tbody>
            </table>
          </div>
        </div>
      `])))))}}])})(oe),Kt=(function(){return(0,s.A)((function Vt(an,$t,Lt){(0,a.A)(this,Vt),this.container=le()("tr"),this.selectable=!1,this.container.dataGridNode=this,this.$container=d()(this.container),this.$container.addClass(an.c("node")),this.dataGrid=an,this.data=$t,Lt.selectable&&(this.selectable=Lt.selectable,this.$container.addClass(an.c("selectable"))),this.render()}),[{key:"text",value:function(){return this.$container.text()}},{key:"select",value:function(){this.$container.addClass(this.dataGrid.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.dataGrid.c("selected"))}},{key:"render",value:function(){var Vt=this.data,an=this.$container,$t=this.container,Lt=this.dataGrid.getOption("columns");an.html(""),ge()(Lt,(function(nt){var Nt=le()("td"),wt=Vt[nt.id];Ve()(wt)||(Re()(wt)?Nt.appendChild(wt):Nt.innerText=Xe()(wt)),$t.appendChild(Nt)}))}}])})();(function(Vt,an){try{Vt.exports=an,Vt.exports.default=an}catch{}})(o,yn)},2455:function(o,e){e=function(n){return n},o.exports=e},2480:function(o,e,n){var r=this&&this.__createBinding||(Object.create?function(Qe,rt,vt,it){it===void 0&&(it=vt);var yt=Object.getOwnPropertyDescriptor(rt,vt);yt&&!("get"in yt?!rt.__esModule:yt.writable||yt.configurable)||(yt={enumerable:!0,get:function(){return rt[vt]}}),Object.defineProperty(Qe,it,yt)}:function(Qe,rt,vt,it){it===void 0&&(it=vt),Qe[it]=rt[vt]}),a=this&&this.__setModuleDefault||(Object.create?function(Qe,rt){Object.defineProperty(Qe,"default",{enumerable:!0,value:rt})}:function(Qe,rt){Qe.default=rt}),s=this&&this.__importStar||function(Qe){if(Qe&&Qe.__esModule)return Qe;var rt={};if(Qe!=null)for(var vt in Qe)vt!=="default"&&Object.prototype.hasOwnProperty.call(Qe,vt)&&r(rt,Qe,vt);return a(rt,Qe),rt},l=this&&this.__importDefault||function(Qe){return Qe&&Qe.__esModule?Qe:{default:Qe}};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=function(){if(!Q){var Qe=(0,p.default)("div",{class:"__chobitsu-hide__",style:{all:"initial"}});u=(0,d.default)(Qe),document.documentElement.appendChild(Qe);var rt=null,vt=null;if(Qe.attachShadow?vt=Qe.attachShadow({mode:"open"}):Qe.createShadowRoot&&(vt=Qe.createShadowRoot()),vt){var it=document.createElement("style");it.textContent=fe,it.type="text/css",vt.appendChild(it),rt=document.createElement("div"),vt.appendChild(rt)}else rt=document.createElement("div"),Qe.appendChild(rt),J||((0,g.default)(fe),J=!0);c=new I.default(rt,{monitorResize:(0,k.default)(O.default.ResizeObserver),showInfo:te}),window.addEventListener("resize",Te),Q=!0}},e.disable=function(){c.destroy(),u.remove(),window.removeEventListener("resize",Te),Q=!1},e.highlightNode=ee,e.hideHighlight=N,e.setShowViewportSizeOnResize=function(Qe){Z=Qe.show},e.setInspectMode=function(Qe){R=Qe.highlightConfig,ae=Qe.mode};var c,u,h=n(9893),f=n(6192),d=l(n(3693)),p=l(n(5241)),g=l(n(3048)),y=l(n(5651)),v=l(n(8105)),w=l(n(8665)),O=l(n(5169)),k=l(n(9e3)),E=l(n(8534)),I=l(n(9196)),G=s(n(2484)),J=!1,Q=!1,te=(0,E.default)("clip-path","polygon(50% 0px, 0px 100%, 100% 100%)"),pe="ontouchstart"in O.default,fe=n(7119).replace("/*# sourceMappingURL=luna-dom-highlighter.css.map*/","");function ee(Qe){var rt,vt=Qe.nodeId,it=Qe.highlightConfig,yt=Qe.objectId;vt&&(rt=(0,h.getNode)(vt)),yt&&(rt=G.getObj(yt)),rt.nodeType!==1&&rt.nodeType!==3||((0,y.default)(it,{contentColor:"transparent",paddingColor:"transparent",borderColor:"transparent",marginColor:"transparent"}),te||(0,v.default)(it,{showInfo:!1}),c.highlight(rt,it))}function N(){c.hide()}var Z=!1,R={},ae="none";function de(Qe){if(pe){var rt=Qe.touches[0]||Qe.changedTouches[0];return document.elementFromPoint(rt.clientX,rt.clientY)}return document.elementFromPoint(Qe.clientX,Qe.clientY)}var H=-1;function ne(Qe){if(ae!=="none"){var rt=de(Qe);if(rt&&(0,h.isValidNode)(rt)){var vt=(0,h.getNodeId)(rt);vt||(vt=(0,f.pushNodesToFrontend)(rt)),ee({nodeId:vt,highlightConfig:R}),vt!==H&&(w.default.trigger("Overlay.nodeHighlightRequested",{nodeId:vt}),H=vt)}}}function V(Qe){if(ae!=="none"){Qe.preventDefault(),Qe.stopImmediatePropagation();var rt=de(Qe);w.default.trigger("Overlay.inspectNodeRequested",{backendNodeId:(0,h.getNodeId)(rt)}),H=-1,N()}}function Ce(Qe,rt){document.documentElement.addEventListener(Qe,rt,!0)}pe?(Ce("touchstart",ne),Ce("touchmove",ne),Ce("touchend",V)):(Ce("mousemove",ne),Ce("mouseout",(function(){ae!=="none"&&N()})),Ce("click",V));var ge=(0,p.default)("div",{class:"__chobitsu-hide__",style:{position:"fixed",right:0,top:0,background:"#fff",fontSize:13,opacity:.5,padding:"4px 6px"}});function Te(){Z&&(Ye.text("".concat(window.innerWidth,"px  ").concat(window.innerHeight,"px")),Ke?clearTimeout(Ke):document.documentElement.appendChild(ge),Ke=setTimeout((function(){Ye.remove(),Ke=null}),1e3))}var Ke,Ye=(0,d.default)(ge)},2484:function(o,e,n){var r=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(){I.clear(),G.clear(),J.clear()},e.wrap=fe,e.getObj=ee,e.releaseObj=function(V){var Ce=ee(V);G.delete(Ce),J.delete(V),I.delete(V)},e.getProperties=function(V){for(var Ce=V.accessorPropertiesOnly,ge=V.objectId,Te=V.ownProperties,Ke=V.generatePreview,Ye=[],Qe={prototype:!Te,unenumerable:!0,symbol:!Ce},rt=I.get(ge),vt=J.get(ge),it=(0,v.default)(rt,Qe),yt=(0,O.default)(rt),xt=0,Ct=it.length;xt<Ct;xt++){var St=it[xt],Rt=void 0;try{Rt=vt[St]}catch{}var oe={name:(0,a.default)(St),isOwn:(0,E.has)(vt,St)},je=Object.getOwnPropertyDescriptor(rt,St);if(!je&&yt&&(je=Object.getOwnPropertyDescriptor(yt,St)),je){if(Ce&&!je.get&&!je.set)continue;oe.configurable=je.configurable,oe.enumerable=je.enumerable,oe.writable=je.writable,je.get&&(oe.get=fe(je.get)),je.set&&(oe.set=fe(je.set))}yt&&(0,E.has)(yt,St)&&oe.enumerable&&(oe.isOwn=!0);var ze=!0;!oe.isOwn&&oe.get&&(ze=!1),ze&&((0,k.default)(St)?(oe.symbol=fe(St),oe.value={type:"undefined"}):oe.value=fe(Rt,{generatePreview:Ke})),Ce&&(0,c.default)(Rt)&&(0,w.default)(Rt)||Ye.push(oe)}if(!yt||Te||ne(rt)||Ye.push({name:"__proto__",configurable:!0,enumerable:!1,isOwn:(0,E.has)(rt,"__proto__"),value:fe(yt,{self:vt}),writable:!1}),Ce)return{result:Ye};var he=[];if(yt&&!ne(rt)&&he.push({name:"[[Prototype]]",value:fe(yt,{self:vt})}),(0,f.default)(rt)||(0,d.default)(rt)){var le=(function(me){for(var Xe=Q.get(me),Ee=Xe?ee(Xe):[],Re=me.entries(),at=Re.next().value;at;)(0,f.default)(me)?Ee.push(new H(at[1],at[0])):Ee.push(new H(at[1])),at=Re.next().value;return Ee})(rt);he.push({name:"[[Entries]]",value:fe(le)})}return{internalProperties:he,result:Ye}};var a=r(n(2561)),s=r(n(4236)),l=r(n(6214)),c=r(n(3957)),u=r(n(2708)),h=r(n(2650)),f=r(n(1751)),d=r(n(5945)),p=r(n(1976)),g=r(n(3145)),y=r(n(1168)),v=r(n(7514)),w=r(n(9122)),O=r(n(5427)),k=r(n(9350)),E=n(916),I=new Map,G=new Map,J=new Map,Q=new Map,te=1;function pe(V,Ce){var ge=G.get(V);return ge||(ge=JSON.stringify({injectedScriptId:0,id:te++}),G.set(V,ge),I.set(ge,V),J.set(ge,Ce),ge)}function fe(V,Ce){var ge=Ce===void 0?{}:Ce,Te=ge.generatePreview,Ke=Te!==void 0&&Te,Ye=ge.self,Qe=Ye===void 0?V:Ye,rt=de(V),vt=rt.type,it=rt.subtype;return vt==="undefined"?rt:vt==="string"||vt==="boolean"||it==="null"?(rt.value=V,rt):(rt.description=ae(V,Qe),vt==="number"?(rt.value=V,rt):vt==="symbol"?(rt.objectId=pe(V,Qe),rt):(rt.className=vt==="function"?"Function":it==="array"?"Array":it==="map"?"Map":it==="set"?"Set":it==="regexp"?"RegExp":it==="error"?V.name:(0,E.getType)(V,!1),Ke&&(rt.preview=Z(V,Qe)),rt.objectId=pe(V,Qe),rt))}function ee(V){return I.get(V)}var N=5;function Z(V,Ce){Ce===void 0&&(Ce=V);var ge=de(V);ge.description=ae(V,Ce);var Te=!1,Ke=[],Ye=(0,g.default)(V),Qe=Ye.length;Qe>N&&(Qe=N,Te=!0);for(var rt=0;rt<Qe;rt++){var vt=Ye[rt];Ke.push(R(vt,Ce[vt]))}if(ge.properties=Ke,(0,f.default)(V)){for(var it=[],yt=(rt=0,V.keys()),xt=yt.next().value;xt;){if(rt>N){Te=!0;break}it.push({key:Z(xt),value:Z(V.get(xt))}),rt++,xt=yt.next().value}ge.entries=it}else if((0,d.default)(V)){var Ct=[],St=(rt=0,V.keys());for(xt=St.next().value;xt;){if(rt>N){Te=!0;break}Ct.push({value:Z(xt)}),rt++,xt=St.next().value}ge.entries=Ct}return ge.overflow=Te,ge}function R(V,Ce){var ge=de(Ce);ge.name=V;var Te,Ke=ge.subtype;return Te=ge.type==="object"?Ke==="null"?"null":Ke==="array"?"Array(".concat(Ce.length,")"):Ke==="map"?"Map(".concat(Ce.size,")"):Ke==="set"?"Set(".concat(Ce.size,")"):(0,E.getType)(Ce,!1):(0,a.default)(Ce),ge.value=Te,ge}function ae(V,Ce){Ce===void 0&&(Ce=V);var ge=de(V),Te=ge.type,Ke=ge.subtype;return Te==="string"?V:Te==="number"||Te==="symbol"?(0,a.default)(V):Te==="function"?(0,y.default)(V):Ke==="array"?"Array(".concat(V.length,")"):Ke==="map"?"Map(".concat(Ce.size,")"):Ke==="set"?"Set(".concat(Ce.size,")"):Ke==="regexp"?(0,a.default)(V):Ke==="error"?V.stack:Ke==="internal#entry"?V.name?'{"'.concat((0,a.default)(V.name),'" => "').concat((0,a.default)(V.value),'"}'):'"'.concat((0,a.default)(V.value),'"'):(0,E.getType)(V,!1)}function de(V){var Ce=typeof V,ge="object";if(V instanceof H)ge="internal#entry";else if((0,s.default)(V))ge="null";else if((0,l.default)(V))ge="array";else if((0,p.default)(V))ge="regexp";else if((0,h.default)(V))ge="error";else if((0,f.default)(V))ge="map";else if((0,d.default)(V))ge="set";else try{(0,u.default)(V)&&(ge="node")}catch{}return{type:Ce,subtype:ge}}var H=function(V,Ce){Ce&&(this.name=Ce),this.value=V};function ne(V){return V instanceof H||!!(V[0]&&V[0]instanceof H)}},2508:function(o,e,n){var r=n(6186),a=n(2561),s=/{{(.*?)}}/g;e=function(l,c){return l.replace(s,(function(u,h){return a(r(c,h))}))},o.exports=e},2510:function(o,e){e=function(n,r){return r=r==null?n.length-1:+r,function(){var a,s=Math.max(arguments.length-r,0),l=new Array(s);for(a=0;a<s;a++)l[a]=arguments[a+r];switch(r){case 0:return n.call(this,l);case 1:return n.call(this,arguments[0],l);case 2:return n.call(this,arguments[0],arguments[1],l)}var c=new Array(r+1);for(a=0;a<r;a++)c[a]=arguments[a];return c[r]=l,n.apply(this,c)}},o.exports=e},2517:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object Date]"},o.exports=e},2556:function(o,e,n){n.d(e,{A:function(){return Rt}});var r=n(3029),a=n(2901),s=n(388),l=n(3954),c=n(5361),u=n(3693),h=n.n(u),f=n(5630),d=n.n(f),p=n(8438),g=n.n(p),y=n(5241),v=n.n(y),w=n(2263),O=n.n(w),k=n(3915),E=n.n(k),I=n(9405),G=n.n(I),J=n(5169),Q=n.n(J),te=n(9548),pe=n.n(te),fe=(n(6097),n(3249)),ee=n.n(fe),N=(n(6030),n(5004)),Z=n.n(N);n(9410),n(8609);function R(je){var ze="luna-".concat(je,"-");function he(le){return E()(G()(le).split(/\s+/),(function(me){return ee()(me,ze)?me:me.replace(/[\w-]+/,(function(Xe){return"".concat(ze).concat(Xe)}))})).join(" ")}return function(le){if(/<[^>]*>/g.test(le))try{var me=pe().parse(le);return ae(me,(function(Xe){Xe.attrs&&Xe.attrs.class&&(Xe.attrs.class=he(Xe.attrs.class))})),pe().stringify(me)}catch{return he(le)}return he(le)}}function ae(je,ze){for(var he=0,le=je.length;he<le;he++){var me=je[he];ze(me),me.content&&ae(me.content,ze)}}Q();var de=n(9100),H=n.n(de),ne=n(8105),V=n.n(ne),Ce=n(5651),ge=n.n(Ce),Te=n(961),Ke=n.n(Te),Ye=n(7e3),Qe=n.n(Ye),rt=n(1009),vt=n.n(rt);function it(){try{var je=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(it=function(){return!!je})()}var yt=(function(je){function ze(he,le){var me,Xe,Ee=le.compName,Re=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,at=Re===void 0?"light":Re;return(0,r.A)(this,ze),me=(function(Ve,qe,ot){return qe=(0,l.A)(qe),(0,s.A)(Ve,it()?Reflect.construct(qe,[],(0,l.A)(Ve).constructor):qe.apply(Ve,ot))})(this,ze),me.subComponents=[],me.theme="",me.onThemeChange=function(Ve){me.options.theme==="auto"&&me.setTheme(Ve)},me.compName=Ee,me.c=R(Ee),me.options={},me.container=he,me.$container=h()(he),me.$container.addClass(["luna-".concat(Ee),me.c("platform-".concat((Xe=Z()(),Xe==="os x"?"mac":Xe)))]),me.on("changeOption",(function(Ve,qe){if(Ve==="theme"&&qe){var ot=qe;qe==="auto"&&(ot=Qe().get()),me.setTheme(ot),H()(me.subComponents,(function(Pt){return Pt.setOption("theme",qe)}))}})),Qe().on("change",me.onThemeChange),me.setOption("theme",at),me}return(0,c.A)(ze,je),(0,a.A)(ze,[{key:"destroy",value:function(){var he=this;this.destroySubComponents();var le=this.$container,me=le.attr("class");H()(me.split(/\s+/),(function(Xe){vt()(Xe,"luna-".concat(he.compName))&&le.rmClass(Xe)})),le.html(""),this.emit("destroy"),this.removeAllListeners(),Qe().off("change",this.onThemeChange)}},{key:"setOption",value:function(he,le){var me=this,Xe=this.options,Ee={};typeof he=="string"?Ee[he]=le:Ee=he,H()(Ee,(function(Re,at){var Ve=Xe[at];Xe[at]=Re,Re!==Ve&&me.emit("changeOption",at,Re,Ve)}))}},{key:"getOption",value:function(he){return this.options[he]}},{key:"addSubComponent",value:function(he){he.setOption("theme",this.options.theme),this.subComponents.push(he)}},{key:"removeSubComponent",value:function(he){Ke()(this.subComponents,(function(le){return le===he}))}},{key:"destroySubComponents",value:function(){H()(this.subComponents,(function(he){return he.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ge()(he,le),V()(this.options,he)}},{key:"find",value:function(he){return this.$container.find(this.c(he))}},{key:"setTheme",value:function(he){var le=this.c,me=this.$container;this.theme&&me.rmClass(le("theme-".concat(this.theme))),me.addClass(le("theme-".concat(he))),this.theme=he}}])})(O()),xt=n(8971),Ct=n.n(xt);function St(){try{var je=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(St=function(){return!!je})()}o=n.hmd(o);var Rt=(function(je){function ze(he){var le,me,Xe,Ee,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,r.A)(this,ze),me=this,Xe=ze,Ee=[he,{compName:"notification"},Re],Xe=(0,l.A)(Xe),(le=(0,s.A)(me,St()?Reflect.construct(Xe,Ee||[],(0,l.A)(me).constructor):Xe.apply(me,Ee))).notifications=[],le.initOptions(Re,{position:{x:"right",y:"bottom"},inline:!1,duration:2e3}),le.options.inline||le.$container.addClass(le.c("full")),le.initTpl(),le}return(0,c.A)(ze,je),(0,a.A)(ze,[{key:"notify",value:function(he){var le=this,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ct()(me.duration)&&(me.duration=this.options.duration);var Xe=new oe(this,he,{icon:me.icon||"none"});this.notifications.push(Xe),this.add(Xe),setTimeout((function(){return le.remove(Xe.id)}),me.duration)}},{key:"dismissAll",value:function(){for(var he=this.notifications,le=he[0];le;)this.remove(le.id),le=he[0]}},{key:"add",value:function(he){this.container.appendChild(he.container)}},{key:"remove",value:function(he){var le=this.notifications,me=g()(le,(function(Ee){return Ee.id===he}));if(me){me.destroy();var Xe=le.indexOf(me);le.splice(Xe,1)}}},{key:"initTpl",value:function(){var he=this.$container,le=this.options.position,me=le.x,Xe=le.y,Ee="flex-end",Re="flex-end";switch(me){case"center":Re="center";break;case"left":Re="flex-start"}Xe==="top"&&(Ee="flex-start"),he.attr("style","justify-content: ".concat(Ee,"; align-items: ").concat(Re))}}])})(yt),oe=(function(){return(0,a.A)((function je(ze,he,le){(0,r.A)(this,je),this.container=v()("div"),this.$container=h()(this.container),this.notification=ze,this.content=he,this.id=d()("luna-notification-"),this.$container.attr({id:this.id,class:ze.c("item ".concat(ze.getOption("position").y==="bottom"?"lower":"upper"))}),this.initTpl(le.icon)}),[{key:"destroy",value:function(){this.$container.remove()}},{key:"initTpl",value:function(je){var ze=je;je==="success"?ze="check":je==="warning"&&(ze="warn");var he=je==="none"?"":'<div class="icon-container '.concat(je,'"><span class="icon icon-').concat(ze,'"></span></div>');this.$container.html(this.notification.c("".concat(he,'<div class="content">').concat(this.content,"</div>")))}}])})();(function(je,ze){try{je.exports=ze,je.exports.default=ze}catch{}})(o,Rt)},2561:function(o,e){e=function(n){return n==null?"":n.toString()},o.exports=e},2571:function(o,e,n){var r=n(5693),a=n(9100);e=function(s,l,c){var u=[];return l=r(l,c),a(s,(function(h,f,d){l(h,f,d)&&u.push(h)})),u},o.exports=e},2627:function(o,e,n){var r=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobal=function(d,p){f[d]=p},e.default=function(d){var p;(0,h.default)(f,(function(g,y){window[y]||(window[y]=g)}));try{p=eval.call(window,"(".concat(d,")"))}catch{p=eval.call(window,d)}return(function(){(0,h.default)(f,(function(g,y){window[y]&&window[y]===g&&delete window[y]}))})(),p};var a=r(n(1738)),s=r(n(4844)),l=r(n(769)),c=r(n(3145)),u=r(n(8862)),h=r(n(9100)),f={copy:function(d){(0,a.default)(d)||(d=JSON.stringify(d,null,2)),(0,s.default)(d)},$:function(d){return document.querySelector(d)},$$:function(d){return(0,l.default)(document.querySelectorAll(d))},$x:function(d){return(0,u.default)(d)},keys:c.default}},2650:function(o,e,n){var r=n(3974);e=function(a){switch(r(a)){case"[object Error]":case"[object DOMException]":return!0;default:return a instanceof Error}},o.exports=e},2693:function(o,e,n){(e=n(6314)(!1)).push([o.id,'._container a,._container abbr,._container acronym,._container address,._container applet,._container article,._container aside,._container audio,._container b,._container big,._container blockquote,._container canvas,._container caption,._container center,._container cite,._container code,._container dd,._container del,._container details,._container dfn,._container dl,._container dt,._container em,._container embed,._container fieldset,._container figcaption,._container figure,._container footer,._container form,._container h1,._container h2,._container h3,._container h4,._container h5,._container h6,._container header,._container hgroup,._container i,._container iframe,._container img,._container ins,._container kbd,._container label,._container legend,._container li,._container mark,._container menu,._container nav,._container object,._container ol,._container output,._container p,._container pre,._container q,._container ruby,._container s,._container samp,._container section,._container small,._container span,._container strike,._container strong,._container sub,._container summary,._container sup,._container table,._container tbody,._container td,._container tfoot,._container th,._container thead,._container time,._container tr,._container tt,._container u,._container ul,._container var,._container video{margin:0;padding:0;border:0;font-size:100%}._container article,._container aside,._container details,._container figcaption,._container figure,._container footer,._container header,._container hgroup,._container menu,._container nav,._container section{display:block}._container body{line-height:1}._container ol,._container ul{list-style:none}._container blockquote,._container q{quotes:none}._container blockquote:after,._container blockquote:before,._container q:after,._container q:before{content:"";content:none}._container table{border-collapse:collapse;border-spacing:0;color:inherit;font-size:1em;font-style:inherit;font-variant:inherit;font-weight:inherit;line-height:inherit;text-decoration:inherit;white-space:inherit}',""]),o.exports=e},2708:function(o,e){e=function(n){return!(!n||n.nodeType!==1)},o.exports=e},2717:function(o,e,n){var r=n(8105),a=n(769),s=n(8009),l=n(6186),c=n(4460),u=(e=function(h,f){return u.extend(h,f)}).Base=(function h(f,d,p){p=p||{};var g=d.className||l(d,"initialize.name")||"";delete d.className;var y=function(){var v=a(arguments);return this.initialize&&this.initialize.apply(this,v)||this};if(!c)try{y=new Function("toArr","return function "+g+"(){var args = toArr(arguments);return this.initialize ? this.initialize.apply(this, args) || this : this;};")(a)}catch{}return s(y,f),y.prototype.constructor=y,y.extend=function(v,w){return h(y,v,w)},y.inherits=function(v){s(y,v)},y.methods=function(v){return r(y.prototype,v),y},y.statics=function(v){return r(y,v),y},y.methods(d).statics(p),y})(Object,{className:"Base",callSuper:function(h,f,d){return h.prototype[f].apply(this,d)},toString:function(){return this.constructor.name}});o.exports=e},2767:function(o,e,n){var r=n(1738),a=n(5282);e=function(d){return r(d)?s[d]:f[d]};for(var s={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,windows:91,"right windows":92,"windows menu":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},l=97;l<123;l++)s[String.fromCharCode(l)]=l-32;for(var c=48;c<58;c++)s[c-48]=c;for(var u=1;u<13;u++)s["f"+u]=u+111;for(var h=0;h<10;h++)s["numpad "+h]=h+96;var f=a(s);o.exports=e},2797:function(o,e,n){var r=n(5693),a=n(5793),s=n(3145);e=function(l,c,u){c=r(c,u);for(var h=!a(l)&&s(l),f=(h||l).length,d=0;d<f;d++){var p=h?h[d]:d;if(c(l[p],p,l))return!0}return!1},o.exports=e},2806:function(o,e,n){var r=n(6949),a=n(8971),s=n(2561),l=n(9350),c=n(1738);e=function(u,h,f){var d,p=(h=r(h,u)).pop();for(d=h.shift();!a(d);){if(c(d)||l(d)||(d=s(d)),d==="__proto__"||d==="constructor"||d==="prototype")return;u[d]||(u[d]={}),u=u[d],d=h.shift()}u[p]=f},o.exports=e},2884:function(o,e,n){var r=n(6097);e=function(a){return r(a)&&a%1==0},o.exports=e},2901:function(o,e,n){n.d(e,{A:function(){return s}});var r=n(816);function a(l,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,(0,r.A)(h.key),h)}}function s(l,c,u){return c&&a(l.prototype,c),u&&a(l,u),Object.defineProperty(l,"prototype",{writable:!1}),l}},2971:function(o,e,n){var r=n(6214);function a(s,l){for(var c,u=s.length,h=-1;u--;)c=s[++h],r(c)?a(c,l):l.push(c);return l}e=function(s){return a(s,[])},o.exports=e},2980:function(o,e,n){var r=n(4209).A;o.exports=r,o.exports.default=r},2989:function(o,e,n){var r=n(3974),a=n(1932),s=n(96),l=n(3159);e=function(u){var h,f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return u===null&&(h="Null"),u===void 0&&(h="Undefined"),a(u)&&(h="NaN"),l(u)&&(h="Buffer"),h||(h=r(u).match(c))&&(h=h[1]),h?f?s(h):h:""};var c=/^\[object\s+(.*?)]$/;o.exports=e},2990:function(o,e){e={encode:function(l){var c,u,h=[],f=l.length,d=f%3;f-=d;for(var p=0;p<f;p+=3)h.push((c=(l[p]<<16)+(l[p+1]<<8)+l[p+2],r[c>>18&63]+r[c>>12&63]+r[c>>6&63]+r[63&c]));return f=l.length,d===1?(u=l[f-1],h.push(r[u>>2]),h.push(r[u<<4&63]),h.push("==")):d===2&&(u=(l[f-2]<<8)+l[f-1],h.push(r[u>>10]),h.push(r[u>>4&63]),h.push(r[u<<2&63]),h.push("=")),h.join("")},decode:function(l){var c=l.length,u=0;l[c-2]==="="?u=2:l[c-1]==="="&&(u=1);var h,f,d,p,g,y,v,w=new Array(3*c/4-u);for(c=u>0?c-4:c,h=0,f=0;h<c;h+=4){var O=(d=l[h],p=l[h+1],g=l[h+2],y=l[h+3],n[d.charCodeAt(0)]<<18|n[p.charCodeAt(0)]<<12|n[g.charCodeAt(0)]<<6|n[y.charCodeAt(0)]);w[f++]=O>>16&255,w[f++]=O>>8&255,w[f++]=255&O}return u===2?(v=n[l.charCodeAt(h)]<<2|n[l.charCodeAt(h+1)]>>4,w[f++]=255&v):u===1&&(v=n[l.charCodeAt(h)]<<10|n[l.charCodeAt(h+1)]<<4|n[l.charCodeAt(h+2)]>>2,w[f++]=v>>8&255,w[f++]=255&v),w}};for(var n=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=r.length;a<s;a++)n[r.charCodeAt(a)]=a;o.exports=e},3019:function(o,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=[["menuitem","command"],["rel","roletype"],["article","article"],["header","banner"],["input","button",[["type","checkbox"]]],["summary","button",[["aria-expanded","false"]]],["summary","button",[["aria-expanded","true"]]],["input","button",[["type","button"]]],["input","button",[["type","image"]]],["input","button",[["type","reset"]]],["input","button",[["type","submit"]]],["button","button"],["td","cell"],["input","checkbox",[["type","checkbox"]]],["th","columnheader"],["input","combobox",[["type","email"]]],["input","combobox",[["type","search"]]],["input","combobox",[["type","tel"]]],["input","combobox",[["type","text"]]],["input","combobox",[["type","url"]]],["input","combobox",[["type","url"]]],["select","combobox"],["select","combobox",[["size",1]]],["aside","complementary"],["footer","contentinfo"],["dd","definition"],["dialog","dialog"],["body","document"],["figure","figure"],["form","form"],["form","form"],["form","form"],["span","generic"],["div","generic"],["table","grid",[["role","grid"]]],["td","gridcell",[["role","gridcell"]]],["details","group"],["fieldset","group"],["optgroup","group"],["h1","heading"],["h2","heading"],["h3","heading"],["h4","heading"],["h5","heading"],["h6","heading"],["img","img"],["img","img"],["a","link"],["area","link"],["link","link"],["menu","list"],["ol","list"],["ul","list"],["select","listbox"],["select","listbox"],["select","listbox"],["datalist","listbox"],["li","listitem"],["main","main"],["math","math"],["menuitem","command"],["nav","navigation"],["option","option"],["progress","progressbar"],["input","radio",[["type","radio"]]],["section","region"],["section","region"],["frame","region"],["tr","row"],["tbody","rowgroup"],["tfoot","rowgroup"],["thead","rowgroup"],["th","rowheader",[["scope","row"]]],["input","searchbox",[["type","search"]]],["hr","separator"],["input","slider",[["type","range"]]],["input","spinbutton",[["type","number"]]],["output","status"],["table","table"],["dfn","term"],["input","textbox"],["input","textbox",[["type","email"]]],["input","textbox",[["type","tel"]]],["input","textbox",[["type","text"]]],["input","textbox",[["type","url"]]],["textarea","textbox"]]},3029:function(o,e,n){function r(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}n.d(e,{A:function(){return r}})},3048:function(o,e){e=function(n){var r=document.createElement("style");return r.textContent=n,r.type="text/css",document.head.appendChild(r),r},o.exports=e},3089:function(o,e,n){var r=n(3145);e=n(6307)(r),o.exports=e},3145:function(o,e,n){var r=n(365);e=Object.keys?Object.keys:function(a){var s=[];for(var l in a)r(a,l)&&s.push(l);return s},o.exports=e},3159:function(o,e,n){var r=n(3957);e=function(a){return a!=null&&(!!a._isBuffer||a.constructor&&r(a.constructor.isBuffer)&&a.constructor.isBuffer(a))},o.exports=e},3249:function(o,e,n){var r=n(7375),a=n(1738),s=n(5793),l=n(5119);e=function(c,u){return a(c)?c.indexOf(u)>-1:(s(c)||(c=l(c)),r(c,u)>=0)},o.exports=e},3270:function(o,e,n){n.r(e),n.d(e,{default:function(){return w}});var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi,s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,l=function(O){var k=[],E=String(O).trim();return E[0]!=="M"&&E[0]!=="m"||E.replace(a,(function(I,G,J){var Q=G.toLowerCase(),te=(function(fe){var ee=fe.match(s);return ee?ee.map(Number):[]})(J),pe=G;if(Q==="m"&&te.length>2&&(k.push([pe].concat(te.splice(0,2))),Q="l",pe=pe==="m"?"l":"L"),te.length<r[Q])return"";for(k.push([pe].concat(te.splice(0,r[Q])));te.length>=r[Q]&&te.length&&r[Q];)k.push([pe].concat(te.splice(0,r[Q])));return""})),k};function c(O,k){for(var E=0;E<k.length;E++){var I=k[E];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,I.key,I)}}function u(O){return(function(k){if(Array.isArray(k))return h(k)})(O)||(function(k){if(typeof Symbol<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)})(O)||(function(k,E){if(k){if(typeof k=="string")return h(k,E);var I=Object.prototype.toString.call(k).slice(8,-1);if(I==="Object"&&k.constructor&&(I=k.constructor.name),I==="Map"||I==="Set")return Array.from(k);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return h(k,E)}})(O)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function h(O,k){(k==null||k>O.length)&&(k=O.length);for(var E=0,I=new Array(k);E<k;E++)I[E]=O[E];return I}var f=l;function d(O,k){var E=O.x*Math.cos(k)-O.y*Math.sin(k),I=O.y*Math.cos(k)+O.x*Math.sin(k);O.x=E,O.y=I}function p(O,k){O.x*=k,O.y*=k}var g=function(O){if(O!==void 0&&O.CanvasRenderingContext2D&&(!O.Path2D||!(function(Q){var te=Q.document.createElement("canvas").getContext("2d"),pe=new Q.Path2D("M0 0 L1 1");return te.strokeStyle="red",te.lineWidth=1,te.stroke(pe),te.getImageData(0,0,1,1).data[0]===255})(O))){var k=(function(){function Q(fe){var ee;(function(N,Z){if(!(N instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,Q),this.segments=[],fe&&fe instanceof Q?(ee=this.segments).push.apply(ee,u(fe.segments)):fe&&(this.segments=f(fe))}var te,pe;return te=Q,(pe=[{key:"addPath",value:function(fe){var ee;fe&&fe instanceof Q&&(ee=this.segments).push.apply(ee,u(fe.segments))}},{key:"moveTo",value:function(fe,ee){this.segments.push(["M",fe,ee])}},{key:"lineTo",value:function(fe,ee){this.segments.push(["L",fe,ee])}},{key:"arc",value:function(fe,ee,N,Z,R,ae){this.segments.push(["AC",fe,ee,N,Z,R,!!ae])}},{key:"arcTo",value:function(fe,ee,N,Z,R){this.segments.push(["AT",fe,ee,N,Z,R])}},{key:"ellipse",value:function(fe,ee,N,Z,R,ae,de,H){this.segments.push(["E",fe,ee,N,Z,R,ae,de,!!H])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(fe,ee,N,Z,R,ae){this.segments.push(["C",fe,ee,N,Z,R,ae])}},{key:"quadraticCurveTo",value:function(fe,ee,N,Z){this.segments.push(["Q",fe,ee,N,Z])}},{key:"rect",value:function(fe,ee,N,Z){this.segments.push(["R",fe,ee,N,Z])}}])&&c(te.prototype,pe),Object.defineProperty(te,"prototype",{writable:!1}),Q})(),E=O.CanvasRenderingContext2D.prototype.fill,I=O.CanvasRenderingContext2D.prototype.stroke;O.CanvasRenderingContext2D.prototype.fill=function(){for(var Q=arguments.length,te=new Array(Q),pe=0;pe<Q;pe++)te[pe]=arguments[pe];var fe="nonzero";te.length===0||te.length===1&&typeof te[0]=="string"?E.apply(this,te):(arguments.length===2&&(fe=te[1]),J(this,te[0].segments),E.call(this,fe))},O.CanvasRenderingContext2D.prototype.stroke=function(Q){Q?(J(this,Q.segments),I.call(this)):I.call(this)};var G=O.CanvasRenderingContext2D.prototype.isPointInPath;O.CanvasRenderingContext2D.prototype.isPointInPath=function(){for(var Q=arguments.length,te=new Array(Q),pe=0;pe<Q;pe++)te[pe]=arguments[pe];if(te[0].constructor.name==="Path2D"){var fe=te[1],ee=te[2],N=te[3]||"nonzero";return J(this,te[0].segments),G.apply(this,[fe,ee,N])}return G.apply(this,te)},O.Path2D=k}function J(Q,te){var pe,fe,ee,N,Z,R,ae,de,H,ne,V,Ce,ge,Te,Ke,Ye,Qe,rt,vt,it,yt,xt,Ct,St,Rt,oe,je,ze,he,le={x:0,y:0},me={x:0,y:0};Q.beginPath();for(var Xe=0;Xe<te.length;++Xe){var Ee=te[Xe];switch((it=Ee[0])!=="S"&&it!=="s"&&it!=="C"&&it!=="c"&&(xt=null,Ct=null),it!=="T"&&it!=="t"&&it!=="Q"&&it!=="q"&&(St=null,Rt=null),it){case"m":case"M":it==="m"?(V+=Ee[1],ge+=Ee[2]):(V=Ee[1],ge=Ee[2]),it!=="M"&&le||(le={x:V,y:ge}),Q.moveTo(V,ge);break;case"l":V+=Ee[1],ge+=Ee[2],Q.lineTo(V,ge);break;case"L":V=Ee[1],ge=Ee[2],Q.lineTo(V,ge);break;case"H":V=Ee[1],Q.lineTo(V,ge);break;case"h":V+=Ee[1],Q.lineTo(V,ge);break;case"V":ge=Ee[1],Q.lineTo(V,ge);break;case"v":ge+=Ee[1],Q.lineTo(V,ge);break;case"a":case"A":it==="a"?(V+=Ee[6],ge+=Ee[7]):(V=Ee[6],ge=Ee[7]),Ye=Ee[1],Qe=Ee[2],ae=Ee[3]*Math.PI/180,ee=!!Ee[4],N=!!Ee[5],Z={x:V,y:ge},d(R={x:(me.x-Z.x)/2,y:(me.y-Z.y)/2},-ae),(de=R.x*R.x/(Ye*Ye)+R.y*R.y/(Qe*Qe))>1&&(Ye*=de=Math.sqrt(de),Qe*=de),H=Ye*Ye*Qe*Qe,ne=Ye*Ye*R.y*R.y+Qe*Qe*R.x*R.x,p(yt={x:Ye*R.y/Qe,y:-Qe*R.x/Ye},N!==ee?Math.sqrt((H-ne)/ne)||0:-Math.sqrt((H-ne)/ne)||0),fe=Math.atan2((R.y-yt.y)/Qe,(R.x-yt.x)/Ye),pe=Math.atan2(-(R.y+yt.y)/Qe,-(R.x+yt.x)/Ye),d(yt,ae),je=yt,ze=(Z.x+me.x)/2,he=(Z.y+me.y)/2,je.x+=ze,je.y+=he,Q.save(),Q.translate(yt.x,yt.y),Q.rotate(ae),Q.scale(Ye,Qe),Q.arc(0,0,1,fe,pe,!N),Q.restore();break;case"C":xt=Ee[3],Ct=Ee[4],V=Ee[5],ge=Ee[6],Q.bezierCurveTo(Ee[1],Ee[2],xt,Ct,V,ge);break;case"c":Q.bezierCurveTo(Ee[1]+V,Ee[2]+ge,Ee[3]+V,Ee[4]+ge,Ee[5]+V,Ee[6]+ge),xt=Ee[3]+V,Ct=Ee[4]+ge,V+=Ee[5],ge+=Ee[6];break;case"S":xt!==null&&Ct!==null||(xt=V,Ct=ge),Q.bezierCurveTo(2*V-xt,2*ge-Ct,Ee[1],Ee[2],Ee[3],Ee[4]),xt=Ee[1],Ct=Ee[2],V=Ee[3],ge=Ee[4];break;case"s":xt!==null&&Ct!==null||(xt=V,Ct=ge),Q.bezierCurveTo(2*V-xt,2*ge-Ct,Ee[1]+V,Ee[2]+ge,Ee[3]+V,Ee[4]+ge),xt=Ee[1]+V,Ct=Ee[2]+ge,V+=Ee[3],ge+=Ee[4];break;case"Q":St=Ee[1],Rt=Ee[2],V=Ee[3],ge=Ee[4],Q.quadraticCurveTo(St,Rt,V,ge);break;case"q":St=Ee[1]+V,Rt=Ee[2]+ge,V+=Ee[3],ge+=Ee[4],Q.quadraticCurveTo(St,Rt,V,ge);break;case"T":St!==null&&Rt!==null||(St=V,Rt=ge),St=2*V-St,Rt=2*ge-Rt,V=Ee[1],ge=Ee[2],Q.quadraticCurveTo(St,Rt,V,ge);break;case"t":St!==null&&Rt!==null||(St=V,Rt=ge),St=2*V-St,Rt=2*ge-Rt,V+=Ee[1],ge+=Ee[2],Q.quadraticCurveTo(St,Rt,V,ge);break;case"z":case"Z":V=le.x,ge=le.y,le=void 0,Q.closePath();break;case"AC":V=Ee[1],ge=Ee[2],Ke=Ee[3],fe=Ee[4],pe=Ee[5],oe=Ee[6],Q.arc(V,ge,Ke,fe,pe,oe);break;case"AT":Ce=Ee[1],Te=Ee[2],V=Ee[3],ge=Ee[4],Ke=Ee[5],Q.arcTo(Ce,Te,V,ge,Ke);break;case"E":V=Ee[1],ge=Ee[2],Ye=Ee[3],Qe=Ee[4],ae=Ee[5],fe=Ee[6],pe=Ee[7],oe=Ee[8],Q.save(),Q.translate(V,ge),Q.rotate(ae),Q.scale(Ye,Qe),Q.arc(0,0,1,fe,pe,oe),Q.restore();break;case"R":V=Ee[1],ge=Ee[2],rt=Ee[3],vt=Ee[4],le={x:V,y:ge},Q.rect(V,ge,rt,vt)}me.x=V,me.y=ge}}},y=l,v=g;typeof window<"u"&&v(window);var w={path2dPolyfill:v,parsePath:y}},3277:function(o,e,n){(e=n(6314)(!1)).push([o.id,`@font-face{font-family:luna-data-grid-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAScAAsAAAAAB4wAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAFwAAACGIRYl5k9TLzIAAAFkAAAAPQAAAFZLxUkYY21hcAAAAaQAAADLAAACXsU3J5xnbHlmAAACcAAAACUAAAAwNxN2HmhlYWQAAAKYAAAALgAAADZzjr4QaGhlYQAAAsgAAAAYAAAAJAFyANhobXR4AAAC4AAAABAAAAA8AZAAAGxvY2EAAALwAAAAEAAAACAAnACobWF4cAAAAwAAAAAfAAAAIAEaAA9uYW1lAAADIAAAASkAAAIWm5e+CnBvc3QAAARMAAAATQAAAG/8EX8xeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiA2A9NMDGwMMkAWF1CGFchmB4pxAnncDDxAOQ4kUV4GPqA6RgZmAE91Bj94nGNgZJBmnMDAysDAUMfQAyRloHQCAyeDMQMDEwMrMwNWEJDmmsJwgEH3IxPDCSBXCEwyMDCCCABbKQhrAAAAeJzNkksKwjAQhr+kvqpVxIUL8Qh6KFG3KtLidVx5Bq/VE+g/ySCIILhzhq+Qv8lkHgG6QCFWogPhRsDsKjUkvWCY9A611jOmUiJrNuw5cabh0sbHQ/9M23KQVksLSXu3oPPmcxbypRwGilxQ0qPSTRNl1GfMSHujDvQ+Yny3wY/7SXUX5eueaphSsAz+xar0vftqgnU6Y9VuHE1P3c/YRHdOKfaOVXlwLOrR0YQ1y4zFPzv2OmqnLxpnLC6O+tSGjL2YNmaITyYUHqgAeJxjYGQAgZUM0xmYGBjMlcVXNjtO9wCKoImbA8X9geIAqRwH2QAAAHicY2BkYGAA4hwJ4Yp4fpuvDNwMJ4ACUZyP9zUgaCBYyTAdSHIwMIE4ABioCdgAAHicY2BkYGA4wcAAJ1cyMDKgAn4AOLICS3icY2AAghNQTCIAAFMMAZF4nGNgAAIeBglcEAARPAFFeJxjYGRgYOBnYGYA0QwMTEDMBYQMDP/BfAYACkEBKgB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nF3GOQ6AIBQA0T+44YoX4VAEaNEYCNe3IDa+ZkaUNF//DIqOnoGRCc3MwsrGzoHhlMW7J2Ybrpp023LjcTxEMpbARSVRuEVebe8MtgAAAA==') format('woff')}[class*=' luna-data-grid-icon-'],[class^=luna-data-grid-icon-]{display:inline-block;font-family:luna-data-grid-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-data-grid-icon-caret-down:before{content:'\\f101'}.luna-data-grid-icon-caret-up:before{content:'\\f102'}.luna-data-grid{position:relative;border:1px solid;overflow:hidden;outline:0;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-data-grid .luna-data-grid-hidden,.luna-data-grid.luna-data-grid-hidden{display:none}.luna-data-grid .luna-data-grid-invisible,.luna-data-grid.luna-data-grid-invisible{visibility:hidden}.luna-data-grid *{box-sizing:border-box}.luna-data-grid.luna-data-grid-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-data-grid{font-size:12px}.luna-data-grid table{width:100%;min-height:100%;border-collapse:separate;border-spacing:0;table-layout:fixed}.luna-data-grid td,.luna-data-grid th{padding:1px 4px;border-left:1px solid;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.luna-data-grid td:first-child,.luna-data-grid th:first-child{border-left:none}.luna-data-grid th{font-weight:400;border-bottom:1px solid;text-align:left;position:relative}.luna-data-grid th.luna-data-grid-sortable{padding-right:12px}.luna-data-grid th .luna-data-grid-icon-caret-down,.luna-data-grid th .luna-data-grid-icon-caret-up{font-size:12px;position:absolute;display:none;top:6px;right:2px}.luna-data-grid td{height:20px;cursor:default;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-data-grid:focus .luna-data-grid-node.luna-data-grid-selectable.luna-data-grid-selected{color:#fff}.luna-data-grid-data-container,.luna-data-grid-header-container{overflow:hidden}.luna-data-grid-header-container{height:21px}.luna-data-grid-data-container{overflow-y:auto;position:relative}.luna-data-grid-data-space{min-height:100%}.luna-data-grid-data{position:absolute;left:0;top:0}.luna-data-grid-filler-row td{height:auto}.luna-data-grid-resizer{position:absolute;top:0;bottom:0;width:5px;z-index:500;touch-action:none;cursor:col-resize}.luna-data-grid-resizing{cursor:col-resize!important}.luna-data-grid-resizing .luna-data-grid *{cursor:col-resize!important}.luna-data-grid-theme-light{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-data-grid-theme-light td,.luna-data-grid-theme-light th{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-data-grid-theme-light th{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-data-grid-theme-light th.luna-data-grid-sortable:hover{background-color:rgba(0,0,0,.15);background-color:var(--luna-color-fill,rgba(0,0,0,.15))}.luna-data-grid-theme-light .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selectable:hover,.luna-data-grid-theme-light .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background-color:#ddd}.luna-data-grid-theme-light .luna-data-grid-data-container tr:nth-child(even){background-color:#f2f7fd}.luna-data-grid-theme-light:focus .luna-data-grid-node.luna-data-grid-selectable.luna-data-grid-selected{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-data-grid-theme-dark{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-data-grid-theme-dark td,.luna-data-grid-theme-dark th{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-data-grid-theme-dark th{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-data-grid-theme-dark th.luna-data-grid-sortable:hover{background-color:hsla(0,0%,100%,.18);background-color:var(--luna-color-fill,rgba(255,255,255,.18))}.luna-data-grid-theme-dark .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selectable:hover,.luna-data-grid-theme-dark .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background-color:#393939}.luna-data-grid-theme-dark .luna-data-grid-data-container tr:nth-child(even){background-color:#0b2544}.luna-data-grid-theme-dark:focus .luna-data-grid-node.luna-data-grid-selectable.luna-data-grid-selected{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}`,""]),o.exports=e},3290:function(o,e,n){var r=n(975);e=function(a){var s,l=window.location,c=l.hostname,u=l.pathname,h=c.split("."),f=u.split("/"),d="",p=f.length;if(!O())for(var g=h.length-1;g>=0;g--){var y=h[g];if(y!==""){if(O({domain:d=d===""?y:y+"."+d,path:s="/"})||O({domain:d}))return;for(var v=0;v<p;v++){var w=f[v];if(w!==""&&(O({domain:d,path:s+=w})||O({path:s})||O({domain:d,path:s+="/"})||O({path:s})))return}}}function O(k){return k=k||{},r.remove(a,k),!r.get(a)}},o.exports=e},3411:function(o,e,n){var r,a=this&&this.__extends||(r=function(Z,R){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,de){ae.__proto__=de}||function(ae,de){for(var H in de)Object.prototype.hasOwnProperty.call(de,H)&&(ae[H]=de[H])},r(Z,R)},function(Z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function ae(){this.constructor=Z}r(Z,R),Z.prototype=R===null?Object.create(R):(ae.prototype=R.prototype,new ae)}),s=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(e,"__esModule",{value:!0}),e.FetchRequest=e.XhrRequest=void 0,e.fullUrl=te;var l=s(n(2263)),c=s(n(1738)),u=s(n(3497)),h=s(n(6032)),f=s(n(9464)),d=s(n(9405)),p=s(n(3981)),g=s(n(9100)),y=s(n(1009)),v=s(n(6030)),w=n(916),O=(function(Z){function R(ae,de,H){var ne=Z.call(this)||this;return ne.xhr=ae,ne.reqHeaders={},ne.method=de,ne.url=te(H),ne.id=(0,w.createId)(),ae.addEventListener("readystatechange",(function(){ae.readyState===2?ne.handleHeadersReceived():ae.readyState===4&&(ae.status===0?ne.handleError():ne.handleDone())})),ne}return a(R,Z),R.prototype.toJSON=function(){return{method:this.method,url:this.url,id:this.id}},R.prototype.handleSend=function(ae){(0,c.default)(ae)||(ae=""),ae={name:pe(this.url),url:this.url,data:ae,time:(0,p.default)(),reqHeaders:this.reqHeaders,method:this.method},(0,f.default)(this.reqHeaders)||(ae.reqHeaders=this.reqHeaders),this.emit("send",this.id,ae)},R.prototype.handleReqHeadersSet=function(ae,de){ae&&de&&(this.reqHeaders[ae]=de)},R.prototype.handleHeadersReceived=function(){var ae=this.xhr,de=fe(ae.getResponseHeader("Content-Type")||"");this.emit("headersReceived",this.id,{type:de.type,subType:de.subType,size:J(ae,!0,this.url),time:(0,p.default)(),resHeaders:G(ae)})},R.prototype.handleDone=function(){var ae,de,H,ne=this,V=this.xhr,Ce=V.responseType,ge="",Te=function(){ne.emit("done",ne.id,{status:V.status,size:J(V,!1,ne.url),time:(0,p.default)(),resTxt:ge})},Ke=fe(V.getResponseHeader("Content-Type")||"");Ce!=="blob"||Ke.type!=="text"&&Ke.subType!=="javascript"&&Ke.subType!=="json"?(Ce!==""&&Ce!=="text"||(ge=V.responseText),Ce==="json"&&(ge=JSON.stringify(V.response)),Te()):(ae=V.response,de=function(Ye,Qe){Qe&&(ge=Qe),Te()},(H=new FileReader).onload=function(){de(null,H.result)},H.onerror=function(Ye){de(Ye)},H.readAsText(ae))},R.prototype.handleError=function(){this.emit("error",this.id,{errorText:"Network error",time:(0,p.default)()})},R})(l.default);e.XhrRequest=O;var k=(function(Z){function R(ae,de){de===void 0&&(de={});var H=Z.call(this)||this,ne=ae instanceof window.Request,V=ne?ae.url:ae;return H.url=te(V),H.id=(0,w.createId)(),H.options=de,H.reqHeaders=de.headers||(ne?ae.headers:{}),H.method=de.method||(ne?ae.method:"GET"),H}return a(R,Z),R.prototype.send=function(ae){var de=this,H=this.options,ne=(0,c.default)(H.body)?H.body:"";this.emit("send",this.id,{name:pe(this.url),url:this.url,data:ne,reqHeaders:this.reqHeaders,time:(0,p.default)(),method:this.method}),ae.then((function(V){var Ce=fe((V=V.clone()).headers.get("Content-Type"));return V.text().then((function(ge){var Te={type:Ce.type,subType:Ce.subType,time:(0,p.default)(),size:E(V,ge),resTxt:ge,resHeaders:I(V),status:V.status};(0,f.default)(de.reqHeaders)||(Te.reqHeaders=de.reqHeaders),de.emit("done",de.id,Te)})),V})).catch((function(V){de.emit("error",de.id,{errorText:V.message,time:(0,p.default)()})}))},R})(l.default);function E(Z,R){var ae=Z.headers.get("Content-length");return ae?(0,v.default)(ae):N(R)}function I(Z){var R={};return Z.headers.forEach((function(ae,de){return R[de]=ae})),R}function G(Z){var R=Z.getAllResponseHeaders().split(`
`),ae={};return(0,g.default)(R,(function(de){if((de=(0,d.default)(de))!==""){var H=de.split(":",2),ne=H[0],V=H[1];ae[ne]=(0,d.default)(V)}})),ae}function J(Z,R,ae){var de=0;function H(){if(!R){var ne=Z.responseType,V="";ne!==""&&ne!=="text"||(V=Z.responseText),V&&(de=N(V))}}if((function(ne){return!(0,y.default)(ne,ee)})(ae))H();else try{de=(0,v.default)(Z.getResponseHeader("Content-Length"))}catch{H()}return de===0&&H(),de}e.FetchRequest=k;var Q=document.createElement("a");function te(Z){return Q.href=Z,Q.protocol+"//"+Q.host+Q.pathname+Q.search+Q.hash}function pe(Z){var R=(0,u.default)(Z.split("/"));return R.indexOf("?")>-1&&(R=(0,d.default)(R.split("?")[0])),R===""&&(R=new h.default(Z).hostname),R}function fe(Z){if(!Z)return{type:"unknown",subType:"unknown"};var R=Z.split(";")[0].split("/");return{type:R[0],subType:(0,u.default)(R)}}var ee=window.location.origin;function N(Z){var R=encodeURIComponent(Z).match(/%[89ABab]/g);return Z.length+(R?R.length:0)}},3422:function(o,e){e=function(n){return n==null},o.exports=e},3497:function(o,e){e=function(n){var r=n?n.length:0;if(r)return n[r-1]},o.exports=e},3539:function(o,e){e=function(){for(var n=arguments,r=n[0],a=1,s=n.length;a<s;a++)n[a]>r&&(r=n[a]);return r},o.exports=e},3578:function(o,e,n){n.d(e,{A:function(){return P}});var r=n(7528),a=n(7800);function s(U,K){return(function(z){if(Array.isArray(z))return z})(U)||(function(z,X){var re=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(re!=null){var Se,Be,Ge,et,ct=[],We=!0,Tt=!1;try{if(Ge=(re=re.call(z)).next,X===0){if(Object(re)!==re)return;We=!1}else for(;!(We=(Se=Ge.call(re)).done)&&(ct.push(Se.value),ct.length!==X);We=!0);}catch(It){Tt=!0,Be=It}finally{try{if(!We&&re.return!=null&&(et=re.return(),Object(et)!==et))return}finally{if(Tt)throw Be}}return ct}})(U,K)||(0,a.A)(U,K)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}var l=n(3029),c=n(2901),u=n(388),h=n(3954),f=n(991),d=n(5361),p=n(5902),g=n.n(p),y=n(2561),v=n.n(y),w=n(3249),O=n.n(w),k=n(1009),E=n.n(k),I=n(4950),G=n.n(I),J=n(9100),Q=n.n(J),te=n(1580),pe=n.n(te),fe=n(9464),ee=n.n(fe),N=n(15),Z=n.n(N),R=n(9931),ae=n.n(R);function de(U){return U.constructor&&U.constructor.name?U.constructor.name:ae()({}.toString.call(U).replace(/(\[object )|]/g,""))}var H=n(3915),ne=n.n(H),V=n(9405),Ce=n.n(V),ge=n(5169),Te=n.n(ge),Ke=n(9548),Ye=n.n(Ke),Qe=n(6097),rt=n.n(Qe),vt=n(6030),it=n.n(vt),yt=n(5004),xt=n.n(yt),Ct=(n(9410),n(8609)),St=n.n(Ct);function Rt(U){var K="luna-".concat(U,"-");function z(X){return ne()(Ce()(X).split(/\s+/),(function(re){return O()(re,K)?re:re.replace(/[\w-]+/,(function(Se){return"".concat(K).concat(Se)}))})).join(" ")}return function(X){if(/<[^>]*>/g.test(X))try{var re=Ye().parse(X);return oe(re,(function(Se){Se.attrs&&Se.attrs.class&&(Se.attrs.class=z(Se.attrs.class))})),Ye().stringify(re)}catch{return z(X)}return z(X)}}function oe(U,K){for(var z=0,X=U.length;z<X;z++){var re=U[z];K(re),re.content&&oe(re.content,K)}}Te();function je(U){var K=window.getSelection();if(!K||K.type!=="Range"||K.toString()==="")return!1;var z=K.anchorNode,X=K.focusNode;return K.containsNode(U,!0)||z&&U.contains(z)||X&&U.contains(X)}var ze=Rt("console");function he(U){var K,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=z.topObj,re=z.level,Se=re===void 0?0:re,Be=z.getterVal,Ge=Be!==void 0&&Be,et=z.unenumerable,ct=et===void 0||et,We="",Tt="",It=[],Wt=[],Ut="";X=X||U;var Ht={getterVal:Ge,unenumerable:ct,level:Se+1},un=Se===0,bn='<span class="'.concat(ze("key"),'">'),Tn='<span class="'.concat(ze("number"),'">'),Rn='<span class="'.concat(ze("null"),'">'),kn='<span class="'.concat(ze("string"),'">'),vn='<span class="'.concat(ze("boolean"),'">'),Mn='<span class="'.concat(ze("special"),'">'),ir=function(Jn){return g()(Jn).replace(/\\n/g,"").replace(/\\f|\\r|\\t/g,"").replace(/\\/g,"")},Ln="</span>";function Kn(Jn){return Jn=v()(Jn),O()(le,Jn)||E()(Jn,"Array[")?Mn+ir(Jn)+Ln:(Jn.length>100&&(Jn=Z()(Jn,100,{separator:" ",ellipsis:""})),kn+ir('"'.concat(Jn,'"'))+Ln)}function ar(Jn){if(K>5)Ut=", ";else{var ui=(function(er){return bn+ir(er)+Ln})(Xe(Jn));if(!Ge){var ri=Object.getOwnPropertyDescriptor(U,Jn);if(ri&&ri.get)return It.push("".concat(ui,": ").concat(Kn("(...)"))),void K++}It.push("".concat(ui,": ").concat(he(X[Jn],Ht))),K++}}try{Tt={}.toString.call(U)}catch{Tt="[object Object]"}var Er,$r=Tt=="[object Array]",Wr=Tt=="[object Object]",Xr=Tt=="[object Number]",Yr=Tt=="[object RegExp]",zr=Tt=="[object Symbol]",br=Tt=="[object Function]",wr=Tt=="[object Boolean]";if(Tt=="[object String]")We=Kn(Xe(U));else if(Yr)Er=Xe(U.toString()),We=kn+Er+Ln;else if(br)We=Kn("");else if($r)if(un){We="[";var li=U.length,ci="";li>100&&(li=100,ci=", ");for(var Fr=0;Fr<li;Fr++)It.push("".concat(he(U[Fr],Ht)));We+=It.join(", ")+ci+"]"}else We="Array(".concat(U.length,")");else if(Wr)me(U)&&(U=Object.getPrototypeOf(U)),Wt=ct?Object.getOwnPropertyNames(U):Object.keys(U),un?(K=1,We="{",Q()(Wt,ar),We+=It.join(", ")+Ut+"}"):(We=de(U))==="Object"&&(We="{}");else if(Xr)We=U+"",We=pe()(We,"Infinity")||We==="NaN"?'"'.concat(We,'"'):Tn+We+Ln;else if(wr)We=vn+(U?"true":"false")+Ln;else if(U===null)We=(function(Jn){return Rn+Jn+Ln})("null");else if(zr)We=Kn("Symbol");else if(U===void 0)We=Kn("undefined");else try{me(U)&&(U=Object.getPrototypeOf(U)),un?(K=1,We="{",Wt=ct?Object.getOwnPropertyNames(U):Object.keys(U),Q()(Wt,ar),We+=It.join(", ")+Ut+"}"):(We=de(U))==="Object"&&(We="{}")}catch{We=Kn(U)}return We}var le=["(...)","undefined","Symbol","Object",""];function me(U){var K=ee()(Object.getOwnPropertyNames(U)),z=Object.getPrototypeOf(U);return K&&z&&z!==Object.prototype}function Xe(U){return G()(U).replace(/\\'/g,"'").replace(/\t/g,"\\t")}var Ee,Re=n(6911),at=n(2388),Ve=n(5784),qe=n(4095),ot=n.n(qe),Pt=n(9760),Et=n.n(Pt),Ft=n(1738),ve=n.n(Ft),T=n(2650),F=n.n(T),ye=n(7696),De=n.n(ye),$e=n(5651),Ze=n.n($e),Oe=n(2708),bt=n.n(Oe),ht=n(6631),q=n.n(ht),dt=n(4069),gt=n.n(dt),be=n(4236),Ne=n.n(be),Pe=n(8971),Me=n.n(Pe),Ue=n(3957),Y=n.n(Ue),D=n(769),W=n.n(D),_e=n(6214),ce=n.n(_e),st=n(438),Ot=n.n(st),Gt=n(8420),On=n.n(Gt),yn=n(96),Kt=n.n(yn),Vt=n(3145),an=n.n(Vt),$t=n(3693),Lt=n.n($t),nt=n(5241),Nt=n.n(nt),wt=n(2263),Bt=n.n(wt),kt=n(4534),Qt=n.n(kt),jt=n(8032),fn=n.n(jt),Zt=n(4844),rn=n.n(Zt),ln=n(4801),Jt=n.n(ln),xn=n(9041),mn=n.n(xn),gn=n(8091),_n=n.n(gn),Sn=n(4249),En=n.n(Sn),wn=n(2797),An=n.n(wn),Bn=n(5773),jn=n.n(Bn),tr=n(4433),nr=n.n(tr),Un=n(5630),rr=n.n(Un),Yn=n(6493),Gn=n.n(Yn),Cn=n(9350),hr=n.n(Cn),Mr=n(1976),Sr=n.n(Mr);function _r(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(_r=function(){return!!U})()}var Jr=/https?:\/\/([0-9.\-A-Za-z]+)(?::(\d+))?\/[A-Z.a-z0-9/]*\.js/g,Br={comment:"",string:"",number:"",keyword:"",operator:""},Vn=(function(U){function K(z,X){var re,Se,Be,Ge,et=X.type,ct=et===void 0?"log":et,We=X.args,Tt=We===void 0?[]:We,It=X.id,Wt=X.group,Ut=X.targetGroup,Ht=X.header,un=X.ignoreFilter,bn=un!==void 0&&un,Tn=X.accessGetter,Rn=X.unenumerable,kn=X.lazyEvaluation;(0,l.A)(this,K),Se=this,Be=K,Be=(0,h.A)(Be),(re=(0,u.A)(Se,_r()?Reflect.construct(Be,[],(0,h.A)(Se).constructor):Be.apply(Se,Ge))).container=Nt()("div"),re.count=1,re.width=0,re.height=0,re.isHidden=!1,re.columns=[],re.elements={},re.objects={},re.console=z,re.type=ct,re.group=Wt,re.targetGroup=Ut,re.args=Tt,re.id=It,re.header=Ht,re.ignoreFilter=bn,re.collapsed=!1,re.container.log=re,re.height=0,re.width=0,re.$container=Lt()(re.container),re.accessGetter=Tn,re.unenumerable=Rn,re.lazyEvaluation=kn;var vn="info";switch(ct){case"debug":vn="verbose";break;case"error":vn="error";break;case"warn":vn="warning"}return re.level=vn,re.resizeSensor=new(ot())(re.container),re.onResize=Qt()((function(){St()(re.container)?re.isHidden=!0:(re.isHidden||re.updateSize(!1),re.isHidden=!1)}),16),re.formatMsg(),re.group&&re.checkGroup(),re.bindEvent(),re}return(0,d.A)(K,U),(0,c.A)(K,[{key:"checkGroup",value:function(){for(var z=this.group,X=!1;z;){if(z.collapsed){X=!0;break}z=z.parent}return X!==this.collapsed&&(this.collapsed=X,!0)}},{key:"updateIcon",value:function(z){var X=this.console.c;return this.$container.find(X(".icon-container")).find(X(".icon")).rmAttr("class").addClass([X("icon"),X("icon-".concat(z))]),this}},{key:"addCount",value:function(){this.count++;var z=this.$container,X=this.count,re=this.console.c,Se=z.find(re(".count-container")),Be=z.find(re(".icon-container")),Ge=Se.find(re(".count"));return X===2&&Se.rmClass(re("hidden")),Ge.text(v()(X)),Be.addClass(re("hidden")),this}},{key:"groupEnd",value:function(){var z=this.$container,X=this.console.c;return z.find(".".concat(X("nesting-level"),":not(.").concat(X("group-closed"),")")).last().addClass(X("group-closed")),this}},{key:"updateTime",value:function(z){var X=this.$container.find(this.console.c(".time-container"));return this.header&&(X.find("span").eq(0).text(z),this.header.time=z),this}},{key:"isAttached",value:function(){return!!this.container.parentNode}},{key:"isSimple",value:function(){return!An()(this.args,(function(z){return Et()(z)}))}},{key:"updateSize",value:function(){var z=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],X=this.container.getBoundingClientRect(),re=X.width,Se=X.height-1;this.height!==Se&&(this.height=Se,z||this.emit("updateHeight")),this.width!==re&&(this.width=re)}},{key:"html",value:function(){return this.container.outerHTML}},{key:"text",value:function(){return this.content.textContent||""}},{key:"select",value:function(){this.$container.addClass(this.console.c("selected"))}},{key:"deselect",value:function(){this.$container.rmClass(this.console.c("selected"))}},{key:"copy",value:function(){var z=this.args,X="";Q()(z,(function(re,Se){Se!==0&&(X+=" "),Et()(re)?X+=fn()(re):X+=v()(re)})),rn()(X)}},{key:"bindEvent",value:function(){var z=this,X=this.console.c,re=this;this.resizeSensor.addListener(this.onResize),this.$container.on("click",X(".dom-viewer"),(function(Se){return Se.stopPropagation()})).on("click",X(".preview"),(function(Se){if(Se.stopPropagation(),!je(this)){var Be=Lt()(this).find(X(".preview-icon-container")).find(X(".icon")),Ge="caret-down";Be.hasClass(X("icon-caret-down"))&&(Ge="caret-right"),Be.rmAttr("class").addClass([X("icon"),X("icon-".concat(Ge))]),re.renderObjectViewer(this)}})).on("click",(function(){return z.click()}))}},{key:"renderEl",value:function(){var z=this.elements,X=this.console.c,re=this;this.$container.find(X(".dom-viewer")).each((function(){var Se=Lt()(this).data("id");new Ve.A(this,{node:z[Se],theme:re.console.getOption("theme")})}))}},{key:"renderObjectViewer",value:function(z){var X=this.console,re=this.unenumerable,Se=this.accessGetter,Be=this.lazyEvaluation,Ge=X.c,et=Lt()(z),ct=et.data("id");if(ct){var We=this.objects[ct],Tt=et.find(Ge(".json"));if(Tt.hasClass(Ge("hidden"))){if(Tt.data("init")!=="true"){if(Be){var It=new Re.A(Tt.get(0),{unenumerable:re,accessGetter:Se});It.setOption("theme",X.getOption("theme")),It.set(We)}else{var Wt=new Re.j(Tt.get(0));Wt.setOption("theme",X.getOption("theme")),Wt.set(We)}Tt.data("init","true")}Tt.rmClass(Ge("hidden"))}else Tt.addClass(Ge("hidden"))}}},{key:"renderTable",value:function(z){var X=this,re="__LunaConsoleValue",Se=this.columns,Be=this.$container,Ge=this.console,et=Ge.c,ct=Be.find(et(".data-grid")),We=z[0],Tt=new at.A(ct.get(0),{columns:gt()([{id:"(index)",title:"(index)",sortable:!0}],ne()(Se,(function(It){return{id:It,title:It===re?"Value":It,sortable:!0}}))),theme:Ge.getOption("theme")});Q()(We,(function(It,Wt){var Ut={"(index)":v()(Wt)};Se.forEach((function(Ht){Et()(It)?Ut[Ht]=Ht===re?"":X.formatTableVal(It[Ht]):De()(It)&&(Ut[Ht]=Ht===re?X.formatTableVal(It):"")})),Tt.append(Ut)}))}},{key:"extractObj",value:function(z){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=arguments.length>2?arguments[2]:void 0,Se=this.accessGetter,Be=this.unenumerable;Ze()(X,{accessGetter:Se,unenumerable:Be,symbol:Be,timeout:1e3}),(function(Ge,et,ct){var We=Jt()(Ge,et);mn()((function(){return ct(We)}))})(z,X,(function(Ge){return re(JSON.parse(Ge))}))}},{key:"click",value:function(){var z=this.type,X=this.$container,re=this.console,Se=re.c;switch(z){case"log":case"warn":case"info":case"debug":case"output":case"table":case"dir":break;case"group":case"groupCollapsed":je(this.container)||re.toggleGroup(this);break;case"error":je(this.container)||X.find(Se(".stack")).toggleClass(Se("hidden"))}}},{key:"formatMsg",value:function(){var z=this.args,X=this.type,re=this.id,Se=this.header,Be=this.group,Ge=this.console.c;z=On()(z);var et,ct,We="";switch(X!=="group"&&X!=="groupCollapsed"||z.length===0&&(z=["console.group"]),X){case"log":case"info":case"debug":We=this.formatCommon(z);break;case"dir":We=this.formatDir(z);break;case"warn":et="warn",We=this.formatCommon(z);break;case"error":ve()(z[0])&&z.length!==1&&(z=this.substituteStr(z)),ct=z[0],et="error",ct=F()(ct)?ct:new Error(this.formatCommon(z)),We=this.formatErr(ct);break;case"table":We=this.formatTable(z);break;case"html":We=z[0];break;case"input":We=this.formatJs(z[0]),et="input";break;case"output":We=this.formatCommon(z),et="output";break;case"groupCollapsed":We=this.formatCommon(z),et="caret-right";break;case"group":We=this.formatCommon(z),et="caret-down"}O()(["log","debug","warn"],X)&&this.isSimple()&&(We=_n()(We,(function(Tt){return'<a href="'.concat(Tt,'" target="_blank">').concat(Tt,"</a>")}))),We=this.render({msg:We,type:X,icon:et,id:re,header:Se,group:Be}),this.$container.addClass("".concat(Ge("log-container"))).html(We),X==="table"&&(ee()(this.columns)||this.renderTable(z)),ee()(this.elements)||this.renderEl(),this.$content=this.$container.find(Ge(".log-content")),this.content=this.$content.get(0)}},{key:"render",value:function(z){var X=this.console.c,re="",Se="";if(z.group)for(var Be=z.group.indentLevel,Ge=0;Ge<Be;Ge++)Se+='<div class="'.concat(X("nesting-level"),'"></div>');z.header&&(re+=jn()(Ee||(Ee=(0,r.A)([`
      <div class="`,`">
        `,`
        <div class="`,`">
          <span>`,"</span> <span>",`</span>
        </div>
      </div>`])),X("header"),Se,X("time-from-container"),z.header.time,z.header.from));var et="";return z.icon&&(et='<div class="'.concat(X("icon-container"),'"><span class="').concat(X("icon icon-"+z.icon),'"></span></div>')),re+=`
    <div class="`.concat(X(z.type+" log-item"),`">
      `).concat(Se,`
      `).concat(et,`
      <div class="`).concat(X("count-container hidden"),`">
        <div class="`).concat(X("count"),`"></div>
      </div>    
      <div class="`).concat(X("log-content-wrapper"),`">
        <div class="`).concat(X("log-content"),'">').concat(z.msg,`</div>
      </div>
    </div>`)}},{key:"formatTable",value:function(z){var X=z[0],re=z[1],Se=[];return ve()(re)&&(re=W()(re)),ce()(re)||(re=null),Et()(X)?(Q()(X,(function(Be){De()(Be)?Se.push("__LunaConsoleValue"):Et()(Be)&&(Se=Se.concat(an()(Be)))})),(Se=Ot()(Se)).sort(),re&&(Se=Se.filter((function(Be){return O()(re,Be)}))),Se.length>20&&(Se=Se.slice(0,20)),ee()(Se)?this.formatCommon(z):(this.columns=Se,this.console.c('<div class="data-grid"></div>')+this.formatPreview(X))):this.formatCommon(z)}},{key:"formatErr",value:function(z){var X=z.stack?z.stack.split(`
`):[],re=z.name?"".concat(z.name,": "):"";return re+="".concat(z.message||X[0],"<br/>"),X=X.map((function(Se){return g()(Se)})),re+'<div class="'.concat(this.console.c("stack hidden"),'">').concat(X.slice(1).join("<br/>"),"</div>").replace(Jr,(function(Se){return'<a href="'.concat(Se,'" target="_blank">').concat(Se,"</a>")}))}},{key:"formatCommon",value:function(z){var X=this.console.c,re=ve()(z[0])&&z.length!==1;re&&(z=this.substituteStr(z));for(var Se=0,Be=z.length;Se<Be;Se++){var Ge=z[Se];bt()(Ge)?z[Se]=this.formatEl(Ge):Y()(Ge)?z[Se]=this.formatFn(Ge):Sr()(Ge)?z[Se]='<span class="'.concat(X("regexp"),'">').concat(g()(v()(Ge)),"</span>"):Et()(Ge)?z[Se]=this.formatPreview(Ge):Me()(Ge)?z[Se]='<span class="'.concat(X("undefined"),'">undefined</span>'):Ne()(Ge)?z[Se]='<span class="'.concat(X("null"),'">null</span>'):rt()(Ge)?z[Se]='<span class="'.concat(X("number"),'">').concat(v()(Ge),"</span>"):typeof Ge=="bigint"?z[Se]='<span class="'.concat(X("number"),'">').concat(v()(Ge),"n</span>"):Gn()(Ge)?z[Se]='<span class="'.concat(X("boolean"),'">').concat(v()(Ge),"</span>"):hr()(Ge)?z[Se]='<span class="'.concat(X("symbol"),'">').concat(g()(v()(Ge)),"</span>"):(Ge=v()(Ge),Se===0&&re||(Ge=g()(Ge)),Ge.length>5e3&&(Ge=Z()(Ge,5e3,{separator:" ",ellipsis:""})),z[Se]=Ge)}return z.join(" ")}},{key:"formatDir",value:function(z){return Et()(z[0])?this.formatPreview(z[0]):this.formatCommon(z)}},{key:"formatTableVal",value:function(z){var X=this.console.c;return Et()(z)?"{}":De()(z)?nr()('<div class="'.concat(X("preview"),'">').concat(he(z),"</div>")):v()(z)}},{key:"formatPreview",value:function(z){var X=this,re=this.console.c,Se=rr()();this.lazyEvaluation?this.objects[Se]=z:this.extractObj(z,{},(function(et){X.objects[Se]=et}));var Be=O()(["dir","table"],this.type),Ge=de(z);return Ge==="Array"&&z.length>1?(Ge="(".concat(z.length,")"),Be&&(Ge="Array".concat(Ge))):Ge==="RegExp"?Ge=v()(z):bt()(z)&&(Ge=this.formatElName(z)),'<div class="'.concat(re("preview"),'" data-id="').concat(Se,'">')+'<div class="'.concat(re("preview-container"),'">')+'<div class="'.concat(re("preview-icon-container"),'"><span class="').concat(re("icon icon-caret-right"),'"></span></div>')+'<span class="'.concat(re("preview-content-container"),'">')+'<span class="'.concat(re("descriptor"),'">').concat(g()(Ge),"</span> ")+'<span class="'.concat(re("object-preview"),'">').concat(Be?"":he(z,{getterVal:this.accessGetter,unenumerable:!1}),"</span>")+"</span></div>"+'<div class="'.concat(re("json hidden"),'"></div></div>')}},{key:"substituteStr",value:function(z){var X=g()(z[0]),re=!1,Se="";z.shift();for(var Be=0,Ge=X.length;Be<Ge;Be++){var et=X[Be];if(et==="%"&&z.length!==0){Be++;var ct=z.shift();switch(X[Be]){case"i":case"d":Se+=q()(ct);break;case"f":Se+=it()(ct);break;case"s":Se+=v()(ct);break;case"O":Et()(ct)?Se+=this.formatPreview(ct):Se+=v()(ct);break;case"o":bt()(ct)?Se+=this.formatEl(ct):Et()(ct)?Se+=this.formatPreview(ct):Se+=v()(ct);break;case"c":if(X.length<=Be+1)break;re&&(Se+="</span>"),re=!0,Se+='<span style="'.concat(Ir(ct),'">');break;default:Be--,z.unshift(ct),Se+=et}}else Se+=et}return re&&(Se+="</span>"),z.unshift(Se),z}},{key:"formatJs",value:function(z){var X=En()(z,"js",Br);return X!==z&&(X=this.console.c(X)),'<pre class="'.concat(this.console.c("code"),'">').concat(X,"</pre>")}},{key:"formatFn",value:function(z){return'<pre style="display:inline">'.concat(this.formatJs(z.toString()),"</pre>")}},{key:"formatElName",value:function(z){var X=z.id,re=z.className,Se=z.tagName.toLowerCase();if(X!==""&&(Se+="#".concat(X)),ve()(re)){var Be="";Q()(re.split(/\s+/g),(function(Ge){Ge.trim()!==""&&(Be+=".".concat(Ge))})),Se+=Be}return Se}},{key:"formatEl",value:function(z){var X=rr()();return this.elements[X]=z,this.console.c('<div class="dom-viewer" data-id="'.concat(X,'"></div>'))}}])})(Bt());function Ir(U){var K=(U=Kt()(U)).split(";"),z={};Q()(K,(function(re){if(O()(re,":")){var Se=s(re.split(":"),2),Be=Se[0],Ge=Se[1];z[Ce()(Be)]=Ce()(Ge)}})),z.display="inline-block",z["max-width"]="100%",delete z.width,delete z.height;var X="";return Q()(z,(function(re,Se){X+="".concat(Se,":").concat(re,";")})),X}var In=n(5820),yr=n.n(In),Hn=n(3981),Lr=n.n(Hn),qr=n(8105),zn=n.n(qr),mr=n(7005),Zr=n.n(mr),Fn=n(3497),ei=n.n(Fn),sr=n(5865),Vr=n.n(sr),ti=n(8862),oi=n.n(ti),ai=n(7030),Or=n.n(ai),Dr=n(961),si=n.n(Dr),ni=n(7e3),Ar=n.n(ni);function vr(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(vr=function(){return!!U})()}var qn,Nr=(function(U){function K(z,X){var re,Se,Be=X.compName,Ge=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,et=Ge===void 0?"light":Ge;return(0,l.A)(this,K),re=(function(ct,We,Tt){return We=(0,h.A)(We),(0,u.A)(ct,vr()?Reflect.construct(We,[],(0,h.A)(ct).constructor):We.apply(ct,Tt))})(this,K),re.subComponents=[],re.theme="",re.onThemeChange=function(ct){re.options.theme==="auto"&&re.setTheme(ct)},re.compName=Be,re.c=Rt(Be),re.options={},re.container=z,re.$container=Lt()(z),re.$container.addClass(["luna-".concat(Be),re.c("platform-".concat((Se=xt()(),Se==="os x"?"mac":Se)))]),re.on("changeOption",(function(ct,We){if(ct==="theme"&&We){var Tt=We;We==="auto"&&(Tt=Ar().get()),re.setTheme(Tt),Q()(re.subComponents,(function(It){return It.setOption("theme",We)}))}})),Ar().on("change",re.onThemeChange),re.setOption("theme",et),re}return(0,d.A)(K,U),(0,c.A)(K,[{key:"destroy",value:function(){var z=this;this.destroySubComponents();var X=this.$container,re=X.attr("class");Q()(re.split(/\s+/),(function(Se){E()(Se,"luna-".concat(z.compName))&&X.rmClass(Se)})),X.html(""),this.emit("destroy"),this.removeAllListeners(),Ar().off("change",this.onThemeChange)}},{key:"setOption",value:function(z,X){var re=this,Se=this.options,Be={};typeof z=="string"?Be[z]=X:Be=z,Q()(Be,(function(Ge,et){var ct=Se[et];Se[et]=Ge,Ge!==ct&&re.emit("changeOption",et,Ge,ct)}))}},{key:"getOption",value:function(z){return this.options[z]}},{key:"addSubComponent",value:function(z){z.setOption("theme",this.options.theme),this.subComponents.push(z)}},{key:"removeSubComponent",value:function(z){si()(this.subComponents,(function(X){return X===z}))}},{key:"destroySubComponents",value:function(){Q()(this.subComponents,(function(z){return z.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(z){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ze()(z,X),zn()(this.options,z)}},{key:"find",value:function(z){return this.$container.find(this.c(z))}},{key:"setTheme",value:function(z){var X=this.c,re=this.$container;this.theme&&re.rmClass(X("theme-".concat(this.theme))),re.addClass(X("theme-".concat(z))),this.theme=z}}])})(Bt()),cn=n(2228),mt=n.n(cn);function Cr(){try{var U=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Cr=function(){return!!U})()}o=n.hmd(o);var Tr=navigator.userAgent,Pr=Tr.indexOf("Android")>-1||Tr.indexOf("Adr")>-1,b=0,P=(function(U){function K(z){var X,re,Se,Be,Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,l.A)(this,K),re=this,Se=K,Be=[z,{compName:"console"},Ge],Se=(0,h.A)(Se),(X=(0,u.A)(re,Cr()?Reflect.construct(Se,Be||[],(0,h.A)(re).constructor):Se.apply(re,Be))).spaceHeight=0,X.topSpaceHeight=0,X.bottomSpaceHeight=0,X.lastScrollTop=0,X.lastTimestamp=0,X.speedToleranceFactor=100,X.maxSpeedTolerance=2e3,X.minSpeedTolerance=100,X.logs=[],X.displayLogs=[],X.timer={},X.counter={},X.asyncList=[],X.asyncTimer=null,X.isAtBottom=!0,X.groupStack=new(Zr()),X.selectedLog=null,X.onScroll=function(){var et=X.container,ct=et.scrollHeight,We=et.offsetHeight,Tt=et.scrollTop;if(!(Tt<=0||We+Tt>ct)){var It=!1;(ct===We||Math.abs(ct-We-Tt)<1)&&(It=!0),X.isAtBottom=It;var Wt=X.lastScrollTop,Ut=X.lastTimestamp,Ht=Lr()(),un=Ht-Ut,bn=Tt-Wt,Tn=Math.abs(bn/un)*X.speedToleranceFactor;un>1e3&&(Tn=1e3),Tn>X.maxSpeedTolerance&&(Tn=X.maxSpeedTolerance),Tn<X.minSpeedTolerance&&(Tn=X.minSpeedTolerance),X.lastScrollTop=Tt,X.lastTimestamp=Ht;var Rn=0,kn=0;Wt<Tt?(Rn=X.minSpeedTolerance,kn=Tn):(Rn=Tn,kn=X.minSpeedTolerance),X.topSpaceHeight<Tt-Rn&&X.topSpaceHeight+X.el.offsetHeight>Tt+We+kn||X.renderViewport({topTolerance:2*Rn,bottomTolerance:2*kn})}},X.initTpl(),X.initOptions(Ge,{maxNum:0,asyncRender:!0,showHeader:!1,filter:"",level:["verbose","info","warning","error"],accessGetter:!1,unenumerable:!0,lazyEvaluation:!0}),X.$el=X.find(".logs"),X.el=X.$el.get(0),X.$fakeEl=X.find(".fake-logs"),X.fakeEl=X.$fakeEl.get(0),X.$space=X.find(".logs-space"),X.space=X.$space.get(0),Pr&&(X.speedToleranceFactor=800,X.maxSpeedTolerance=3e3,X.minSpeedTolerance=800),X.resizeSensor=new(ot())(z),X.renderViewport=Vr()((function(et){X._renderViewport(et)}),16),X.global={copy:function(et){ve()(et)||(et=JSON.stringify(et,null,2)),rn()(et)},$:function(et){return document.querySelector(et)},$$:function(et){return W()(document.querySelectorAll(et))},$x:function(et){return oi()(et)},clear:function(){X.clear()},dir:function(et){X.dir(et)},table:function(et,ct){X.table(et,ct)},keys:an()},X.bindEvent(),X}return(0,d.A)(K,U),(0,c.A)(K,[{key:"setGlobal",value:function(z,X){this.global[z]=X}},{key:"destroy",value:function(){var z,X,re,Se,Be;this.$container.off("scroll",this.onScroll),this.resizeSensor.destroy(),(z=K,X="destroy",re=this,Se=3,Be=(0,f.A)((0,h.A)(1&Se?z.prototype:z),X,re),2&Se&&typeof Be=="function"?function(Ge){return Be.apply(re,Ge)}:Be)([])}},{key:"count",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",X=this.counter;Me()(X[z])?X[z]=1:X[z]++,this.info("".concat(z,": ").concat(X[z]))}},{key:"countReset",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.counter[z]=0}},{key:"assert",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];ee()(X)||X.shift()||(X.length===0&&X.unshift("console.assert"),X.unshift("Assertion failed: "),this.insert("error",X))}},{key:"log",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];ee()(X)||this.insert("log",X)}},{key:"debug",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];ee()(X)||this.insert("debug",X)}},{key:"dir",value:function(z){Me()(z)||this.insert("dir",[z])}},{key:"table",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];ee()(X)||this.insert("table",X)}},{key:"time",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";if(this.timer[z])return this.insert("warn",["Timer '".concat(z,"' already exists")]);this.timer[z]=yr()()}},{key:"timeLog",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",X=this.timer[z];if(!X)return this.insert("warn",["Timer '".concat(z,"' does not exist")]);this.info("".concat(z,": ").concat(yr()()-X,"ms"))}},{key:"timeEnd",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";this.timeLog(z),delete this.timer[z]}},{key:"clear",value:function(){var z=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.logs=[],this.displayLogs=[],this.selectLog(null),this.lastLog=void 0,this.counter={},this.timer={},this.groupStack=new(Zr()),this.asyncList=[],this.asyncTimer&&(clearTimeout(this.asyncTimer),this.asyncTimer=null),z?this.render():this.insert("log",["%cConsole was cleared","color:#808080;font-style:italic;"])}},{key:"info",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];ee()(X)||this.insert("info",X)}},{key:"error",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];ee()(X)||this.insert("error",X)}},{key:"warn",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];ee()(X)||this.insert("warn",X)}},{key:"group",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];this.insert({type:"group",args:X,ignoreFilter:!0})}},{key:"groupCollapsed",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];this.insert({type:"groupCollapsed",args:X,ignoreFilter:!0})}},{key:"groupEnd",value:function(){this.insert("groupEnd")}},{key:"evaluate",value:function(z){this.insert({type:"input",args:[z],ignoreFilter:!0});try{this.output(this.evalJs(z))}catch(X){this.insert({type:"error",ignoreFilter:!0,args:[X]})}}},{key:"html",value:function(){for(var z=arguments.length,X=new Array(z),re=0;re<z;re++)X[re]=arguments[re];this.insert("html",X)}},{key:"toggleGroup",value:function(z){z.targetGroup.collapsed?this.openGroup(z):this.collapseGroup(z)}},{key:"output",value:function(z){this.insert({type:"output",args:[z],ignoreFilter:!0})}},{key:"render",value:function(){var z=this.logs,X=this.selectedLog;this.$el.html(""),this.isAtBottom=!0,this.updateBottomSpace(0),this.updateTopSpace(0),this.displayLogs=[];for(var re=0,Se=z.length;re<Se;re++)this.attachLog(z[re]);X&&(O()(this.displayLogs,X)||this.selectLog(null))}},{key:"insert",value:function(z,X){var re,Se=this.options,Be=Se.showHeader,Ge=Se.asyncRender;if(Be&&(re={time:M(),from:L()}),Ge)return this.insertAsync(z,X,re);this.insertSync(z,X,re)}},{key:"insertAsync",value:function(z,X,re){this.asyncList.push([z,X,re]),this.handleAsyncList()}},{key:"insertSync",value:function(z,X,re){var Se,Be=this,Ge=this.logs,et=this.groupStack,ct=this.options,We=ct.maxNum,Tt=ct.accessGetter,It=ct.unenumerable,Wt=ct.lazyEvaluation;if((Se=ve()(z)?{type:z,args:X,header:re}:z).type==="groupEnd")return this.lastLog.groupEnd(),void this.groupStack.pop();if(et.size>0&&(Se.group=et.peek()),zn()(Se,{id:++b,accessGetter:Tt,unenumerable:It,lazyEvaluation:Wt}),Se.type==="group"||Se.type==="groupCollapsed"){var Ut={id:rr()("group"),collapsed:!1,parent:et.peek(),indentLevel:et.size+1};Se.type==="groupCollapsed"&&(Ut.collapsed=!0),Se.targetGroup=Ut,et.push(Ut)}var Ht=new Vn(this,Se);Ht.on("updateHeight",(function(){Be.isAtBottom=!1,Be.renderViewport()}));var un=this.lastLog;if(un&&!O()(["html","group","groupCollapsed"],Ht.type)&&un.type===Ht.type&&Ht.isSimple()&&un.text()===Ht.text()?(un.addCount(),Ht.header&&un.updateTime(Ht.header.time),Ht=un,this.detachLog(un)):(Ge.push(Ht),this.lastLog=Ht),We!==0&&Ge.length>We){var bn=Ge[0];this.detachLog(bn),Ge.shift()}this.attachLog(Ht),this.emit("insert",Ht)}},{key:"updateTopSpace",value:function(z){this.topSpaceHeight=z,this.el.style.top=z+"px"}},{key:"updateBottomSpace",value:function(z){this.bottomSpaceHeight=z}},{key:"updateSpace",value:function(z){this.spaceHeight!==z&&(this.spaceHeight=z,this.space.style.height=z+"px")}},{key:"detachLog",value:function(z){var X=this.displayLogs,re=X.indexOf(z);re>-1&&(X.splice(re,1),this.renderViewport())}},{key:"attachLog",value:function(z){if(this.filterLog(z)&&!z.collapsed){var X=this.displayLogs;if(X.length===0)return X.push(z),void this.renderViewport();var re=ei()(X);if(z.id>re.id)return X.push(z),void this.renderViewport();for(var Se,Be=0,Ge=X.length-1,et=0;Be<=Ge;){if((Se=X[et=Be+Math.floor((Ge-Be)/2)]).id===z.id)return;Se.id<z.id?Be=et+1:Ge=et-1}Se.id<z.id?X.splice(et+1,0,z):X.splice(et,0,z),this.renderViewport()}}},{key:"handleAsyncList",value:function(){var z=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,re=this.asyncList;this.asyncTimer||(this.asyncTimer=setTimeout((function(){z.asyncTimer=null;var Se,Be,Ge=!1,et=re.length;et<1e3?(Be=200,Se=400):et<5e3?(Be=500,Se=800):et<1e4?(Be=800,Se=1e3):et<25e3?(Be=1e3,Se=1200):et<5e4?(Be=1500,Se=1500):(Be=2e3,Se=2500),Be>et&&(Be=et,Ge=!0);for(var ct=0;ct<Be;ct++){var We=s(re.shift(),3),Tt=We[0],It=We[1],Wt=We[2];z.insertSync(Tt,It,Wt)}Ge||mt()((function(){return z.handleAsyncList(Se)}))}),X))}},{key:"injectGlobal",value:function(){Q()(this.global,(function(z,X){window[X]||(window[X]=z)}))}},{key:"clearGlobal",value:function(){Q()(this.global,(function(z,X){window[X]&&window[X]===z&&delete window[X]}))}},{key:"evalJs",value:function(z){var X;this.injectGlobal();try{X=eval.call(window,"(".concat(z,")"))}catch{X=eval.call(window,z)}return this.setGlobal("$_",X),this.clearGlobal(),X}},{key:"filterLog",value:function(z){var X=this.options.level,re=this.options.filter;if(z.ignoreFilter)return!0;if(!O()(X,z.level))return!1;if(re){if(Y()(re))return re(z);if(Sr()(re))return re.test(Kt()(z.text()));if(ve()(re)&&(re=Ce()(re)))return O()(Kt()(z.text()),Kt()(re))}return!0}},{key:"collapseGroup",value:function(z){z.targetGroup.collapsed=!0,z.updateIcon("caret-right"),this.updateGroup(z)}},{key:"openGroup",value:function(z){z.targetGroup.collapsed=!1,z.updateIcon("caret-down"),this.updateGroup(z)}},{key:"updateGroup",value:function(z){for(var X=z.targetGroup,re=this.logs,Se=re.length,Be=re.indexOf(z)+1;Be<Se;){var Ge=re[Be];if(!Ge.checkGroup()&&Ge.group===X)break;Ge.collapsed?this.detachLog(Ge):this.attachLog(Ge),Be++}}},{key:"selectLog",value:function(z){var X;this.selectedLog&&(this.selectedLog.deselect(),this.selectedLog=null),Ne()(z)?this.emit("deselect"):(this.selectedLog=z,(X=this.selectedLog)===null||X===void 0||X.select(),this.emit("select",z))}},{key:"bindEvent",value:function(){var z=this,X=this.$el,re=this.c;this.resizeSensor.addListener(this.renderViewport);var Se=this;X.on("click",re(".log-container"),(function(){Se.selectLog(this.log)})),this.on("changeOption",(function(Be,Ge){var et=z.logs;switch(Be){case"maxNum":Ge>0&&et.length>Ge&&(z.logs=et.slice(et.length-Ge),z.render());break;case"filter":z.render();break;case"level":z.options.level=W()(Ge),z.render()}})),this.$container.on("scroll",this.onScroll)}},{key:"_renderViewport",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=z.topTolerance,re=X===void 0?500:X,Se=z.bottomTolerance,Be=Se===void 0?500:Se,Ge=this.el,et=this.container,ct=this.space;if(!St()(et)){for(var We=et.scrollTop,Tt=et.offsetHeight,It=ct.getBoundingClientRect().width,Wt=We-re,Ut=We+Tt+Be,Ht=this.displayLogs,un=0,bn=0,Tn=0,Rn=Ht.length,kn=this.fakeEl,vn=document.createDocumentFragment(),Mn=[],ir=0;ir<Rn;ir++){var Ln=Ht[ir],Kn=Ln.width;Ln.height!==0&&Kn===It||(vn.appendChild(Ln.container),Mn.push(Ln))}if(Mn.length>0){kn.appendChild(vn);for(var ar=0,Er=Mn.length;ar<Er;ar++)Mn[ar].updateSize();kn.textContent=""}for(var $r=document.createDocumentFragment(),Wr=0;Wr<Rn;Wr++){var Xr=Ht[Wr],Yr=Xr.container,zr=Xr.height;Tn>Ut?bn+=zr:Tn+zr>Wt?$r.appendChild(Yr):Tn<Wt&&(un+=zr),Tn+=zr}for(this.updateSpace(Tn),this.updateTopSpace(un),this.updateBottomSpace(bn);Ge.firstChild;)Ge.lastChild&&Ge.removeChild(Ge.lastChild);Ge.appendChild($r);var br=et.scrollHeight;this.isAtBottom&&We<=br-Tt&&(et.scrollTop=1e7)}}},{key:"initTpl",value:function(){this.$container.html(this.c(jn()(qn||(qn=(0,r.A)([`
      <div class="logs-space">
        <div class="fake-logs"></div>
        <div class="logs"></div>
      </div>
    `])))))}}])})(Nr),M=function(){return Or()("HH:MM:ss ")};function L(){for(var U=new Error,K="",z=U.stack?U.stack.split(`
`):"",X=0,re=z.length;X<re;X++)if((K=z[X]).indexOf("winConsole")>-1&&X<re-1){K=z[X+1];break}return K}(function(U,K){try{U.exports=K,U.exports.default=K}catch{}})(o,P)},3612:function(o,e,n){var r=n(1738),a=n(769),s=n(21);e=function(l){return a(r(l)?new s(l):l)},o.exports=e},3693:function(o,e,n){var r=n(21),a=n(2230),s=n(8604),l=n(6866),c=n(9186),u=n(7236),h=n(3497),f=n(2113),d=n(2125),p=n(3793),g=n(7661),y=n(5360),v=n(8971),w=n(1738);e=function(k){return new r(k)},r.methods({offset:function(){return a(this)},hide:function(){return this.css("display","none")},show:function(){return s(this),this},first:function(){return e(this[0])},last:function(){return e(h(this))},get:function(k){return this[k]},eq:function(k){return e(this[k])},on:function(k,E,I){return p.on(this,k,E,I),this},off:function(k,E,I){return p.off(this,k,E,I),this},html:function(k){var E=u.html(this,k);return v(k)?E:this},text:function(k){var E=u.text(this,k);return v(k)?E:this},val:function(k){var E=u.val(this,k);return v(k)?E:this},css:function(k,E){var I=l(this,k,E);return O(k,E)?I:this},attr:function(k,E){var I=c(this,k,E);return O(k,E)?I:this},data:function(k,E){var I=d(this,k,E);return O(k,E)?I:this},rmAttr:function(k){return c.remove(this,k),this},remove:function(){return f(this),this},addClass:function(k){return g.add(this,k),this},rmClass:function(k){return g.remove(this,k),this},toggleClass:function(k){return g.toggle(this,k),this},hasClass:function(k){return g.has(this,k)},parent:function(){return e(this[0].parentNode)},append:function(k){return y.append(this,k),this},prepend:function(k){return y.prepend(this,k),this},before:function(k){return y.before(this,k),this},after:function(k){return y.after(this,k),this}});var O=function(k,E){return v(E)&&w(k)};o.exports=e},3703:function(o,e){var n=this&&this.__read||function(v,w){var O=typeof Symbol=="function"&&v[Symbol.iterator];if(!O)return v;var k,E,I=O.call(v),G=[];try{for(;(w===void 0||w-- >0)&&!(k=I.next()).done;)G.push(k.value)}catch(J){E={error:J}}finally{try{k&&!k.done&&(O=I.return)&&O.call(I)}finally{if(E)throw E.error}}return G},r=this&&this.__values||function(v){var w=typeof Symbol=="function"&&Symbol.iterator,O=w&&v[w],k=0;if(O)return O.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&k>=v.length&&(v=void 0),{value:v&&v[k++],done:!v}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(v,w){var O=v[3];return[(1-O)*w[0]+O*v[0],(1-O)*w[1]+O*v[1],(1-O)*w[2]+O*v[2],O+w[3]*(1-O)]}function s(v){var w=n(v,3),O=w[0],k=w[1],E=w[2];return .2126*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))}Object.defineProperty(e,"__esModule",{value:!0}),e.getContrastThreshold=e.isLargeFont=e.getAPCAThreshold=e.desiredLuminanceAPCA=e.contrastRatioByLuminanceAPCA=e.contrastRatioAPCA=e.luminanceAPCA=e.contrastRatio=e.luminance=e.rgbaToHsla=e.blendColors=void 0,e.blendColors=a,e.rgbaToHsla=function(v){var w=n(v,4),O=w[0],k=w[1],E=w[2],I=w[3],G=Math.max(O,k,E),J=Math.min(O,k,E),Q=G-J,te=G+J,pe=.5*te;return[J===G?0:O===G?(.16666666666666666*(k-E)/Q+1)%1:k===G?.16666666666666666*(E-O)/Q+.3333333333333333:.16666666666666666*(O-k)/Q+.6666666666666666,pe===0||pe===1?0:pe<=.5?Q/te:Q/(2-te),pe,I]},e.luminance=s,e.contrastRatio=function(v,w){var O=s(a(v,w)),k=s(w);return(Math.max(O,k)+.05)/(Math.min(O,k)+.05)};var l=12.82051282051282,c=.06;function u(v){var w=n(v,3),O=w[0],k=w[1],E=w[2];return .2126729*Math.pow(O,2.4)+.7151522*Math.pow(k,2.4)+.072175*Math.pow(E,2.4)}function h(v){return v>.03?v:v+Math.pow(.03-v,1.45)}function f(v,w){if(v=h(v),w=h(w),Math.abs(v-w)<5e-4)return 0;var O=0;return 100*(O=w>=v?(O=1.25*(Math.pow(w,.55)-Math.pow(v,.58)))<.001?0:O<.078?O-O*l*c:O-c:(O=1.25*(Math.pow(w,.62)-Math.pow(v,.57)))>-.001?0:O>-.078?O-O*l*c:O+c)}e.luminanceAPCA=u,e.contrastRatioAPCA=function(v,w){return f(u(v),u(w))},e.contrastRatioByLuminanceAPCA=f,e.desiredLuminanceAPCA=function(v,w,O){function k(){return O?Math.pow(Math.abs(Math.pow(v,.62)-(-w-c)/1.25),1.7543859649122808):Math.pow(Math.abs(Math.pow(v,.55)-(w+c)/1.25),1.7241379310344829)}v=h(v),w/=100;var E=k();return(E<0||E>1)&&(O=!O,E=k()),E};var d=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function p(v,w){var O=72*parseFloat(v.replace("px",""))/96;return["bold","bolder","600","700","800","900"].indexOf(w)!==-1?O>=14:O>=18}d.reverse(),e.getAPCAThreshold=function(v,w){var O,k,E,I,G=parseFloat(v.replace("px","")),J=parseFloat(w);try{for(var Q=r(d),te=Q.next();!te.done;te=Q.next()){var pe=n(te.value),fe=pe[0],ee=pe.slice(1);if(G>=fe)try{for(var N=(E=void 0,r([900,800,700,600,500,400,300,200,100].entries())),Z=N.next();!Z.done;Z=N.next()){var R=n(Z.value,2),ae=R[0];if(J>=R[1]){var de=ee[ee.length-1-ae];return de===-1?null:de}}}catch(H){E={error:H}}finally{try{Z&&!Z.done&&(I=N.return)&&I.call(N)}finally{if(E)throw E.error}}}}catch(H){O={error:H}}finally{try{te&&!te.done&&(k=Q.return)&&k.call(Q)}finally{if(O)throw O.error}}return null},e.isLargeFont=p;var g={aa:3,aaa:4.5},y={aa:4.5,aaa:7};e.getContrastThreshold=function(v,w){return p(v,w)?g:y}},3722:function(o,e,n){var r=n(3145);e=function(a){return Object.freeze?Object.freeze(a):(r(a).forEach((function(s){Object.getOwnPropertyDescriptor(a,s).configurable&&Object.defineProperty(a,s,{writable:!1,configurable:!1})})),a)},o.exports=e},3737:function(o,e,n){var r=n(2263);e=r.extend({className:"MediaQuery",initialize:function(a){var s=this;this.callSuper(r,"initialize"),this._listener=function(){s.emit(s.isMatch()?"match":"unmatch")},this.setQuery(a)},setQuery:function(a){this._mql&&this._mql.removeListener(this._listener),this._mql=window.matchMedia(a),this._mql.addListener(this._listener)},isMatch:function(){return this._mql.matches}}),o.exports=e},3750:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object Blob]"},o.exports=e},3752:function(o,e,n){var r=n(2510),a=n(769);e=r((function(s,l){return function(){var c=[];return c=(c=c.concat(l)).concat(a(arguments)),s.apply(this,c)}})),o.exports=e},3793:function(o,e,n){var r=n(8966),a=n(8971),s=n(3612),l=n(9100);function c(u){return function(h,f,d,p){h=s(h),a(p)&&(p=d,d=void 0),l(h,(function(g){r[u](g,f,d,p)}))}}e={on:c("add"),off:c("remove")},o.exports=e},3805:function(o,e,n){var r=n(2561);e=function(a){return r(a).toLocaleUpperCase()},o.exports=e},3915:function(o,e,n){var r=n(5693),a=n(3145),s=n(5793);e=function(l,c,u){c=r(c,u);for(var h=!s(l)&&a(l),f=(h||l).length,d=Array(f),p=0;p<f;p++){var g=h?h[p]:p;d[p]=c(l[g],g,l)}return d},o.exports=e},3954:function(o,e,n){function r(a){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},r(a)}n.d(e,{A:function(){return r}})},3957:function(o,e,n){var r=n(3974);e=function(a){var s=r(a);return s==="[object Function]"||s==="[object GeneratorFunction]"||s==="[object AsyncFunction]"},o.exports=e},3974:function(o,e){var n=Object.prototype.toString;e=function(r){return n.call(r)},o.exports=e},3979:function(o,e,n){var r=this&&this.__values||function(O){var k=typeof Symbol=="function"&&Symbol.iterator,E=k&&O[k],I=0;if(E)return E.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&I>=O.length&&(O=void 0),{value:O&&O[I++],done:!O}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(O,k){var E=typeof Symbol=="function"&&O[Symbol.iterator];if(!E)return O;var I,G,J=E.call(O),Q=[];try{for(;(k===void 0||k-- >0)&&!(I=J.next()).done;)Q.push(I.value)}catch(te){G={error:te}}finally{try{I&&!I.done&&(E=J.return)&&E.call(J)}finally{if(G)throw G.error}}return Q},s=this&&this.__spreadArray||function(O,k,E){if(E||arguments.length===2)for(var I,G=0,J=k.length;G<J;G++)!I&&G in k||(I||(I=Array.prototype.slice.call(k,0,G)),I[G]=k[G]);return O.concat(I||Array.prototype.slice.call(k))},l=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0}),e.drawPath=e.formatColor=e.formatRgba=e.parseHexa=e.createPathForQuad=e.hatchFillPath=e.applyMatrixToPoint=e.emptyBounds=e.buildPath=e.fillPathWithBoxStyle=e.drawPathWithLineStyle=void 0;var c=l(n(1580)),u=n(3703);function h(O,k,E){var I=0;function G(te){for(var pe=[],fe=0;fe<te;++fe){var ee=Math.round(O[I++]*E);k.maxX=Math.max(k.maxX,ee),k.minX=Math.min(k.minX,ee);var N=Math.round(O[I++]*E);k.maxY=Math.max(k.maxY,N),k.minY=Math.min(k.minY,N),k.leftmostXForY[N]=Math.min(k.leftmostXForY[N]||Number.MAX_VALUE,ee),k.rightmostXForY[N]=Math.max(k.rightmostXForY[N]||Number.MIN_VALUE,ee),k.topmostYForX[ee]=Math.min(k.topmostYForX[ee]||Number.MAX_VALUE,N),k.bottommostYForX[ee]=Math.max(k.bottommostYForX[ee]||Number.MIN_VALUE,N),k.allPoints.push({x:ee,y:N}),pe.push(ee,N)}return pe}for(var J=O.length,Q=new Path2D;I<J;)switch(O[I++]){case"M":Q.moveTo.apply(Q,G(1));break;case"L":Q.lineTo.apply(Q,G(1));break;case"C":Q.bezierCurveTo.apply(Q,G(3));break;case"Q":Q.quadraticCurveTo.apply(Q,G(2));break;case"Z":Q.closePath()}return Q}e.drawPathWithLineStyle=function(O,k,E,I){I===void 0&&(I=1),E&&E.color&&(O.save(),O.translate(.5,.5),O.lineWidth=I,E.pattern==="dashed"&&O.setLineDash([3,3]),E.pattern==="dotted"&&O.setLineDash([2,2]),O.strokeStyle=E.color,O.stroke(k),O.restore())},e.fillPathWithBoxStyle=function(O,k,E,I,G){G&&(O.save(),G.fillColor&&(O.fillStyle=G.fillColor,O.fill(k)),G.hatchColor&&y(O,k,E,10,G.hatchColor,I,!1),O.restore())},e.buildPath=h,e.emptyBounds=function(){return{minX:Number.MAX_VALUE,minY:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,maxY:-Number.MAX_VALUE,leftmostXForY:{},rightmostXForY:{},topmostYForX:{},bottommostYForX:{},allPoints:[]}},e.applyMatrixToPoint=function(O,k){var E=new DOMPoint(O.x,O.y);return{x:(E=E.matrixTransform(k)).x,y:E.y}};var f,d=5,p=3,g="";function y(O,k,E,I,G,J,Q){if((O.canvas.width<E.maxX-E.minX||O.canvas.height<E.maxY-E.minY)&&(E={minX:0,maxX:O.canvas.width,minY:0,maxY:O.canvas.height,allPoints:[]}),!f||G!==g){g=G;var te=document.createElement("canvas");te.width=I,te.height=d+p;var pe=te.getContext("2d");pe.clearRect(0,0,te.width,te.height),pe.rect(0,0,1,d),pe.fillStyle=G,pe.fill(),f=O.createPattern(te,"repeat")}O.save();var fe=new DOMMatrix;f.setTransform(fe.scale(Q?-1:1,1).rotate(0,0,-45+J)),O.fillStyle=f,O.fill(k),O.restore()}function v(O){return(O.match(/#(\w\w)(\w\w)(\w\w)(\w\w)/)||[]).slice(1).map((function(k){return parseInt(k,16)/255}))}function w(O,k){if(k==="rgb"){var E=a(O,4),I=E[0],G=E[1],J=E[2],Q=E[3];return"rgb(".concat((255*I).toFixed()," ").concat((255*G).toFixed()," ").concat((255*J).toFixed()).concat(Q===1?"":" / "+Math.round(100*Q)/100,")")}if(k==="hsl"){var te=a((0,u.rgbaToHsla)(O),4),pe=te[0],fe=te[1],ee=te[2];return Q=te[3],"hsl(".concat(Math.round(360*pe),"deg ").concat(Math.round(100*fe)," ").concat(Math.round(100*ee)).concat(Q===1?"":" / "+Math.round(100*Q)/100,")")}throw new Error("NOT_REACHED")}e.hatchFillPath=y,e.createPathForQuad=function(O,k,E,I){var G,J,Q=["M",O.p1.x,O.p1.y,"L",O.p2.x,O.p2.y,"L",O.p3.x,O.p3.y,"L",O.p4.x,O.p4.y];try{for(var te=r(k),pe=te.next();!pe.done;pe=te.next()){var fe=pe.value;Q=s(s([],a(Q),!1),["L",fe.p4.x,fe.p4.y,"L",fe.p3.x,fe.p3.y,"L",fe.p2.x,fe.p2.y,"L",fe.p1.x,fe.p1.y,"L",fe.p4.x,fe.p4.y,"L",O.p4.x,O.p4.y],!1)}}catch(ee){G={error:ee}}finally{try{pe&&!pe.done&&(J=te.return)&&J.call(te)}finally{if(G)throw G.error}}return Q.push("Z"),h(Q,E,I)},e.parseHexa=v,e.formatRgba=w,e.formatColor=function(O,k){return k==="rgb"||k==="hsl"?w(v(O),k):(0,c.default)(O,"FF")?O.substr(0,7):O},e.drawPath=function(O,k,E,I,G,J,Q){O.save();var te=h(k,J,Q);return E&&(O.fillStyle=E,O.fill(te)),I&&(G==="dashed"&&O.setLineDash([3,3]),G==="dotted"&&O.setLineDash([2,2]),O.lineWidth=2,O.strokeStyle=I,O.stroke(te)),O.restore(),te}},3981:function(o,e){e=Date.now?Date.now:function(){return new Date().getTime()},o.exports=e},4069:function(o,e,n){var r=n(769);e=function(){for(var a=r(arguments),s=[],l=0,c=a.length;l<c;l++)s=s.concat(r(a[l]));return s},o.exports=e},4095:function(o,e,n){var r=n(1023),a=n(5241),s=n(3793),l=n(6866),c=n(3249),u=n(8105),h=n(5169);e=h.ResizeObserver?r.extend({initialize:function(f){var d=this;if(f._resizeSensor)return f._resizeSensor;this.callSuper(r,"initialize");var p=new h.ResizeObserver((function(){return d.emit()}));p.observe(f),f._resizeSensor=this,this._resizeObserver=p,this._el=f},destroy:function(){var f=this._el;f._resizeSensor&&(this.rmAllListeners(),delete f._resizeSensor,this._resizeObserver.unobserve(f))}}):r.extend({initialize:function(f){if(f._resizeSensor)return f._resizeSensor;this.callSuper(r,"initialize"),this._el=f,f._resizeSensor=this,c(["absolute","relative","fixed","sticky"],l(f,"position"))||l(f,"position","relative"),this._appendResizeSensor(),this._bindEvent()},destroy:function(){var f=this._el;f._resizeSensor&&(this.rmAllListeners(),delete f._resizeSensor,f.removeChild(this._resizeSensorEl))},_appendResizeSensor:function(){var f=this._el,d={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},p={position:"absolute",left:"0px",top:"0px",transition:"0s"},g=a("div",{style:p}),y=a("div.resize-sensor-expand",{style:d},g),v=a("div.resize-sensor-shrink",{style:d},a("div",{style:u({width:"200%",height:"200%"},p)})),w=a("div.resize-sensor",{dir:"ltr",style:d},y,v);this._expandEl=y,this._expandChildEl=g,this._shrinkEl=v,this._resizeSensorEl=w,f.appendChild(w),this._resetExpandShrink()},_bindEvent:function(){var f=this;s.on(this._expandEl,"scroll",(function(){return f._onScroll()})),s.on(this._shrinkEl,"scroll",(function(){return f._onScroll()}))},_onScroll:function(){this.emit(),this._resetExpandShrink()},_resetExpandShrink:function(){var f=this._el,d=f.offsetWidth,p=f.offsetHeight;l(this._expandChildEl,{width:d+10,height:p+10}),u(this._expandEl,{scrollLeft:d+10,scrollTop:p+10}),u(this._shrinkEl,{scrollLeft:d+10,scrollTop:p+10})}}),o.exports=e},4151:function(o,e,n){var r=n(6949),a=n(1738),s=n(9760),l=n(9100);function c(u,h,f){for(var d=r(h,u),p=d.pop();h=d.shift();)u[h]||(u[h]={}),u=u[h];Object.defineProperty(u,p,f)}e=function(u,h,f){return a(h)?c(u,h,f):s(h)&&l(h,(function(d,p){c(u,p,d)})),u},o.exports=e},4209:function(o,e,n){n.d(e,{A:function(){return bo}});var r=n(3029),a=n(2901),s=n(388),l=n(3954),c=n(5361),u=n(4467),h=n(2263),f=n.n(h),d=new(f());d.ADD="ADD",d.SHOW="SHOW",d.SCALE="SCALE";var p=d,g=n(991),y=n(2717),v=n.n(y)()({init:function(xe){this._$el=xe},show:function(){return this._$el.show(),this},hide:function(){return this._$el.hide(),this},destroy:function(){this._$el.remove()}}),w=n(3693),O=n.n(w),k=n(5021),E=n.n(k),I=n(5630),G=n.n(I),J=n(9100),Q=n.n(J),te=n(2571),pe=n.n(te),fe=n(1738),ee=n.n(fe),N=n(3249),Z=n.n(N),R=n(8420),ae=n.n(R),de=n(2561),H=n.n(de),ne=n(3145),V=n.n(ne),Ce=n(7604),ge=n.n(Ce),Te=n(5651),Ke=n.n(Te),Ye=n(8105),Qe=n.n(Ye),rt=n(6214),vt=n.n(rt),it=["background","foreground","selectForeground","accent","highlight","border","primary","contrast","varColor","stringColor","keywordColor","numberColor","operatorColor","linkColor","textColor","tagNameColor","functionColor","attributeNameColor","commentColor"],yt=it.length;function xt(xe){for(var Fe={},B=0;B<yt;B++)Fe[it[B]]=xe[B];return Fe}function Ct(xe){return vt()(xe)&&(xe=xt(xe)),xe.darkerBackground||(xe.darkerBackground=xe.contrast),Qe()({consoleWarnBackground:"#332a00",consoleWarnForeground:"#ffcb6b",consoleWarnBorder:"#650",consoleErrorBackground:"#290000",consoleErrorForeground:"#ff8080",consoleErrorBorder:"#5c0000",light:"#ccc",dark:"#aaa"},xe)}function St(xe){return vt()(xe)&&(xe=xt(xe)),xe.darkerBackground||(xe.darkerBackground=xe.contrast),Qe()({consoleWarnBackground:"#fffbe5",consoleWarnForeground:"#5c5c00",consoleWarnBorder:"#fff5c2",consoleErrorBackground:"#fff0f0",consoleErrorForeground:"#f00",consoleErrorBorder:"#ffd6d6",light:"#fff",dark:"#eee"},xe)}var Rt=["Dark","Material Oceanic","Material Darker","Material Palenight","Material Deep Ocean","Monokai Pro","Dracula","Arc Dark","Atom One Dark","Solarized Dark","Night Owl","AMOLED"];function oe(xe){return Z()(Rt,xe)}var je={Light:St({darkerBackground:"#f3f3f3",background:"#fff",foreground:"#333",selectForeground:"#333",accent:"#1a73e8",highlight:"#eaeaea",border:"#ccc",primary:"#333",contrast:"#f2f7fd",varColor:"#c80000",stringColor:"#1a1aa6",keywordColor:"#881280",numberColor:"#1c00cf",operatorColor:"#808080",linkColor:"#1155cc",textColor:"#8097bd",tagNameColor:"#881280",functionColor:"#222",attributeNameColor:"#994500",commentColor:"#236e25",cssProperty:"#c80000"}),Dark:Ct({darkerBackground:"#333",background:"#242424",foreground:"#a5a5a5",selectForeground:"#eaeaea",accent:"#7cacf8",highlight:"#000",border:"#3d3d3d",primary:"#ccc",contrast:"#0b2544",varColor:"#e36eec",stringColor:"#f29766",keywordColor:"#9980ff",numberColor:"#9980ff",operatorColor:"#7f7f7f",linkColor:"#ababab",textColor:"#42597f",tagNameColor:"#5db0d7",functionColor:"#d5d5d5",attributeNameColor:"#9bbbdc",commentColor:"#747474"}),"Material Oceanic":Ct(["#263238","#B0BEC5","#FFFFFF","#009688","#425B67","#2A373E","#607D8B","#1E272C","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#546e7a"]),"Material Darker":Ct(["#212121","#B0BEC5","#FFFFFF","#FF9800","#3F3F3F","#292929","#727272","#1A1A1A","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#B0BEC5","#f07178","#82aaff","#ffcb6b","#616161"]),"Material Lighter":St(["#FAFAFA","#546E7A","#546e7a","#00BCD4","#E7E7E8","#d3e1e8","#94A7B0","#F4F4F4","#272727","#91B859","#7C4DFF","#F76D47","#39ADB5","#39ADB5","#546E7A","#E53935","#6182B8","#F6A434","#AABFC9"]),"Material Palenight":Ct(["#292D3E","#A6ACCD","#FFFFFF","#ab47bc","#444267","#2b2a3e","#676E95","#202331","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#A6ACCD","#f07178","#82aaff","#ffcb6b","#676E95"]),"Material Deep Ocean":Ct(["#0F111A","#8F93A2","#FFFFFF","#84ffff","#1F2233","#41465b","#4B526D","#090B10","#eeffff","#c3e88d","#c792ea","#f78c6c","#89ddff","#80cbc4","#8F93A2","#f07178","#82aaff","#ffcb6b","#717CB4"]),"Monokai Pro":Ct(["#2D2A2E","#fcfcfa","#FFFFFF","#ffd866","#5b595c","#423f43","#939293","#221F22","#FCFCFA","#FFD866","#FF6188","#AB9DF2","#FF6188","#78DCE8","#fcfcfa","#FF6188","#A9DC76","#78DCE8","#727072"]),Dracula:Ct(["#282A36","#F8F8F2","#8BE9FD","#FF79C5","#6272A4","#21222C","#6272A4","#191A21","#F8F8F2","#F1FA8C","#FF79C6","#BD93F9","#FF79C6","#F1FA8C","#F8F8F2","#FF79C6","#50FA78","#50FA7B","#6272A4"]),"Arc Dark":Ct(["#2f343f","#D3DAE3","#FFFFFF","#42A5F5","#3F3F46","#404552","#8b9eb5","#262b33","#CF6A4C","#8F9D6A","#9B859D","#CDA869","#A7A7A7","#7587A6","#D3DAE3","#CF6A4C","#7587A6","#F9EE98","#747C84"]),"Atom One Dark":Ct(["#282C34","#979FAD","#FFFFFF","#2979ff","#383D48","#2e3239","#979FAD","#21252B","#D19A66","#98C379","#C679DD","#D19A66","#61AFEF","#56B6C2","#979FAD","#F07178","#61AEEF","#E5C17C","#59626F"]),"Atom One Light":St(["#FAFAFA","#232324","#232324","#2979ff","#EAEAEB","#DBDBDC","#9D9D9F","#FFFFFF","#986801","#50A14E","#A626A4","#986801","#4078F2","#0184BC","#232324","#E4564A","#4078F2","#C18401","#A0A1A7"]),"Solarized Dark":Ct(["#002B36","#839496","#FFFFFF","#d33682","#11353F","#0D3640","#586e75","#00252E","#268BD2","#2AA198","#859900","#D33682","#93A1A1","#268BD2","#839496","#268BD2","#B58900","#B58900","#657B83"]),"Solarized Light":St(["#fdf6e3","#586e75","#002b36","#d33682","#F6F0DE","#f7f2e2","#93a1a1","#eee8d5","#268BD2","#2AA198","#859900","#D33682","#657B83","#268BD2","#586e75","#268BD2","#B58900","#657B83","#93A1A1"]),Github:St(["#F7F8FA","#5B6168","#FFFFFF","#79CB60","#CCE5FF","#DFE1E4","#292D31","#FFFFFF","#24292E","#032F62","#D73A49","#005CC5","#D73A49","#005CC5","#5B6168","#22863A","#6F42C1","#6F42C1","#6A737D"]),"Night Owl":Ct(["#011627","#b0bec5","#ffffff","#7e57c2","#152C3B","#2a373e","#607d8b","#001424","#addb67","#ecc48d","#c792ea","#f78c6c","#c792ea","#80CBC4","#b0bec5","#7fdbca","#82AAFF","#FAD430","#637777"]),"Light Owl":St(["#FAFAFA","#546e7a","#403f53","#269386","#E0E7EA","#efefef","#403F53","#FAFAFA","#0C969B","#c96765","#994cc3","#aa0982","#7d818b","#994cc3","#546e7a","#994cc3","#4876d6","#4876d6","#637777"]),AMOLED:Ct(["#000000","#8F93A2","#FFFFFF","#68FFAE","#000000","#41465b","#4B526D","#000000","#DEFDF7","#38ff9f","#ab2eff","#A76DF7","#38ff9f","#86F3C7","#8F93A2","#ab2eff","#8293FF","#38ff9f","#6575c7"])},ze=[],he=1,le=je.Light,me=function(xe,Fe){xe=H()(xe);for(var B=0,ue=ze.length;B<ue;B++)if(ze[B].css===xe)return;Fe=Fe||me.container||document.head;var ke=document.createElement("style");ke.type="text/css",Fe.appendChild(ke);var tt={css:xe,el:ke,container:Fe};return Ee(tt),ze.push(tt),tt};function Xe(){Q()(ze,(function(xe){return Ee(xe)}))}function Ee(xe){var Fe=xe.css,B=xe.el;Fe=(Fe=Fe.replace(/(\d+)px/g,(function(ke,tt){return+tt*he+"px"}))).replace(/_/g,"eruda-");var ue=V()(je.Light);Q()(ue,(function(ke){Fe=Fe.replace(new RegExp("var\\(--".concat(ge()(ke),"\\)"),"g"),le[ke])})),B.innerText=Fe}me.setScale=function(xe){he=xe,Xe()},me.setTheme=function(xe){le=ee()(xe)?je[xe]||je.Light:Ke()(xe,je.Light),Xe()},me.getCurTheme=function(){return le},me.getThemes=function(){return je},me.clear=function(){Q()(ze,(function(xe){var Fe=xe.container,B=xe.el;return Fe.removeChild(B)})),ze=[]},me.remove=function(xe){ze=pe()(ze,(function(Fe){return Fe!==xe})),xe.container.removeChild(xe.el)};var Re=me,at=n(1162);function Ve(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Ve=function(){return!!xe})()}function qe(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}var ot=(function(xe){function Fe(){var B,ue,ke,tt;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),(B=(0,s.A)(ue,Ve()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)))._style=Re(n(4279)),B.name="settings",B._settings=[],B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B){qe(Fe,"init",this)([B]),this._setting=new at.Ay(B.get(0)),this._bindEvent()}},{key:"remove",value:function(B,ue){var ke=this;if(ee()(B)){var tt=this;this._$el.find(".luna-setting-item-title").each((function(){O()(this).text()===B&&tt._setting.remove(this.settingItem)}))}else this._settings=pe()(this._settings,(function(ut){return ut.config!==B||ut.key!==ue||(ke._setting.remove(ut.item),!1)}));return this._cleanSeparator(),this}},{key:"destroy",value:function(){this._setting.destroy(),qe(Fe,"destroy",this)([]),Re.remove(this._style)}},{key:"clear",value:function(){this._settings=[],this._setting.clear()}},{key:"switch",value:function(B,ue,ke){var tt=this._genId(),ut=this._setting.appendCheckbox(tt,!!B.get(ue),ke);return this._settings.push({config:B,key:ue,id:tt,item:ut}),this}},{key:"select",value:function(B,ue,ke,tt){var ut=this._genId(),pt={};Q()(tt,(function(zt){return pt[zt]=zt}));var _t=this._setting.appendSelect(ut,B.get(ue),"",ke,pt);return this._settings.push({config:B,key:ue,id:ut,item:_t}),this}},{key:"range",value:function(B,ue,ke,tt){var ut=tt.min,pt=ut===void 0?0:ut,_t=tt.max,zt=_t===void 0?1:_t,tn=tt.step,Pn=tn===void 0?.1:tn,$n=this._genId(),Dn=this._setting.appendNumber($n,B.get(ue),ke,{max:zt,min:pt,step:Pn,range:!0});return this._settings.push({config:B,key:ue,min:pt,max:zt,step:Pn,id:$n,item:Dn}),this}},{key:"button",value:function(B,ue){return this._setting.appendButton(B,ue),this}},{key:"separator",value:function(){return this._setting.appendSeparator(),this}},{key:"text",value:function(B){return this._setting.appendTitle(B),this}},{key:"_cleanSeparator",value:function(){var B=ae()(this._$el.get(0).children);function ue(ut){return Z()(ut.getAttribute("class"),"luna-setting-item-separator")}for(var ke=0,tt=B.length;ke<tt-1;ke++)ue(B[ke])&&ue(B[ke+1])&&O()(B[ke]).remove()}},{key:"_genId",value:function(){return G()("eruda-settings")}},{key:"_getSetting",value:function(B){var ue;return Q()(this._settings,(function(ke){ke.id===B&&(ue=ke)})),ue}},{key:"_bindEvent",value:function(){var B=this;this._setting.on("change",(function(ue,ke){var tt=B._getSetting(ue);tt.config.set(tt.key,ke)}))}}],[{key:"createCfg",value:function(B,ue){return new(E())("eruda-"+B,ue)}}])})(v),Pt=n(9041),Et=n.n(Pt),Ft=n(7571),ve=n.n(Ft),T=n(5546),F=n.n(T),ye=n(6032),De=n.n(ye),$e=(n(4950),n(8971)),Ze=n.n($e),Oe=n(3497),bt=n.n(Oe),ht=n(3915),q=n.n(ht),dt=n(1947),gt=n.n(dt),be=n(6030),Ne=n.n(be),Pe=n(9405),Me=n.n(Pe),Ue=n(9548),Y=n.n(Ue);function D(xe,Fe){var B;switch(Ze()(Fe)&&(Fe=!0),xe){case"local":B=window.localStorage;break;case"session":B=window.sessionStorage}try{var ue="test-localStorage-"+Date.now();B.setItem(ue,ue);var ke=B.getItem(ue);if(B.removeItem(ue),ke!==ue)throw new Error}catch{return Fe?gt():void 0}return B}function W(xe){return Ne()(xe.replace("px",""))}function _e(xe){for(;xe;){if(xe.id==="eruda")return!0;xe=xe.parentNode}return!1}function ce(xe){if(/<[^>]*>/g.test(xe))try{var Fe=Y().parse(xe);return st(Fe,(function(B){B.attrs&&B.attrs.class&&(B.attrs.class=Ot(B.attrs.class))})),Y().stringify(Fe)}catch{return Ot(xe)}return Ot(xe)}function st(xe,Fe){for(var B=0,ue=xe.length;B<ue;B++){var ke=xe[B];Fe(ke),ke.content&&st(ke.content,Fe)}}function Ot(xe){var Fe="eruda-";return q()(Me()(xe).split(/\s+/),(function(B){return Z()(B,Fe)?B:B.replace(/[\w-]+/,(function(ue){return"".concat(Fe).concat(ue)}))})).join(" ")}function Gt(xe,Fe){var B=xe==="x"?"clientX":"clientY";return Fe[B]?Fe[B]:Fe.changedTouches?Fe.changedTouches[0][B]:0}function On(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(On=function(){return!!xe})()}var yn,Kt=O()(document),Vt=(function(xe){function Fe(B){var ue,ke,tt,ut;return(0,r.A)(this,Fe),ke=this,tt=Fe,tt=(0,l.A)(tt),ue=(0,s.A)(ke,On()?Reflect.construct(tt,[],(0,l.A)(ke).constructor):tt.apply(ke,ut)),(0,u.A)(ue,"_onDragStart",(function(pt){var _t=ue._$el;_t.addClass(ce("active")),ue._isClick=!0,pt=pt.origEvent,ue._startX=Gt("x",pt),ue._oldX=W(_t.css("left")),ue._oldY=W(_t.css("top")),ue._startY=Gt("y",pt),Kt.on(F()("move"),ue._onDragMove),Kt.on(F()("up"),ue._onDragEnd)})),(0,u.A)(ue,"_onDragMove",(function(pt){var _t=ue._$el.get(0).offsetWidth,zt=ue._$container.get(0).offsetWidth,tn=ue._$container.get(0).offsetHeight,Pn=Gt("x",pt=pt.origEvent)-ue._startX,$n=Gt("y",pt)-ue._startY;(Math.abs(Pn)>3||Math.abs($n)>3)&&(ue._isClick=!1);var Dn=ue._oldX+Pn,Nn=ue._oldY+$n;Dn<0?Dn=0:Dn>zt-_t&&(Dn=zt-_t),Nn<0?Nn=0:Nn>tn-_t&&(Nn=tn-_t),ue._$el.css({left:Dn,top:Nn})})),(0,u.A)(ue,"_onDragEnd",(function(pt){var _t=ue._$el;ue._isClick&&ue.emit("click"),ue._onDragMove(pt),Kt.off(F()("move"),ue._onDragMove),Kt.off(F()("up"),ue._onDragEnd);var zt=ue.config;zt.get("rememberPos")&&zt.set("pos",{x:W(_t.css("left")),y:W(_t.css("top"))}),_t.rmClass("eruda-active")})),ue._style=Re(n(6717)),ue._$container=B,ue._initTpl(),ue._bindEvent(),ue._registerListener(),ue}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"hide",value:function(){this._$el.hide()}},{key:"show",value:function(){this._$el.show()}},{key:"setPos",value:function(B){this._isOutOfRange(B)&&(B=this._getDefPos()),this._$el.css({left:B.x,top:B.y}),this.config.set("pos",B)}},{key:"getPos",value:function(){return this.config.get("pos")}},{key:"destroy",value:function(){Re.remove(this._style),this._unregisterListener(),this._$el.remove()}},{key:"_isOutOfRange",value:function(B){B=B||this.config.get("pos");var ue=this._getDefPos();return B.x>ue.x+10||B.x<0||B.y<0||B.y>ue.y+10}},{key:"_registerListener",value:function(){var B=this;this._scaleListener=function(){return Et()((function(){B._isOutOfRange()&&B._resetPos()}))},p.on(p.SCALE,this._scaleListener)}},{key:"_unregisterListener",value:function(){p.off(p.SCALE,this._scaleListener)}},{key:"_initTpl",value:function(){var B=this._$container;B.append(ce('<div class="entry-btn"><span class="icon-tool"></span></div>')),this._$el=B.find(".eruda-entry-btn")}},{key:"_resetPos",value:function(B){var ue=this.config,ke=ue.get("pos"),tt=this._getDefPos();ue.get("rememberPos")&&!B||(ke=tt),this.setPos(ke)}},{key:"_bindEvent",value:function(){var B=this;this._$el.on(F()("down"),this._onDragStart),ve().on("change",(function(){return B._resetPos(!0)})),window.addEventListener("resize",(function(){return B._resetPos()}))}},{key:"initCfg",value:function(B){var ue=this.config=ot.createCfg("entry-button",{rememberPos:!0,pos:this._getDefPos()});B.switch(ue,"rememberPos","Remember Entry Button Position"),this._resetPos()}},{key:"_getDefPos",value:function(){var B=this._$el.get(0).offsetWidth+10;return{x:window.innerWidth-B,y:window.innerHeight-B}}}])})(f()),an=n(5458),$t=n(7622),Lt=yn=new(n.n($t)())("[Eruda]","warn");yn.formatter=function(xe,Fe){return Fe.unshift(this.name),Fe};var nt=n(6097),Nt=n.n(nt),wt=n(7e3),Bt=n.n(wt),kt=n(9931),Qt=n.n(kt),jt=n(1009),fn=n.n(jt),Zt=n(5570),rn=n.n(Zt),ln=n(2556),Jt=n(1944),xn=n(8052);function mn(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(mn=function(){return!!xe})()}var gn=(function(xe){function Fe(B){var ue,ke,tt,ut,pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_t=pt.defaults,zt=_t===void 0?{}:_t,tn=pt.inline,Pn=tn!==void 0&&tn;return(0,r.A)(this,Fe),ke=this,tt=Fe,tt=(0,l.A)(tt),ue=(0,s.A)(ke,mn()?Reflect.construct(tt,[],(0,l.A)(ke).constructor):tt.apply(ke,ut)),(0,u.A)(ue,"_checkSafeArea",(function(){var $n=ue.$container;(function(){var Dn=!1,Nn=document.createElement("div");if(CSS.supports("padding-bottom: env(safe-area-inset-bottom)")?(Nn.style.paddingBottom="env(safe-area-inset-bottom)",Dn=!0):CSS.supports("padding-bottom: constant(safe-area-inset-bottom)")&&(Nn.style.paddingBottom="constant(safe-area-inset-bottom)",Dn=!0),Dn){document.body.appendChild(Nn);var fr=parseInt(window.getComputedStyle(Nn).paddingBottom);if(document.body.removeChild(Nn),fr>0)return!0}return!1})()?$n.addClass(ce("safe-area")):$n.rmClass(ce("safe-area"))})),(0,u.A)(ue,"_updateTabHeight",(function($n){ue._tab.setOption("height",40*$n),Et()((function(){ue._tab.updateSlider()}))})),ue._defCfg=Qe()({transparency:1,displaySize:80,theme:"System preference"},zt),ue._style=Re(n(541)),ue.$container=B,ue._isShow=!1,ue._opacity=1,ue._tools={},ue._isResizing=!1,ue._resizeTimer=null,ue._resizeStartY=0,ue._resizeStartSize=0,ue._inline=Pn,ue._initTpl(),ue._initTab(),ue._initNotification(),ue._initModal(),rn()((function(){return ue._checkSafeArea()})),ue._bindEvent(),ue}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"show",value:function(){var B=this;return this._isShow=!0,this._$el.show(),this._tab.updateSlider(),setTimeout((function(){B._$el.css("opacity",B._opacity)}),50),this.emit("show"),this}},{key:"hide",value:function(){var B=this;if(!this._inline)return this._isShow=!1,this.emit("hide"),this._$el.css({opacity:0}),setTimeout((function(){return B._$el.hide()}),300),this}},{key:"toggle",value:function(){return this._isShow?this.hide():this.show()}},{key:"add",value:function(B){var ue=this._tab;if(!(B instanceof v)){var ke=new v,tt=ke.init,ut=ke.show,pt=ke.hide,_t=ke.destroy;Ke()(B,{init:tt,show:ut,hide:pt,destroy:_t})}var zt=B.name;if(!zt)return Lt.error("You must specify a name for a tool");if(this._tools[zt])return Lt.warn("Tool ".concat(zt," already exists"));var tn=zt.replace(/\s+/g,"-");return this._$tools.prepend('<div id="'.concat(ce(tn),'" class="').concat(ce(tn+" tool"),'"></div>')),B.init(this._$tools.find(".".concat(ce(tn),".").concat(ce("tool"))),this),B.active=!1,this._tools[zt]=B,zt==="settings"?ue.append({id:zt,title:zt}):ue.insert(ue.length-1,{id:zt,title:zt}),this}},{key:"remove",value:function(B){var ue=this._tools;if(!ue[B])return Lt.warn("Tool ".concat(B," doesn't exist"));this._tab.remove(B);var ke=ue[B];if(delete ue[B],ke.active){var tt=V()(ue);tt.length>0&&this.showTool(ue[bt()(tt)].name)}return ke.destroy(),this}},{key:"removeAll",value:function(){var B=this;return Q()(this._tools,(function(ue){return B.remove(ue.name)})),this}},{key:"get",value:function(B){var ue=this._tools[B];if(ue)return ue}},{key:"showTool",value:function(B){if(this._curTool===B)return this;this._curTool=B;var ue=this._tools,ke=ue[B];if(ke){var tt={};return Q()(ue,(function(ut){ut.active&&(tt=ut,ut.active=!1,ut.hide())})),ke.active=!0,ke.show(),this._tab.select(B),this.emit("showTool",B,tt),this}}},{key:"initCfg",value:function(B){var ue=this,ke=this.config=ot.createCfg("dev-tools",this._defCfg);this._setTransparency(ke.get("transparency")),this._setDisplaySize(ke.get("displaySize")),this._setTheme(ke.get("theme")),ke.on("change",(function(tt,ut){switch(tt){case"transparency":return ue._setTransparency(ut);case"displaySize":return ue._setDisplaySize(ut);case"theme":return ue._setTheme(ut)}})),B.separator().select(ke,"theme","Theme",["System preference"].concat((0,an.A)(V()(Re.getThemes())))),this._inline||B.range(ke,"transparency","Transparency",{min:.2,max:1,step:.01}).range(ke,"displaySize","Display Size",{min:40,max:100,step:1}),B.button("Restore defaults and reload",(function(){var tt=D("local"),ut=JSON.parse(JSON.stringify(tt));Q()(ut,(function(pt,_t){ee()(pt)&&fn()(_t,"eruda")&&tt.removeItem(_t)})),window.location.reload()})).separator()}},{key:"notify",value:function(B,ue){this._notification.notify(B,ue)}},{key:"destroy",value:function(){Re.remove(this._style),this.removeAll(),this._tab.destroy(),this._$el.remove(),window.removeEventListener("resize",this._checkSafeArea),p.off(p.SCALE,this._updateTabHeight)}},{key:"_setTheme",value:function(B){var ue=this.$container;B==="System preference"&&(B=Qt()(Bt().get())),oe(B)?ue.addClass(ce("dark")):ue.rmClass(ce("dark")),Re.setTheme(B)}},{key:"_setTransparency",value:function(B){Nt()(B)&&(this._opacity=B,this._isShow&&this._$el.css({opacity:B}))}},{key:"_setDisplaySize",value:function(B){this._inline&&(B=100),Nt()(B)&&this._$el.css({height:B+"%"})}},{key:"_initTpl",value:function(){var B=this.$container;B.append(ce(`
      <div class="dev-tools">
        <div class="resizer"></div>
        <div class="tab"></div>
        <div class="tools"></div>
        <div class="notification"></div>
        <div class="modal"></div>
      </div>
      `)),this._$el=B.find(ce(".dev-tools")),this._$tools=this._$el.find(ce(".tools"))}},{key:"_initTab",value:function(){var B=this;this._tab=new xn.A(this._$el.find(ce(".tab")).get(0),{height:40}),this._tab.on("select",(function(ue){return B.showTool(ue)}))}},{key:"_initNotification",value:function(){this._notification=new ln.A(this._$el.find(ce(".notification")).get(0),{position:{x:"center",y:"top"}})}},{key:"_initModal",value:function(){Jt.A.setContainer(this._$el.find(ce(".modal")).get(0))}},{key:"_bindEvent",value:function(){var B=this,ue=this._$el.find(ce(".resizer")),ke=this._$el.find(ce(".nav-bar")),tt=O()(document);this._inline&&ue.hide();var ut=function(_t){if(B._isResizing){_t.preventDefault(),_t.stopPropagation(),_t=_t.origEvent;var zt=(B._resizeStartY-Gt("y",_t))/window.innerHeight*100,tn=B._resizeStartSize+zt;tn<40?tn=40:tn>100&&(tn=100),B.config.set("displaySize",Ne()(tn.toFixed(2)))}},pt=function(){clearTimeout(B._resizeTimer),B._isResizing=!1,ue.css("height",10),tt.off(F()("move"),ut),tt.off(F()("up"),pt)};ue.css("height",10),ue.on(F()("down"),(function(_t){_t.preventDefault(),_t.stopPropagation(),_t=_t.origEvent,B._isResizing=!0,B._resizeStartSize=B.config.get("displaySize"),B._resizeStartY=Gt("y",_t),ue.css("height","100%"),tt.on(F()("move"),ut),tt.on(F()("up"),pt)})),ke.on("contextmenu",(function(_t){return _t.preventDefault()})),this.$container.on("click",(function(_t){return _t.stopPropagation()})),window.addEventListener("resize",this._checkSafeArea),p.on(p.SCALE,this._updateTabHeight),Bt().on("change",(function(){var _t=B.config.get("theme");_t==="System preference"&&B._setTheme(_t)}))}}])})(f()),_n=n(9993),Sn=n.n(_n),En=n(3957),wn=n.n(En),An=n(1976),Bn=n.n(An),jn=n(6962),tr=n.n(jn),nr=n(8609),Un=n.n(nr),rr=n(4236),Yn=n.n(rr),Gn=n(3578);function Cn(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Cn=function(){return!!xe})()}function hr(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}tr().start();var Mr=(function(xe){function Fe(){var B,ue,ke,tt,ut=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).name,pt=ut===void 0?"console":ut;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),B=(0,s.A)(ue,Cn()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)),(0,u.A)(B,"_handleShow",(function(){Un()(B._$el.get(0))||B._logger.renderViewport()})),(0,u.A)(B,"_handleErr",(function(_t){B._logger.error(_t)})),f().mixin(B),B.name=pt,B._selectedLog=null,B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B,ue){hr(Fe,"init",this)([B]),this._container=ue,this._appendTpl(),this._initCfg(),this._initLogger(),this._exposeLogger(),this._bindEvent()}},{key:"show",value:function(){hr(Fe,"show",this)([]),this._handleShow()}},{key:"overrideConsole",value:function(){var B=this,ue=this._origConsole={},ke=window.console;return Sr.forEach((function(tt){var ut=ue[tt]=Sn();ke[tt]&&(ut=ue[tt]=ke[tt].bind(ke)),ke[tt]=function(){B[tt].apply(B,arguments),ut.apply(void 0,arguments)}})),this}},{key:"setGlobal",value:function(B,ue){this._logger.setGlobal(B,ue)}},{key:"restoreConsole",value:function(){var B=this;return this._origConsole?(Sr.forEach((function(ue){return window.console[ue]=B._origConsole[ue]})),delete this._origConsole,this):this}},{key:"catchGlobalErr",value:function(){return tr().addListener(this._handleErr),this}},{key:"ignoreGlobalErr",value:function(){return tr().rmListener(this._handleErr),this}},{key:"filter",value:function(B){var ue=this._$filterText,ke=this._logger;ee()(B)?(ue.text(B),ke.setOption("filter",Me()(B))):Bn()(B)?(ue.text(H()(B)),ke.setOption("filter",B)):wn()(B)&&(ue.text(""),ke.setOption("filter",B))}},{key:"destroy",value:function(){this._logger.destroy(),hr(Fe,"destroy",this)([]),this._container.off("show",this._handleShow),this._style&&Re.remove(this._style),this.ignoreGlobalErr(),this.restoreConsole(),this._rmCfg()}},{key:"_enableJsExecution",value:function(B){var ue=this._$el,ke=ue.find(ce(".js-input"));B?(ke.show(),ue.rmClass(ce("js-input-hidden"))):(ke.hide(),ue.addClass(ce("js-input-hidden")))}},{key:"_appendTpl",value:function(){var B=this._$el;this._style=Re(n(6567)),B.append(ce(`
      <div class="control">
        <span class="icon-clear clear-console"></span>
        <span class="level active" data-level="all">All</span>
        <span class="level" data-level="info">Info</span>
        <span class="level" data-level="warning">Warning</span>
        <span class="level" data-level="error">Error</span>
        <span class="filter-text"></span>
        <span class="icon-filter filter"></span>
        <span class="icon-copy icon-disabled copy"></span>
      </div>
      <div class="logs-container"></div>
      <div class="js-input">
        <div class="buttons">
          <div class="button cancel">Cancel</div>
          <div class="button execute">Execute</div>
        </div>
        <span class="icon-arrow-right"></span>
        <textarea></textarea>
      </div>
    `));var ue=B.find(ce(".js-input")),ke=ue.find("textarea"),tt=ue.find(ce(".buttons"));Qe()(this,{_$control:B.find(ce(".control")),_$logs:B.find(ce(".logs-container")),_$inputContainer:ue,_$input:ke,_$inputBtns:tt,_$filterText:B.find(ce(".filter-text"))})}},{key:"_initLogger",value:function(){var B=this.config,ue=B.get("maxLogNum");ue=ue==="infinite"?0:+ue;var ke=this._$control.find(ce(".level")),tt=new Gn.A(this._$logs.get(0),{asyncRender:B.get("asyncRender"),maxNum:ue,showHeader:B.get("displayExtraInfo"),unenumerable:B.get("displayUnenumerable"),accessGetter:B.get("displayGetterVal"),lazyEvaluation:B.get("lazyEvaluation")});tt.on("optionChange",(function(ut,pt){ut==="level"&&ke.each((function(){var _t=O()(this),zt=_t.data("level");_t[zt===pt||zt==="all"&&vt()(pt)?"addClass":"rmClass"](ce("active"))}))})),B.get("overrideConsole")&&this.overrideConsole(),this._logger=tt}},{key:"_exposeLogger",value:function(){var B=this,ue=this._logger;["html"].concat(Sr).forEach((function(ke){return B[ke]=function(){for(var tt=arguments.length,ut=new Array(tt),pt=0;pt<tt;pt++)ut[pt]=arguments[pt];return ue[ke].apply(ue,ut),B.emit.apply(B,[ke].concat(ut)),B}}))}},{key:"_bindEvent",value:function(){var B=this,ue=this._container,ke=this._$input,tt=this._$inputBtns,ut=this._$control,pt=this._logger,_t=this.config;ut.on("click",ce(".clear-console"),(function(){return pt.clear(!0)})).on("click",ce(".level"),(function(){var zt=O()(this).data("level");zt==="all"&&(zt=["verbose","info","warning","error"]),pt.setOption("level",zt)})).on("click",ce(".filter"),(function(){Jt.A.prompt("Filter").then((function(zt){Yn()(zt)||B.filter(zt)}))})).on("click",ce(".copy"),(function(){B._selectedLog.copy(),ue.notify("Copied",{icon:"success"})})),tt.on("click",ce(".cancel"),(function(){return B._hideInput()})).on("click",ce(".execute"),(function(){var zt=ke.val().trim();zt!==""&&(pt.evaluate(zt),ke.val("").get(0).blur(),B._hideInput())})),ke.on("focusin",(function(){return B._showInput()})),pt.on("insert",(function(zt){zt.type==="error"&&_t.get("displayIfErr")&&ue.showTool("console").show()})),pt.on("select",(function(zt){B._selectedLog=zt,ut.find(ce(".icon-copy")).rmClass(ce("icon-disabled"))})),pt.on("deselect",(function(){B._selectedLog=null,ut.find(ce(".icon-copy")).addClass(ce("icon-disabled"))})),ue.on("show",this._handleShow)}},{key:"_hideInput",value:function(){this._$inputContainer.rmClass(ce("active")),this._$inputBtns.css("display","none")}},{key:"_showInput",value:function(){this._$inputContainer.addClass(ce("active")),this._$inputBtns.css("display","flex")}},{key:"_rmCfg",value:function(){var B=this.config,ue=this._container.get("settings");ue&&ue.remove(B,"asyncRender").remove(B,"jsExecution").remove(B,"catchGlobalErr").remove(B,"overrideConsole").remove(B,"displayExtraInfo").remove(B,"displayUnenumerable").remove(B,"displayGetterVal").remove(B,"lazyEvaluation").remove(B,"displayIfErr").remove(B,"maxLogNum").remove(Qt()(this.name))}},{key:"_initCfg",value:function(){var B=this,ue=this._container,ke=this.config=ot.createCfg(this.name,{asyncRender:!0,catchGlobalErr:!0,jsExecution:!0,overrideConsole:!0,displayExtraInfo:!1,displayUnenumerable:!0,displayGetterVal:!0,lazyEvaluation:!0,displayIfErr:!1,maxLogNum:"infinite"});this._enableJsExecution(ke.get("jsExecution")),ke.get("catchGlobalErr")&&this.catchGlobalErr(),ke.on("change",(function(ut,pt){var _t=B._logger;switch(ut){case"asyncRender":return _t.setOption("asyncRender",pt);case"jsExecution":return B._enableJsExecution(pt);case"catchGlobalErr":return pt?B.catchGlobalErr():B.ignoreGlobalErr();case"overrideConsole":return pt?B.overrideConsole():B.restoreConsole();case"maxLogNum":return _t.setOption("maxNum",pt==="infinite"?0:+pt);case"displayExtraInfo":return _t.setOption("showHeader",pt);case"displayUnenumerable":return _t.setOption("unenumerable",pt);case"displayGetterVal":return _t.setOption("accessGetter",pt);case"lazyEvaluation":return _t.setOption("lazyEvaluation",pt)}}));var tt=ue.get("settings");tt&&tt.text(Qt()(this.name)).switch(ke,"asyncRender","Asynchronous Rendering").switch(ke,"jsExecution","Enable JavaScript Execution").switch(ke,"catchGlobalErr","Catch Global Errors").switch(ke,"overrideConsole","Override Console").switch(ke,"displayIfErr","Auto Display If Error Occurs").switch(ke,"displayExtraInfo","Display Extra Information").switch(ke,"displayUnenumerable","Display Unenumerable Properties").switch(ke,"displayGetterVal","Access Getter Value").switch(ke,"lazyEvaluation","Lazy Evaluation").select(ke,"maxLogNum","Max Log Number",["infinite","250","125","100","50","10"]).separator()}}])})(v),Sr=["log","error","info","warn","dir","time","timeLog","timeEnd","clear","table","assert","count","countReset","debug","group","groupCollapsed","groupEnd"],_r=n(9117),Jr=n.n(_r),Br=n(9464),Vn=n.n(Br),Ir=n(5902),In=n.n(Ir),yr=n(4844),Hn=n.n(yr),Lr=n(4983),qr=n.n(Lr),zn=n(15),mr=n.n(zn);function Zr(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Zr=function(){return!!xe})()}var Fn=(function(xe){function Fe(B,ue){var ke,tt,ut,pt;return(0,r.A)(this,Fe),tt=this,ut=Fe,ut=(0,l.A)(ut),ke=(0,s.A)(tt,Zr()?Reflect.construct(ut,[],(0,l.A)(tt).constructor):ut.apply(tt,pt)),(0,u.A)(ke,"_copyRes",(function(){var _t=ke._detailData,zt="".concat(_t.method," ").concat(_t.url," ").concat(_t.status,`
`);Vn()(_t.data)||(zt+=`
Request Data

`,zt+="".concat(_t.data,`
`)),Vn()(_t.reqHeaders)||(zt+=`
Request Headers

`,Q()(_t.reqHeaders,(function(tn,Pn){return zt+="".concat(Pn,": ").concat(tn,`
`)}))),Vn()(_t.resHeaders)||(zt+=`
Response Headers

`,Q()(_t.resHeaders,(function(tn,Pn){return zt+="".concat(Pn,": ").concat(tn,`
`)}))),_t.resTxt&&(zt+=`
`.concat(_t.resTxt,`
`)),Hn()(zt),ke._devtools.notify("Copied",{icon:"success"})})),ke._$container=B,ke._devtools=ue,ke._detailData={},ke._bindEvent(),ke}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"show",value:function(B){B.resTxt&&Me()(B.resTxt)===""&&delete B.resTxt,Vn()(B.resHeaders)&&delete B.resHeaders,Vn()(B.reqHeaders)&&delete B.reqHeaders;var ue="";B.data&&(ue='<pre class="'.concat(ce("data"),'">').concat(In()(B.data),"</pre>"));var ke="<tr><td>Empty</td></tr>";B.reqHeaders&&(ke=q()(B.reqHeaders,(function(zt,tn){return`<tr>
          <td class="`.concat(ce("key"),'">').concat(In()(tn),`</td>
          <td>`).concat(In()(zt),`</td>
        </tr>`)})).join(""));var tt="<tr><td>Empty</td></tr>";B.resHeaders&&(tt=q()(B.resHeaders,(function(zt,tn){return`<tr>
          <td class="`.concat(ce("key"),'">').concat(In()(tn),`</td>
          <td>`).concat(In()(zt),`</td>
        </tr>`)})).join(""));var ut="";if(B.resTxt){var pt=B.resTxt;pt.length>ei&&(pt=mr()(pt,ei)),ut='<pre class="'.concat(ce("response"),'">').concat(In()(pt),"</pre>")}var _t='<div class="'.concat(ce("control"),`">
      <span class="`).concat(ce("icon-arrow-left back"),`"></span>
      <span class="`).concat(ce("icon-delete back"),`"></span>
      <span class="`).concat(ce("url"),'">').concat(In()(B.url),`</span>
      <span class="`).concat(ce("icon-copy copy-res"),`"></span>
    </div>
    <div class="`).concat(ce("http"),`">
      `).concat(ue,`
      <div class="`).concat(ce("section"),`">
        <h2>Response Headers</h2>
        <table class="`).concat(ce("headers"),`">
          <tbody>
            `).concat(tt,`
          </tbody>
        </table>
      </div>
      <div class="`).concat(ce("section"),`">
        <h2>Request Headers</h2>
        <table class="`).concat(ce("headers"),`">
          <tbody>
            `).concat(ke,`
          </tbody>
        </table>
      </div>
      `).concat(ut,`
    </div>`);this._$container.html(_t).show(),this._detailData=B}},{key:"hide",value:function(){this._$container.hide(),this.emit("hide")}},{key:"_bindEvent",value:function(){var B=this,ue=this._devtools;this._$container.on("click",ce(".back"),(function(){return B.hide()})).on("click",ce(".copy-res"),this._copyRes).on("click",ce(".http .response"),(function(){var tt=B._detailData,ut=tt.resTxt;if(qr()(ut))return ke("object",ut);switch(tt.subType){case"css":return ke("css",ut);case"html":return ke("html",ut);case"javascript":return ke("js",ut);case"json":return ke("object",ut)}return tt.type==="image"?ke("img",tt.url):void 0}));var ke=function(tt,ut){var pt=ue.get("sources");pt&&(pt.set(tt,ut),ue.showTool("sources"))}}}])})(f()),ei=1e5,sr=n(5865),Vr=n.n(sr),ti=n(6476),oi=n.n(ti),ai=n(5334),Or=n(2480),Dr=n(6192),si=n(5689);function ni(xe,Fe){var B=Object.keys(xe);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(xe);Fe&&(ue=ue.filter((function(ke){return Object.getOwnPropertyDescriptor(xe,ke).enumerable}))),B.push.apply(B,ue)}return B}function Ar(xe){for(var Fe=1;Fe<arguments.length;Fe++){var B=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?ni(Object(B),!0).forEach((function(ue){(0,u.A)(xe,ue,B[ue])})):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(B)):ni(Object(B)).forEach((function(ue){Object.defineProperty(xe,ue,Object.getOwnPropertyDescriptor(B,ue))}))}return xe}var vr=new(oi());vr.register("Network",ai),vr.register("Overlay",Or),vr.register("DOM",Ar(Ar({},Dr),{},{getNodeId:Dr.getDOMNodeId,getNode:Dr.getDOMNode})),vr.register("Storage",si);var qn=vr,Nr=n(2388),cn=n(4095),mt=n.n(cn),Cr=n(3737),Tr=n.n(Cr),Pr=n(5004),b=n.n(Pr),P=n(1849),M=n.n(P);function L(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(L=function(){return!!xe})()}function U(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}var K=(function(xe){function Fe(){var B,ue,ke,tt;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),B=(0,s.A)(ue,L()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)),(0,u.A)(B,"_reqWillBeSent",(function(ut){if(B._isRecording){var pt,_t,zt,tn={name:(pt=ut.request.url,_t=bt()(pt.split("/")),_t===""&&(_t=(pt=new(De())(pt)).hostname),_t),url:ut.request.url,status:"pending",type:"unknown",subType:"unknown",size:0,data:ut.request.postData,method:ut.request.method,startTime:1e3*ut.timestamp,time:0,resTxt:"",done:!1,reqHeaders:ut.request.headers||{},resHeaders:{}};tn.render=function(){var Pn={name:tn.name,method:tn.method,status:tn.status,type:tn.subType,size:tn.size,time:tn.displayTime};zt?(zt.data=Pn,zt.render()):(zt=B._requestDataGrid.append(Pn,{selectable:!0}),O()(zt.container).data("id",ut.requestId)),tn.hasErr&&O()(zt.container).addClass(ce("request-error"))},tn.render(),B._requests[ut.requestId]=tn}})),(0,u.A)(B,"_resReceivedExtraInfo",(function(ut){var pt=B._requests[ut.requestId];B._isRecording&&pt&&(pt.resHeaders=ut.headers,B._updateType(pt),pt.render())})),(0,u.A)(B,"_resReceived",(function(ut){var pt=B._requests[ut.requestId];if(B._isRecording&&pt){var _t=ut.response,zt=_t.status,tn=_t.headers;pt.status=zt,(zt<200||zt>=300)&&(pt.hasErr=!0),tn&&(pt.resHeaders=tn,B._updateType(pt)),pt.render()}})),(0,u.A)(B,"_loadingFinished",(function(ut){var pt=B._requests[ut.requestId];if(B._isRecording&&pt){var _t=1e3*ut.timestamp;pt.time=_t-pt.startTime,pt.displayTime=Jr()(pt.time),pt.size=ut.encodedDataLength,pt.done=!0,pt.resTxt=qn.domain("Network").getResponseBody({requestId:ut.requestId}).body,pt.render()}})),(0,u.A)(B,"_loadingFailed",(function(ut){var pt=B._requests[ut.requestId];if(B._isRecording&&pt){var _t=1e3*ut.timestamp;pt.time=_t-pt.startTime,pt.displayTime=Jr()(pt.time),pt.hasErr=!0,pt.status=0,pt.done=!0,pt.render()}})),(0,u.A)(B,"_copyCurl",(function(){var ut=B._selectedRequest;Hn()((function(pt){var _t=b()();_t==="windows"&&(_t="win");var zt=[],tn=M()(["accept-encoding","host","method","path","scheme","version"]),Pn=_t==="win"?function(Hr){var mi=/[\r\n]/.test(Hr)?'^"':'"';return mi+Hr.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[^a-zA-Z0-9\s_\-:=+~'/.',?;()*`&]/g,"^$&").replace(/%(?=[a-zA-Z0-9_])/g,"%^").replace(/\r?\n/g,`^

`)+mi}:function(Hr){return/[\0-\x1F\x7F-\x9F!]|'/.test(Hr)?"$'"+Hr.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\0-\x1F\x7F-\x9F!]/g,(function(mi){for(var _i=mi.charCodeAt(0).toString(16);_i.length<4;)_i="0"+_i;return"\\u"+_i}))+"'":"'"+Hr+"'"};zt.push(Pn(pt.url()).replace(/[[{}\]]/g,"\\$&"));var $n="GET",Dn=[],Nn=pt.requestFormData();Nn&&(Dn.push("--data-raw "+Pn(Nn)),tn["content-length"]=!0,$n="POST"),pt.requestMethod!==$n&&zt.push("-X "+Pn(pt.requestMethod));for(var fr=pt.requestHeaders(),xr=0;xr<fr.length;xr++){var Zi=fr[xr],wo=Zi.name.replace(/^:/,"");tn[wo.toLowerCase()]||zt.push("-H "+Pn(wo+": "+Zi.value))}return(zt=zt.concat(Dn)).push("--compressed"),"curl "+zt.join(zt.length>=3?_t==="win"?` ^
  `:` \\
  `:" ")})({requestMethod:ut.method,url:function(){return ut.url},requestFormData:function(){return ut.data},requestHeaders:function(){var pt=ut.reqHeaders||{};return Qe()(pt,{"User-Agent":navigator.userAgent,Referer:location.href}),q()(pt,(function(_t,zt){return{name:zt,value:_t}}))}})),B._container.notify("Copied",{icon:"success"})})),(0,u.A)(B,"_toggleRecording",(function(){B._$control.find(ce(".record")).toggleClass(ce("recording")),B._isRecording=!B._isRecording})),(0,u.A)(B,"_showDetail",(function(){B._selectedRequest&&(B._splitMode&&B._$network.css("width","50%"),B._detail.show(B._selectedRequest))})),(0,u.A)(B,"_updateScale",(function(ut){B._splitMediaQuery.setQuery("screen and (min-width: ".concat(680*ut,"px)"))})),B._style=Re(n(8239)),B.name="network",B._requests={},B._selectedRequest=null,B._isRecording=!0,B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B,ue){U(Fe,"init",this)([B]),this._container=ue,this._initTpl(),this._detail=new Fn(this._$detail,ue),this._splitMediaQuery=new(Tr())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._requestDataGrid=new Nr.A(this._$requests.get(0),{columns:[{id:"name",title:"Name",sortable:!0,weight:30},{id:"method",title:"Method",sortable:!0,weight:14},{id:"status",title:"Status",sortable:!0,weight:14},{id:"type",title:"Type",sortable:!0,weight:14},{id:"size",title:"Size",sortable:!0,weight:14},{id:"time",title:"Time",sortable:!0,weight:14}]}),this._resizeSensor=new(mt())(B.get(0)),this._bindEvent()}},{key:"show",value:function(){U(Fe,"show",this)([]),this._updateDataGridHeight()}},{key:"clear",value:function(){this._requests={},this._requestDataGrid.clear()}},{key:"requests",value:function(){var B=[];return Q()(this._requests,(function(ue){B.push(ue)})),B}},{key:"_updateDataGridHeight",value:function(){this._requestDataGrid.fit()}},{key:"_updateType",value:function(B){var ue=(function(ut){if(!ut)return"unknown";var pt=ut.split(";")[0].split("/");return{type:pt[0],subType:bt()(pt)}})(B.resHeaders["content-type"]||""),ke=ue.type,tt=ue.subType;B.type=ke,B.subType=tt}},{key:"_updateButtons",value:function(){var B=this._$control,ue=B.find(ce(".show-detail")),ke=B.find(ce(".copy-curl")),tt=ce("icon-disabled");ue.addClass(tt),ke.addClass(tt),this._selectedRequest&&(ue.rmClass(tt),ke.rmClass(tt))}},{key:"_bindEvent",value:function(){var B=this,ue=this._$control,ke=this._$filterText,tt=this._requestDataGrid,ut=this;ue.on("click",ce(".clear-request"),(function(){return B.clear()})).on("click",ce(".show-detail"),this._showDetail).on("click",ce(".copy-curl"),this._copyCurl).on("click",ce(".record"),this._toggleRecording).on("click",ce(".filter"),(function(){Jt.A.prompt("Filter").then((function(_t){Yn()(_t)||(ke.text(_t),tt.setOption("filter",Me()(_t)))}))})),tt.on("select",(function(_t){var zt=O()(_t.container).data("id"),tn=ut._requests[zt];B._selectedRequest=tn,B._updateButtons(),B._splitMode&&B._showDetail()})),tt.on("deselect",(function(){B._selectedRequest=null,B._updateButtons(),B._detail.hide()})),this._resizeSensor.addListener(Vr()((function(){return B._updateDataGridHeight()}),15)),this._splitMediaQuery.on("match",(function(){B._detail.hide(),B._splitMode=!0})),this._splitMediaQuery.on("unmatch",(function(){B._detail.hide(),B._splitMode=!1})),this._detail.on("hide",(function(){B._splitMode&&B._$network.css("width","100%")})),qn.domain("Network").enable();var pt=qn.domain("Network");pt.on("requestWillBeSent",this._reqWillBeSent),pt.on("responseReceivedExtraInfo",this._resReceivedExtraInfo),pt.on("responseReceived",this._resReceived),pt.on("loadingFinished",this._loadingFinished),pt.on("loadingFailed",this._loadingFailed),p.on(p.SCALE,this._updateScale)}},{key:"destroy",value:function(){U(Fe,"destroy",this)([]),this._resizeSensor.destroy(),Re.remove(this._style),this._splitMediaQuery.removeAllListeners();var B=qn.domain("Network");B.off("requestWillBeSent",this._reqWillBeSent),B.off("responseReceivedExtraInfo",this._resReceivedExtraInfo),B.off("responseReceived",this._resReceived),B.off("loadingFinished",this._loadingFinished),p.off(p.SCALE,this._updateScale)}},{key:"_initTpl",value:function(){var B=this._$el;B.html(ce(`<div class="network">
        <div class="control">
          <span class="icon-record record recording"></span>
          <span class="icon-clear clear-request"></span>
          <span class="icon-eye icon-disabled show-detail"></span>
          <span class="icon-copy icon-disabled copy-curl"></span>
          <span class="filter-text"></span>
          <span class="icon-filter filter"></span>
        </div>
        <div class="requests"></div>
      </div>
      <div class="detail"></div>`)),this._$network=B.find(ce(".network")),this._$detail=B.find(ce(".detail")),this._$requests=B.find(ce(".requests")),this._$control=B.find(ce(".control")),this._$filterText=B.find(ce(".filter-text"))}}])})(v),z=n(2708),X=n.n(z),re=n(1167),Se=n.n(re),Be=n(7181),Ge=n.n(Be),et=n(5784),ct=n(96),We=n.n(ct),Tt=n(896),It=n.n(Tt),Wt=n(438),Ut=n.n(Wt),Ht=n(6493),un=n.n(Ht),bn=n(6186),Tn=n.n(bn),Rn=n(5241),kn=n.n(Rn),vn=n(2208),Mn=n.n(vn),ir=n(5145),Ln=n.n(ir);function Kn(xe){for(var Fe={},B=0,ue=xe.length;B<ue;B++){var ke=xe[B];xe[ke]!=="initial"&&(Fe[ke]=xe[ke])}return(function(tt){return Ln()(tt,{comparator:function(ut,pt){for(var _t=ut.length,zt=pt.length,tn=_t>zt?zt:_t,Pn=0;Pn<tn;Pn++){var $n=Wr(ut.charCodeAt(Pn),pt.charCodeAt(Pn));if($n!==0)return $n}return _t>zt?1:_t<zt?-1:0}})})(Fe)}var ar=Element.prototype,Er=function(){return!1};ar.webkitMatchesSelector?Er=function(xe,Fe){return xe.webkitMatchesSelector(Fe)}:ar.mozMatchesSelector&&(Er=function(xe,Fe){return xe.mozMatchesSelector(Fe)});var $r=(function(){return(0,a.A)((function xe(Fe){(0,r.A)(this,xe),this._el=Fe}),[{key:"getComputedStyle",value:function(){return Kn(window.getComputedStyle(this._el))}},{key:"getMatchedCSSRules",value:function(){var xe=this,Fe=[];return Q()(document.styleSheets,(function(B){try{if(!B.cssRules)return}catch{return}Q()(B.cssRules,(function(ue){var ke=!1;try{ke=xe._elMatchesSel(ue.selectorText)}catch{}ke&&Fe.push({selectorText:ue.selectorText,style:Kn(ue.style)})}))})),Fe}},{key:"_elMatchesSel",value:function(xe){return Er(this._el,xe)}}])})();function Wr(xe,Fe){return(xe=Xr(xe))>(Fe=Xr(Fe))?1:xe<Fe?-1:0}function Xr(xe){return xe===45?123:xe}var Yr=n(128);function zr(xe){var Fe=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).noAttr,B=Fe!==void 0&&Fe;if(xe.nodeType===Node.TEXT_NODE)return'<span class="'.concat(ce("tag-name-color"),'">(text)</span>');if(xe.nodeType===Node.COMMENT_NODE)return'<span class="'.concat(ce("tag-name-color"),'"><!--></span>');if(Ge()(xe))return'<span class="'.concat(ce("tag-name-color"),'">#shadow-root</span>');var ue=xe.id,ke=xe.className,tt=xe.attributes,ut='<span class="eruda-tag-name-color">'.concat(xe.tagName.toLowerCase(),"</span>");if(ue!==""&&(ut+='<span class="eruda-function-color">#'.concat(ue,"</span>")),ee()(ke)){var pt="";Q()(ke.split(/\s+/g),(function(_t){_t.trim()!==""&&(pt+=".".concat(_t))})),ut+='<span class="eruda-attribute-name-color">'.concat(pt,"</span>")}return B||Q()(tt,(function(_t){var zt=_t.name;zt!=="id"&&zt!=="class"&&zt!=="style"&&(ut+=' <span class="eruda-attribute-name-color">'.concat(zt,'</span><span class="eruda-operator-color">="</span><span class="eruda-string-color">').concat(_t.value,'</span><span class="eruda-operator-color">"</span>'))})),ut}var br=(function(){return(0,a.A)((function xe(Fe,B){var ue=this;(0,r.A)(this,xe),(0,u.A)(this,"hide",(function(){ue._$container.hide(),ue._disableObserver(),qn.domain("Overlay").hideHighlight()})),(0,u.A)(this,"_highlight",(function(ke){var tt=ue._curEl,ut={showInfo:!1};ke&&ke!=="all"?ke==="margin"?ut.marginColor="rgba(246, 178, 107, .66)":ke==="border"?ut.borderColor="rgba(255, 229, 153, .66)":ke==="padding"?ut.paddingColor="rgba(147, 196, 125, .55)":ke==="content"&&(ut.contentColor="rgba(111, 168, 220, .66)"):Qe()(ut,{showInfo:!0,contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"});var pt=qn.domain("DOM").getNodeId({node:tt}).nodeId;qn.domain("Overlay").highlightNode({nodeId:pt,highlightConfig:ut})})),this._$container=Fe,this._devtools=B,this._curEl=document.documentElement,this._initObserver(),this._initCfg(),this._initTpl(),this._bindEvent()}),[{key:"show",value:function(xe){this._curEl=xe,this._rmDefComputedStyle=!0,this._computedStyleSearchKeyword="",this._enableObserver(),this._render(),this._highlight()}},{key:"destroy",value:function(){this._disableObserver(),this.restoreEventTarget(),this._rmCfg()}},{key:"overrideEventTarget",value:function(){var xe=Ti(),Fe=this._origAddEvent=xe.addEventListener,B=this._origRmEvent=xe.removeEventListener;xe.addEventListener=function(ue,ke,tt){(function(ut,pt,_t){var zt=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(!X()(ut)||!wn()(_t)||!un()(zt))){var tn=ut.erudaEvents=ut.erudaEvents||{};tn[pt]=tn[pt]||[],tn[pt].push({listener:_t,listenerStr:_t.toString(),useCapture:zt})}})(this,ue,ke,tt),Fe.apply(this,arguments)},xe.removeEventListener=function(ue,ke,tt){(function(ut,pt,_t){var zt=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(!X()(ut)||!wn()(_t)||!un()(zt))){var tn=ut.erudaEvents;if(!(!tn||!tn[pt])){for(var Pn=tn[pt],$n=0,Dn=Pn.length;$n<Dn;$n++)if(Pn[$n].listener===_t){Pn.splice($n,1);break}Pn.length===0&&delete tn[pt],V()(tn).length===0&&delete ut.erudaEvents}}})(this,ue,ke,tt),B.apply(this,arguments)}}},{key:"restoreEventTarget",value:function(){var xe=Ti();this._origAddEvent&&(xe.addEventListener=this._origAddEvent),this._origRmEvent&&(xe.removeEventListener=this._origRmEvent)}},{key:"_initTpl",value:function(){var xe=this._$container,Fe='<div class="'.concat(ce("control"),`">
      <span class="`).concat(ce("icon-arrow-left back"),`"></span>
      <span class="`).concat(ce("element-name"),`"></span>
      <span class="`).concat(ce("icon-refresh refresh"),`"></span>
    </div>
    <div class="`).concat(ce("element"),`">
      <div class="`).concat(ce("attributes section"),`"></div>
      <div class="`).concat(ce("styles section"),`"></div>
      <div class="`).concat(ce("computed-style section"),`"></div>
      <div class="`).concat(ce("listeners section"),`"></div>
    </div>`);xe.html(Fe),this._$elementName=xe.find(ce(".element-name")),this._$attributes=xe.find(ce(".attributes")),this._$styles=xe.find(ce(".styles")),this._$listeners=xe.find(ce(".listeners")),this._$computedStyle=xe.find(ce(".computed-style"));var B=kn()("div");this._$boxModel=O()(B),this._boxModel=new Yr.A(B)}},{key:"_toggleAllComputedStyle",value:function(){this._rmDefComputedStyle=!this._rmDefComputedStyle,this._render()}},{key:"_render",value:function(){var xe=this._getData(this._curEl),Fe=this._$attributes,B=this._$elementName,ue=this._$styles,ke=this._$computedStyle,tt=this._$listeners;B.html(xe.name);var ut="<tr><td>Empty</td></tr>";Vn()(xe.attributes)||(ut=q()(xe.attributes,(function($n){var Dn=$n.name,Nn=$n.value;return`<tr>
          <td class="`.concat(ce("attribute-name-color"),'">').concat(In()(Dn),`</td>
          <td class="`).concat(ce("string-color"),'">').concat(Nn,`</td>
        </tr>`)})).join("")),ut=`<h2>Attributes</h2>
    <div class="`.concat(ce("table-wrapper"),`">
      <table>
        <tbody>
          `).concat(ut,` 
        </tbody>
      </table>
    </div>`),Fe.html(ut);var pt="";if(Vn()(xe.styles))ue.hide();else{var _t=q()(xe.styles,(function($n){var Dn=$n.selectorText,Nn=$n.style;return Nn=q()(Nn,(function(fr,xr){return'<div class="'.concat(ce("rule"),'"><span>').concat(In()(xr),"</span>: ").concat(fr,";</div>")})).join(""),'<div class="'.concat(ce("style-rules"),`">
          <div>`).concat(In()(Dn),` {</div>
            `).concat(Nn,`
          <div>}</div>
        </div>`)})).join("");pt=`<h2>Styles</h2>
      <div class="`.concat(ce("style-wrapper"),`">
        `).concat(_t,`
      </div>`),ue.html(pt).show()}var zt="";if(xe.computedStyle){var tn=ce(`<div class="btn toggle-all-computed-style">
        <span class="icon-expand"></span>
      </div>`);xe.rmDefComputedStyle&&(tn=ce(`<div class="btn toggle-all-computed-style">
          <span class="icon-compress"></span>
        </div>`)),zt=`<h2>
        Computed Style
        `.concat(tn,`
        <div class="`).concat(ce("btn computed-style-search"),`">
          <span class="`).concat(ce("icon-filter"),`"></span>
        </div>
        `).concat(xe.computedStyleSearchKeyword?'<div class="'.concat(ce("btn filter-text"),'">').concat(In()(xe.computedStyleSearchKeyword),"</div>"):"",`
      </h2>
      <div class="`).concat(ce("box-model"),`"></div>
      <div class="`).concat(ce("table-wrapper"),`">
        <table>
          <tbody>
          `).concat(q()(xe.computedStyle,(function($n,Dn){return`<tr>
              <td class="`.concat(ce("key"),'">').concat(In()(Dn),`</td>
              <td>`).concat($n,`</td>
            </tr>`)})).join(""),`
          </tbody>
        </table>
      </div>`),ke.html(zt).show(),this._boxModel.setOption("element",this._curEl),ke.find(ce(".box-model")).append(this._$boxModel.get(0))}else ke.text("").hide();var Pn="";xe.listeners?(Pn=q()(xe.listeners,(function($n,Dn){return $n=q()($n,(function(Nn){var fr=Nn.useCapture,xr=Nn.listenerStr;return"<li ".concat(fr?'class="'.concat(ce("capture"),'"'):"",">").concat(In()(xr),"</li>")})).join(""),'<div class="'.concat(ce("listener"),`">
          <div class="`).concat(ce("listener-type"),'">').concat(In()(Dn),`</div>
          <ul class="`).concat(ce("listener-content"),`">
            `).concat($n,`
          </ul>
        </div>`)})).join(""),Pn=`<h2>Event Listeners</h2>
      <div class="`.concat(ce("listener-wrapper"),`">
        `).concat(Pn,` 
      </div>`),tt.html(Pn).show()):tt.hide(),this._$container.show()}},{key:"_getData",value:function(xe){var Fe={},B=new $r(xe),ue=xe.className,ke=xe.id,tt=xe.attributes,ut=xe.tagName;Fe.computedStyleSearchKeyword=this._computedStyleSearchKeyword,Fe.attributes=li(tt),Fe.name=zr({tagName:ut,id:ke,className:ue,attributes:tt});var pt=xe.erudaEvents;if(pt&&V()(pt).length!==0&&(Fe.listeners=pt),ri(ut))return Fe;var _t=B.getComputedStyle(),zt=B.getMatchedCSSRules();zt.unshift((function(Pn){for(var $n={selectorText:"element.style",style:{}},Dn=0,Nn=Pn.length;Dn<Nn;Dn++){var fr=Pn[Dn];$n.style[fr]=Pn[fr]}return $n})(xe.style)),zt.forEach((function(Pn){return wr(Pn.style)})),Fe.styles=zt,this._rmDefComputedStyle&&(_t=(function(Pn,$n){var Dn={},Nn=["display","width","height"];return Q()($n,(function(fr){Nn=Nn.concat(V()(fr.style))})),Nn=Ut()(Nn),Q()(Pn,(function(fr,xr){Z()(Nn,xr)&&(Dn[xr]=fr)})),Dn})(_t,zt)),Fe.rmDefComputedStyle=this._rmDefComputedStyle;var tn=We()(Fe.computedStyleSearchKeyword);return tn&&(_t=It()(_t,(function(Pn,$n){return Z()($n,tn)||Z()(Pn,tn)}))),wr(_t),Fe.computedStyle=_t,Fe}},{key:"_bindEvent",value:function(){var xe=this,Fe=this._devtools;this._$container.on("click",ce(".toggle-all-computed-style"),(function(){return xe._toggleAllComputedStyle()})).on("click",ce(".computed-style-search"),(function(){Jt.A.prompt("Filter").then((function(B){Yn()(B)||(B=Me()(B),xe._computedStyleSearchKeyword=B,xe._render())}))})).on("click",".eruda-listener-content",(function(){var B=O()(this).text(),ue=Fe.get("sources");ue&&(ue.set("js",B),Fe.showTool("sources"))})).on("click",ce(".element-name"),(function(){var B=Fe.get("sources");B&&(B.set("object",xe._curEl),Fe.showTool("sources"))})).on("click",ce(".back"),this.hide).on("click",ce(".refresh"),(function(){xe._render(),Fe.notify("Refreshed",{icon:"success"})})),this._boxModel.on("highlight",this._highlight)}},{key:"_initObserver",value:function(){var xe=this;this._observer=new(Mn())((function(Fe){Q()(Fe,(function(B){return xe._handleMutation(B)}))}))}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}},{key:"_handleMutation",value:function(xe){if(!_e(xe.target)&&xe.type==="attributes"){if(xe.target!==this._curEl)return;this._render()}}},{key:"_rmCfg",value:function(){var xe=this.config,Fe=this._devtools.get("settings");Fe&&Fe.remove(xe,"overrideEventTarget").remove(xe,"observeElement").remove("Elements")}},{key:"_initCfg",value:function(){var xe=this,Fe=this.config=ot.createCfg("elements",{overrideEventTarget:!0});Fe.get("overrideEventTarget")&&this.overrideEventTarget(),Fe.on("change",(function(ue,ke){if(ue==="overrideEventTarget")return ke?xe.overrideEventTarget():xe.restoreEventTarget()}));var B=this._devtools.get("settings");B&&(B.text("Elements").switch(Fe,"overrideEventTarget","Catch Event Listeners"),B.separator())}}])})();function wr(xe){Q()(xe,(function(Fe,B){return xe[B]=Jn(Fe)}))}var li=function(xe){return q()(xe,(function(Fe){var B=Fe.value,ue=Fe.name;return B=In()(B),(ue==="src"||ue==="href")&&!fn()(B,"data")&&(B=er(B)),ue==="style"&&(B=Jn(B)),{name:ue,value:B}}))},ci=/rgba?\((.*?)\)/g,Fr=/url\("?(.*?)"?\)/g;function Jn(xe){return(xe=H()(xe)).replace(ci,'<span class="eruda-style-color" style="background-color: $&"></span>$&').replace(Fr,(function(Fe,B){return'url("'.concat(er(B),'")')}))}var ui=["script","style","meta","title","link","head"],ri=function(xe){ui.indexOf(xe.toLowerCase())},er=function(xe){return'<a href="'.concat(xe,'" target="_blank">').concat(xe,"</a>")},Ti=function(){return Tn()(window,"EventTarget.prototype")||window.Node.prototype};function Pi(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Pi=function(){return!!xe})()}function ii(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}var Vi=(function(xe){function Fe(){var B,ue,ke,tt;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),B=(0,s.A)(ue,Pi()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)),(0,u.A)(B,"_showDetail",(function(){B._isShow&&B._curNode&&(B._curNode.nodeType===Node.ELEMENT_NODE?B._detail.show(B._curNode):B._detail.show(B._curNode.parentNode||B._curNode.host))})),(0,u.A)(B,"_back",(function(){if(B._curNode!==B._htmlEl){for(var ut=B._curParentQueue,pt=ut.shift();!Ei(pt);)pt=ut.shift();B.set(pt)}})),(0,u.A)(B,"_updateScale",(function(ut){B._splitMediaQuery.setQuery("screen and (min-width: ".concat(680*ut,"px)"))})),(0,u.A)(B,"_deleteNode",(function(){var ut=B._curNode;ut.parentNode&&ut.parentNode.removeChild(ut)})),(0,u.A)(B,"_copyNode",(function(){var ut=B._curNode;ut.nodeType===Node.ELEMENT_NODE?Hn()(ut.outerHTML):Hn()(ut.nodeValue),B._container.notify("Copied",{icon:"success"})})),(0,u.A)(B,"_toggleSelect",(function(){B._$el.find(ce(".select")).toggleClass(ce("active")),B._selectElement=!B._selectElement,B._selectElement?(qn.domain("Overlay").setInspectMode({mode:"searchForNode",highlightConfig:{showInfo:!Se()(),showRulers:!1,showAccessibilityInfo:!Se()(),showExtensionLines:!1,contrastAlgorithm:"aa",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)"}}),B._container.hide()):(qn.domain("Overlay").setInspectMode({mode:"none"}),qn.domain("Overlay").hideHighlight())})),(0,u.A)(B,"_inspectNodeRequested",(function(ut){var pt=ut.backendNodeId;B._container.show(),B._toggleSelect();try{var _t=qn.domain("DOM").getNode({nodeId:pt}).node;B.select(_t)}catch{}})),(0,u.A)(B,"_setNode",(function(ut){if(ut!==B._curNode){B._curNode=ut,B._renderCrumbs();for(var pt=[],_t=ut.parentNode;_t;)pt.push(_t),_t=_t.parentNode;B._curParentQueue=pt,B._splitMode&&B._showDetail(),B._updateButtons(),B._updateHistory()}})),B._style=Re(n(9111)),B.name="elements",B._selectElement=!1,B._observeElement=!0,B._history=[],f().mixin(B),B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B,ue){var ke=this;ii(Fe,"init",this)([B]),this._container=ue,this._initTpl(),this._htmlEl=document.documentElement,this._detail=new br(this._$detail,ue),this.config=this._detail.config,this._splitMediaQuery=new(Tr())("screen and (min-width: 680px)"),this._splitMode=this._splitMediaQuery.isMatch(),this._domViewer=new et.A(this._$domViewer.get(0),{node:this._htmlEl,ignore:function(tt){return _e(tt)||(function(ut){for(;ut;){var pt="";if(ut.getAttribute&&(pt=ut.getAttribute("class")||""),Z()(pt,"__chobitsu-hide__"))return!0;ut=ut.parentNode}return!1})(tt)}}),this._domViewer.expand(),this._bindEvent(),qn.domain("Overlay").enable(),Et()((function(){return ke._updateHistory()}))}},{key:"show",value:function(){ii(Fe,"show",this)([]),this._isShow=!0,this._curNode?this._splitMode&&this._showDetail():this.select(document.body)}},{key:"hide",value:function(){ii(Fe,"hide",this)([]),this._isShow=!1,qn.domain("Overlay").hideHighlight()}},{key:"select",value:function(B){return this._domViewer.select(B),this._setNode(B),this.emit("change",B),this}},{key:"destroy",value:function(){ii(Fe,"destroy",this)([]),p.off(p.SCALE,this._updateScale),Re.remove(this._style),this._detail.destroy(),qn.domain("Overlay").off("inspectNodeRequested",this._inspectNodeRequested),qn.domain("Overlay").disable(),this._splitMediaQuery.removeAllListeners()}},{key:"_updateButtons",value:function(){var B=this._$control,ue=B.find(ce(".show-detail")),ke=B.find(ce(".copy-node")),tt=B.find(ce(".delete-node")),ut=ce("icon-disabled");ue.addClass(ut),ke.addClass(ut),tt.addClass(ut);var pt=this._curNode;pt&&!Ge()(pt)&&(pt!==document.documentElement&&pt!==document.body&&tt.rmClass(ut),ke.rmClass(ut),pt.nodeType===Node.ELEMENT_NODE&&ue.rmClass(ut))}},{key:"_initTpl",value:function(){var B=this._$el;B.html(ce(`<div class="elements">
        <div class="control">
          <span class="icon icon-select select"></span>
          <span class="icon icon-eye show-detail"></span>
          <span class="icon icon-copy copy-node"></span>
          <span class="icon icon-delete delete-node"></span>
        </div>
        <div class="dom-viewer-container">
          <div class="dom-viewer"></div>
        </div>
        <div class="crumbs"></div>
      </div>
      <div class="detail"></div>`)),this._$detail=B.find(ce(".detail")),this._$domViewer=B.find(ce(".dom-viewer")),this._$control=B.find(ce(".control")),this._$crumbs=B.find(ce(".crumbs"))}},{key:"_renderCrumbs",value:function(){var B=(function(ke){for(var tt=[],ut=0;ke;)tt.push({text:zr(ke,{noAttr:!0}),idx:ut++}),Ge()(ke)&&(ke=ke.host),ke=!ke.parentElement&&Ge()(ke.parentNode)?ke.parentNode:ke.parentElement;return tt.reverse()})(this._curNode),ue="";Vn()(B)||(ue=q()(B,(function(ke){var tt=ke.text,ut=ke.idx;return'<li class="'.concat(ce("crumb"),'" data-idx="').concat(ut,'">').concat(tt,"</div></li>")})).join("")),this._$crumbs.html(ue)}},{key:"_bindEvent",value:function(){var B=this,ue=this;this._$el.on("click",ce(".crumb"),(function(){for(var ke=Ne()(O()(this).data("idx")),tt=ue._curNode;ke--&&tt.parentElement;)tt=tt.parentElement;Ei(tt)&&ue.select(tt)})),this._$control.on("click",ce(".select"),this._toggleSelect).on("click",ce(".show-detail"),this._showDetail).on("click",ce(".copy-node"),this._copyNode).on("click",ce(".delete-node"),this._deleteNode),this._domViewer.on("select",this._setNode).on("deselect",this._back),qn.domain("Overlay").on("inspectNodeRequested",this._inspectNodeRequested),this._splitMediaQuery.on("match",(function(){B._splitMode=!0,B._showDetail()})),this._splitMediaQuery.on("unmatch",(function(){B._splitMode=!1,B._detail.hide()})),p.on(p.SCALE,this._updateScale)}},{key:"_updateHistory",value:function(){var B=this._container.get("console");if(B){var ue=this._history;ue.unshift(this._curNode),ue.length>5&&ue.pop();for(var ke=0;ke<5;ke++)B.setGlobal("$".concat(ke),ue[ke])}}}])})(v),Ei=function(xe){return X()(xe)&&xe.parentNode},$i=n(3981),bi=n.n($i),wi=n(4866),So=n.n(wi),Qr=null,hi=[{name:"Border All",fn:function(){if(Qr)return Re.remove(Qr),void(Qr=null);Qr=Re("* { outline: 2px dashed #707d8b; outline-offset: -3px; }",document.head)},desc:"Add color borders to all elements"},{name:"Refresh Page",fn:function(){var xe=new(De());xe.setQuery("timestamp",bi()()),window.location.replace(xe.toString())},desc:"Add timestamp to url and refresh"},{name:"Search Text",fn:function(){Jt.A.prompt("Enter the text").then((function(xe){var Fe,B,ue;xe&&Me()(xe)!==""&&(Fe=xe,B=document.body,ue=new RegExp(Fe,"ig"),Qi(B,(function(ke){var tt=O()(ke);if(tt.hasClass("eruda-search-highlight-block"))return document.createTextNode(tt.text())})),Qi(B,(function(ke){if(ke.nodeType===3){var tt=ke.nodeValue;if((tt=tt.replace(ue,(function(pt){return'<span class="eruda-keyword">'.concat(pt,"</span>")})))!==ke.nodeValue){var ut=O()(document.createElement("div"));return ut.html(tt),ut.addClass("eruda-search-highlight-block"),ut.get(0)}}})))}))},desc:"Highlight given text on page"},{name:"Edit Page",fn:function(){var xe=document.body;xe.contentEditable=xe.contentEditable!=="true"},desc:"Toggle body contentEditable"},{name:"Fit Screen",fn:function(){var xe=document.body,Fe=document.documentElement,B=O()(xe);if(B.data("scaled"))window.scrollTo(0,+B.data("scaled")),B.rmAttr("data-scaled"),B.css("transform","none");else{var ue=Math.max(xe.scrollHeight,xe.offsetHeight,Fe.clientHeight,Fe.scrollHeight,Fe.offsetHeight),ke=Math.max(document.documentElement.clientHeight,window.innerHeight||0),tt=ke/ue;B.css("transform","scale(".concat(tt,")")),B.data("scaled",window.scrollY),window.scrollTo(0,ue/2-ke/2)}},desc:"Scale down the whole page to fit screen"},{name:"Load Vue Plugin",fn:function(){jr("vue")},desc:"Vue devtools"},{name:"Load Monitor Plugin",fn:function(){jr("monitor")},desc:"Display page fps, memory and dom nodes"},{name:"Load Features Plugin",fn:function(){jr("features")},desc:"Browser feature detections"},{name:"Load Timing Plugin",fn:function(){jr("timing")},desc:"Show performance and resource timing"},{name:"Load Code Plugin",fn:function(){jr("code")},desc:"Edit and run JavaScript"},{name:"Load Benchmark Plugin",fn:function(){jr("benchmark")},desc:"Run JavaScript benchmarks"},{name:"Load Geolocation Plugin",fn:function(){jr("geolocation")},desc:"Test geolocation"},{name:"Load Orientation Plugin",fn:function(){jr("orientation")},desc:"Test orientation api"},{name:"Load Touches Plugin",fn:function(){jr("touches")},desc:"Visualize screen touches"}];function Qi(xe,Fe){var B=xe.childNodes;if(!_e(xe)){for(var ue=0,ke=B.length;ue<ke;ue++){var tt=Qi(B[ue],Fe);tt&&xe.replaceChild(tt,B[ue])}return Fe(xe)}}function jr(xe){var Fe="eruda"+Qt()(xe);if(!window[Fe]){var B=location.protocol;fn()(B,"http")||(B="http:"),So()("".concat(B,"//cdn.jsdelivr.net/npm/eruda-").concat(xe,"@").concat(Wi[xe]),(function(ue){if(!ue||!window[Fe])return Lt.error("Fail to load plugin "+xe);p.emit(p.ADD,window[Fe]),p.emit(p.SHOW,xe)}))}}Re(n(688),document.head);var Wi={monitor:"1.1.1",features:"2.1.0",timing:"2.0.1",code:"2.2.0",benchmark:"2.0.1",geolocation:"2.1.0",orientation:"2.1.1",touches:"2.1.0",vue:"1.1.1"},_o=n(961),Yi=n.n(_o);function fi(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(fi=function(){return!!xe})()}function di(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}var Ao=(function(xe){function Fe(){var B,ue,ke,tt;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),(B=(0,s.A)(ue,fi()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)))._style=Re(n(9861)),B.name="snippets",B._snippets=[],B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B){di(Fe,"init",this)([B]),this._bindEvent(),this._addDefSnippets()}},{key:"destroy",value:function(){di(Fe,"destroy",this)([]),Re.remove(this._style)}},{key:"add",value:function(B,ue,ke){return this._snippets.push({name:B,fn:ue,desc:ke}),this._render(),this}},{key:"remove",value:function(B){return Yi()(this._snippets,(function(ue){return ue.name===B})),this._render(),this}},{key:"run",value:function(B){for(var ue=this._snippets,ke=0,tt=ue.length;ke<tt;ke++)ue[ke].name===B&&this._run(ke);return this}},{key:"clear",value:function(){return this._snippets=[],this._render(),this}},{key:"_bindEvent",value:function(){var B=this;this._$el.on("click",".eruda-run",(function(){var ue=O()(this).data("idx");B._run(ue)}))}},{key:"_run",value:function(B){this._snippets[B].fn.call(null)}},{key:"_addDefSnippets",value:function(){var B=this;Q()(hi,(function(ue){B.add(ue.name,ue.fn,ue.desc)}))}},{key:"_render",value:function(){var B=q()(this._snippets,(function(ue,ke){return'<div class="'.concat(ce("section run"),'" data-idx="').concat(ke,`">
        <h2 class="`).concat(ce("name"),'">').concat(In()(ue.name),`
          <div class="`).concat(ce("btn"),`">
            <span class="`).concat(ce("icon-play"),`"></span>
          </div>
        </h2>
        <div class="`).concat(ce("description"),`">
          `).concat(In()(ue.desc),`
        </div>
      </div>`)})).join("");this._renderHtml(B)}},{key:"_renderHtml",value:function(B){B!==this._lastHtml&&(this._lastHtml=B,this._$el.html(B))}}])})(v),Hi=n(4497),Ki=n.n(Hi),Co=n(311),Ji=n.n(Co),Ri=n(769),xi=n.n(Ri),To=n(4069),eo=n.n(To),Mi=(function(){return(0,a.A)((function xe(Fe,B,ue,ke){var tt=this;(0,r.A)(this,xe),(0,u.A)(this,"_updateGridHeight",(function(ut){tt._dataGrid.setOption({minHeight:60*ut,maxHeight:223*ut})})),this._type=ke,this._$container=Fe,this._devtools=B,this._resources=ue,this._selectedItem=null,this._storeData=[],this._initTpl(),this._dataGrid=new Nr.A(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}),[{key:"destroy",value:function(){p.off(p.SCALE,this._updateGridHeight)}},{key:"refresh",value:function(){var xe=this._dataGrid;this._refreshStorage(),xe.clear(),Q()(this._storeData,(function(Fe){var B=Fe.key,ue=Fe.val;xe.append({key:B,value:ue},{selectable:!0})}))}},{key:"_refreshStorage",value:function(){var xe=this._resources,Fe=D(this._type,!1);if(Fe){var B=[];Fe=JSON.parse(JSON.stringify(Fe)),Q()(Fe,(function(ue,ke){ee()(ue)&&(xe.config.get("hideErudaSetting")&&(fn()(ke,"eruda")||ke==="active-eruda")||B.push({key:ke,val:mr()(ue,200)}))})),this._storeData=B}}},{key:"_updateButtons",value:function(){var xe=this._$container,Fe=xe.find(ce(".show-detail")),B=xe.find(ce(".delete-storage")),ue=xe.find(ce(".copy-storage")),ke=ce("btn-disabled");Fe.addClass(ke),B.addClass(ke),ue.addClass(ke),this._selectedItem&&(Fe.rmClass(ke),B.rmClass(ke),ue.rmClass(ke))}},{key:"_initTpl",value:function(){var xe=this._$container,Fe=this._type;xe.html(ce(`<h2 class="title">
      `.concat(Fe==="local"?"Local":"Session",` Storage
      <div class="btn refresh-storage">
        <span class="icon icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-storage btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-storage btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-storage">
        <span class="icon icon-clear"></span>
      </div>
      <div class="btn filter">
        <span class="icon icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`))),this._$dataGrid=xe.find(ce(".data-grid")),this._$filterText=xe.find(ce(".filter-text"))}},{key:"_getVal",value:function(xe){return this._type==="local"?localStorage.getItem(xe):sessionStorage.getItem(xe)}},{key:"_bindEvent",value:function(){var xe=this,Fe=this._type,B=this._devtools;function ue(ke,tt){var ut=B.get("sources");if(ut)return ut.set(ke,tt),B.showTool("sources"),!0}this._$container.on("click",ce(".refresh-storage"),(function(){B.notify("Refreshed",{icon:"success"}),xe.refresh()})).on("click",ce(".clear-storage"),(function(){Q()(xe._storeData,(function(ke){Fe==="local"?localStorage.removeItem(ke.key):sessionStorage.removeItem(ke.key)})),xe.refresh()})).on("click",ce(".show-detail"),(function(){var ke=xe._selectedItem,tt=xe._getVal(ke);try{ue("object",JSON.parse(tt))}catch{ue("raw",tt)}})).on("click",ce(".copy-storage"),(function(){var ke=xe._selectedItem;Hn()(xe._getVal(ke)),B.notify("Copied",{icon:"success"})})).on("click",ce(".filter"),(function(){Jt.A.prompt("Filter").then((function(ke){Yn()(ke)||(ke=Me()(ke),xe._$filterText.text(ke),xe._dataGrid.setOption("filter",ke))}))})).on("click",ce(".delete-storage"),(function(){var ke=xe._selectedItem;Fe==="local"?localStorage.removeItem(ke):sessionStorage.removeItem(ke),xe.refresh()})),this._dataGrid.on("select",(function(ke){xe._selectedItem=ke.data.key,xe._updateButtons()})).on("deselect",(function(){xe._selectedItem=null,xe._updateButtons()})),p.on(p.SCALE,this._updateGridHeight)}}])})();function pi(xe,Fe){xe.rmClass(ce("ok")).rmClass(ce("danger")).rmClass(ce("warn")).addClass(ce(Fe))}function ki(xe,Fe){if(Fe===0)return"";var B=0,ue=0;switch(xe){case"cookie":B=30,ue=60;break;case"script":B=5,ue=10;break;case"stylesheet":B=4,ue=8;break;case"image":B=50,ue=100}return Fe>=ue?"danger":Fe>=B?"warn":"ok"}var to=(function(){return(0,a.A)((function xe(Fe,B){(0,r.A)(this,xe),this._$container=Fe,this._devtools=B,this._selectedItem=null,this._initTpl(),this._dataGrid=new Nr.A(this._$dataGrid.get(0),{columns:[{id:"key",title:"Key",weight:30},{id:"value",title:"Value",weight:90}],minHeight:60,maxHeight:223}),this._bindEvent()}),[{key:"refresh",value:function(){var xe=this._$container,Fe=this._dataGrid,B=qn.domain("Network").getCookies().cookies,ue=q()(B,(function(ke){return{key:ke.name,val:ke.value}}));Fe.clear(),Q()(ue,(function(ke){var tt=ke.key,ut=ke.val;Fe.append({key:tt,value:ut},{selectable:!0})})),pi(xe,ki("cookie",ue.length))}},{key:"_initTpl",value:function(){var xe=this._$container;xe.html(ce(`<h2 class="title">
      Cookie
      <div class="btn refresh-cookie">
        <span class="icon-refresh"></span>
      </div>
      <div class="btn show-detail btn-disabled">
        <span class="icon icon-eye"></span>
      </div>
      <div class="btn copy-cookie btn-disabled">
        <span class="icon icon-copy"></span>
      </div>
      <div class="btn delete-cookie btn-disabled">
        <span class="icon icon-delete"></span>
      </div>
      <div class="btn clear-cookie">
        <span class="icon-clear"></span>
      </div>
      <div class="btn filter" data-type="cookie">
        <span class="icon-filter"></span>
      </div>
      <div class="btn filter-text"></div>
    </h2>
    <div class="data-grid"></div>`)),this._$dataGrid=xe.find(ce(".data-grid")),this._$filterText=xe.find(ce(".filter-text"))}},{key:"_updateButtons",value:function(){var xe=this._$container,Fe=xe.find(ce(".show-detail")),B=xe.find(ce(".delete-cookie")),ue=xe.find(ce(".copy-cookie")),ke=ce("btn-disabled");Fe.addClass(ke),B.addClass(ke),ue.addClass(ke),this._selectedItem&&(Fe.rmClass(ke),B.rmClass(ke),ue.rmClass(ke))}},{key:"_getVal",value:function(xe){for(var Fe=qn.domain("Network").getCookies().cookies,B=0,ue=Fe.length;B<ue;B++)if(Fe[B].name===xe)return Fe[B].value;return""}},{key:"_bindEvent",value:function(){var xe=this,Fe=this._devtools;function B(ue,ke){var tt=Fe.get("sources");if(tt)return tt.set(ue,ke),Fe.showTool("sources"),!0}this._$container.on("click",ce(".refresh-cookie"),(function(){Fe.notify("Refreshed",{icon:"success"}),xe.refresh()})).on("click",ce(".clear-cookie"),(function(){qn.domain("Storage").clearDataForOrigin({storageTypes:"cookies"}),xe.refresh()})).on("click",ce(".delete-cookie"),(function(){var ue=xe._selectedItem;qn.domain("Network").deleteCookies({name:ue}),xe.refresh()})).on("click",ce(".show-detail"),(function(){var ue=xe._selectedItem,ke=xe._getVal(ue);try{B("object",JSON.parse(ke))}catch{B("raw",ke)}})).on("click",ce(".copy-cookie"),(function(){var ue=xe._selectedItem;Hn()(xe._getVal(ue)),Fe.notify("Copied",{icon:"success"})})).on("click",ce(".filter"),(function(){Jt.A.prompt("Filter").then((function(ue){Yn()(ue)||(ue=Me()(ue),xe._filter=ue,xe._$filterText.text(ue),xe._dataGrid.setOption("filter",ue))}))})),this._dataGrid.on("select",(function(ue){xe._selectedItem=ue.data.key,xe._updateButtons()})).on("deselect",(function(){xe._selectedItem=null,xe._updateButtons()}))}}])})();function no(xe,Fe){var B=typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(!B){if(Array.isArray(xe)||(B=(function(_t,zt){if(_t){if(typeof _t=="string")return ro(_t,zt);var tn={}.toString.call(_t).slice(8,-1);return tn==="Object"&&_t.constructor&&(tn=_t.constructor.name),tn==="Map"||tn==="Set"?Array.from(_t):tn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tn)?ro(_t,zt):void 0}})(xe))||Fe){B&&(xe=B);var ue=0,ke=function(){};return{s:ke,n:function(){return ue>=xe.length?{done:!0}:{done:!1,value:xe[ue++]}},e:function(_t){throw _t},f:ke}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tt,ut=!0,pt=!1;return{s:function(){B=B.call(xe)},n:function(){var _t=B.next();return ut=_t.done,_t},e:function(_t){pt=!0,tt=_t},f:function(){try{ut||B.return==null||B.return()}finally{if(pt)throw tt}}}}function ro(xe,Fe){(Fe==null||Fe>xe.length)&&(Fe=xe.length);for(var B=0,ue=Array(Fe);B<Fe;B++)ue[B]=xe[B];return ue}function Bi(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Bi=function(){return!!xe})()}function Si(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return 2&ue&&typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}var io=(function(xe){function Fe(){var B,ue,ke,tt;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),(B=(0,s.A)(ue,Bi()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)))._style=Re(n(1443)),B.name="resources",B._hideErudaSetting=!1,B._observeElement=!0,B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B,ue){Si(Fe,"init",this,3)([B]),this._container=ue,this._initTpl(),this._localStorage=new Mi(this._$localStorage,ue,this,"local"),this._sessionStorage=new Mi(this._$sessionStorage,ue,this,"session"),this._cookie=new to(this._$cookie,ue),this._bindEvent(),this._initObserver(),this._initCfg()}},{key:"refresh",value:function(){return this.refreshLocalStorage().refreshSessionStorage().refreshCookie().refreshScript().refreshStylesheet().refreshIframe().refreshImage()}},{key:"destroy",value:function(){Si(Fe,"destroy",this,3)([]),this._localStorage.destroy(),this._sessionStorage.destroy(),this._disableObserver(),Re.remove(this._style),this._rmCfg()}},{key:"refreshScript",value:function(){var B=[];O()("script").each((function(){var pt=this.src;pt!==""&&B.push(pt)}));var ue=ki("script",(B=Ut()(B)).length),ke="<li>Empty</li>";Vn()(B)||(ke=q()(B,(function(pt){return pt=In()(pt),'<li><a href="'.concat(pt,'" target="_blank" class="').concat(ce("js-link"),'">').concat(pt,"</a></li>")})).join(""));var tt='<h2 class="'.concat(ce("title"),`">
      Script
      <div class="`).concat(ce("btn refresh-script"),`">
        <span class="`).concat(ce("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(ce("link-list"),`">
      `).concat(ke,`
    </ul>`),ut=this._$script;return pi(ut,ue),ut.html(tt),this}},{key:"refreshStylesheet",value:function(){var B=[];O()("link").each((function(){this.rel==="stylesheet"&&B.push(this.href)}));var ue=ki("stylesheet",(B=Ut()(B)).length),ke="<li>Empty</li>";Vn()(B)||(ke=q()(B,(function(pt){return pt=In()(pt),' <li><a href="'.concat(pt,'" target="_blank" class="').concat(ce("css-link"),'">').concat(pt,"</a></li>")})).join(""));var tt='<h2 class="'.concat(ce("title"),`">
      Stylesheet
      <div class="`).concat(ce("btn refresh-stylesheet"),`">
        <span class="`).concat(ce("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(ce("link-list"),`">
      `).concat(ke,`
    </ul>`),ut=this._$stylesheet;return pi(ut,ue),ut.html(tt),this}},{key:"refreshIframe",value:function(){var B=[];O()("iframe").each((function(){var tt=O()(this).attr("src");tt&&B.push(tt)})),B=Ut()(B);var ue="<li>Empty</li>";Vn()(B)||(ue=q()(B,(function(tt){return tt=In()(tt),'<li><a href="'.concat(tt,'" target="_blank" class="').concat(ce("iframe-link"),'">').concat(tt,"</a></li>")})).join(""));var ke='<h2 class="'.concat(ce("title"),`">
      Iframe
      <div class="`).concat(ce("btn refresh-iframe"),`">
        <span class="`).concat(ce("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(ce("link-list"),`">
      `).concat(ue,`
    </ul>`);return this._$iframe.html(ke),this}},{key:"refreshLocalStorage",value:function(){return this._localStorage.refresh(),this}},{key:"refreshSessionStorage",value:function(){return this._sessionStorage.refresh(),this}},{key:"refreshCookie",value:function(){return this._cookie.refresh(),this}},{key:"refreshImage",value:function(){var B=[],ue=this._performance=window.webkitPerformance||window.performance;ue&&ue.getEntries?this._performance.getEntries().forEach((function(_t){if(_t.initiatorType==="img"||Eo(_t.name)){if(Z()(_t.name,"exclude=true"))return;B.push(_t.name)}})):O()("img").each((function(){var _t=O()(this),zt=_t.attr("src");_t.data("exclude")!=="true"&&B.push(zt)})),(B=Ut()(B)).sort();var ke=ki("image",B.length),tt="<li>Empty</li>";Vn()(B)||(tt=q()(B,(function(_t){return'<li class="'.concat(ce("image"),`">
          <img src="`).concat(In()(_t),'" data-exclude="true" class="').concat(ce("img-link"),`"/>
        </li>`)})).join(""));var ut='<h2 class="'.concat(ce("title"),`">
      Image
      <div class="`).concat(ce("btn refresh-image"),`">
        <span class="`).concat(ce("icon-refresh"),`"></span>
      </div>
    </h2>
    <ul class="`).concat(ce("image-list"),`">
      `).concat(tt,`
    </ul>`),pt=this._$image;return pi(pt,ke),pt.html(ut),this}},{key:"show",value:function(){return Si(Fe,"show",this,3)([]),this._observeElement&&this._enableObserver(),this.refresh()}},{key:"hide",value:function(){return this._disableObserver(),Si(Fe,"hide",this,3)([])}},{key:"_initTpl",value:function(){var B=this._$el;B.html(ce(`<div class="section local-storage"></div>
      <div class="section session-storage"></div>
      <div class="section cookie"></div>
      <div class="section script"></div>
      <div class="section stylesheet"></div>
      <div class="section iframe"></div>
      <div class="section image"></div>`)),this._$localStorage=B.find(ce(".local-storage")),this._$sessionStorage=B.find(ce(".session-storage")),this._$cookie=B.find(ce(".cookie")),this._$script=B.find(ce(".script")),this._$stylesheet=B.find(ce(".stylesheet")),this._$iframe=B.find(ce(".iframe")),this._$image=B.find(ce(".image"))}},{key:"_bindEvent",value:function(){var B=this,ue=this._$el,ke=this._container;function tt(pt,_t){var zt=ke.get("sources");if(zt)return zt.set(pt,_t),ke.showTool("sources"),!0}function ut(pt){return function(_t){if(ke.get("sources")){_t.preventDefault();var zt=O()(this).attr("href");pt!=="iframe"&&Ki()(location.href,zt)?Ji()({url:zt,success:function(tn){tt(pt,tn)},dataType:"raw"}):tt("iframe",zt)}}}ue.on("click",".eruda-refresh-script",(function(){ke.notify("Refreshed",{icon:"success"}),B.refreshScript()})).on("click",".eruda-refresh-stylesheet",(function(){ke.notify("Refreshed",{icon:"success"}),B.refreshStylesheet()})).on("click",".eruda-refresh-iframe",(function(){ke.notify("Refreshed",{icon:"success"}),B.refreshIframe()})).on("click",".eruda-refresh-image",(function(){ke.notify("Refreshed",{icon:"success"}),B.refreshImage()})).on("click",".eruda-img-link",(function(){tt("img",O()(this).attr("src"))})).on("click",".eruda-css-link",ut("css")).on("click",".eruda-js-link",ut("js")).on("click",".eruda-iframe-link",ut("iframe"))}},{key:"_rmCfg",value:function(){var B=this.config,ue=this._container.get("settings");ue&&ue.remove(B,"hideErudaSetting").remove(B,"observeElement").remove("Resources")}},{key:"_initCfg",value:function(){var B=this,ue=this.config=ot.createCfg("resources",{hideErudaSetting:!0,observeElement:!0});ue.get("hideErudaSetting")&&(this._hideErudaSetting=!0),ue.get("observeElement")||(this._observeElement=!1),ue.on("change",(function(ke,tt){switch(ke){case"hideErudaSetting":return void(B._hideErudaSetting=tt);case"observeElement":return B._observeElement=tt,tt?B._enableObserver():B._disableObserver()}})),this._container.get("settings").text("Resources").switch(ue,"hideErudaSetting","Hide Eruda Setting").switch(ue,"observeElement","Auto Refresh Elements").separator()}},{key:"_initObserver",value:function(){var B=this;this._observer=new(Mn())((function(ue){Q()(ue,(function(ke){B._handleMutation(ke)}))}))}},{key:"_handleMutation",value:function(B){var ue=this;if(!_e(B.target)){var ke=function(_t){var zt=(function(tn){return tn.tagName?tn.tagName.toLowerCase():""})(_t);switch(zt){case"script":ue.refreshScript();break;case"img":ue.refreshImage();break;case"link":ue.refreshStylesheet()}};if(B.type==="attributes")ke(B.target);else if(B.type==="childList"){ke(B.target);var tt,ut=xi()(B.addedNodes),pt=no(ut=eo()(ut,xi()(B.removedNodes)));try{for(pt.s();!(tt=pt.n()).done;)ke(tt.value)}catch(_t){pt.e(_t)}finally{pt.f()}}}}},{key:"_enableObserver",value:function(){this._observer.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}},{key:"_disableObserver",value:function(){this._observer.disconnect()}}])})(v),Po=/\.(jpeg|jpg|gif|png)$/,Eo=function(xe){return Po.test(xe)},$o=n(6620),Ii=n.n($o),Li=Ii()(),Di=[{name:"Location",val:function(){return In()(location.href)}},{name:"User Agent",val:navigator.userAgent},{name:"Device",val:["<table><tbody>",'<tr><td class="eruda-device-key">screen</td><td>'.concat(screen.width," * ").concat(screen.height,"</td></tr>"),"<tr><td>viewport</td><td>".concat(window.innerWidth," * ").concat(window.innerHeight,"</td></tr>"),"<tr><td>pixel ratio</td><td>".concat(window.devicePixelRatio,"</td></tr>"),"</tbody></table>"].join("")},{name:"System",val:["<table><tbody>",'<tr><td class="eruda-system-key">os</td><td>'.concat(b()(),"</td></tr>"),"<tr><td>browser</td><td>".concat(Li.name+" "+Li.version,"</td></tr>"),"</tbody></table>"].join("")},{name:"Sponsor this Project",val:function(){return"<table><tbody>"+q()([{name:"Open Collective",link:"https://opencollective.com/eruda"},{name:"Ko-fi",link:"https://ko-fi.com/surunzi"},{name:"Wechat Pay",link:"https://surunzi.com/wechatpay.html"}],(function(xe){return"<tr><td>".concat(xe.name,'</td><td><a rel="noreferrer noopener" href="').concat(xe.link,'" target="_blank">').concat(xe.link.replace("https://",""),"</a></td></tr>")})).join(" ")+"</tbody></table>"}},{name:"About",val:'<a href="https://eruda.liriliri.io" target="_blank">Eruda v3.4.3</a>'}],Ni=n(1034),Qo=n.n(Ni);function oo(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(oo=function(){return!!xe})()}function ao(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}var so=(function(xe){function Fe(){var B,ue,ke,tt;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),(B=(0,s.A)(ue,oo()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)))._style=Re(n(4657)),B.name="info",B._infos=[],B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B,ue){ao(Fe,"init",this)([B]),this._container=ue,this._addDefInfo(),this._bindEvent()}},{key:"destroy",value:function(){ao(Fe,"destroy",this)([]),Re.remove(this._style)}},{key:"add",value:function(B,ue){var ke=this._infos,tt=!1;return Q()(ke,(function(ut){B===ut.name&&(ut.val=ue,tt=!0)})),tt||ke.push({name:B,val:ue}),this._render(),this}},{key:"get",value:function(B){var ue,ke=this._infos;return Ze()(B)?Qo()(ke):(Q()(ke,(function(tt){B===tt.name&&(ue=tt.val)})),ue)}},{key:"remove",value:function(B){for(var ue=this._infos,ke=ue.length-1;ke>=0;ke--)ue[ke].name===B&&ue.splice(ke,1);return this._render(),this}},{key:"clear",value:function(){return this._infos=[],this._render(),this}},{key:"_addDefInfo",value:function(){var B=this;Q()(Di,(function(ue){return B.add(ue.name,ue.val)}))}},{key:"_render",value:function(){var B=[];Q()(this._infos,(function(ke){var tt=ke.name,ut=ke.val;wn()(ut)&&(ut=ut()),B.push({name:tt,val:ut})}));var ue="<ul>".concat(q()(B,(function(ke){return'<li><h2 class="'.concat(ce("title"),'">').concat(In()(ke.name),'<span class="').concat(ce("icon-copy copy"),'"></span></h2><div class="').concat(ce("content"),'">').concat(ke.val,"</div></li>")})).join(""),"</ul>");this._renderHtml(ue)}},{key:"_bindEvent",value:function(){var B=this._container;this._$el.on("click",ce(".copy"),(function(){var ue=O()(this).parent().parent(),ke=ue.find(ce(".title")).text(),tt=ue.find(ce(".content")).text();Hn()("".concat(ke,": ").concat(tt)),B.notify("Copied",{icon:"success"})}))}},{key:"_renderHtml",value:function(B){B!==this._lastHtml&&(this._lastHtml=B,this._$el.html(B))}}])})(v),lo=n(6911),co=n(894),uo=n.n(co),ho=n(4249),fo=n.n(ho),zi=n(1714);function Fi(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Fi=function(){return!!xe})()}function ji(xe,Fe,B,ue){var ke=(0,g.A)((0,l.A)(xe.prototype),Fe,B);return typeof ke=="function"?function(tt){return ke.apply(B,tt)}:ke}var po=(function(xe){function Fe(){var B,ue,ke,tt;return(0,r.A)(this,Fe),ue=this,ke=Fe,ke=(0,l.A)(ke),(B=(0,s.A)(ue,Fi()?Reflect.construct(ke,[],(0,l.A)(ue).constructor):ke.apply(ue,tt)))._style=Re(n(4831)),B.name="sources",B._showLineNum=!0,B}return(0,c.A)(Fe,xe),(0,a.A)(Fe,[{key:"init",value:function(B,ue){ji(Fe,"init",this)([B]),this._container=ue,this._bindEvent(),this._initCfg()}},{key:"destroy",value:function(){ji(Fe,"destroy",this)([]),Re.remove(this._style),this._rmCfg()}},{key:"set",value:function(B,ue){if(B==="img"){this._isFetchingData=!0;var ke=new Image,tt=this;return ke.onload=function(){tt._isFetchingData=!1,tt._data={type:"img",val:{width:this.width,height:this.height,src:ue}},tt._render()},ke.onerror=function(){tt._isFetchingData=!1},void(ke.src=ue)}return this._data={type:B,val:ue},this._render(),this}},{key:"show",value:function(){return ji(Fe,"show",this)([]),this._data||this._isFetchingData||this._renderDef(),this}},{key:"_renderDef",value:function(){var B=this;if(this._html)return this._data={type:"html",val:this._html},this._render();this._isGettingHtml||(this._isGettingHtml=!0,Ji()({url:location.href,success:function(ue){return B._html=ue},error:function(){return B._html="Sorry, unable to fetch source code:("},complete:function(){B._isGettingHtml=!1,B._renderDef()},dataType:"raw"}))}},{key:"_bindEvent",value:function(){var B=this;this._container.on("showTool",(function(ue,ke){ue!==B.name&&ke.name===B.name&&delete B._data}))}},{key:"_rmCfg",value:function(){var B=this.config,ue=this._container.get("settings");ue&&ue.remove(B,"showLineNum").remove("Sources")}},{key:"_initCfg",value:function(){var B=this,ue=this.config=ot.createCfg("sources",{showLineNum:!0});ue.get("showLineNum")||(this._showLineNum=!1),ue.on("change",(function(ke,tt){ke!=="showLineNum"||(B._showLineNum=tt)})),this._container.get("settings").text("Sources").switch(ue,"showLineNum","Show Line Numbers").separator()}},{key:"_render",value:function(){switch(this._isInit=!0,this._data.type){case"html":case"js":case"css":return this._renderCode();case"img":return this._renderImg();case"object":return this._renderObj();case"raw":return this._renderRaw();case"iframe":return this._renderIframe()}}},{key:"_renderImg",value:function(){var B=this._data.val,ue=B.width,ke=B.height,tt=B.src;this._renderHtml('<div class="'.concat(ce("image"),`">
      <div class="`).concat(ce("breadcrumb"),'">').concat(In()(tt),`</div>
      <div class="`).concat(ce("img-container"),`" data-exclude="true">
        <img src="`).concat(In()(tt),`">
      </div>
      <div class="`).concat(ce("img-info"),'">').concat(In()(ue),"  ").concat(In()(ke),`</div>
    </div>`))}},{key:"_renderCode",value:function(){var B=this._data;this._renderHtml('<div class="'.concat(ce("code"),'" data-type="').concat(B.type,'"></div>'),!1);var ue=B.val,ke=B.val.length;ke>gi&&(ue=mr()(ue,gi)),ke<go?(ue=fo()(ue,B.type,{comment:"",string:"",number:"",keyword:"",operator:""}),Q()(["comment","string","number","keyword","operator"],(function(ut){ue=uo()(ue,'class="'.concat(ut,'"'),'class="'.concat(ce(ut),'"'))}))):ue=In()(ue);var tt=this._$el.find(ce(".code")).get(0);new zi.A(tt,{text:ue,escape:!1,wrapLongLines:!0,showLineNumbers:B.val.length<qi&&this._showLineNum})}},{key:"_renderObj",value:function(){this._renderHtml('<ul class="'.concat(ce("json"),'"></ul>'),!1);var B=this._data.val;try{ee()(B)&&(B=JSON.parse(B))}catch{}new lo.A(this._$el.find(".eruda-json").get(0),{unenumerable:!0,accessGetter:!0,prototype:!1}).set(B)}},{key:"_renderRaw",value:function(){var B=this._data;this._renderHtml('<div class="'.concat(ce("raw-wrapper"),`">
      <div class="`).concat(ce("raw"),`"></div>
    </div>`));var ue=B.val,ke=this._$el.find(ce(".raw")).get(0);ue.length>gi&&(ue=mr()(ue,gi)),new zi.A(ke,{text:ue,wrapLongLines:!0,showLineNumbers:ue.length<qi&&this._showLineNum})}},{key:"_renderIframe",value:function(){this._renderHtml('<iframe src="'.concat(In()(this._data.val),'"></iframe>'))}},{key:"_renderHtml",value:function(B){var ue=this;(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&B===this._lastHtml||(this._lastHtml=B,this._$el.html(B),setTimeout((function(){return ue._$el.get(0).scrollTop=0}),0))}}])})(v),go=3e4,qi=8e4,gi=1e5,Ro=n(9760),mo=n.n(Ro),Mo=n(1505),Oo=n.n(Mo),vo=n(5701),yo=n.n(vo),bo={init:function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=xe.container,B=xe.tool,ue=xe.autoScale,ke=ue===void 0||ue,tt=xe.useShadowDom,ut=tt===void 0||tt,pt=xe.inline,_t=pt!==void 0&&pt,zt=xe.defaults,tn=zt===void 0?{}:zt;this._isInit||(this._isInit=!0,this._scale=1,this._initContainer(Fe,ut),this._initStyle(),this._initDevTools(tn,_t),this._initEntryBtn(),this._initSettings(),this._initTools(B),this._registerListener(),ke&&this._autoScale(),_t&&(this._entryBtn.hide(),this._$el.addClass("eruda-inline"),this.show()))},_isInit:!1,version:"3.4.3",util:{isErudaEl:_e,evalCss:Re,isDarkTheme:function(xe){return xe||(xe=this.getTheme()),oe(xe)},getTheme:function(){var xe=Re.getCurTheme(),Fe="Light";return Q()(je,(function(B,ue){yo()(B,xe)&&(Fe=ue)})),Fe}},chobitsu:qn,Tool:v,Console:Mr,Elements:Vi,Network:K,Sources:po,Resources:io,Info:so,Snippets:Ao,Settings:ot,get:function(xe){if(this._checkInit()){if(xe==="entryBtn")return this._entryBtn;var Fe=this._devTools;return xe?Fe.get(xe):Fe}},add:function(xe){if(this._checkInit())return wn()(xe)&&(xe=xe(this)),this._devTools.add(xe),this},remove:function(xe){return this._devTools.remove(xe),this},show:function(xe){if(this._checkInit()){var Fe=this._devTools;return xe?Fe.showTool(xe):Fe.show(),this}},hide:function(){if(this._checkInit())return this._devTools.hide(),this},destroy:function(){this._devTools.destroy(),delete this._devTools,this._entryBtn.destroy(),delete this._entryBtn,this._unregisterListener(),O()(this._container).remove(),Re.clear(),this._isInit=!1,this._container=null,this._shadowRoot=null},scale:function(xe){return Nt()(xe)?(this._scale=xe,p.emit(p.SCALE,xe),this):this._scale},position:function(xe){var Fe=this._entryBtn;return mo()(xe)?(Fe.setPos(xe),this):Fe.getPos()},_autoScale:function(){Se()()&&this.scale(1/Oo()())},_registerListener:function(){var xe=this;this._addListener=function(){return xe.add.apply(xe,arguments)},this._showListener=function(){return xe.show.apply(xe,arguments)},p.on(p.ADD,this._addListener),p.on(p.SHOW,this._showListener),p.on(p.SCALE,Re.setScale)},_unregisterListener:function(){p.off(p.ADD,this._addListener),p.off(p.SHOW,this._showListener),p.off(p.SCALE,Re.setScale)},_checkInit:function(){return this._isInit||Lt.error('Please call "eruda.init()" first'),this._isInit},_initContainer:function(xe,Fe){var B,ue;xe||(xe=document.createElement("div"),document.documentElement.appendChild(xe)),xe.id="eruda",xe.style.all="initial",this._container=xe,Fe&&(xe.attachShadow?B=xe.attachShadow({mode:"open"}):xe.createShadowRoot&&(B=xe.createShadowRoot()),B&&(Re.container=document.head,Re(n(6793)+n(7853)+n(9907)+n(879)+n(1107)+n(5259)),ue=document.createElement("div"),B.appendChild(ue),this._shadowRoot=B)),this._shadowRoot||(ue=document.createElement("div"),xe.appendChild(ue)),Qe()(ue,{className:"eruda-container __chobitsu-hide__",contentEditable:!1}),Ii()().name==="ios"&&ue.setAttribute("ontouchstart",""),this._$el=O()(ue)},_initDevTools:function(xe,Fe){this._devTools=new gn(this._$el,{defaults:xe,inline:Fe})},_initStyle:function(){var xe="eruda-style-container",Fe=this._$el;this._shadowRoot?(Re.container=this._shadowRoot,Re(":host { all: initial }")):(Fe.append('<div class="'.concat(xe,'"></div>')),Re.container=Fe.find(".".concat(xe)).get(0)),Re(n(2693)+n(9907)+n(7853)+n(5259)+n(3277)+n(879)+n(4393)+n(7253)+n(1107)+n(187)+n(1277)+n(8687)+n(6793))},_initEntryBtn:function(){var xe=this;this._entryBtn=new Vt(this._$el),this._entryBtn.on("click",(function(){return xe._devTools.toggle()}))},_initSettings:function(){var xe=this._devTools,Fe=new ot;xe.add(Fe),this._entryBtn.initCfg(Fe),xe.initCfg(Fe)},_initTools:function(){var xe=this,Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["console","elements","network","resources","sources","info","snippets"];Fe=xi()(Fe);var B=this._devTools;Fe.forEach((function(ue){var ke=xe[Qt()(ue)];try{ke&&B.add(new ke)}catch(tt){Et()((function(){Lt.error("Something wrong when initializing tool ".concat(ue,":"),tt.message)}))}})),B.showTool(Fe[0]||"settings")}}},4236:function(o,e){e=function(n){return n===null},o.exports=e},4249:function(o,e,n){var r=n(9100),a=n(5651);e=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"js",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a(h,s),c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=l[u];var f=0,d=[];r(u,(function(g){g.language&&(c=c.replace(g.re,(function(y,v){return v?(d[f++]=e(v,g.language,h),y.replace(v,"___subtmpl"+(f-1)+"___")):y})))})),r(u,(function(g,y){l[g.language]||(c=c.replace(g.re,"___"+y+"___$1___end"+y+"___"))}));var p=[];return c=c.replace(/___(?!subtmpl)\w+?___/g,(function(g){var y=g.substr(3,3)==="end",v=(y?g.substr(6):g.substr(3)).replace(/_/g,""),w=p.length>0?p[p.length-1]:null;return!y&&(w==null||v==w||w!=null&&u[w]&&u[w].embed!=null&&u[w].embed.indexOf(v)>-1)?(p.push(v),g):y&&v==w?(p.pop(),g):""})),r(u,(function(g,y){var v=h[g.style]?' style="'.concat(h[g.style],'"'):"";c=c.replace(new RegExp("___end"+y+"___","g"),"</span>").replace(new RegExp("___"+y+"___","g"),'<span class="'.concat(g.style,'"').concat(v,">"))})),r(u,(function(g){g.language&&(c=c.replace(/___subtmpl\d+___/g,(function(y){var v=parseInt(y.replace(/___subtmpl(\d+)___/,"$1"),10);return d[v]})))})),c};var s={comment:"color:#63a35c;",string:"color:#183691;",number:"color:#0086b3;",keyword:"color:#a71d5d;",operator:"color:#994500;"},l={js:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/(('.*?')|(".*?"))/g,style:"string"},numbers:{re:/(-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|const|let|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operator:{re:/(\+|-|\/|\*|%|=|&lt;|&gt;|\||\?|\.)/g,style:"operator"}}};l.html={comment:{re:/(&lt;!--([\s\S]*?)--&gt;)/g,style:"comment"},tag:{re:/(&lt;\/?\w(.|\n)*?\/?&gt;)/g,style:"keyword",embed:["string"]},string:l.js.string,css:{re:/(?:&lt;style.*?&gt;)([\s\S]*)?(?:&lt;\/style&gt;)/gi,language:"css"},script:{re:/(?:&lt;script.*?&gt;)([\s\S]*?)(?:&lt;\/script&gt;)/gi,language:"js"}},l.css={comment:l.js.comment,string:l.js.string,numbers:{re:/((-?(\d+|\d+\.\d+|\.\d+)(%|px|em|pt|in)?)|#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(@\w+|:?:\w+|[a-z-]+:)/g,style:"keyword"}},o.exports=e},4279:function(o,e,n){(e=n(6314)(!1)).push([o.id,"#_settings{overflow-y:auto;-webkit-overflow-scrolling:touch}._safe-area #_settings{padding-bottom:calc(0px + env(safe-area-inset-bottom))}",""]),o.exports=e},4307:function(o,e,n){var r=n(2263),a=n(2767),s=n(9100),l=n(438),c=n(9405),u=n(3915),h=n(3957);e={on:function(v,w,O){h(w)&&(O=w,w={}),v=v.split(g),s(v,(function(k){if(k=p(k),w.element){var E=w.element,I=E._hotkeyListeners||{};E._hotkeyListeners=I,I[k]=I[k]||[];var G=function(J){k===d(J)&&O(J)};I[k].push({listener:G,origin:O}),E.addEventListener("keydown",G)}else f.on(k,O)}))},off:function(v,w,O){h(w)&&(O=w,w={}),v=v.split(g),s(v,(function(k){if(k=p(k),w.element){var E=w.element,I=E._hotkeyListeners;if(I&&I[k]){for(var G,J=I[k],Q=0,te=J.length;Q<te;Q++)J[Q].origin===O&&(G=J[Q].listener,J.splice(Q,1));G&&E.removeEventListener("keydown",G)}}else f.off(k,O)}))}};var f=new r;function d(v){var w=[];return v.ctrlKey&&w.push("ctrl"),v.shiftKey&&w.push("shift"),w.push(a(v.keyCode)),p(w.join("+"))}function p(v){var w=v.split(y);return w=u(w,(function(O){return c(O)})),(w=l(w)).sort(),w.join("+")}document.addEventListener("keydown",(function(v){f.emit(d(v),v)}));var g=/,/g,y=/\+/g;o.exports=e},4393:function(o,e,n){(e=n(6314)(!1)).push([o.id,`@font-face{font-family:luna-modal-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAAsAAAAABpQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAEkAAABoILgliE9TLzIAAAFUAAAAPQAAAFZL+0kZY21hcAAAAZQAAACBAAAB3sqmCy5nbHlmAAACGAAAAC0AAAA0Ftcaz2hlYWQAAAJIAAAALgAAADZzhL4YaGhlYQAAAngAAAAYAAAAJAFoANBobXR4AAACkAAAAA8AAAAcAMgAAGxvY2EAAAKgAAAADgAAABAATgBObWF4cAAAArAAAAAfAAAAIAESABhuYW1lAAAC0AAAASkAAAIWm5e+CnBvc3QAAAP8AAAAMQAAAEOplauDeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiCWgNIsQMzKwAykWRnYgGxGBiYAk+wFgwAAAHicY2BkkGWcwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAIfkjI8MJIFcITDIwMIIIAGAqCKIAAAB4nM2RQQqDQAxFXxyVUsST9DhduBd3ggsv0JX39QT6kwYED1D6hzeQD0nmM0ADFPESNdiG4frItfALz/Br3qp7HlS0jEzMLKy7HYf8e33J1HMdortoWuPzreUX8p2hEikj9f+oi3vIyl86JpWYEvfnxH9sSTzPmijXbl+wE7urE5sAAAB4nGNgZACB+UDIzcBgrs6uzi7OLm4ubq4+j1tfn1tPD0xOhjGAJAMDAKekBtMAAAB4nGNgZGBgAGLPuE0l8fw2Xxm4GU4ABaI4H+9rQNBAMB8IGRg4GJhAHAA5KgqUAAB4nGNgZGBgOMHAACfnMzAyoAJ2ADfsAjl4nGNgAIITDFgBABIUAMkAeJxjYAACKQQEAAO4AJ0AAHicY2BkYGBgZ+BhANEMDExAzAWEDAz/wXwGAApKASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxjYGKAABiNDtgZmRiZGVkYWRnZGNkZORhYk3Pyi1MZkxlzGPMZixlTGRgANIEEbAAAAA==') format('woff')}[class*=' luna-modal-icon-'],[class^=luna-modal-icon-]{display:inline-block;font-family:luna-modal-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-modal-icon-close:before{content:'\\f101'}.luna-modal{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-modal .luna-modal-hidden,.luna-modal.luna-modal-hidden{display:none}.luna-modal .luna-modal-invisible,.luna-modal.luna-modal-invisible{visibility:hidden}.luna-modal *{box-sizing:border-box}.luna-modal.luna-modal-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-modal{background:rgba(0,0,0,.5)}.luna-modal-icon-close{position:absolute;right:16px;top:18px;cursor:pointer;font-size:20px}.luna-modal-body{position:relative;max-height:100%;display:flex;flex-direction:column;border-radius:4px;border:1px solid}.luna-modal-body.luna-modal-no-title{position:static}.luna-modal-body.luna-modal-no-title .luna-modal-title{display:none}.luna-modal-body.luna-modal-no-title .luna-modal-icon-close{color:#fff}.luna-modal-body.luna-modal-no-footer .luna-modal-footer{display:none}.luna-modal-hidden{display:none}.luna-modal-title{padding:16px;padding-right:36px;padding-bottom:0;font-size:18px;height:46px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-shrink:0}.luna-modal-content{padding:16px;overflow-y:auto}.luna-modal-footer{flex-shrink:0;padding:12px}.luna-modal-button-group{display:flex;justify-content:flex-end}.luna-modal-button{padding:0 12px;cursor:default;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 4px;font-size:12px;border-radius:4px;overflow:hidden;height:28px;line-height:28px}.luna-modal-button:active::before{content:"";opacity:.4;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}.luna-modal-button.luna-modal-secondary{border:1px solid}.luna-modal-button.luna-modal-primary{color:#fff}.luna-modal-input{box-sizing:border-box;outline:0;width:100%;font-size:16px;padding:6px 12px;border:1px solid;-webkit-appearance:none;-moz-appearance:none}.luna-modal-theme-light .luna-modal-body{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-modal-theme-light .luna-modal-button{background-color:#fff;background-color:var(--luna-color-bg-container,#fff)}.luna-modal-theme-light .luna-modal-button:active::before{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-modal-theme-light .luna-modal-button.luna-modal-secondary{color:#1a73e8;color:var(--luna-color-primary,#1a73e8);border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);background-color:#fff;background-color:var(--luna-color-bg-container,#fff)}.luna-modal-theme-light .luna-modal-button.luna-modal-primary{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-modal-theme-light .luna-modal-input{background-color:#fff;background-color:var(--luna-color-bg-container,#fff);color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-modal-theme-dark .luna-modal-body{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-modal-theme-dark .luna-modal-button{background-color:#141414;background-color:var(--luna-color-bg-container,#141414)}.luna-modal-theme-dark .luna-modal-button:active::before{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}.luna-modal-theme-dark .luna-modal-button.luna-modal-secondary{color:#1965c8;color:var(--luna-color-primary,#1965c8);border-color:#424242;border-color:var(--luna-color-border,#424242);background-color:#141414;background-color:var(--luna-color-bg-container,#141414)}.luna-modal-theme-dark .luna-modal-button.luna-modal-primary{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}.luna-modal-theme-dark .luna-modal-input{background-color:#141414;background-color:var(--luna-color-bg-container,#141414);color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));border-color:#424242;border-color:var(--luna-color-border,#424242)}`,""]),o.exports=e},4433:function(o,e){var n=document;if(e=function(a){var s=n.createElement("body");return s.innerHTML=a,s.childNodes[0]},n.createRange&&n.body){var r=n.createRange();r.selectNode(n.body),r.createContextualFragment&&(e=function(a){return r.createContextualFragment(a).childNodes[0]})}o.exports=e},4460:function(o,e,n){var r=n(3957);e=typeof wx<"u"&&r(wx.openLocation),o.exports=e},4467:function(o,e,n){n.d(e,{A:function(){return a}});var r=n(816);function a(s,l,c){return(l=(0,r.A)(l))in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c,s}},4497:function(o,e,n){var r=n(6032);e=function(a,s){return a=new r(a),s=new r(s),a.port=0|a.port||(a.protocol==="https"?443:80),s.port=0|s.port||(s.protocol==="https"?443:80),a.protocol===s.protocol&&a.hostname===s.hostname&&a.port===s.port},o.exports=e},4534:function(o,e){e=function(n,r,a){var s;return function(){var l=this,c=arguments;a||clearTimeout(s),a&&s||(s=setTimeout((function(){s=null,n.apply(l,c)}),r))}},o.exports=e},4657:function(o,e,n){(e=n(6314)(!1)).push([o.id,"#_info{overflow-y:auto;-webkit-overflow-scrolling:touch}#_info li{margin:10px;border:1px solid var(--border)}#_info li ._content,#_info li ._title{padding:10px}#_info li ._title{position:relative;padding-bottom:0;color:var(--accent)}#_info li ._title ._icon-copy{position:absolute;right:10px;top:14px;color:var(--primary);cursor:pointer;transition:color .3s}#_info li ._title ._icon-copy:active{color:var(--accent)}#_info li ._content{margin:0;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;color:var(--foreground);font-size:12px;word-break:break-all}#_info li ._content table{width:100%;border-collapse:collapse}#_info li ._content table td,#_info li ._content table th{border:1px solid var(--border);padding:10px}#_info li ._content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_info li ._content a{color:var(--link-color)}#_info li ._device-key,#_info li ._system-key{width:100px}._safe-area #_info{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),o.exports=e},4725:function(o,e,n){var r=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(e,"__esModule",{value:!0}),e.resetCanvasSize=e.getPlatform=e.pxToNum=e.executeAfterTransition=e.hasVerticalScrollbar=e.measuredScrollbarWidth=e.eventPage=e.eventClient=e.drag=e.classPrefix=void 0;var a=r(n(3915)),s=r(n(9405)),l=r(n(5169)),c=r(n(9548)),u=r(n(6097)),h=r(n(3249)),f=r(n(6030)),d=r(n(5004)),p=r(n(8609));function g(k,E){for(var I=0,G=k.length;I<G;I++){var J=k[I];E(J),J.content&&g(J.content,E)}}e.classPrefix=function(k){var E="luna-".concat(k,"-");function I(G){return(0,a.default)((0,s.default)(G).split(/\s+/),(function(J){return(0,h.default)(J,E)?J:J.replace(/[\w-]+/,(function(Q){return"".concat(E).concat(Q)}))})).join(" ")}return function(G){if(/<[^>]*>/g.test(G))try{var J=c.default.parse(G);return g(J,(function(Q){Q.attrs&&Q.attrs.class&&(Q.attrs.class=I(Q.attrs.class))})),c.default.stringify(J)}catch{return I(G)}return I(G)}};var y,v="ontouchstart"in l.default,w={start:"touchstart",move:"touchmove",end:"touchend"},O={start:"mousedown",move:"mousemove",end:"mouseup"};e.drag=function(k){return v?w[k]:O[k]},e.eventClient=function(k,E){var I=k==="x"?"clientX":"clientY";return E[I]?E[I]:E.changedTouches?E.changedTouches[0][I]:0},e.eventPage=function(k,E){var I=k==="x"?"pageX":"pageY";return E[I]?E[I]:E.changedTouches?E.changedTouches[0][I]:0},e.measuredScrollbarWidth=function(){if((0,u.default)(y))return y;if(!document)return 16;var k=document.createElement("div"),E=document.createElement("div");return k.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),E.setAttribute("style","height: 200px"),k.appendChild(E),document.body.appendChild(k),y=k.offsetWidth-k.clientWidth,document.body.removeChild(k),y},e.hasVerticalScrollbar=function(k){return k.scrollHeight>k.offsetHeight},e.executeAfterTransition=function(k,E){if((0,p.default)(k))return E();var I=function(G){G.target===k&&(k.removeEventListener("transitionend",I),E())};k.addEventListener("transitionend",I)},e.pxToNum=function(k){return(0,f.default)(k.replace("px",""))},e.getPlatform=function(){var k=(0,d.default)();return k==="os x"?"mac":k},e.resetCanvasSize=function(k){k.width=Math.round(k.offsetWidth*window.devicePixelRatio),k.height=Math.round(k.offsetHeight*window.devicePixelRatio)}},4801:function(o,e,n){var r=n(4950),a=n(2989),s=n(2561),l=n(1580),c=n(1168),u=n(3145),h=n(9100),f=n(2717),d=n(5427),p=n(466),g=n(8105),y=n(8796),v=n(2571),w=n(3981),O=n(7514),k=n(3249),E=n(9760),I=n(4460),G=n(6513),J=n(1009),Q=n(2806),te=n(4151),pe=n(896),fe=n(5793);function ee(ne,V,Ce,ge){var Te=[];return h(V,(function(Ke){var Ye,Qe=Object.getOwnPropertyDescriptor(Ce,Ke),rt=Qe&&Qe.get,vt=Qe&&Qe.set;if(!ge.accessGetter&&rt)Ye="(...)";else try{if(Ye=Ce[Ke],k(ge.ignore,Ye))return;y(Ye)&&Ye.catch((function(){}))}catch(it){Ye=it.message}Te.push("".concat(N(Ke),":").concat(e(Ye,ge))),rt&&Te.push("".concat(N("get "+s(Ke)),":").concat(e(Qe.get,ge))),vt&&Te.push("".concat(N("set "+s(Ke)),":").concat(e(Qe.set,ge)))})),'"'.concat(ne,'":{')+Te.join(",")+"}"}function N(ne){return'"'.concat(R(ne),'"')}function Z(ne){return'"'.concat(R(s(ne)),'"')}function R(ne){return r(ne).replace(/\\'/g,"'").replace(/\t/g,"\\t")}e=function(ne){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=V.self,ge=V.startTime,Te=ge===void 0?w():ge,Ke=V.timeout,Ye=Ke===void 0?0:Ke,Qe=V.depth,rt=Qe===void 0?0:Qe,vt=V.curDepth,it=vt===void 0?1:vt,yt=V.visitor,xt=yt===void 0?new ae:yt,Ct=V.unenumerable,St=Ct!==void 0&&Ct,Rt=V.symbol,oe=Rt!==void 0&&Rt,je=V.accessGetter,ze=je!==void 0&&je,he=V.ignore,le=he===void 0?[]:he,me="",Xe={visitor:xt,unenumerable:St,symbol:oe,accessGetter:ze,depth:rt,curDepth:it+1,timeout:Ye,startTime:Te,ignore:le},Ee=a(ne,!1);if(Ee==="String")me=Z(ne);else if(Ee==="Number")me=s(ne),l(me,"Infinity")&&(me='{"value":"'.concat(me,'","type":"Number"}'));else if(Ee==="NaN")me='{"value":"NaN","type":"Number"}';else if(Ee==="Boolean")me=ne?"true":"false";else if(Ee==="Null")me="null";else if(Ee==="Undefined")me='{"type":"Undefined"}';else if(Ee==="Symbol"){var Re="Symbol";try{Re=s(ne)}catch{}me='{"value":'.concat(Z(Re),',"type":"Symbol"}')}else{if(Ye&&w()-Te>Ye)return Z("Timeout");if(rt&&it>rt)return Z("{...}");me="{";var at,Ve=[],qe=xt.get(ne);if(qe?(at=qe.id,Ve.push('"reference":'.concat(at))):(at=xt.set(ne),Ve.push('"id":'.concat(at))),Ve.push('"type":"'.concat(Ee,'"')),l(Ee,"Function")?Ve.push('"value":'.concat(Z(c(ne)))):Ee==="RegExp"&&Ve.push('"value":'.concat(Z(ne))),!qe){var ot=u(ne);if(ot.length&&Ve.push(ee("enumerable",ot,Ce||ne,Xe)),St){var Pt=p(O(ne,{prototype:!1,unenumerable:!0}),ot);Pt.length&&Ve.push(ee("unenumerable",Pt,Ce||ne,Xe))}if(oe){var Et=v(O(ne,{prototype:!1,symbol:!0}),(function(T){return typeof T=="symbol"}));Et.length&&Ve.push(ee("symbol",Et,Ce||ne,Xe))}var Ft=d(ne);if(Ft&&!k(le,Ft)){var ve='"proto":'.concat(e(Ft,g(Xe,{self:Ce||ne})));Ve.push(ve)}}me+=Ve.join(",")+"}"}return me};var ae=f({initialize:function(){this.id=1,this.visited=[]},set:function(ne){var V=this.visited,Ce=this.id,ge={id:Ce,val:ne};return V.push(ge),this.id++,Ce},get:function(ne){for(var V=this.visited,Ce=0,ge=V.length;Ce<ge;Ce++){var Te=V[Ce];if(ne===Te.val)return Te}return!1}});function de(ne,V){var Ce=V.map;if(!E(ne))return ne;var ge=ne.id,Te=ne.type,Ke=ne.value,Ye=ne.proto,Qe=ne.reference,rt=ne.enumerable,vt=ne.unenumerable;if(Qe)return ne;if(Te==="Number")return Ke==="Infinity"?Number.POSITIVE_INFINITY:Ke==="-Infinity"?Number.NEGATIVE_INFINITY:NaN;if(Te!=="Undefined"){var it,yt,xt;if(Te==="Function")(it=function(){}).toString=function(){return Ke},Ye&&Object.setPrototypeOf(it,de(Ye,V));else if(Te==="RegExp")xt=(yt=Ke).lastIndexOf("/"),it=new RegExp(yt.slice(1,xt),yt.slice(xt+1));else{var Ct;Te!=="Object"?(Ct=I?function(){}:new Function(Te,""),Ye&&(Ct.prototype=de(Ye,V)),it=new Ct):it=G(Ye?de(Ye,V):null)}var St,Rt={};return rt&&(fe(rt)&&(St=rt.length,delete rt.length),rt=pe(rt,(function(je,ze){return!oe(rt,je,ze)})),h(rt,(function(je,ze){(Rt[ze]||{}).get||(it[ze]=de(je,V))})),St&&(it.length=St)),vt&&(vt=pe(vt,(function(je,ze){return!oe(vt,je,ze)})),h(vt,(function(je,ze){var he=Rt[ze]||{};if(!he.get)if(je=de(je,V),E(je)&&je.reference){var le=je.reference;je=function(){return Ce[le]},he.get=je}else he.value=je;he.enumerable=!1,Rt[ze]=he}))),te(it,Rt),Ce[ge]=it,it}function oe(je,ze,he){he=s(he);var le=!1;return h(["get","set"],(function(me){if(J(he,me+" ")){var Xe=he.replace(me+" ","");je[Xe]&&((ze=de(ze,V))==="Timeout"&&(ze=H),Q(Rt,[Xe,me],ze),le=!0)}})),le}}function H(){return"Timeout"}e.parse=function(ne){var V={},Ce=de(JSON.parse(ne),{map:V});return(function(ge){h(ge,(function(Te){for(var Ke=u(Te),Ye=0,Qe=Ke.length;Ye<Qe;Ye++){var rt=Ke[Ye];if(E(Te[rt])){var vt=Te[rt].reference;vt&&ge[vt]&&(Te[rt]=ge[vt])}}var it=d(Te);it&&it.reference&&ge[it.reference]&&Object.setPrototypeOf(Te,ge[it.reference])}))})(V),Ce},o.exports=e},4831:function(o,e,n){(e=n(6314)(!1)).push([o.id,"#_sources{font-size:0;overflow-y:auto;-webkit-overflow-scrolling:touch;color:var(--foreground)}#_sources ._code-wrapper,#_sources ._raw-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;min-height:100%}#_sources ._code,#_sources ._raw{height:100%}#_sources ._code ._keyword,#_sources ._raw ._keyword{color:var(--keyword-color)}#_sources ._code ._comment,#_sources ._raw ._comment{color:var(--comment-color)}#_sources ._code ._number,#_sources ._raw ._number{color:var(--number-color)}#_sources ._code ._string,#_sources ._raw ._string{color:var(--string-color)}#_sources ._code ._operator,#_sources ._raw ._operator{color:var(--operator-color)}#_sources ._code[data-type=html] ._keyword,#_sources ._raw[data-type=html] ._keyword{color:var(--tag-name-color)}#_sources ._image{font-size:12px}#_sources ._image ._breadcrumb{background:var(--darker-background);color:var(--primary);-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;margin-bottom:10px;word-break:break-all;padding:10px;font-size:16px;min-height:40px;border-bottom:1px solid var(--border)}#_sources ._image ._img-container{text-align:center}#_sources ._image ._img-container img{max-width:100%}#_sources ._image ._img-info{text-align:center;margin:20px 0;color:var(--foreground)}#_sources ._json{padding:0 10px}#_sources ._json *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_sources iframe{width:100%;height:100%}",""]),o.exports=e},4844:function(o,e,n){var r=n(8105),a=n(9993);e=function(s,l){l=l||a;var c=document.createElement("textarea"),u=document.body;r(c.style,{fontSize:"12pt",border:"0",padding:"0",margin:"0",position:"absolute",left:"-9999px"}),c.value=s,u.appendChild(c),c.setAttribute("readonly",""),c.select(),c.setSelectionRange(0,s.length);try{document.execCommand("copy"),l()}catch(h){l(h)}finally{u.removeChild(c)}},o.exports=e},4866:function(o,e){e=function(n,r){var a=document.createElement("script");a.src=n,a.onload=function(){var s=a.readyState&&a.readyState!="complete"&&a.readyState!="loaded";r&&r(!s)},a.onerror=function(){r(!1)},document.body.appendChild(a)},o.exports=e},4950:function(o,e,n){var r=n(2561);e=function(s){return r(s).replace(a,(function(l){switch(l){case'"':case"'":case"\\":return"\\"+l;case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))};var a=/["'\\\n\r\u2028\u2029]/g;o.exports=e},4951:function(o,e){e=function(n,r,a){var s=n.length;r=r==null?0:r<0?Math.max(s+r,0):Math.min(r,s),a=a==null?s:a<0?Math.max(s+a,0):Math.min(a,s);for(var l=[];r<a;)l.push(n[r++]);return l},o.exports=e},4966:function(o,e,n){var r=n(5224);e={encode:function(w){for(var O=r.decode(w),k="",E=0,I=O.length;E<I;E++)k+=g(O[E]);return k},decode:function(w,O){a=r.decode(w),s=0,l=a.length,c=0,u=0,h=0,f=128,d=191;for(var k,E=[];(k=y(O))!==!1;)E.push(k);return r.encode(E)}};var a,s,l,c,u,h,f,d,p=String.fromCharCode;function g(w){if(!(4294967168&w))return p(w);var O,k,E="";for(4294965248&w?4294901760&w?4292870144&w||(O=3,k=240):(O=2,k=224):(O=1,k=192),E+=p((w>>6*O)+k);O>0;)E+=p(128|63&w>>6*(O-1)),O--;return E}function y(w){for(;;){if(s>=l&&h){if(w)return v();throw new Error("Invalid byte index")}if(s===l)return!1;var O=a[s];if(s++,h){if(O<f||O>d){if(w)return s--,v();throw new Error("Invalid continuation byte")}if(f=128,d=191,c=c<<6|63&O,++u===h){var k=c;return c=0,h=0,u=0,k}}else{if(!(128&O))return O;if((224&O)==192)h=1,c=31&O;else if((240&O)==224)O===224&&(f=160),O===237&&(d=159),h=2,c=15&O;else{if((248&O)!=240){if(w)return v();throw new Error("Invalid UTF-8 detected")}O===240&&(f=144),O===244&&(d=143),h=3,c=7&O}}}}function v(){var w=s-u-1;return s=w+1,c=0,h=0,u=0,f=128,d=191,a[w]}o.exports=e},4983:function(o,e){e=function(n){try{return JSON.parse(n),!0}catch{return!1}},o.exports=e},4992:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object ArrayBuffer]"},o.exports=e},4994:function(o,e,n){var r=n(2510);e=r((function(a,s,l){return r((function(c){return a.apply(s,l.concat(c))}))})),o.exports=e},5004:function(o,e,n){var r=n(1909),a=n(621);e=function(s){function l(f){return s.indexOf(f)>-1}if(!s&&r&&(s=navigator.userAgent),s){if(s=s.toLowerCase(),l("windows phone"))return"windows phone";if(l("win"))return"windows";if(l("android"))return"android";if(l("ipad")||l("iphone")||l("ipod"))return"ios";if(l("mac"))return"os x";if(l("linux"))return"linux"}else if(a){var c=process$1,u=c.platform,h=c.env;if(u==="win32"||h.OSTYPE==="cygwin"||h.OSTYPE==="msys")return"windows";if(u==="darwin")return"os x";if(u==="linux")return"linux"}return"unknown"},o.exports=e},5021:function(o,e,n){var r=n(7744),a=n(1931),s=n(9464),l=n(8032),c=n(5651),u=n(9760),h=a("local");e=r.extend({initialize:function(f,d){this._name=f,d=d||{};var p=h.getItem(f);try{p=JSON.parse(p)}catch{p={}}u(p)||(p={}),d=c(p,d),this.callSuper(r,"initialize",[d])},save:function(f){if(s(f))return h.removeItem(this._name);h.setItem(this._name,l(f))}}),o.exports=e},5119:function(o,e,n){var r=n(9100);e=function(a){var s=[];return r(a,(function(l){s.push(l)})),s},o.exports=e},5132:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object Arguments]"},o.exports=e},5145:function(o,e,n){var r=n(9756),a=n(5651),s=n(3145),l=n(6214),c=n(9760);e=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(f,u);var d=f.deep,p=f.comparator,g=[],y=[];return(function v(w){var O,k=g.indexOf(w);if(k>-1)return y[k];if(l(w)){O=[],g.push(w),y.push(O);for(var E=0,I=w.length;E<I;E++){var G=w[E];d&&c(G)?O[E]=v(G):O[E]=G}}else{O={},g.push(w),y.push(O);for(var J=s(w).sort(p),Q=0,te=J.length;Q<te;Q++){var pe=J[Q],fe=w[pe];d&&c(fe)?O[pe]=v(fe):O[pe]=fe}}return O})(h)};var u={deep:!1,comparator:r.defComparator};o.exports=e},5154:function(o,e,n){var r=n(5693),a=n(3145);e=function(s,l,c){l=r(l,c);for(var u=a(s),h=u.length,f={},d=0;d<h;d++){var p=u[d];f[p]=l(s[p],p,s)}return f},o.exports=e},5169:function(o,e,n){e=n(1909)?window:n.g,o.exports=e},5207:function(o,e){e=function(n){return n.replace(/\W/g,"\\$&")},o.exports=e},5224:function(o,e,n){var r=n(7140),a=n(3915);e={encode:function(s){return s.length<32768?String.fromCodePoint.apply(String,s):a(r(s,32767),(function(l){return String.fromCodePoint.apply(String,l)})).join("")},decode:function(s){for(var l=[],c=0,u=s.length;c<u;){var h=s.charCodeAt(c++);if(h>=55296&&h<=56319&&c<u){var f=s.charCodeAt(c++);(64512&f)==56320?l.push(((1023&h)<<10)+(1023&f)+65536):(l.push(h),c--)}else l.push(h)}return l}},o.exports=e},5241:function(o,e,n){var r=n(2708),a=n(1738),s=n(1009),l=n(7661),c=n(6866),u=n(9100),h=n(3957);e=function(f,d){for(var p=arguments.length,g=new Array(p>2?p-2:0),y=2;y<p;y++)g[y-2]=arguments[y];(r(d)||a(d))&&(g.unshift(d),d=null),d||(d={});var v=(function(I){for(var G="div",J="",Q=[],te=[],pe="",fe=0,ee=I.length;fe<ee;fe++){var N=I[fe];N==="#"||N==="."?(te.push(pe),pe=N):pe+=N}te.push(pe);for(var Z=0,R=te.length;Z<R;Z++)(pe=te[Z])&&(s(pe,"#")?J=pe.slice(1):s(pe,".")?Q.push(pe.slice(1)):G=pe);return{tagName:G,id:J,classes:Q}})(f),w=v.tagName,O=v.id,k=v.classes,E=document.createElement(w);return O&&E.setAttribute("id",O),l.add(E,k),u(g,(function(I){a(I)?E.appendChild(document.createTextNode(I)):r(I)&&E.appendChild(I)})),u(d,(function(I,G){a(I)?E.setAttribute(G,I):h(I)&&s(G,"on")?E.addEventListener(G.slice(2),I,!1):G==="style"&&c(E,I)})),E},o.exports=e},5259:function(o,e,n){(e=n(6314)(!1)).push([o.id,`@font-face{font-family:luna-notification-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAZUAAsAAAAACdAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAG0AAACgIZAmVU9TLzIAAAF4AAAAPgAAAFZWzlGlY21hcAAAAbgAAADTAAACdAF1q7JnbHlmAAACjAAAAZ8AAAIw/FBRXGhlYWQAAAQsAAAAMQAAADZ25cSzaGhlYQAABGAAAAAdAAAAJAgCBA9obXR4AAAEgAAAABYAAABEFAH//GxvY2EAAASYAAAAFgAAACQHPAeQbWF4cAAABLAAAAAfAAAAIAEeAFBuYW1lAAAE0AAAASkAAAIWm5e+CnBvc3QAAAX8AAAAVwAAAHunB7sWeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiD2ArL5GGQYdBhswDIgzA6U4QSzmBlYGbgZeIC28YL5rEAoAIScQAwxh4WBH8hmB/PYgOp4GPgAGb8HKAAAAHicY2Bk1GWcwMDKwMDUyXSGgYGhH0IzvmYwYuQAijKwMjNgBQFprikMBxgSP7KwgLgxLExgYUYQAQC/dQkUAAB4nL2SPQ7CMAxGX2ih/LYMCCHOwKUQAoGQqMTSjQMxcQgu1BOUz4knxMCAsPWa5ksTu3aAPpCJjcghPAiY3aWGqGeMo55z03zBXErOlh0HTpypudK0eddp1dQ9R6mXqIaovlvQKeZLVvJ1dKgUZ8qQCQNmFIwUqdS3PUVTlmHw4aRfW8xBKVgGFCOUgqz8Q+TvbBqfT59VWMUT9r5z1C91IWE7Ds5QHJ2JODlW2bOj/1bvEoWoHdVCHU1YURpHtWlDwu5L20tgY5awe9U69F8TTSO0AHiclVC9ThtBEJ6ZXdY4UXwc7O0mWBzxmdsDG9nExmdFKAQUpaClRCa4ihIsGiR+0kWip0A8AQVtKsRDpKGgI8+Qkip3ZtciSpQuq9E33/zvDBDYR1fsGkJoAGAgRbUSmTe4nK5gp/qbtVTgt1uK2XAd/zjpSnn5D08pb27O4Z2nrN5Q3pmzLCBsOGbhzmEQePm1opM953QA6OZzYF+hAFBEjckr7OI+LX3I9mV+0cc1Wutn/QA/bv9XLhtmNpdxghJMQxUgxgaKAooQ25XWKtoF3E5SRKajI+MsKdjPvCfTVFospnW2VE+L2fewFlppl+M4jeNztmjKZfPrNlk3Zp22gjAM8kuH93HHmE48OudwaGcjB6jBO3tT4aFIGpiYt9i0v0jVLFrppkorj7QqlLAgmmiaGEsdolat7qqNLo9KolEU7ycqK89nnk0SlwfRpk8vF/zPxNkX9VrwYPfpkX7CVemFHBCnLJ9PTns7Nzu902T+L4rfbI/HvMPKpl+bJX+XxsaO9VQ4LQfjx3qm5PoPSPD3n/6tHlGAB9G/ZawAeJxjYGRgYADibSbTeeL5bb4ycLOABKI4H+9rgNH//zIwsDCzMAElOBhAJAMAKPIKWwAAAHicY2BkYGBhAAEWhv9///9lYWZgZEAFggBbKAQbAAAAeJxjYGBgYEHB//8C8X8GEgAAwYQEDwAAeJxjYAACB4YwhhyGVYwS2CEAO7wC2QAAeJxjYGRgYBBkcGFgZgABJiDmAkIGhv9gPgMAEP4BbwB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG3EOwqAMBBAwX2a+P/fw8IjSYgoQgLb5PqCtk4xksmnkX8zGTkGS0FJRU1DS0fPwMjEzCLmCke07vTuLt/XzaRdg/WqUbkIHEQcJ56bxI6KPP4cD3YA') format('woff')}[class*=' luna-notification-icon-'],[class^=luna-notification-icon-]{display:inline-block;font-family:luna-notification-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-notification-icon-info:before{content:'\\f101'}.luna-notification-icon-check:before{content:'\\f102'}.luna-notification-icon-warn:before{content:'\\f103'}.luna-notification-icon-error:before{content:'\\f104'}.luna-notification{position:relative;padding:20px;pointer-events:none;display:flex;flex-direction:column;overflow:hidden;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,0);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-notification .luna-notification-hidden,.luna-notification.luna-notification-hidden{display:none}.luna-notification .luna-notification-invisible,.luna-notification.luna-notification-invisible{visibility:hidden}.luna-notification *{box-sizing:border-box}.luna-notification.luna-notification-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:rgba(0,0,0,0)}.luna-notification.luna-notification-full{position:fixed;top:0;left:0;width:100%;height:100%}.luna-notification-item{display:flex;border:1px solid;padding:10px 16px;align-items:center}.luna-notification-lower{margin-top:16px}.luna-notification-upper{margin-bottom:16px}.luna-notification-icon-container{margin-right:8px;color:#fff;border-radius:50%;width:16px;height:16px;text-align:center;line-height:16px}.luna-notification-icon-container.luna-notification-info .luna-notification-icon{position:relative;top:-2px;font-size:12px}.luna-notification-icon-container.luna-notification-success .luna-notification-icon{position:relative;top:-1px;font-size:12px}.luna-notification-icon-container.luna-notification-warning{position:relative;top:-2px}.luna-notification-icon-container.luna-notification-warning .luna-notification-icon{font-size:14px}.luna-notification-icon-container.luna-notification-error{position:relative;top:-1px}.luna-notification-icon-container.luna-notification-error .luna-notification-icon{font-size:14px}.luna-notification-theme-light .luna-notification-item{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9);box-shadow:0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05);box-shadow:var(--luna-box-shadow,0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05));color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-info{background-color:#1677ff;background-color:var(--luna-color-info,#1677ff)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-success{background-color:#52c41a;background-color:var(--luna-color-success,#52c41a)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-warning{color:#faad14;color:var(--luna-color-warning,#faad14)}.luna-notification-theme-light .luna-notification-icon-container.luna-notification-error{color:#ff4d4f;color:var(--luna-color-error,#ff4d4f)}.luna-notification-theme-dark .luna-notification-item{border-color:#424242;border-color:var(--luna-color-border,#424242);box-shadow:0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05);box-shadow:var(--luna-box-shadow,0 6px 16px 0 rgba(0,0,0,.08),0 3px 6px -4px rgba(0,0,0,.12),0 9px 28px 8px rgba(0,0,0,.05));color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container,#141414)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-info{background-color:#1668dc;background-color:var(--luna-color-info,#1668dc)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-success{background-color:#49aa19;background-color:var(--luna-color-success,#49aa19)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-warning{color:#d89614;color:var(--luna-color-warning,#d89614)}.luna-notification-theme-dark .luna-notification-icon-container.luna-notification-error{color:#dc4446;color:var(--luna-color-error,#dc4446)}`,""]),o.exports=e},5282:function(o,e,n){var r=n(9100);e=function(a){var s={};return r(a,(function(l,c){s[l]=c})),s},o.exports=e},5333:function(o,e){var n=/^\s+/;e=function(r,a){if(a==null)return r.trimLeft?r.trimLeft():r.replace(n,"");for(var s,l,c=0,u=r.length,h=a.length,f=!0;f&&c<u;)for(f=!1,s=-1,l=r.charAt(c);++s<h;)if(l===a[s]){f=!0,c++;break}return c>=u?"":r.substr(c,u)},o.exports=e},5334:function(o,e,n){var r=this&&this.__awaiter||function(ae,de,H,ne){return new(H||(H=Promise))((function(V,Ce){function ge(Ye){try{Ke(ne.next(Ye))}catch(Qe){Ce(Qe)}}function Te(Ye){try{Ke(ne.throw(Ye))}catch(Qe){Ce(Qe)}}function Ke(Ye){var Qe;Ye.done?V(Ye.value):(Qe=Ye.value,Qe instanceof H?Qe:new H((function(rt){rt(Qe)}))).then(ge,Te)}Ke((ne=ne.apply(ae,de||[])).next())}))},a=this&&this.__generator||function(ae,de){var H,ne,V,Ce={label:0,sent:function(){if(1&V[0])throw V[1];return V[1]},trys:[],ops:[]},ge=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return ge.next=Te(0),ge.throw=Te(1),ge.return=Te(2),typeof Symbol=="function"&&(ge[Symbol.iterator]=function(){return this}),ge;function Te(Ke){return function(Ye){return(function(Qe){if(H)throw new TypeError("Generator is already executing.");for(;ge&&(ge=0,Qe[0]&&(Ce=0)),Ce;)try{if(H=1,ne&&(V=2&Qe[0]?ne.return:Qe[0]?ne.throw||((V=ne.return)&&V.call(ne),0):ne.next)&&!(V=V.call(ne,Qe[1])).done)return V;switch(ne=0,V&&(Qe=[2&Qe[0],V.value]),Qe[0]){case 0:case 1:V=Qe;break;case 4:return Ce.label++,{value:Qe[1],done:!1};case 5:Ce.label++,ne=Qe[1],Qe=[0];continue;case 7:Qe=Ce.ops.pop(),Ce.trys.pop();continue;default:if(V=Ce.trys,!((V=V.length>0&&V[V.length-1])||Qe[0]!==6&&Qe[0]!==2)){Ce=0;continue}if(Qe[0]===3&&(!V||Qe[1]>V[0]&&Qe[1]<V[3])){Ce.label=Qe[1];break}if(Qe[0]===6&&Ce.label<V[1]){Ce.label=V[1],V=Qe;break}if(V&&Ce.label<V[2]){Ce.label=V[2],Ce.ops.push(Qe);break}V[2]&&Ce.ops.pop(),Ce.trys.pop();continue}Qe=de.call(ae,Ce)}catch(rt){Qe=[6,rt],ne=0}finally{H=V=0}if(5&Qe[0])throw Qe[1];return{value:Qe[0]?Qe[1]:void 0,done:!0}})([Ke,Ye])}}},s=this&&this.__spreadArray||function(ae,de,H){if(H||arguments.length===2)for(var ne,V=0,Ce=de.length;V<Ce;V++)!ne&&V in de||(ne||(ne=Array.prototype.slice.call(de,0,V)),ne[V]=de[V]);return ae.concat(ne||Array.prototype.slice.call(de))},l=this&&this.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=void 0,e.deleteCookies=function(ae){(0,f.default)(ae.name)},e.getCookies=function(){var ae=[],de=document.cookie;return(0,c.default)(de)!==""&&(0,u.default)(de.split(";"),(function(H){H=H.split("=");var ne=(0,c.default)(H.shift());H=(0,h.default)(H.join("=")),ae.push({name:ne,value:H})})),{cookies:ae}},e.getResponseBody=function(ae){return{base64Encoded:!1,body:G.get(ae.requestId)}};var c=l(n(9405)),u=l(n(9100)),h=l(n(6334)),f=l(n(3290)),d=l(n(9122)),p=l(n(3249)),g=l(n(3981)),y=l(n(1738)),v=l(n(3750)),w=l(n(8971)),O=l(n(5957)),k=n(3411),E=l(n(8665)),I=n(916),G=new Map,J=!1;function Q(ae,de){ae.on("send",(function(H,ne){var V={method:ne.method,url:ne.url,headers:ne.reqHeaders};ne.data&&(V.postData=ne.data),R("Network.requestWillBeSent",{requestId:H,type:de,request:V,timestamp:ne.time/1e3})})),ae.on("headersReceived",(function(H,ne){R("Network.responseReceivedExtraInfo",{requestId:H,blockedCookies:[],headers:ne.resHeaders})})),ae.on("done",(function(H,ne){var V={status:ne.status};ne.resHeaders&&(V.headers=ne.resHeaders),R("Network.responseReceived",{requestId:H,type:de,response:V,timestamp:ne.time/1e3}),G.set(H,ne.resTxt),R("Network.loadingFinished",{requestId:H,encodedDataLength:ne.size,timestamp:ne.time/1e3})})),ae.on("error",(function(H,ne){R("Network.loadingFailed",{requestId:H,errorText:ne.errorText,timestamp:ne.time/1e3,type:de})}))}function te(ae){return!(0,p.default)(ae,"__chobitsu-hide__=true")}e.enable=function(){J=!0,(0,u.default)(Z,(function(ae){return ae()})),Z=[]};var pe,fe,ee,N,Z=[];function R(ae,de){J?E.default.trigger(ae,de):Z.push((function(){return E.default.trigger(ae,de)}))}pe=window.XMLHttpRequest.prototype,fe=pe.send,ee=pe.open,N=pe.setRequestHeader,pe.open=function(ae,de){if(!te(de))return ee.apply(this,arguments);Q(this.chobitsuRequest=new k.XhrRequest(this,ae,de),"XHR"),ee.apply(this,arguments)},pe.send=function(ae){var de=this.chobitsuRequest;de&&de.handleSend(ae),fe.apply(this,arguments)},pe.setRequestHeader=function(ae,de){var H=this.chobitsuRequest;H&&H.handleReqHeadersSet(ae,de),N.apply(this,arguments)},(function(){var ae=!1;if(window.fetch&&((ae=(0,d.default)(window.fetch))||(navigator.serviceWorker&&(ae=!0),window.Request&&(0,d.default)(window.Request)&&(ae=!0))),ae){var de=window.fetch;window.fetch=function(){for(var H=[],ne=0;ne<arguments.length;ne++)H[ne]=arguments[ne];var V=new(k.FetchRequest.bind.apply(k.FetchRequest,s([void 0],H,!1)));Q(V,"Fetch");var Ce=de.apply(void 0,H);return V.send(Ce),Ce}}})(),(function(){var ae=window.WebSocket;function de(H,ne){var V=new ae(H,ne);if(!te(H))return V;var Ce=(0,I.createId)();R("Network.webSocketCreated",{requestId:Ce,url:H}),V.addEventListener("open",(function(){R("Network.webSocketWillSendHandshakeRequest",{requestId:Ce,timestamp:(0,g.default)()/1e3,request:{headers:{}}}),R("Network.webSocketHandshakeResponseReceived",{requestId:Ce,timeStamp:(0,g.default)()/1e3,response:{status:101,statusText:"Switching Protocols"}})})),V.addEventListener("message",(function(Te){return r(this,void 0,void 0,(function(){var Ke,Ye;return a(this,(function(Qe){switch(Qe.label){case 0:return Ke=Te.data,(0,w.default)(Ke)?[2]:(Ye=1,(0,y.default)(Ke)?[3,3]:(Ye=2,(0,v.default)(Ke)?[4,O.default.blobToArrBuffer(Ke)]:[3,2]));case 1:Ke=Qe.sent(),Qe.label=2;case 2:Ke=(0,O.default)(Ke,"base64"),Qe.label=3;case 3:return R("Network.webSocketFrameReceived",{requestId:Ce,timestamp:(0,g.default)()/1e3,response:{opcode:Ye,payloadData:Ke}}),[2]}}))}))}));var ge=V.send;return V.send=function(Te){return(0,w.default)(Te)||(function(Ke){r(this,void 0,void 0,(function(){var Ye,Qe;return a(this,(function(rt){switch(rt.label){case 0:return Ye=1,Qe=Ke,(0,y.default)(Ke)?[3,3]:(Ye=2,(0,v.default)(Qe)?[4,O.default.blobToArrBuffer(Qe)]:[3,2]);case 1:Qe=rt.sent(),rt.label=2;case 2:Qe=(0,O.default)(Ke,"base64"),rt.label=3;case 3:return R("Network.webSocketFrameSent",{requestId:Ce,timestamp:(0,g.default)()/1e3,response:{opcode:Ye,payloadData:Qe}}),[2]}}))}))})(Te),ge.call(this,Te)},V.addEventListener("close",(function(){R("Network.webSocketClosed",{requestId:Ce,timestamp:(0,g.default)()/1e3})})),V.addEventListener("error",(function(){R("Network.webSocketFrameError",{requestId:Ce,timestamp:(0,g.default)()/1e3,errorMessage:"WebSocket error"})})),V}de.prototype=ae.prototype,de.CLOSED=ae.CLOSED,de.CLOSING=ae.CLOSING,de.CONNECTING=ae.CONNECTING,de.OPEN=ae.OPEN,window.WebSocket=de})()},5360:function(o,e,n){var r=n(9100),a=n(3612),s=n(1738);function l(c){return function(u,h){u=a(u),r(u,(function(f){if(s(h))f.insertAdjacentHTML(c,h);else{var d=f.parentNode;switch(c){case"beforebegin":d&&d.insertBefore(h,f);break;case"afterend":d&&d.insertBefore(h,f.nextSibling);break;case"beforeend":f.appendChild(h);break;case"afterbegin":f.prepend(h)}}}))}}e={before:l("beforebegin"),after:l("afterend"),append:l("beforeend"),prepend:l("afterbegin")},o.exports=e},5361:function(o,e,n){function r(s,l){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,u){return c.__proto__=u,c},r(s,l)}function a(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),l&&r(s,l)}n.d(e,{A:function(){return a}})},5395:function(o,e){e=function(n){var r=n.length,a=Array(r);r--;for(var s=0;s<=r;s++)a[r-s]=n[s];return a},o.exports=e},5427:function(o,e,n){var r=n(9760),a=n(3957),s=Object.getPrototypeOf,l={}.constructor;e=function(c){if(r(c)){if(s)return s(c);var u=c.__proto__;return u||u===null?u:a(c.constructor)?c.constructor.prototype:c instanceof l?l.prototype:void 0}},o.exports=e},5458:function(o,e,n){n.d(e,{A:function(){return s}});var r=n(5526),a=n(7800);function s(l){return(function(c){if(Array.isArray(c))return(0,r.A)(c)})(l)||(function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)})(l)||(0,a.A)(l)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}},5526:function(o,e,n){function r(a,s){(s==null||s>a.length)&&(s=a.length);for(var l=0,c=Array(s);l<s;l++)c[l]=a[l];return c}n.d(e,{A:function(){return r}})},5546:function(o,e,n){var r=n(5169),a={down:"touchstart",move:"touchmove",up:"touchend"},s={down:"mousedown",move:"mousemove",up:"mouseup"},l={down:"pointerdown",move:"pointermove",up:"pointerup"},c="PointerEvent"in r,u="ontouchstart"in r;e=function(h){return c?l[h]:u?a[h]:s[h]},o.exports=e},5570:function(o,e){var n,r=[],a=document,s=a.documentElement.doScroll,l="DOMContentLoaded",c=(s?/^loaded|^c/:/^loaded|^i|^c/).test(a.readyState);c||a.addEventListener(l,n=function(){for(a.removeEventListener(l,n),c=1;n=r.shift();)n()}),e=function(u){c?setTimeout(u,0):r.push(u)},o.exports=e},5630:function(o,e){var n=0;e=function(r){var a=++n+"";return r?r+a:a},o.exports=e},5651:function(o,e,n){e=n(6307)(n(7514),!0),o.exports=e},5689:function(o,e,n){var r=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.getUsageAndQuota=function(){return{quota:0,usage:0,overrideActive:!1,usageBreakdown:[]}},e.clearDataForOrigin=function(d){var p=d.storageTypes.split(",");(0,a.default)(p,(function(g){if(g==="cookies"){var y=(0,u.getCookies)().cookies;(0,a.default)(y,(function(v){var w=v.name;return(0,s.default)(w)}))}else g==="local_storage"&&(h.clear(),f.clear())}))},e.getTrustTokens=function(){return{tokens:[]}},e.getStorageKeyForFrame=function(){return{storageKey:location.origin}},e.getSharedStorageMetadata=function(){return{metadata:{creationTime:0,length:0,remainingBudget:0,bytesUsed:0}}},e.setStorageBucketTracking=function(){c.default.trigger("Storage.storageBucketCreatedOrUpdated",{bucketInfo:{bucket:{storageKey:location.origin},durability:"relaxed",expiration:0,id:"0",persistent:!1,quota:0}})};var a=r(n(9100)),s=r(n(3290)),l=r(n(1931)),c=r(n(8665)),u=n(5334),h=(0,l.default)("local"),f=(0,l.default)("session")},5693:function(o,e,n){var r=n(3957),a=n(9760),s=n(6214),l=n(6459),c=n(199),u=n(2455),h=n(500);e=function(f,d,p){return f==null?u:r(f)?l(f,d,p):a(f)&&!s(f)?c(f):h(f)},o.exports=e},5701:function(o,e,n){var r=n(3957),a=n(365),s=n(3145);function l(c,u,h,f){if(c===u)return c!==0||1/c==1/u;if(c==null||u==null)return c===u;if(c!=c)return u!=u;var d=typeof c;return(d==="function"||d==="object"||typeof u=="object")&&(function(p,g,y,v){var w=toString.call(p);if(w!==toString.call(g))return!1;switch(w){case"[object RegExp]":case"[object String]":return""+p==""+g;case"[object Number]":return+p!=+p?+g!=+g:+p==0?1/+p==1/g:+p==+g;case"[object Date]":case"[object Boolean]":return+p==+g}var O=w==="[object Array]";if(!O){if(typeof p!="object"||typeof g!="object")return!1;var k=p.constructor,E=g.constructor;if(k!==E&&!(r(k)&&k instanceof k&&r(E)&&E instanceof E)&&"constructor"in p&&"constructor"in g)return!1}v=v||[];for(var I=(y=y||[]).length;I--;)if(y[I]===p)return v[I]===g;if(y.push(p),v.push(g),O){if((I=p.length)!==g.length)return!1;for(;I--;)if(!l(p[I],g[I],y,v))return!1}else{var G,J=s(p);if(I=J.length,s(g).length!==I)return!1;for(;I--;)if(G=J[I],!a(g,G)||!l(p[G],g[G],y,v))return!1}return y.pop(),v.pop(),!0})(c,u,h,f)}e=function(c,u){return l(c,u)},o.exports=e},5773:function(o,e,n){var r=n(1738),a=n(769),s=n(8785),l=n(3915),c=n(9405);e=function(h){r(h)&&(h=a(h));for(var f="",d=arguments.length,p=new Array(d>1?d-1:0),g=1;g<d;g++)p[g-1]=arguments[g];for(var y=0,v=h.length;y<v;y++)f+=h[y],p[y]&&(f+=p[y]);for(var w=f.split(`
`),O=[],k=0,E=w.length;k<E;k++){var I=w[k].match(u);I&&O.push(I[1].length)}var G=O.length>0?s.apply(null,O):0;return c(l(w,(function(J){return J[0]===" "?J.slice(G):J})).join(`
`))};var u=/^(\s+)\S+/;o.exports=e},5784:function(o,e,n){n.d(e,{A:function(){return q}});var r=n(7528),a=n(4467),s=n(3029),l=n(2901),c=n(388),u=n(3954),h=n(5361),f=n(2263),d=n.n(f),p=n(3693),g=n.n(p),y=n(3915),v=n.n(y),w=n(9405),O=n.n(w),k=n(5169),E=n.n(k),I=n(9548),G=n.n(I),J=(n(6097),n(3249)),Q=n.n(J),te=(n(6030),n(5004)),pe=n.n(te);n(9410),n(8609);function fe(be){var Ne="luna-".concat(be,"-");function Pe(Me){return v()(O()(Me).split(/\s+/),(function(Ue){return Q()(Ue,Ne)?Ue:Ue.replace(/[\w-]+/,(function(Y){return"".concat(Ne).concat(Y)}))})).join(" ")}return function(Me){if(/<[^>]*>/g.test(Me))try{var Ue=G().parse(Me);return ee(Ue,(function(Y){Y.attrs&&Y.attrs.class&&(Y.attrs.class=Pe(Y.attrs.class))})),G().stringify(Ue)}catch{return Pe(Me)}return Pe(Me)}}function ee(be,Ne){for(var Pe=0,Me=be.length;Pe<Me;Pe++){var Ue=be[Pe];Ne(Ue),Ue.content&&ee(Ue.content,Ne)}}var N="ontouchstart"in E();function Z(){var be=pe()();return be==="os x"?"mac":be}var R=n(9100),ae=n.n(R),de=n(8105),H=n.n(de),ne=n(5651),V=n.n(ne),Ce=n(961),ge=n.n(Ce),Te=n(7e3),Ke=n.n(Te),Ye=n(1009),Qe=n.n(Ye);function rt(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(rt=function(){return!!be})()}var vt,it,yt=(function(be){function Ne(Pe,Me){var Ue,Y=Me.compName,D=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,W=D===void 0?"light":D;return(0,s.A)(this,Ne),Ue=(function(_e,ce,st){return ce=(0,u.A)(ce),(0,c.A)(_e,rt()?Reflect.construct(ce,[],(0,u.A)(_e).constructor):ce.apply(_e,st))})(this,Ne),Ue.subComponents=[],Ue.theme="",Ue.onThemeChange=function(_e){Ue.options.theme==="auto"&&Ue.setTheme(_e)},Ue.compName=Y,Ue.c=fe(Y),Ue.options={},Ue.container=Pe,Ue.$container=g()(Pe),Ue.$container.addClass(["luna-".concat(Y),Ue.c("platform-".concat(Z()))]),Ue.on("changeOption",(function(_e,ce){if(_e==="theme"&&ce){var st=ce;ce==="auto"&&(st=Ke().get()),Ue.setTheme(st),ae()(Ue.subComponents,(function(Ot){return Ot.setOption("theme",ce)}))}})),Ke().on("change",Ue.onThemeChange),Ue.setOption("theme",W),Ue}return(0,h.A)(Ne,be),(0,l.A)(Ne,[{key:"destroy",value:function(){var Pe=this;this.destroySubComponents();var Me=this.$container,Ue=Me.attr("class");ae()(Ue.split(/\s+/),(function(Y){Qe()(Y,"luna-".concat(Pe.compName))&&Me.rmClass(Y)})),Me.html(""),this.emit("destroy"),this.removeAllListeners(),Ke().off("change",this.onThemeChange)}},{key:"setOption",value:function(Pe,Me){var Ue=this,Y=this.options,D={};typeof Pe=="string"?D[Pe]=Me:D=Pe,ae()(D,(function(W,_e){var ce=Y[_e];Y[_e]=W,W!==ce&&Ue.emit("changeOption",_e,W,ce)}))}},{key:"getOption",value:function(Pe){return this.options[Pe]}},{key:"addSubComponent",value:function(Pe){Pe.setOption("theme",this.options.theme),this.subComponents.push(Pe)}},{key:"removeSubComponent",value:function(Pe){ge()(this.subComponents,(function(Me){return Me===Pe}))}},{key:"destroySubComponents",value:function(){ae()(this.subComponents,(function(Pe){return Pe.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(Pe){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V()(Pe,Me),H()(this.options,Pe)}},{key:"find",value:function(Pe){return this.$container.find(this.c(Pe))}},{key:"setTheme",value:function(Pe){var Me=this.c,Ue=this.$container;this.theme&&Ue.rmClass(Me("theme-".concat(this.theme))),Ue.addClass(Me("theme-".concat(Pe))),this.theme=Pe}}])})(d()),xt=n(5241),Ct=n.n(xt),St=n(2571),Rt=n.n(St),oe=n(7181),je=n.n(oe),ze=n(5773),he=n.n(ze),le=n(769),me=n.n(le),Xe=n(2208),Ee=n.n(Xe),Re=n(4249),at=n.n(Re),Ve=n(15),qe=n.n(Ve),ot=n(3497),Pt=n.n(ot),Et=n(5902),Ft=n.n(Et),ve=n(8098),T=n.n(ve),F=n(4307),ye=n.n(F),De=n(96),$e=n.n(De);function Ze(be,Ne){var Pe=Object.keys(be);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(be);Ne&&(Me=Me.filter((function(Ue){return Object.getOwnPropertyDescriptor(be,Ue).enumerable}))),Pe.push.apply(Pe,Me)}return Pe}function Oe(be){for(var Ne=1;Ne<arguments.length;Ne++){var Pe=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Ze(Object(Pe),!0).forEach((function(Me){(0,a.A)(be,Me,Pe[Me])})):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(Pe)):Ze(Object(Pe)).forEach((function(Me){Object.defineProperty(be,Me,Object.getOwnPropertyDescriptor(Pe,Me))}))}return be}function bt(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(bt=function(){return!!be})()}o=n.hmd(o);var ht={comment:"",string:"",number:"",keyword:"",operator:""},q=(function(be){function Ne(Pe){var Me,Ue,Y,D,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,s.A)(this,Ne),Ue=this,Y=Ne,D=[Pe,{compName:"dom-viewer"},W],Y=(0,u.A)(Y),(Me=(0,c.A)(Ue,bt()?Reflect.construct(Y,D||[],(0,u.A)(Ue).constructor):Y.apply(Ue,D))).isExpanded=!1,Me.childNodes=[],Me.childNodeDomViewers=[],Me.expand=function(){var _e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Me.isExpandable()&&(Me.isExpanded||(Me.isExpanded=!0,Me.renderExpandTag(),Me.renderChildNodes()),_e&&ae()(Me.childNodeDomViewers,(function(ce){ce.expand(!0)})))},Me.collapse=function(){var _e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Me.isExpandable()&&(Me.isExpanded&&(Me.isExpanded=!1,Me.renderCollapseTag()),_e&&ae()(Me.childNodeDomViewers,(function(ce){ce.collapse(!0)})))},Me.toggle=function(){Me.isExpanded?Me.collapse():Me.expand()},Me.onKeyRight=function(){Me.isExpanded?Me.childNodeDomViewers[0].select():Me.expand()},Me.onKeyLeft=function(){var _e;Me.isExpanded?Me.collapse():(_e=Me.options.parent)===null||_e===void 0||_e.select()},Me.onKeyDown=function(){var _e=Me.options;if(Me.isExpanded)Me.childNodeDomViewers[0].select();else{var ce=_e.parent;if(ce)if(_e.isEndTag){if(!(ce=ce.getOption("parent")))return;var st=ce,Ot=st.childNodes,Gt=st.childNodeDomViewers,On=st.endTagDomViewer,yn=Ot.indexOf(_e.node);Ot[yn+1]?Gt[yn+1].select():On&&On.select()}else{var Kt=ce,Vt=Kt.childNodeDomViewers,an=Kt.endTagDomViewer,$t=Vt.indexOf(Me);Vt[$t+1]?Vt[$t+1].select():an&&an.select()}}},Me.onKeyUp=function(){var _e=Me.options,ce=_e.parent;if(ce){var st,Ot;if(_e.isEndTag)st=Pt()(ce.childNodeDomViewers);else{var Gt=ce.childNodeDomViewers.indexOf(Me);Gt<1?ce.select():st=ce.childNodeDomViewers[Gt-1]}st&&(st.isExpanded?(Ot=st.endTagDomViewer)===null||Ot===void 0||Ot.select():st.select())}},Me.initOptions(W,{node:document.documentElement,parent:null,isEndTag:!1,observe:!0,rootContainer:Pe,rootDomViewer:Me,ignore:function(){return!1},ignoreAttr:function(){return!1},lowerCaseTagName:!0,hotkey:!0}),Me.isShadowRoot=je()(Me.options.node),Me.initTpl(),Me.bindEvent(),!Me.options.isEndTag&&Me.options.observe&&Me.initObserver(),Me}return(0,h.A)(Ne,be),(0,l.A)(Ne,[{key:"select",value:function(Pe){var Me=this.c,Ue=this.options;if(!Pe||Pe&&Ue.node===Pe)return this.$tag.hasClass(Me("selected"))?void 0:(g()(this.options.rootContainer).find(Me(".selected")).rmClass(Me("selected")).rmAttr("tabindex"),this.$tag.attr("tabindex","0").get(0).focus(),this.$tag.addClass(Me("selected")),void Ue.rootDomViewer.emit("select",Ue.node));if(Pe.nodeType===Node.ELEMENT_NODE)for(var Y=Pe,D=Pe.parentElement;D;){if(D===Ue.node){this.expand(),this.childNodeDomViewers[this.childNodes.indexOf(Y)].select(Pe);break}Y=D,D=D.parentElement}}},{key:"attach",value:function(){this.container.appendChild(this.$tag.get(0)),this.$children&&this.container.appendChild(this.$children.get(0))}},{key:"isAttached",value:function(){return!!this.$tag.get(0).parentNode}},{key:"detach",value:function(){this.$tag.remove(),this.$children&&this.$children.remove()}},{key:"destroy",value:function(){var Pe=this.c;this.$tag.hasClass(Pe("selected"))&&this.options.rootDomViewer.emit("deselect"),this.detach(),this.observer&&this.observer.disconnect(),this.destroySubComponents(),this.options.rootDomViewer===this&&this.$container.rmClass("luna-dom-viewer").rmClass(Pe("platform-".concat(Z()))).rmClass(Pe("theme-".concat(this.options.theme))),this.emit("destroy"),this.removeAllListeners()}},{key:"renderExpandTag",value:function(){var Pe=this.$tag,Me=this.c,Ue=this.options.node;this.isShadowRoot||Pe.html(this.renderHtmlTag(Oe(Oe({},dt(Ue)),{},{hasTail:!1,hasToggleButton:!0}))),Pe.addClass(Me("expanded")),this.$children.rmClass(Me("hidden"))}},{key:"renderCollapseTag",value:function(){var Pe=this.$tag,Me=this.c,Ue=this.options.node;this.$children.addClass(Me("hidden")),this.isShadowRoot||this.$tag.html(this.renderHtmlTag(Oe(Oe({},dt(Ue)),{},{hasTail:!0,hasToggleButton:!0}))),Pe.rmClass(Me("expanded"))}},{key:"initObserver",value:function(){var Pe=this;this.observer=new(Ee())((function(Me){ae()(Me,(function(Ue){Pe.handleMutation(Ue)}))})),this.observer.observe(this.options.node,{attributes:!0,childList:!0,characterData:!0})}},{key:"handleMutation",value:function(Pe){var Me=this.$tag,Ue=this.c,Y=this.options,D=Y.node,W=Y.ignore;if(Q()(["attributes","childList"],Pe.type)){if(Pe.type==="childList"){if(T()(Pe.addedNodes,W)&&T()(Pe.removedNodes,W))return;this.renderChildNodes()}this.isExpandable()?this.isExpanded?this.renderExpandTag():this.renderCollapseTag():(this.$children.addClass(Ue("hidden")),this.isExpanded=!1,this.isShadowRoot?Me.html(this.renderShadowRoot(!1)):Me.html(this.renderHtmlTag(Oe(Oe({},dt(D)),{},{hasTail:!1}))))}else Pe.type==="characterData"&&(D.nodeType===Node.TEXT_NODE?Me.html(this.renderTextNode(D)):D.nodeType===Node.COMMENT_NODE&&Me.html(this.renderHtmlComment(D.nodeValue)))}},{key:"bindEvent",value:function(){var Pe=this,Me=this.c,Ue=this.$tag;if((this.options.node.nodeType===Node.ELEMENT_NODE||this.isShadowRoot)&&Ue.on("click",Me(".toggle"),(function(D){D.stopPropagation(),Pe.toggle()})),N?Ue.on("click",(function(){return Pe.select()})):Ue.on("mousedown",(function(){return Pe.select()})),this.options.hotkey){var Y={element:Ue.get(0)};ye().on("right",Y,this.onKeyRight),ye().on("left",Y,this.onKeyLeft),ye().on("down",Y,this.onKeyDown),ye().on("up",Y,this.onKeyUp)}}},{key:"isExpandable",value:function(){return!(this.options.node.nodeType!==Node.ELEMENT_NODE&&!this.isShadowRoot)&&this.getChildNodes().length>0}},{key:"getChildNodes",value:function(){var Pe=this.options,Me=Pe.rootContainer,Ue=Pe.ignore,Y=this.options.node,D=me()(Y.childNodes);return D=Rt()(D,(function(W){if(W.nodeType===Node.TEXT_NODE||W.nodeType===Node.COMMENT_NODE){var _e=W.nodeValue;if(O()(_e)==="")return!1}return W!==Me&&!Ue(W)})),Y.shadowRoot?D.unshift(Y.shadowRoot):Y.chobitsuShadowRoot&&D.unshift(Y.chobitsuShadowRoot),D}},{key:"initTpl",value:function(){var Pe=this.container,Me=this.c,Ue=this.options,Y=Ue.node,D=Ue.isEndTag,W=Ue.lowerCaseTagName,_e=g()(Ct()("li"));if(_e.addClass(Me("tree-item")),this.$tag=_e,D){var ce=Y.tagName;W&&(ce=$e()(ce)),_e.html(Me('<span class="html-tag" style="margin-left: -15px;">&lt;<span class="tag-name">/'.concat(ce,'</span>&gt;</span><span class="selection"></span>')))}else if(Y.nodeType===Node.ELEMENT_NODE){var st=this.isExpandable(),Ot=Oe(Oe({},dt(Y)),{},{hasTail:st,hasToggleButton:st});_e.html(this.renderHtmlTag(Ot))}else if(je()(Y)){var Gt=this.isExpandable();_e.html(this.renderShadowRoot(Gt))}else if(Y.nodeType===Node.TEXT_NODE)_e.html(this.renderTextNode(Y));else{if(Y.nodeType!==Node.COMMENT_NODE)return;var On=Y.nodeValue;if(On.trim()==="")return;_e.html(this.renderHtmlComment(On))}if(Pe.appendChild(_e.get(0)),Y.nodeType===Y.ELEMENT_NODE||this.isShadowRoot){var yn=g()(Ct()("ul"));yn.addClass([Me("children"),Me("hidden")]),Pe.appendChild(yn.get(0)),this.$children=yn}}},{key:"renderChildNodes",value:function(){var Pe=this,Me=this.options.node,Ue=this.options,Y=Ue.rootContainer,D=Ue.ignore,W=Ue.ignoreAttr,_e=Ue.rootDomViewer,ce=Ue.observe,st=Ue.lowerCaseTagName,Ot=this.$children.get(0),Gt=this.childNodes,On=this.childNodeDomViewers;ae()(On,(function(Vt){Vt.detach(),Pe.removeSubComponent(Vt)})),this.endTagDomViewer&&this.endTagDomViewer.detach();var yn=this.getChildNodes();this.childNodes=yn;var Kt=[];this.childNodeDomViewers=Kt,ae()(yn,(function(Vt,an){var $t,Lt=Gt.indexOf(Vt);($t=Lt>-1?On[Lt]:new Ne(Ot,{node:Vt,observe:ce,parent:Pe,rootContainer:Y,rootDomViewer:_e,ignore:D,ignoreAttr:W,lowerCaseTagName:st})).attach(),Kt[an]=$t,Pe.addSubComponent($t)})),ae()(On,(function(Vt){Vt.isAttached()||Vt.destroy()})),Me&&!this.isShadowRoot&&(this.endTagDomViewer?this.endTagDomViewer.attach():(this.endTagDomViewer=new Ne(Ot,{node:Me,parent:this,isEndTag:!0,lowerCaseTagName:st,rootContainer:Y,rootDomViewer:_e,ignore:D}),this.addSubComponent(this.endTagDomViewer)))}},{key:"renderHtmlTag",value:function(Pe){var Me=this,Ue=this.options.lowerCaseTagName;Pe.attributes=Rt()(Pe.attributes,(function(_e){return!Me.options.ignoreAttr(Pe.el,_e.name,_e.value)}));var Y=v()(Pe.attributes,(function(_e){var ce=_e.name,st=_e.value,Ot=_e.isLink;return`<span class="attribute">
          <span class="attribute-name">`.concat(Ft()(ce),"</span>").concat(st?'="<span class="attribute-value'.concat(Ot?" attribute-underline":"",'">').concat(Ft()(st),'</span>"'):"","</span>")})).join(""),D="",W=Pe.tagName;return Ue&&(W=$e()(W)),Pe.hasTail?D="".concat(Pe.hasTail?"":"",'<span class="html-tag">&lt;<span class="tag-name">/').concat(W,"</span>&gt;</span>"):this.isExpandable()||(D='<span class="html-tag">&lt;<span class="tag-name">/'.concat(W,"</span>&gt;</span>")),this.c(he()(vt||(vt=(0,r.A)([`
      `,`
      <span class="html-tag">&lt;<span class="tag-name">`,"</span>","&gt;</span>",`
      <span class="selection"></span>`])),Pe.hasToggleButton?this.renderToggle():"",W,Y,D))}},{key:"renderTextNode",value:function(Pe){var Me=this.c,Ue=Pe.nodeValue,Y=Pe.parentElement,D='<span class="text-node">',W='</span><span class="selection"></span>';if(Y&&Ue.length<1e4){if(Y.tagName==="STYLE")return Me("".concat(D).concat(at()(Ue,"css",ht)).concat(W));if(Y.tagName==="SCRIPT")return Me("".concat(D).concat(at()(Ue,"js",ht)).concat(W))}return Me('"'.concat(D).concat(Ft()(qe()(Ue,1e4,{separator:" ",ellipsis:""}))).concat(W,'"'))}},{key:"renderHtmlComment",value:function(Pe){return this.c('<span class="html-comment">&lt;!-- '.concat(Ft()(Pe),' --&gt;</span><span class="selection"></span>'))}},{key:"renderShadowRoot",value:function(Pe){var Me=this.options.node;return this.c(he()(it||(it=(0,r.A)([`
      `,`
      <span class="shadow-root">#shadow-root (`,`)</span>
      <span class="selection"></span>`])),Pe?this.renderToggle():"",Me.mode))}},{key:"renderToggle",value:function(){return'<div class="toggle "><span class="icon icon-caret-right"></span><span class="icon icon-caret-down"></span></div>'}}])})(yt);function dt(be){var Ne={el:be,tagName:"",attributes:[]};Ne.tagName=be.tagName;var Pe=[];return ae()(be.attributes,(function(Me){var Ue=Me.name,Y=Me.value;Pe.push({name:Ue,value:Y,isLink:gt(be,Ue)})})),Ne.attributes=Pe,Ne}function gt(be,Ne){var Pe=be.tagName;return(Pe==="SCRIPT"||Pe==="IMAGE"||Pe==="VIDEO"||Pe==="AUDIO")&&Ne==="src"||Pe==="LINK"&&Ne==="href"}(function(be,Ne){try{be.exports=Ne,be.exports.default=Ne}catch{}})(o,q)},5793:function(o,e,n){var r=n(6097),a=n(3957),s=Math.pow(2,53)-1;e=function(l){if(!l)return!1;var c=l.length;return r(c)&&c>=0&&c<=s&&!a(l)},o.exports=e},5820:function(o,e,n){var r,a=n(3981),s=n(5169),l=s.performance,c=s.process;if(l&&l.now)e=function(){return l.now()};else if(c&&c.hrtime){var u=function(){var h=c.hrtime();return 1e9*h[0]+h[1]};r=u()-1e9*c.uptime(),e=function(){return(u()-r)/1e6}}else r=a(),e=function(){return a()-r};o.exports=e},5865:function(o,e,n){var r=n(4534);e=function(a,s){return r(a,s,!0)},o.exports=e},5869:function(o,e,n){var r=n(365);e=function(a,s){var l=function(c){var u=l.cache,h=""+(s?s.apply(this,arguments):c);return r(u,h)||(u[h]=a.apply(this,arguments)),u[h]};return l.cache={},l},o.exports=e},5902:function(o,e,n){var r=n(3145),a=(e=function(h){return l.test(h)?h.replace(c,u):h}).map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s="(?:"+r(a).join("|")+")",l=new RegExp(s),c=new RegExp(s,"g"),u=function(h){return a[h]};o.exports=e},5945:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object Set]"},o.exports=e},5957:function(o,e,n){var r=n(1738),a=n(2990),s=n(4992),l=n(6214),c=n(3159),u=n(2989),h=n(96);(e=function(f,d){var p;if(d=h(d),r(f))p=new Uint8Array(a.decode(f));else if(s(f))f=f.slice(0),p=new Uint8Array(f);else if(l(f))p=new Uint8Array(f);else if(u(f)==="uint8array")p=f.slice(0);else if(c(f)){p=new Uint8Array(f.length);for(var g=0;g<f.length;g++)p[g]=f[g]}if(p)switch(d){case"base64":p=a.encode(p);break;case"arraybuffer":p=p.buffer;break;case"array":p=[].slice.call(p);break;case"buffer":p=Buffer$1.from(p);break;case"blob":p=new Blob([p.buffer])}return p}).blobToArrBuffer=function(f){return new Promise((function(d,p){var g=new FileReader;g.onload=function(y){d(y.target.result)},g.onerror=function(y){p(y)},g.readAsArrayBuffer(f)}))},o.exports=e},6024:function(o,e,n){var r=n(2884);e=function(a){return!!r(a)&&a%2!=0},o.exports=e},6026:function(o,e,n){var r=n(8971);e=function(a,s,l){return r(l)&&(l=s,s=void 0),!r(s)&&a<s?s:a>l?l:a},o.exports=e},6030:function(o,e,n){var r=n(6097),a=n(9760),s=n(3957),l=n(1738);e=function(c){if(r(c))return c;if(a(c)){var u=s(c.valueOf)?c.valueOf():c;c=a(u)?u+"":u}return l(c)?+c:c===0?c:+c},o.exports=e},6032:function(o,e,n){var r=n(2717),a=n(8105),s=n(9405),l=n(7257),c=n(9464),u=n(9100),h=n(6214),f=n(769),d=n(1909),p=n(9760),g=n(2561);e=r({className:"Url",initialize:function(O){!O&&d&&(O=window.location.href),a(this,e.parse(O||""))},setQuery:function(O,k){var E=this.query;return p(O)?u(O,(function(I,G){E[G]=g(I)})):E[O]=g(k),this},rmQuery:function(O){var k=this.query;return h(O)||(O=f(O)),u(O,(function(E){delete k[E]})),this},toString:function(){return e.stringify(this)}},{parse:function(O){var k={protocol:"",auth:"",hostname:"",hash:"",query:{},port:"",pathname:"",slashes:!1},E=s(O),I=!1,G=E.match(y);if(G&&(G=G[0],k.protocol=G.toLowerCase(),E=E.substr(G.length)),G&&(I=E.substr(0,2)==="//")&&(E=E.slice(2),k.slashes=!0),I){for(var J=E,Q=-1,te=0,pe=w.length;te<pe;te++){var fe=E.indexOf(w[te]);fe!==-1&&(Q===-1||fe<Q)&&(Q=fe)}Q>-1&&(J=E.slice(0,Q),E=E.slice(Q));var ee=J.lastIndexOf("@");ee!==-1&&(k.auth=decodeURIComponent(J.slice(0,ee)),J=J.slice(ee+1)),k.hostname=J;var N=J.match(v);N&&((N=N[0])!==":"&&(k.port=N.substr(1)),k.hostname=J.substr(0,J.length-N.length))}var Z=E.indexOf("#");Z!==-1&&(k.hash=E.substr(Z),E=E.slice(0,Z));var R=E.indexOf("?");return R!==-1&&(k.query=l.parse(E.substr(R+1)),E=E.slice(0,R)),k.pathname=E||"/",k},stringify:function(O){var k=O.protocol+(O.slashes?"//":"")+(O.auth?encodeURIComponent(O.auth)+"@":"")+O.hostname+(O.port?":"+O.port:"")+O.pathname;return c(O.query)||(k+="?"+l.stringify(O.query)),O.hash&&(k+=O.hash),k}});var y=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,w=["/","?","#"];o.exports=e},6097:function(o,e,n){var r=n(3974);e=function(a){return r(a)==="[object Number]"},o.exports=e},6167:function(o,e,n){var r=n(5693);e=function(a,s,l,c){c=c||1,s=r(s,l);for(var u=a.length,h=c>0?0:u-1;h>=0&&h<u;){if(s(a[h],h,a))return h;h+=c}return-1},o.exports=e},6186:function(o,e,n){var r=n(8971),a=n(6949);e=function(s,l){var c;for(c=(l=a(l,s)).shift();!r(c);){if((s=s[c])==null)return;c=l.shift()}return s},o.exports=e},6192:function(o,e,n){var r=this&&this.__createBinding||(Object.create?function(de,H,ne,V){V===void 0&&(V=ne);var Ce=Object.getOwnPropertyDescriptor(H,ne);Ce&&!("get"in Ce?!H.__esModule:Ce.writable||Ce.configurable)||(Ce={enumerable:!0,get:function(){return H[ne]}}),Object.defineProperty(de,V,Ce)}:function(de,H,ne,V){V===void 0&&(V=ne),de[V]=H[ne]}),a=this&&this.__setModuleDefault||(Object.create?function(de,H){Object.defineProperty(de,"default",{enumerable:!0,value:H})}:function(de,H){de.default=H}),s=this&&this.__importStar||function(de){if(de&&de.__esModule)return de;var H={};if(de!=null)for(var ne in de)ne!=="default"&&Object.prototype.hasOwnProperty.call(de,ne)&&r(H,de,ne);return a(H,de),H},l=this&&this.__importDefault||function(de){return de&&de.__esModule?de:{default:de}};Object.defineProperty(e,"__esModule",{value:!0}),e.collectClassNamesFromSubtree=function(de){var H=(0,h.getNode)(de.nodeId),ne=[];return ae(H,(function(V){if(V.nodeType===1){var Ce=V.getAttribute("class");if(Ce)for(var ge=0,Te=Ce.split(/\s+/);ge<Te.length;ge++){var Ke=Te[ge];ne.push(Ke)}}})),{classNames:(0,O.default)(ne)}},e.copyTo=function(de){var H=de.nodeId,ne=de.targetNodeId,V=(0,h.getNode)(H),Ce=(0,h.getNode)(ne),ge=V.cloneNode(!0);return Ce.appendChild(ge),{nodeId:(0,h.getNodeId)(ge)}},e.enable=function(){ee=!0,d.default.disconnect(),d.default.observe(document.documentElement),u.clear()},e.getDocument=function(){return{root:u.wrap(document,{depth:2})}},e.getOuterHTML=function(de){var H="";return de.nodeId&&(H=(0,h.getNode)(de.nodeId).outerHTML),{outerHTML:H}},e.moveTo=function(de){var H=de.nodeId,ne=de.targetNodeId,V=(0,h.getNode)(H);return(0,h.getNode)(ne).appendChild(V),{nodeId:(0,h.getNodeId)(V)}},e.performSearch=function(de){var H=(0,E.default)(de.query),ne=[];try{ne=(0,Q.default)(ne,(0,G.default)(document.querySelectorAll(H)))}catch{}try{ne=(0,Q.default)(ne,(0,J.default)(H))}catch{}ae(document,(function(Ce){var ge=Ce.nodeType;if(ge===1){var Te=Ce.localName;if((0,k.default)("<".concat(Te," "),H)||(0,k.default)("</".concat(Te,">"),H))return void ne.push(Ce);var Ke=[];(0,I.default)(Ce.attributes,(function(rt){var vt=rt.name,it=rt.value;return Ke.push(vt,it)}));for(var Ye=0,Qe=Ke.length;Ye<Qe;Ye++)if((0,k.default)((0,E.default)(Ke[Ye]),H)){ne.push(Ce);break}}else ge===3&&(0,k.default)((0,E.default)(Ce.nodeValue),H)&&ne.push(Ce)}));var V=(0,pe.createId)();return N.set(V,ne),{searchId:V,resultCount:ne.length}},e.getSearchResults=function(de){var H=de.searchId,ne=de.fromIndex,V=de.toIndex,Ce=N.get(H).slice(ne,V);return{nodeIds:(0,w.default)(Ce,(function(ge){var Te=(0,h.getNodeId)(ge);return Te||Z(ge)}))}},e.pushNodesToFrontend=Z,e.discardSearchResults=function(de){N.delete(de.searchId)},e.pushNodesByBackendIdsToFrontend=function(de){return{nodeIds:de.backendNodeIds}},e.removeNode=function(de){var H=(0,h.getNode)(de.nodeId);(0,p.default)(H).remove()},e.requestChildNodes=function(de){var H=de.nodeId,ne=de.depth,V=ne===void 0?1:ne,Ce=(0,h.getNode)(H);c.default.trigger("DOM.setChildNodes",{parentId:H,nodes:u.getChildNodes(Ce,V)})},e.requestNode=function(de){var H=f.getObj(de.objectId);return{nodeId:(0,h.getNodeId)(H)}},e.resolveNode=function(de){var H=(0,h.getNode)(de.nodeId);return{object:f.wrap(H)}},e.setAttributesAsText=function(de){var H=de.name,ne=de.text,V=de.nodeId,Ce=(0,h.getNode)(V);H&&Ce.removeAttribute(H),(0,p.default)(Ce).attr((ge=ne,ge="<div ".concat(ge,"></div>"),v.default.parse(ge)[0].attrs));var ge},e.setAttributeValue=function(de){var H=de.nodeId,ne=de.name,V=de.value;(0,h.getNode)(H).setAttribute(ne,V)},e.setInspectedNode=function(de){var H=(0,h.getNode)(de.nodeId);R.unshift(H),R.length>5&&R.pop();for(var ne=0;ne<5;ne++)(0,te.setGlobal)("$".concat(ne),R[ne])},e.setNodeValue=function(de){var H=de.nodeId,ne=de.value;(0,h.getNode)(H).nodeValue=ne},e.setOuterHTML=function(de){var H=de.nodeId,ne=de.outerHTML;(0,h.getNode)(H).outerHTML=ne},e.getDOMNodeId=function(de){var H=de.node;return{nodeId:u.getOrCreateNodeId(H)}},e.getDOMNode=function(de){var H=de.nodeId;return{node:(0,h.getNode)(H)}},e.getTopLayerElements=function(){return{nodeIds:[]}},e.getNodesForSubtreeByStyle=function(){return{nodeIds:[]}};var c=l(n(8665)),u=s(n(9893)),h=n(9893),f=s(n(2484)),d=l(n(8757)),p=l(n(3693)),g=l(n(4236)),y=l(n(9464)),v=l(n(9548)),w=l(n(3915)),O=l(n(438)),k=l(n(3249)),E=l(n(96)),I=l(n(9100)),G=l(n(769)),J=l(n(8862)),Q=l(n(4069)),te=n(2627),pe=n(916),fe,ee=!1;(fe=Element.prototype.attachShadow)&&(Element.prototype.attachShadow=function(de){var H=fe.apply(this,[de]);if(!u.isValidNode(this))return H;if(this.chobitsuShadowRoot=H,ee){d.default.observe(H);var ne=(0,h.getNodeId)(this);ne&&c.default.trigger("DOM.shadowRootPushed",{hostId:ne,root:u.wrap(H,{depth:1})})}return H});var N=new Map;function Z(de){for(var H=[de],ne=de.parentNode;ne&&(H.push(ne),!(Ce=(0,h.getNodeId)(ne)));)ne=ne.parentNode;for(;H.length;){var V=H.pop(),Ce=(0,h.getNodeId)(V);c.default.trigger("DOM.setChildNodes",{parentId:Ce,nodes:u.getChildNodes(V,1)})}return(0,h.getNodeId)(de)}var R=[];function ae(de,H){for(var ne=u.filterNodes(de.childNodes),V=0,Ce=ne.length;V<Ce;V++){var ge=ne[V];H(ge),ae(ge,H)}}d.default.on("attributes",(function(de,H){var ne=(0,h.getNodeId)(de);if(ne){var V=de.getAttribute(H);(0,g.default)(V)?c.default.trigger("DOM.attributeRemoved",{nodeId:ne,name:H}):c.default.trigger("DOM.attributeModified",{nodeId:ne,name:H,value:V})}})),d.default.on("childList",(function(de,H,ne){var V=(0,h.getNodeId)(de);if(V){if(H=u.filterNodes(H),ne=u.filterNodes(ne),!(0,y.default)(H)){rt();for(var Ce=0,ge=H.length;Ce<ge;Ce++){var Te=H[Ce],Ke=u.getPreviousNode(Te),Ye=Ke?(0,h.getNodeId)(Ke):0,Qe={node:u.wrap(Te,{depth:0}),parentNodeId:V,previousNodeId:Ye};c.default.trigger("DOM.childNodeInserted",Qe)}}if(!(0,y.default)(ne))for(Ce=0,ge=ne.length;Ce<ge;Ce++){if(Te=ne[Ce],!(0,h.getNodeId)(Te)){rt();break}c.default.trigger("DOM.childNodeRemoved",{nodeId:(0,h.getNodeId)(Te),parentNodeId:V})}}function rt(){c.default.trigger("DOM.childNodeCountUpdated",{childNodeCount:u.wrap(de,{depth:0}).childNodeCount,nodeId:V})}})),d.default.on("characterData",(function(de){var H=(0,h.getNodeId)(de);H&&c.default.trigger("DOM.characterDataModified",{characterData:de.nodeValue,nodeId:H})}))},6195:function(o,e,n){var r=n(5693),a=n(3145);e=function(s,l,c){l=r(l,c);for(var u,h=a(s),f=0,d=h.length;f<d;f++)if(l(s[u=h[f]],u,s))return u},o.exports=e},6214:function(o,e,n){var r=n(3974);e=Array.isArray?Array.isArray:function(a){return r(a)==="[object Array]"},o.exports=e},6307:function(o,e,n){var r=n(8971),a=n(9100);e=function(s,l){return function(c){return a(arguments,(function(u,h){if(h!==0){var f=s(u);a(f,(function(d){l&&!r(c[d])||(c[d]=u[d])}))}})),c}},o.exports=e},6314:function(o){o.exports=function(e){var n=[];return n.toString=function(){return this.map((function(r){var a=(function(s,l){var c=s[1]||"",u=s[3];if(!u)return c;if(l&&typeof btoa=="function"){var h=(d=u,p=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),g="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p),"/*# ".concat(g," */")),f=u.sources.map((function(y){return"/*# sourceURL=".concat(u.sourceRoot||"").concat(y," */")}));return[c].concat(f).concat([h]).join(`
`)}var d,p,g;return[c].join(`
`)})(r,e);return r[2]?"@media ".concat(r[2]," {").concat(a,"}"):a})).join("")},n.i=function(r,a,s){typeof r=="string"&&(r=[[null,r,""]]);var l={};if(s)for(var c=0;c<this.length;c++){var u=this[c][0];u!=null&&(l[u]=!0)}for(var h=0;h<r.length;h++){var f=[].concat(r[h]);s&&l[f[0]]||(a&&(f[2]?f[2]="".concat(a," and ").concat(f[2]):f[2]=a),n.push(f))}},n}},6334:function(o,e,n){var r=n(9100),a=n(5224),s=n(3915),l=n(4966);function c(h){return+("0x"+h)}e=function(h){try{return decodeURIComponent(h)}catch{var f=h.match(u);return f&&r(f,(function(p){h=h.replace(p,(function(g){g=g.split("%").slice(1);var y=s(g,c);return g=a.encode(y),g=l.decode(g,!0),g})(p))})),h}};var u=/(%[a-f0-9]{2})+/gi;o.exports=e},6392:function(o,e,n){var r=n(1710),a=n(2561);e=function(s,l,c){var u=(s=a(s)).length;return c=c||" ",u<l&&(s=(r(c,l-u)+s).slice(-l)),s},o.exports=e},6459:function(o,e,n){var r=n(8971);e=function(a,s,l){if(r(s))return a;switch(l??3){case 1:return function(c){return a.call(s,c)};case 3:return function(c,u,h){return a.call(s,c,u,h)};case 4:return function(c,u,h,f){return a.call(s,c,u,h,f)}}return function(){return a.apply(s,arguments)}},o.exports=e},6476:function(o,e,n){var r=this&&this.__awaiter||function(g,y,v,w){return new(v||(v=Promise))((function(O,k){function E(J){try{G(w.next(J))}catch(Q){k(Q)}}function I(J){try{G(w.throw(J))}catch(Q){k(Q)}}function G(J){var Q;J.done?O(J.value):(Q=J.value,Q instanceof v?Q:new v((function(te){te(Q)}))).then(E,I)}G((w=w.apply(g,y||[])).next())}))},a=this&&this.__generator||function(g,y){var v,w,O,k={label:0,sent:function(){if(1&O[0])throw O[1];return O[1]},trys:[],ops:[]},E=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return E.next=I(0),E.throw=I(1),E.return=I(2),typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function I(G){return function(J){return(function(Q){if(v)throw new TypeError("Generator is already executing.");for(;E&&(E=0,Q[0]&&(k=0)),k;)try{if(v=1,w&&(O=2&Q[0]?w.return:Q[0]?w.throw||((O=w.return)&&O.call(w),0):w.next)&&!(O=O.call(w,Q[1])).done)return O;switch(w=0,O&&(Q=[2&Q[0],O.value]),Q[0]){case 0:case 1:O=Q;break;case 4:return k.label++,{value:Q[1],done:!1};case 5:k.label++,w=Q[1],Q=[0];continue;case 7:Q=k.ops.pop(),k.trys.pop();continue;default:if(O=k.trys,!((O=O.length>0&&O[O.length-1])||Q[0]!==6&&Q[0]!==2)){k=0;continue}if(Q[0]===3&&(!O||Q[1]>O[0]&&Q[1]<O[3])){k.label=Q[1];break}if(Q[0]===6&&k.label<O[1]){k.label=O[1],O=Q;break}if(O&&k.label<O[2]){k.label=O[2],k.ops.push(Q);break}O[2]&&k.ops.pop(),k.trys.pop();continue}Q=y.call(g,k)}catch(te){Q=[6,te],w=0}finally{v=O=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}})([G,J])}}},s=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var l=s(n(8665)),c=s(n(9993)),u=s(n(8046)),h=s(n(9100)),f=s(n(2263)),d=n(916),p=(function(){function g(){var y=this;this.resolves=new Map,this.domains=new Map,this.onMessage=c.default,l.default.on("message",(function(v){var w=JSON.parse(v),O=y.resolves.get(w.id);if(O&&O(w.result),!w.id){var k=w.method.split("."),E=k[0],I=k[1],G=y.domains.get(E);G&&G.emit(I,w.params)}y.onMessage(v)}))}return g.prototype.domain=function(y){return this.domains.get(y)},g.prototype.setOnMessage=function(y){this.onMessage=y},g.prototype.sendMessage=function(y,v){var w=this;v===void 0&&(v={});var O=(0,u.default)();return this.sendRawMessage(JSON.stringify({id:O,method:y,params:v})),new Promise((function(k){w.resolves.set(O,k)}))},g.prototype.sendRawMessage=function(y){return r(this,void 0,void 0,(function(){var v,w,O,k,E,I,G;return a(this,(function(J){switch(J.label){case 0:v=JSON.parse(y),w=v.method,O=v.params,k=v.id,E={id:k},J.label=1;case 1:return J.trys.push([1,3,,4]),I=E,[4,this.callMethod(w,O)];case 2:return I.result=J.sent(),[3,4];case 3:return(G=J.sent())instanceof d.ErrorWithCode?E.error={message:G.message,code:G.code}:G instanceof Error&&(E.error={message:G.message}),[3,4];case 4:return l.default.emit("message",JSON.stringify(E)),[2]}}))}))},g.prototype.register=function(y,v){var w=this.domains,O=w.get(y);O||(O={},f.default.mixin(O)),(0,h.default)(v,(function(k,E){O[E]=k})),w.set(y,O)},g.prototype.callMethod=function(y,v){return r(this,void 0,void 0,(function(){var w,O,k,E;return a(this,(function(I){if(w=y.split("."),O=w[0],k=w[1],(E=this.domain(O))&&E[k])return[2,E[k](v)||{}];throw Error("".concat(y," unimplemented"))}))}))},g})();e.default=p},6493:function(o,e){e=function(n){return n===!0||n===!1},o.exports=e},6513:function(o,e,n){var r=n(9760);e=function(s){if(!r(s))return{};if(a)return a(s);function l(){}return l.prototype=s,new l};var a=Object.create;o.exports=e},6567:function(o,e,n){(e=n(6314)(!1)).push([o.id,'#_console{padding-top:40px;padding-bottom:24px;width:100%;height:100%}#_console._js-input-hidden{padding-bottom:0}#_console ._control{padding:10px 10px 10px 35px;position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border)}#_console ._control [class*=" _icon-"],#_console ._control [class^=eruda-icon-]{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_console ._control [class*=" _icon-"]._active,#_console ._control [class*=" _icon-"]:active,#_console ._control [class^=eruda-icon-]._active,#_console ._control [class^=eruda-icon-]:active{color:var(--accent)}#_console ._control ._icon-clear{padding-right:0;left:0}#_console ._control ._icon-copy{right:0}#_console ._control ._icon-filter{right:23px}#_console ._control ._level{cursor:pointer;font-size:12px;height:20px;display:inline-block;margin:0 2px;padding:0 4px;line-height:20px;transition:background-color .3s,color .3s}#_console ._control ._level._active{background:var(--highlight);color:var(--select-foreground)}#_console ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:55px;font-size:14px;text-overflow:ellipsis}#_console ._js-input{pointer-events:none;position:absolute;z-index:100;left:0;bottom:0;width:100%;border-top:1px solid var(--border);height:24px}#_console ._js-input ._icon-arrow-right{line-height:23px;color:var(--accent);position:absolute;left:10px;top:0;z-index:10}#_console ._js-input._active{height:100%;padding-top:40px;padding-bottom:40px;border-top:none}#_console ._js-input._active ._icon-arrow-right{display:none}#_console ._js-input._active textarea{overflow:auto;padding-left:10px}#_console ._js-input ._buttons{display:none;position:absolute;left:0;bottom:0;width:100%;height:40px;color:var(--primary);background:var(--darker-background);font-size:12px;border-top:1px solid var(--border)}#_console ._js-input ._buttons ._button{pointer-events:all;cursor:pointer;flex:1;text-align:center;border-right:1px solid var(--border);height:40px;line-height:40px;transition:background-color .3s,color .3s}#_console ._js-input ._buttons ._button:last-child{border-right:none}#_console ._js-input ._buttons ._button:active{color:var(--select-foreground);background:var(--highlight)}#_console ._js-input textarea{overflow:hidden;pointer-events:all;padding:3px 10px;padding-left:25px;outline:0;border:none;font-size:14px;width:100%;height:100%;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;resize:none;color:var(--primary);background:var(--background)}._safe-area #_console{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console._js-input-hidden{padding-bottom:0}._safe-area #_console ._js-input{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input._active{height:100%;padding-bottom:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons{height:calc(40px + env(safe-area-inset-bottom))}._safe-area #_console ._js-input ._buttons ._button{height:calc(40px + env(safe-area-inset-bottom))}',""]),o.exports=e},6620:function(o,e,n){var r=n(1909),a=n(6631),s=n(3145);e=function(f){var d=h(f=(f=f||(r?navigator.userAgent:"")).toLowerCase(),"msie ");if(d)return{version:d,name:"ie"};if(c.test(f))return{version:11,name:"ie"};for(var p=0,g=u.length;p<g;p++){var y=u[p],v=f.match(l[y]);if(v!=null){var w=a(v[1].split(".")[0]);return y==="opera"&&(w=h(f,"version/")||w),{name:y,version:w}}}return{name:"unknown",version:-1}};var l={edge:/edge\/([0-9._]+)/,firefox:/firefox\/([0-9.]+)(?:\s|$)/,opera:/opera\/([0-9.]+)(?:\s|$)/,android:/android\s([0-9.]+)/,ios:/version\/([0-9._]+).*mobile.*safari.*/,safari:/version\/([0-9._]+).*safari/,chrome:/(?!chrom.*opr)chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/},c=/trident\/7\./,u=s(l);function h(f,d){var p=f.indexOf(d);if(p>-1)return a(f.substring(p+d.length,f.indexOf(".",p)))}o.exports=e},6631:function(o,e,n){var r=n(6030);e=function(a){return a?(a=r(a))-a%1:a===0?a:0},o.exports=e},6717:function(o,e,n){(e=n(6314)(!1)).push([o.id,"._container ._entry-btn{touch-action:none;width:40px;height:40px;display:flex;background:#000;opacity:.3;border-radius:10px;position:relative;z-index:1000;transition:opacity .3s;color:#fff;font-size:25px;align-items:center;justify-content:center}._container ._entry-btn._active,._container ._entry-btn:active{opacity:.8}",""]),o.exports=e},6741:function(o,e,n){var r=n(2717),a=n(6186),s=n(8105),l=n(2508),c=n(1738),u=n(3957);e=r({initialize:function(h,f){this._locale=h,this._langs=f},set:function(h,f){this._langs[h]?s(this._langs[h],f):this._langs[h]=f},t:function(h,f){var d="",p=this._langs[this._locale];return p?(d=a(p,h),f&&(c(d)?d=l(d,f):u(d)&&(d=d(f))),d||""):""},locale:function(h){this._locale=h}}),o.exports=e},6774:function(o,e){e=function(n,r,a){r==null&&(r=n,n=0);var s=Math.random();return a||n%1||r%1?Math.min(n+s*(r-n+parseFloat("1e-"+((s+"").length-1))),r):n+Math.floor(s*(r-n+1))},o.exports=e},6793:function(o,e,n){(e=n(6314)(!1)).push([o.id,"@font-face{font-family:eruda-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAA6UAAsAAAAAGvAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAARoAAAHeLjoycE9TLzIAAAIkAAAAPwAAAFZWm1KoY21hcAAAAmQAAAFdAAADwhPu1O9nbHlmAAADxAAAB+wAAA9I7RPQpGhlYWQAAAuwAAAAMQAAADZ26MSyaGhlYQAAC+QAAAAdAAAAJAgEBC9obXR4AAAMBAAAAB0AAACwXAv//GxvY2EAAAwkAAAAOwAAAFpuVmoybWF4cAAADGAAAAAfAAAAIAE9AQ1uYW1lAAAMgAAAASkAAAIWm5e+CnBvc3QAAA2sAAAA5QAAAU4VMmUJeJxNkD1Ow0AQhb9NHGISCH9RiB0cErCNHRrqFFSIyqKiQHSpEFJERUnBCTgPZ+AEHIe34wDe1f69efPezOKAHldc07q5re4ZrFevL8QE1MPHm3e3fn5aEf6+FAvsDHHuTUoxd7zzwSdffLulq9wjLbaYau8TacZMONE554xzZsrtNfBEzFOhbSmOyTmga0ikvRR/37RSsSMyDukYPjWdgGOtsSK55Y/k0Bf/ksK0MrbFr70idsVZKNPnDcSay3umd2TISCvWTJSxI78lFQ/C+qbv/Zo9tNXDP55ZL7k0Q90u5F5XX0qrYx16btccCtXg/ULrKzGFuqY9rUTMhf3fkCNj+MxUnsM/frr5Qx+ZbH4vVQ0F5Q/ZQBvxAAB4nGNgZJJgnMDAysDA1Mt0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDAcYdD+KsIC4MSxMDIxAGoQZALgnCOUAeJy1011SGlEQhuF3BFHxD5UUyr8gIJIsiiKJsSqJlrHKsJssKFeuxF6Bfj3dF96aqhzqoZnDzJyG8w2wCVTko1SheKLAx1/NFuV8hXo5X+WPjht6+fmfWHLDHQ+srfnykjMrvnPPoxXlzNtRlFc26HLBZblal1N9ntBnwIgx5/SYMaWt78+YM6TDgitduaEVq+q0xhbb7KifPQ441N2OOOaEJh9oaYka7xvdd57vQz1P+oPR+Bx6s2lbrc6H0Flc/cO9/sfY87fiOY8u8X0J/muX6VRW6UI+p4l8SX35mgZynUbyLY3lJukf0e6HnvxIM/mZpnKb2nKXvM/7dCa/0lwe0lAeU0d+p4Wsk3bBiuDptY2A10rw9Fo1eOJtM/iTYLWA162A1+2A152A13rwJ8R2g++AJaUU2w/KK3YQlFzsMCjDWCMozdhRUK6x46CEYydBWceagdYraihRngAAAHic7RdbbBxX9Z57Z2d2d2ZndryzM7ve9ax3NztjO/bann0lTuW16zoBJSWJ7Zg83NiUJCQ1Ik2ikKQJNC9FFQqVEG0RVLQoSpEKH2klqgpEIyWAUMRTNBJC/PUDhETgiwhQd8y5s1s7oqr624/srO6ce89zzjn3nHsJEPwxyn5GVEJKBTcCdc80pAiYhkjfNWL+NnhLdTKqfxVOqJlxFX6E84wb86/6X4+5GRLw0/vsOgkREoFGBFx62P/uFviBP78FWrC02d/r79vcpmMl+k2uBwwJxIILTrVeyXsmK8krRLb5YGqUaCb9ksYnMuBqMtnRcY6V1nidml6texaY9CxSRm3TtKNIjcxrUjhEWKD3OnuNJEgPKSG/I6nUpo06fxwXH8lmEoyDFQIVyrROs7254z990rj0u2PLez47WqG1yu69V7ZdfDxU9He4C6P+v+HN+vlnD9Uou0Zp+NnfvveT/XL0kbGFxT/u37tx7CTdeuGlKfiibcMr/gt9qfyu05e4+YEdb7A3iEVG0ArdEAvDIPHBqTbB7bgCDA0sdH0x3/nEHDT4YFJi9siz74iaOBkK3ZyRTRXwE+FGG15BeA0Pf14hqinP3AyFJnHhnVm5xzThmNSBNFjDdvwzw75GFJIlvWhZ1UHlYlI3zIputa3CSduiRF7P09e9on+jODpanPOKsJMDOPV2wU7/BqsVPcQ2ix41X/8ARKpbfhPVtHNgik1hXAhIlmQ1rIbbcCVIzN/7+65794KRTc13IBwJXVkhRACBkAEyhVyiBqJbRn81YRjKUDfRN9xHpoVBt0xJRZ+iS4ehZFg2utJrjCO2GrAUAizcj+c3pXpiXVQwThZmdNrbrx+hAjtjbhSF5FPyKSsqmGraWKYCbfl97vMLi79fXHje7XsAhBsoo0P35fyMPpCj+lM0FDptJexuYzl82upRufxlKgrTh/+fOwBXc+Jt9jZJBTnxUbH/yGT5j4jRT2pB9O1oO/oi3FyD2/ggU14LY/j5RuHTJIZf5LR/WVmbaB2CT6xdQa4KwJZIHPfyMFoWRNSmQZDLlJVpdRw8GwwVWEGlScOGijdOq2VKyfHDB7/d1/+d37zXeT/dXG42l7/Kh2a20pd0JpxsxTVNt8KWyuu/94Ujr+7uvFpvQXP5PCfEAU4l+6pZZ9Ix3eqGqmsGrvok28V+zi6TKEYyi/Udt0MNavkkJC1e+vQA1tGqil6EV93j/UBbY0AXm/2Vku+z53x/8MDT5879U9Nb4Cqq/yf/WEjReiECfS9+C2f/6umFS/77q3t7kp0nGu8DTrFTQrwG1KtsoHVXlnXL0qMKHTRpGbaJlt7aoVsSbO3aQFb5L7MTJElIwrBMvnWxQteCEl2QREn8Ci/Ef9i7u1IT6tX5Pb/ePV+rUXKEL3DMkUPzc6OeNzo3/6C8K2QdrzVlKAYyHhBcxGgUyoCRqXimJZXYwYO1y1tWxQWKLkyfunpqevrU5vJs4SQ02JUDw94qMlC6maORJpc9AR/Sm7C4cK7S4MoL/FNqFYy+Nw5VbpIoWaWXP0atf+fj1Lb36w12h6SxShIouuNQw+TCVDNsWvHqDStpNUoFnobUs6mhUvpmn+r2VxaeuXjmCc974vSjm44OxfytrXeH5iaKxYm5fXMThcLEHLwcGzq66dHTnObMxWcWKv2u2tfa1ipMzu7rEM5OFshqLfsFu4R9thszrVjAUoHFgH98DxRreb3CK74rMTh/bWmJTq9Pd0nCZOvsbfrYrVsTty9cOPc5Or2U6spq8rXbrbNAL9yeuHWLYuEnEiErK0JIAPIN8kNyl9wn/yUt7mioN6GGTi1jDQrypNPRxQ+8zREatnUsVtgbcDHAaZA0rc6TxOIWLPFVXLDbvYRT45CDSnBOqFhee4aTcWw8gapGnS+Z+EYrOuqh825jrY5WSVwPDSewh/OWqYueCJQFEjhELTdgcdEODjUCo5yge7lcAlJxRSgceyZyu5LFfqnaeldKlsyunnK6N6LEaUSqTSndgpZK7jC7NZaR7LGcGhXwgMNC+WFt0MxEomZcECQ9EY4JkgAQDilSNKnGuxXJ0u2hdG9YUZkiZcfWpaOWkUv0G6IaCseVVH81o0dEEClKGokassX0hKSk44PxBGOS4E8cmNk+OMSY5+2cXfz8zI4hrG4jI9tnFpW/hqKx7PCnH1O7wpFkqeANT4IUVhopPTUwnNJxzSlUzLASV+4YfUIkpoQFTYvoMUFkJgtJ/Z6VEIyymx4usdCW5CuDc9s+dZDm6GeiejTl1jN6VFKUdMHMlUIWzaQEOdyrKHIsL0VZJB0TE1rUlLvCo71yPKya3dW+ONBQRBajUdPuKoXFsBAOiYoUdx7JtSXlU3ZJNAW1O+4ktBCFqBjLJhMW97JgyonISE5kVIJQJJ6tO6nueCJj1TV/D6uMzu06tH/H44NlRr3RnbNPLu7cXh75sWOklURzi5ZI9dgqG6tuEAf0bkWX0/0j6S6+RjfaYiQsbkKHhuNdms6kUExWZNGSlJgzkjIGjPK61KjLxOvGc/1/27r9KOQe7omHe+LhnvjQnmArLTyHMYHiPbGbFLEL4Q1BxOsiHrfy2HIBz67BXQbPsVbB4TNDZP/wF4x63cAxUl/PRtbXI61f2QM2/iuZUqleKr3ABp1Mxnn/rjvpOJN0b9K2k/73+Xi/VHOcGl4qyf8AzjWNo3icY2BkYGAA4uhnXafj+W2+MnCzgASiOB/va4DR///+/8/CysIElOBgAJEMAHS2DWQAAAB4nGNgZGBgYQABFtb/f///ZWFlYGRABToAW+YEPQAAAHicY2BgYGAhiP//J6wGCbNCMcP/vwxUBgDl4QRhAAAAeJxjYAACBQYThiCGAoYtjAyMZowBjPuYuJjCmBYxvWNWYXZhzmFewfyIRYUliPUOexr7EmIhAF3rF0sAeJxjYGRgYNBhZGRgZwABJiDmAkIGhv9gPgMADcIBTAB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG2MyW6DQBiD+RKYpKT7vqf7Gg55pNHwEyJNGDSMRHj70nKtD7Zly45G0YA0+h8LRoyJSVBMmLJDyoxd9tjngEOOOOaEU84454JLrrjmhlvuuGfOA4888cwLr7zxzgeffPHNgixKtfeuzawUYTZYv16VITXaS8hy11azwf7FibGi/dS4Te2laWLj6k7lYiVIIv3aK9nWusqng2TLsXR900m2VMXaBvFxbXWnvBjn84mXor8pk54kqKa/NmUvVkyIg3NW/VK2jFvtKzQeR0uGRSgIrFlRYsip2FDT0LGNoh/MCkh9AAAA') format('woff')}[class*=' _icon-'],[class^='_icon-']{display:inline-block;font-family:eruda-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}._icon-arrow-left:before{content:'\\f101'}._icon-arrow-right:before{content:'\\f102'}._icon-caret-down:before{content:'\\f103'}._icon-caret-right:before{content:'\\f104'}._icon-clear:before{content:'\\f105'}._icon-compress:before{content:'\\f106'}._icon-copy:before{content:'\\f107'}._icon-delete:before{content:'\\f108'}._icon-error:before{content:'\\f109'}._icon-expand:before{content:'\\f10a'}._icon-eye:before{content:'\\f10b'}._icon-filter:before{content:'\\f10c'}._icon-play:before{content:'\\f10d'}._icon-record:before{content:'\\f10e'}._icon-refresh:before{content:'\\f10f'}._icon-reset:before{content:'\\f110'}._icon-search:before{content:'\\f111'}._icon-select:before{content:'\\f112'}._icon-tool:before{content:'\\f113'}._icon-warn:before{content:'\\f114'}",""]),o.exports=e},6833:function(o,e){var n=/([A-Z])/g,r=/[_.\- ]+/g,a=/(^-)|(-$)/g;e=function(s){return(s=s.replace(n,"-$1").toLowerCase().replace(r,"-").replace(a,"")).split("-")},o.exports=e},6866:function(o,e,n){var r=n(1738),a=n(9760),s=n(7604),l=n(8971),c=n(3249),u=n(6097),h=n(3612),f=n(6969),d=n(9100);e=function(g,y,v){if(g=h(g),l(v)&&r(y))return(function(O,k){return O.style[f(k)]||getComputedStyle(O,"").getPropertyValue(k)})(g[0],y);var w=y;a(w)||((w={})[y]=v),(function(O,k){d(O,(function(E){var I=";";d(k,(function(G,J){J=f.dash(J),I+=J+":"+(function(Q,te){var pe=u(te)&&!c(p,s(Q));return pe?te+"px":te})(J,G)+";"})),E.style.cssText+=I}))})(g,w)};var p=["column-count","columns","font-weight","line-weight","opacity","z-index","zoom"];o.exports=e},6911:function(o,e,n){n.d(e,{j:function(){return Vt},A:function(){return Lt}});var r=n(2284),a=n(3029),s=n(2901),l=n(388),c=n(3954),u=n(991),h=n(5361),f=n(5427),d=n.n(f),p=n(6097),g=n.n(p),y=n(6493),v=n.n(y),w=n(96),O=n.n(w),k=n(9760),E=n.n(k),I=n(6214),G=n.n(I),J=n(9931),Q=n.n(J),te=n(3145),pe=n.n(te),fe=n(9100),ee=n.n(fe),N=n(1168),Z=n.n(N),R=n(8796),ae=n.n(R),de=n(2989),H=n.n(de),ne=n(3693),V=n.n(ne),Ce=n(466),ge=n.n(Ce),Te=n(15),Ke=n.n(Te),Ye=n(1738),Qe=n.n(Ye),rt=n(7514),vt=n.n(rt),it=n(2571),yt=n.n(it),xt=n(7140),Ct=n.n(xt),St=n(2561),Rt=n.n(St),oe=n(9993),je=n.n(oe),ze=n(1532),he=n.n(ze),le=n(8105),me=n.n(le),Xe=(function(){return(0,s.A)((function nt(){(0,a.A)(this,nt),this.id=0,this.visited=[]}),[{key:"set",value:function(nt,Nt){var wt=this.visited,Bt=this.id,kt={id:Bt,val:nt};return me()(kt,Nt),wt.push(kt),this.id++,Bt}},{key:"get",value:function(nt){for(var Nt=this.visited,wt=0,Bt=Nt.length;wt<Bt;wt++){var kt=Nt[wt];if(nt===kt.val)return kt}return!1}}])})(),Ee=n(9405),Re=n.n(Ee),at=n(5902),Ve=n.n(at),qe=function(nt){return Ve()(Rt()(nt)).replace(/\n/g,"").replace(/\f|\r|\t/g,"")};function ot(nt){return nt.length>500&&(nt=nt.slice(0,500)+"...")," "+Re()((function(Nt){var wt=Nt.match(Pt);return wt?wt[0]:Nt})(nt).replace("function",""))}var Pt=/function(.*?)\((.*?)\)/,Et=n(1009),Ft=n.n(Et),ve=n(5630),T=n.n(ve),F=n(6030),ye=n.n(F),De=n(1932),$e=n.n(De),Ze=n(2263),Oe=n.n(Ze),bt=n(3915),ht=n.n(bt),q=n(5169),dt=n.n(q),gt=n(9548),be=n.n(gt),Ne=n(3249),Pe=n.n(Ne),Me=n(5004),Ue=n.n(Me);n(9410),n(8609);function Y(nt){var Nt="luna-".concat(nt,"-");function wt(Bt){return ht()(Re()(Bt).split(/\s+/),(function(kt){return Pe()(kt,Nt)?kt:kt.replace(/[\w-]+/,(function(Qt){return"".concat(Nt).concat(Qt)}))})).join(" ")}return function(Bt){if(/<[^>]*>/g.test(Bt))try{var kt=be().parse(Bt);return D(kt,(function(Qt){Qt.attrs&&Qt.attrs.class&&(Qt.attrs.class=wt(Qt.attrs.class))})),be().stringify(kt)}catch{return wt(Bt)}return wt(Bt)}}function D(nt,Nt){for(var wt=0,Bt=nt.length;wt<Bt;wt++){var kt=nt[wt];Nt(kt),kt.content&&D(kt.content,Nt)}}dt();var W=n(5651),_e=n.n(W),ce=n(961),st=n.n(ce),Ot=n(7e3),Gt=n.n(Ot);function On(){try{var nt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(On=function(){return!!nt})()}var yn=(function(nt){function Nt(wt,Bt){var kt,Qt,jt=Bt.compName,fn=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,Zt=fn===void 0?"light":fn;return(0,a.A)(this,Nt),kt=(function(rn,ln,Jt){return ln=(0,c.A)(ln),(0,l.A)(rn,On()?Reflect.construct(ln,[],(0,c.A)(rn).constructor):ln.apply(rn,Jt))})(this,Nt),kt.subComponents=[],kt.theme="",kt.onThemeChange=function(rn){kt.options.theme==="auto"&&kt.setTheme(rn)},kt.compName=jt,kt.c=Y(jt),kt.options={},kt.container=wt,kt.$container=V()(wt),kt.$container.addClass(["luna-".concat(jt),kt.c("platform-".concat((Qt=Ue()(),Qt==="os x"?"mac":Qt)))]),kt.on("changeOption",(function(rn,ln){if(rn==="theme"&&ln){var Jt=ln;ln==="auto"&&(Jt=Gt().get()),kt.setTheme(Jt),ee()(kt.subComponents,(function(xn){return xn.setOption("theme",ln)}))}})),Gt().on("change",kt.onThemeChange),kt.setOption("theme",Zt),kt}return(0,h.A)(Nt,nt),(0,s.A)(Nt,[{key:"destroy",value:function(){var wt=this;this.destroySubComponents();var Bt=this.$container,kt=Bt.attr("class");ee()(kt.split(/\s+/),(function(Qt){Ft()(Qt,"luna-".concat(wt.compName))&&Bt.rmClass(Qt)})),Bt.html(""),this.emit("destroy"),this.removeAllListeners(),Gt().off("change",this.onThemeChange)}},{key:"setOption",value:function(wt,Bt){var kt=this,Qt=this.options,jt={};typeof wt=="string"?jt[wt]=Bt:jt=wt,ee()(jt,(function(fn,Zt){var rn=Qt[Zt];Qt[Zt]=fn,fn!==rn&&kt.emit("changeOption",Zt,fn,rn)}))}},{key:"getOption",value:function(wt){return this.options[wt]}},{key:"addSubComponent",value:function(wt){wt.setOption("theme",this.options.theme),this.subComponents.push(wt)}},{key:"removeSubComponent",value:function(wt){st()(this.subComponents,(function(Bt){return Bt===wt}))}},{key:"destroySubComponents",value:function(){ee()(this.subComponents,(function(wt){return wt.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(wt){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_e()(wt,Bt),me()(this.options,wt)}},{key:"find",value:function(wt){return this.$container.find(this.c(wt))}},{key:"setTheme",value:function(wt){var Bt=this.c,kt=this.$container;this.theme&&kt.rmClass(Bt("theme-".concat(this.theme))),kt.addClass(Bt("theme-".concat(wt))),this.theme=wt}}])})(Oe());function Kt(){try{var nt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Kt=function(){return!!nt})()}var Vt=(function(nt){function Nt(wt){var Bt,kt,Qt,jt;return(0,a.A)(this,Nt),kt=this,Qt=Nt,jt=[wt,{compName:"object-viewer"}],Qt=(0,c.A)(Qt),(Bt=(0,l.A)(kt,Kt()?Reflect.construct(Qt,jt||[],(0,c.A)(kt).constructor):Qt.apply(kt,jt))).onItemClick=function(fn){var Zt=Bt,rn=Zt.map,ln=Zt.c,Jt=V()(fn.curTarget),xn=Jt.data("object-id"),mn=Jt.find("span").eq(0);if(!Jt.data("first-level")&&(xn&&(Jt.find("ul").html(Bt.objToHtml(rn[xn],!1)),Jt.rmAttr("data-object-id")),fn.stopImmediatePropagation(),mn.hasClass(ln("expanded")))){var gn=Jt.find("ul").eq(0);mn.hasClass(ln("collapsed"))?(mn.rmClass(ln("collapsed")),gn.show()):(mn.addClass(ln("collapsed")),gn.hide()),Bt.emit("change")}},Bt.bindEvent(),Bt}return(0,h.A)(Nt,nt),(0,s.A)(Nt,[{key:"set",value:function(wt){Qe()(wt)&&(wt=JSON.parse(wt)),this.data={id:T()("json"),enumerable:{0:wt}},this.map={},an(this.map,this.data),this.render()}},{key:"destroy",value:function(){var wt,Bt,kt,Qt,jt;(wt=Nt,Bt="destroy",kt=this,Qt=3,jt=(0,u.A)((0,c.A)(1&Qt?wt.prototype:wt),Bt,kt),2&Qt&&typeof jt=="function"?function(fn){return jt.apply(kt,fn)}:jt)([]),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(wt,Bt){var kt=this,Qt="";return ee()(["enumerable","unenumerable","symbol"],(function(jt){if(wt[jt]){var fn=pe()(wt[jt]);he()(fn);for(var Zt=0,rn=fn.length;Zt<rn;Zt++){var ln=fn[Zt];Qt+=kt.createEl(ln,wt[jt][ln],jt,Bt)}}})),wt.proto&&(Qt===""?Qt=this.objToHtml(wt.proto):Qt+=this.createEl("[[Prototype]]",wt.proto,"proto")),Qt}},{key:"createEl",value:function(wt,Bt,kt){var Qt=arguments.length>3&&arguments[3]!==void 0&&arguments[3],jt=this.c,fn=(0,r.A)(Bt);if(Bt===null)return"<li>".concat(mn(wt),'<span class="').concat(jt("null"),'">null</span></li>');if(g()(Bt)||v()(Bt))return"<li>".concat(mn(wt),'<span class="').concat(jt(fn),'">').concat(qe(Bt),"</span></li>");if(Bt.type==="RegExp"&&(fn="regexp"),Bt.type==="Number"&&(fn="number"),Bt.type==="Number"||Bt.type==="RegExp")return"<li>".concat(mn(wt),'<span class="').concat(jt(fn),'">').concat(qe(Bt.value),"</span></li>");if(Bt.type==="Undefined"||Bt.type==="Symbol")return"<li>".concat(mn(wt),'<span class="').concat(jt("special"),'">').concat(O()(Bt.type),"</span></li>");if(Bt==="(...)")return"<li>".concat(mn(wt),'<span class="').concat(jt("special"),'">').concat(Bt,"</span></li>");if(E()(Bt)){var Zt=Bt.id,rn=Bt.reference,ln=(function(gn){var _n=gn.type,Sn=gn.value;if(_n)return _n==="Function"?ot(Sn):_n==="Array"&&gn.unenumerable?"Array(".concat(gn.unenumerable.length,")"):gn.type})(Bt)||Q()(fn),Jt=Qt?"":'<span class="'.concat(jt("expanded collapsed"),'"><span class="').concat(jt("icon icon-caret-right"),'"></span><span class="').concat(jt("icon icon-caret-down"),'"></span></span>'),xn="<li ".concat(Qt?'data-first-level="true"':""," ").concat('data-object-id="'+(rn||Zt)+'"',">").concat(Jt).concat(mn(wt),'<span class="').concat(jt("open"),'">').concat(Qt?"":ln,'</span><ul class="').concat(jt(fn),'" ').concat(Qt?"":'style="display:none"',">");return Qt&&(xn+=this.objToHtml(this.map[Zt])),xn+'</ul><span class="'.concat(jt("close"),'"></span></li>')}function mn(gn){if(Qt||E()(Bt)&&Bt.jsonSplitArr)return"";var _n=jt("key");return kt==="unenumerable"||kt==="symbol"?_n=jt("key-lighter"):kt==="proto"&&(_n=jt("key-special")),'<span class="'.concat(_n,'">').concat(qe(gn),"</span>: ")}return Qe()(Bt)&&Bt.length>1e4&&(Bt=Ke()(Bt,50,{separator:" ",ellipsis:""})),"<li>".concat(mn(wt),'<span class="').concat(jt((0,r.A)(Bt)),'">"').concat(qe(Bt),'"</span></li>')}},{key:"render",value:function(){var wt=this.map[this.data.id];this.$container.html(this.objToHtml(wt,!0))}},{key:"bindEvent",value:function(){this.$container.on("click","li",this.onItemClick)}}])})(yn);function an(nt,Nt){var wt=Nt.id;if(wt||wt===0){if(Nt.type&&Ft()(Nt.type,"Array")&&Nt.enumerable){var Bt=(function(Zt,rn,ln){var Jt=[],xn={};return ee()(Zt.enumerable,(function(mn,gn){var _n=ye()(gn);$e()(_n)?xn[gn]=mn:Jt[_n]=mn})),Jt.enumerable=xn,Jt.type=ln,Jt.id=rn,Zt.unenumerable&&(Jt.unenumerable=Zt.unenumerable),Zt.symbol&&(Jt.symbol=Zt.symbol),Zt.proto&&(Jt.proto=Zt.proto),Jt})(Nt,wt,Nt.type);Bt.length>100&&(Nt=(function(Zt){var rn=0,ln={};ee()(Ct()(Zt,100),(function(xn){var mn={},gn=rn;mn.type="["+gn,mn.enumerable={},ee()(xn,(function(Sn){mn.enumerable[rn]=Sn,rn+=1}));var _n=rn-1;mn.type+=(_n-gn>0?"  "+_n:"")+"]",mn.id=T()("json"),mn.jsonSplitArr=!0,ln[rn]=mn}));var Jt={};return Jt.enumerable=ln,Jt.id=Zt.id,Jt.type=Zt.type,Zt.unenumerable&&(Jt.unenumerable=Zt.unenumerable),Zt.symbol&&(Jt.symbol=Zt.symbol),Zt.proto&&(Jt.proto=Zt.proto),Jt})(Bt))}nt[wt]=Nt;var kt=[];ee()(["enumerable","unenumerable","symbol"],(function(Zt){if(Nt[Zt])for(var rn in Nt[Zt])kt.push(Nt[Zt][rn])})),Nt.proto&&kt.push(Nt.proto);for(var Qt=0,jt=kt.length;Qt<jt;Qt++){var fn=kt[Qt];E()(fn)&&an(nt,fn)}}}function $t(){try{var nt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return($t=function(){return!!nt})()}o=n.hmd(o);var Lt=(function(nt){function Nt(wt){var Bt,kt,Qt,jt,fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,a.A)(this,Nt),kt=this,Qt=Nt,jt=[wt,{compName:"object-viewer"}],Qt=(0,c.A)(Qt),(Bt=(0,l.A)(kt,$t()?Reflect.construct(Qt,jt||[],(0,c.A)(kt).constructor):Qt.apply(kt,jt))).onItemClick=function(Zt){var rn=Bt,ln=rn.map,Jt=rn.c;if(!(function(Sn){var En=window.getSelection();if(!En||En.type!=="Range"||En.toString()==="")return!1;var wn=En.anchorNode,An=En.focusNode;return En.containsNode(Sn,!0)||wn&&Sn.contains(wn)||An&&Sn.contains(An)})(Zt.curTarget)){var xn=V()(Zt.curTarget),mn=xn.data("object-id"),gn=xn.find("span").eq(0);if(!xn.data("first-level")&&(mn&&(xn.find("ul").html(Bt.objToHtml(ln[mn],!1)),xn.rmAttr("data-object-id")),Zt.stopImmediatePropagation(),gn.hasClass(Jt("expanded")))){var _n=xn.find("ul").eq(0);gn.hasClass(Jt("collapsed"))?(gn.rmClass(Jt("collapsed")),_n.show()):(gn.addClass(Jt("collapsed")),_n.hide()),Bt.emit("change")}}},Bt.initOptions(fn,{prototype:!0,unenumerable:!1,accessGetter:!1}),Bt.bindEvent(),Bt.options.object&&Bt.set(Bt.options.object),Bt}return(0,h.A)(Nt,nt),(0,s.A)(Nt,[{key:"set",value:function(wt){this.data=[wt],this.visitor=new Xe,this.map={},this.render()}},{key:"destroy",value:function(){var wt,Bt,kt,Qt,jt;(wt=Nt,Bt="destroy",kt=this,Qt=3,jt=(0,u.A)((0,c.A)(1&Qt?wt.prototype:wt),Bt,kt),2&Qt&&typeof jt=="function"?function(fn){return jt.apply(kt,fn)}:jt)([]),this.$container.off("click","li",this.onItemClick)}},{key:"objToHtml",value:function(wt,Bt){var kt=this,Qt=this.visitor,jt=wt,fn=!1,Zt=Qt.get(wt);Zt&&Zt.self&&(jt=Zt.self);var rn="",ln=["enumerable"],Jt=pe()(wt),xn=[],mn=[],gn=[],_n={};if(this.options.unenumerable&&!Bt&&(ln.push("unenumerable"),ln.push("symbol"),xn=ge()(vt()(wt,{prototype:!1,unenumerable:!0}),Jt),mn=yt()(vt()(wt,{prototype:!1,symbol:!0}),(function(Bn){return(0,r.A)(Bn)==="symbol"}))),G()(wt)&&wt.length>100){ln.unshift("virtual"),fn=!0;var Sn=0,En={};ee()(Ct()(wt,100),(function(Bn){var jn=Object.create(null),tr=Sn,nr="["+tr;ee()(Bn,(function(rr){jn[Sn]=rr,En[Sn]=!0,Sn++}));var Un=Sn-1;_n[nr+=(Un-tr>0?"  "+Un:"")+"]"]=jn})),gn=pe()(_n),Jt=yt()(Jt,(function(Bn){return!En[Bn]}))}if(ee()(ln,(function(Bn){var jn=[];jn=Bn==="symbol"?mn:Bn==="unenumerable"?xn:Bn==="virtual"?gn:Jt,fn||he()(jn);for(var tr=0,nr=jn.length;tr<nr;tr++){var Un=Rt()(jn[tr]),rr="",Yn=Object.getOwnPropertyDescriptor(wt,Un),Gn=Yn&&Yn.get,Cn=Yn&&Yn.set;if(Gn&&!kt.options.accessGetter)rr="(...)";else try{rr=Bn==="virtual"?_n[Un]:jt[Un],ae()(rr)&&rr.catch(je())}catch(hr){rr=hr instanceof Error?hr.message:Rt()(hr)}rn+=kt.createEl(Un,wt,rr,Bn,Bt),Gn&&(rn+=kt.createEl("get ".concat(Un),wt,Yn.get,Bn,Bt)),Cn&&(rn+=kt.createEl("set ".concat(Un),wt,Yn.set,Bn,Bt))}})),this.options.prototype){var wn=d()(wt);if(!Bt&&wn)if(rn===""){var An=Qt.set(wn,{self:wt});this.map[An]=wn,rn=this.objToHtml(wn)}else rn+=this.createEl("[[Prototype]]",jt||wt,wn,"proto")}return rn}},{key:"createEl",value:function(wt,Bt,kt,Qt){var jt=arguments.length>4&&arguments[4]!==void 0&&arguments[4],fn=this.visitor,Zt=this.c,rn=(0,r.A)(kt),ln=H()(kt,!1);if(Qt==="virtual"&&(ln=wt),kt===null)return"<li>".concat(En(wt),'<span class="').concat(Zt("null"),'">null</span></li>');if(g()(kt)||v()(kt))return"<li>".concat(En(wt),'<span class="').concat(Zt(rn),'">').concat(qe(kt),"</span></li>");if(ln==="RegExp"&&(rn="regexp"),ln==="Number"&&(rn="number"),ln==="Undefined"||ln==="Symbol")return"<li>".concat(En(wt),'<span class="').concat(Zt("special"),'">').concat(O()(ln),"</span></li>");if(kt==="(...)")return"<li>".concat(En(wt),'<span class="').concat(Zt("special"),'">').concat(kt,"</span></li>");if(E()(kt)){var Jt,xn=fn.get(kt);if(xn)Jt=xn.id;else{var mn={};Qt==="proto"&&(mn.self=Bt),Jt=fn.set(kt,mn),this.map[Jt]=kt}var gn="Object";gn=rn==="regexp"?'<span class="'.concat(Zt(rn),'">').concat(qe(kt)):qe((function(wn,An){if(An)return An==="Function"?ot(Z()(wn)):An==="Array"?"Array(".concat(wn.length,")"):An})(kt,ln)||Q()(rn));var _n=jt?"":'<span class="'.concat(Zt("expanded collapsed"),'"><span class="').concat(Zt("icon icon-caret-right"),'"></span><span class="').concat(Zt("icon icon-caret-down"),'"></span></span>'),Sn="<li ".concat(jt?'data-first-level="true"':""," ").concat('data-object-id="'+Jt+'"',">").concat(_n).concat(En(wt),'<span class="').concat(Zt("open"),'">').concat(jt?"":gn,'</span><ul class="').concat(Zt(rn),'" ').concat(jt?"":'style="display:none"',">");return jt&&(Sn+=this.objToHtml(kt)),Sn+'</ul><span class="'.concat(Zt("close"),'"></span></li>')}function En(wn){if(jt||E()(kt)&&Qt==="virtual")return"";var An=Zt("key");return Qt==="unenumerable"||Qt==="symbol"?An=Zt("key-lighter"):Qt==="proto"&&(An=Zt("key-special")),'<span class="'.concat(An,'">').concat(qe(wn),"</span>: ")}return Qe()(kt)&&kt.length>1e4&&(kt=Ke()(kt,50,{separator:" ",ellipsis:""})),"<li>".concat(En(wt),'<span class="').concat(Zt((0,r.A)(kt)),'">"').concat(qe(kt),'"</span></li>')}},{key:"render",value:function(){this.$container.html(this.objToHtml(this.data,!0))}},{key:"bindEvent",value:function(){var wt=this;this.$container.on("click","li",this.onItemClick),this.on("changeOption",(function(Bt,kt){switch(Bt){case"object":wt.set(kt);break;case"unenumerable":case"prototype":case"accessGetter":wt.render()}}))}}])})(yn);Lt.Static=Vt,(function(nt,Nt){try{nt.exports=Nt,nt.exports.default=Nt}catch{}})(o,Lt)},6948:function(o,e){var n=/<[^>]*>/g;e=function(r){return r.replace(n,"")},o.exports=e},6949:function(o,e,n){var r=n(365),a=n(6214);e=function(c,u){if(a(c))return c;if(u&&r(u,c))return[c];var h=[];return c.replace(s,(function(f,d,p,g){h.push(p?g.replace(l,"$1"):d||f)})),h};var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g;o.exports=e},6962:function(o,e,n){var r=n(1909),a=n(1023),s=!1;function l(c){s&&e.emit(c)}e={start:function(){s=!0},stop:function(){s=!1}},a.mixin(e),r?(window.addEventListener("error",(function(c){if(c.error)l(c.error);else if(c.message){var u=new Error(c.message);u.stack="Error: ".concat(c.message,` 
 at `).concat(c.filename,":").concat(c.lineno,":").concat(c.colno),l(u)}})),window.addEventListener("unhandledrejection",(function(c){l(c.reason)}))):(process$1.on("uncaughtException",l),process$1.on("unhandledRejection",l)),o.exports=e},6969:function(o,e,n){var r=n(5869),a=n(387),s=n(9931),l=n(365),c=n(7604);(e=r((function(d){if(d=d.replace(h,""),d=a(d),l(f,d))return d;for(var p=u.length;p--;){var g=u[p]+s(d);if(l(f,g))return g}return d}))).dash=r((function(d){var p=e(d);return(h.test(p)?"-":"")+c(p)}));var u=["O","ms","Moz","Webkit"],h=/^(O)|(ms)|(Moz)|(Webkit)|(-o-)|(-ms-)|(-moz-)|(-webkit-)/g,f=document.createElement("p").style;o.exports=e},7e3:function(o,e,n){var r=n(2263),a=new(n(3737))("(prefers-color-scheme: dark)");e={get:function(){return a.isMatch()?"dark":"light"}},r.mixin(e),a.on("match",(function(){return e.emit("change","dark")})),a.on("unmatch",(function(){return e.emit("change","light")})),o.exports=e},7005:function(o,e,n){var r=n(2717),a=n(5395);e=r({initialize:function(){this.clear()},clear:function(){this._items=[],this.size=0},push:function(s){return this._items.push(s),++this.size},pop:function(){if(this.size)return this.size--,this._items.pop()},peek:function(){return this._items[this.size-1]},forEach:function(s,l){l=arguments.length>1?l:this;for(var c=this._items,u=this.size-1,h=0;u>=0;u--,h++)s.call(l,c[u],h,this)},toArr:function(){return a(this._items)}}),o.exports=e},7030:function(o,e,n){var r=n(1738),a=n(2517),s=n(2561),l=n(6392);e=function(p,g,y,v){arguments.length===1&&r(p)&&!f.test(p)&&(g=p,p=void 0),p=p||new Date,a(p)||(p=new Date(p));var w=(g=s(e.masks[g]||g||e.masks.default)).slice(0,4);w!=="UTC:"&&w!=="GMT:"||(g=g.slice(4),y=!0,w==="GMT:"&&(v=!0));var O=y?"getUTC":"get",k=p[O+"Date"](),E=p[O+"Day"](),I=p[O+"Month"](),G=p[O+"FullYear"](),J=p[O+"Hours"](),Q=p[O+"Minutes"](),te=p[O+"Seconds"](),pe=p[O+"Milliseconds"](),fe=y?0:p.getTimezoneOffset(),ee={d:k,dd:c(k),ddd:e.i18n.dayNames[E],dddd:e.i18n.dayNames[E+7],m:I+1,mm:c(I+1),mmm:e.i18n.monthNames[I],mmmm:e.i18n.monthNames[I+12],yy:s(G).slice(2),yyyy:G,h:J%12||12,hh:c(J%12||12),H:J,HH:c(J),M:Q,MM:c(Q),s:te,ss:c(te),l:c(pe,3),L:c(Math.round(pe/10)),t:J<12?"a":"p",tt:J<12?"am":"pm",T:J<12?"A":"P",TT:J<12?"AM":"PM",Z:v?"GMT":y?"UTC":(s(p).match(h)||[""]).pop().replace(d,""),o:(fe>0?"-":"+")+c(100*Math.floor(Math.abs(fe)/60)+Math.abs(fe)%60,4),S:["th","st","nd","rd"][k%10>3?0:(k%100-k%10!=10)*k%10]};return g.replace(u,(function(N){return N in ee?ee[N]:N.slice(1,N.length-1)}))};var c=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return l(s(p),g,"0")},u=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,h=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/\d/,d=/[^-+\dA-Z]/g;e.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},e.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},o.exports=e},7119:function(o){o.exports=`.luna-dom-highlighter{position:fixed;left:0;top:0;width:100%;height:100%;z-index:100000;pointer-events:none;font-size:13px}.luna-dom-highlighter-fill{position:absolute;top:0;right:0;bottom:0;left:0}.luna-dom-highlighter-platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.luna-dom-highlighter-platform-mac{color:#303942;font-family:'.SFNSDisplay-Regular','Helvetica Neue','Lucida Grande',sans-serif}.luna-dom-highlighter-platform-windows{font-family:'Segoe UI',Tahoma,sans-serif}.luna-dom-highlighter-px{color:gray}#luna-dom-highlighter-element-title{position:absolute;z-index:10}.luna-dom-highlighter-tooltip-content{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#fff;padding:5px 8px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;min-width:100px;max-width:min(300px,100% - 4px);z-index:2;background-clip:padding-box;will-change:transform;text-rendering:optimizeLegibility;pointer-events:none;filter:drop-shadow(0 2px 4px rgba(0,0,0,.35))}.luna-dom-highlighter-tooltip-content .luna-dom-highlighter-tooltip-arrow{background:#fff;width:15px;height:8px;position:absolute}.luna-dom-highlighter-element-info-section{margin-top:12px;margin-bottom:6px}.luna-dom-highlighter-section-name{color:#333;font-weight:500;font-size:10px;text-transform:uppercase;letter-spacing:.05em;line-height:12px}.luna-dom-highlighter-element-info{display:flex;flex-direction:column}.luna-dom-highlighter-element-info-header{display:flex;align-items:center}.luna-dom-highlighter-element-info-body{display:flex;flex-direction:column;padding-top:2px;margin-top:2px}.luna-dom-highlighter-element-info-row{display:flex;line-height:19px}.luna-dom-highlighter-separator-container{display:flex;align-items:center;flex:auto;margin-left:7px}.luna-dom-highlighter-separator{border-top:1px solid #ddd;width:100%}.luna-dom-highlighter-element-info-name{flex-shrink:0;color:#666}.luna-dom-highlighter-element-info-gap{flex:auto}.luna-dom-highlighter-element-info-value-color{display:flex;color:#303942;margin-left:10px;align-items:baseline}.luna-dom-highlighter-a11y-icon{width:16px;height:16px;background-repeat:no-repeat;display:inline-block}.luna-dom-highlighter-element-info-value-contrast{display:flex;align-items:center;text-align:right;color:#303942;margin-left:10px}.luna-dom-highlighter-element-info-value-contrast .luna-dom-highlighter-a11y-icon{margin-left:8px}.luna-dom-highlighter-element-info-value-icon{display:flex;align-items:center}.luna-dom-highlighter-element-info-value-text{text-align:right;color:#303942;margin-left:10px;align-items:baseline;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.luna-dom-highlighter-color-swatch{display:flex;margin-right:2px;width:10px;height:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);line-height:10px}.luna-dom-highlighter-color-swatch-inner{flex:auto;border:1px solid #808002}.luna-dom-highlighter-element-layout-type{margin-right:10px;width:16px;height:16px}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-grid{background-image:url('data:image/svg+xml,<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="2.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="2.5" width="4" height="4" stroke="%231A73E8"/><rect x="9.5" y="9.5" width="4" height="4" stroke="%231A73E8"/><rect x="2.5" y="9.5" width="4" height="4" stroke="%231A73E8"/></svg>')}.luna-dom-highlighter-element-layout-type.luna-dom-highlighter-flex{background-image:url('data:image/svg+xml,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5h8v3H1v-3zm-1 0a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H1a1 1 0 01-1-1v-3zm12 0h3v3h-3v-3zm-1 0a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-3zm-7 6H1v3h3v-3zm-3-1a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1v-3a1 1 0 00-1-1H1zm6 4v-3h8v3H7zm-1-3a1 1 0 011-1h8a1 1 0 011 1v3a1 1 0 01-1 1H7a1 1 0 01-1-1v-3z" fill="%231A73E8"/></svg>')}.luna-dom-highlighter-element-description{flex:1 1;font-weight:700;word-wrap:break-word;word-break:break-all}.luna-dom-highlighter-dimensions{color:#737373;text-align:right;margin-left:10px}.luna-dom-highlighter-material-node-width{margin-right:2px}.luna-dom-highlighter-material-node-height{margin-left:2px}.luna-dom-highlighter-material-tag-name{color:#881280}.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id{color:#1a1aa6}.luna-dom-highlighter-contrast-text{width:16px;height:16px;text-align:center;line-height:16px;margin-right:8px;border:1px solid #000;padding:0 1px}.luna-dom-highlighter-a11y-icon-not-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.315 0-6-2.685-6-6 0-1.3875.4725-2.6625 1.2675-3.675l8.4075 8.4075c-1.0125.795-2.2875 1.2675-3.675 1.2675zm4.7325-2.325-8.4075-8.4075c1.0125-.795 2.2875-1.2675 3.675-1.2675 3.315 0 6 2.685 6 6 0 1.3875-.4725 2.6625-1.2675 3.675z" fill="%239e9e9e"/></svg>')}.luna-dom-highlighter-a11y-icon-warning{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m8.25 11.25h1.5v1.5h-1.5zm0-6h1.5v4.5h-1.5zm.7425-3.75c-4.14 0-7.4925 3.36-7.4925 7.5s3.3525 7.5 7.4925 7.5c4.1475 0 7.5075-3.36 7.5075-7.5s-3.36-7.5-7.5075-7.5zm.0075 13.5c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6z" fill="%23e37400"/></svg>')}.luna-dom-highlighter-a11y-icon-ok{background-image:url('data:image/svg+xml,<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="m9 1.5c-4.14 0-7.5 3.36-7.5 7.5s3.36 7.5 7.5 7.5 7.5-3.36 7.5-7.5-3.36-7.5-7.5-7.5zm0 13.5c-3.3075 0-6-2.6925-6-6s2.6925-6 6-6 6 2.6925 6 6-2.6925 6-6 6zm-1.5-4.35-1.95-1.95-1.05 1.05 3 3 6-6-1.05-1.05z" fill="%230ca40c"/></svg>')}@media (forced-colors:active){:root,body{background-color:transparent;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content{border-color:Highlight;background-color:canvas;color:text;forced-color-adjust:none}.luna-dom-highlighter-tooltip-content::after{background-color:Highlight}.luna-dom-highlighter-color-swatch-inner,.luna-dom-highlighter-contrast-text,.luna-dom-highlighter-separator{border-color:Highlight}.luna-dom-highlighter-section-name{color:Highlight}.luna-dom-highlighter-dimensions,.luna-dom-highlighter-element-info-name,.luna-dom-highlighter-element-info-value-color,.luna-dom-highlighter-element-info-value-contrast,.luna-dom-highlighter-element-info-value-icon,.luna-dom-highlighter-element-info-value-text,.luna-dom-highlighter-material-class-name,.luna-dom-highlighter-material-node-id,.luna-dom-highlighter-material-tag-name{color:canvastext}}

/*# sourceMappingURL=luna-dom-highlighter.css.map*/`},7140:function(o,e){e=function(n,r){var a=[];r=r||1;for(var s=0,l=Math.ceil(n.length/r);s<l;s++){var c=s*r,u=c+r;a.push(n.slice(c,u))}return a},o.exports=e},7181:function(o,e){e=function(n){return!!window.ShadowRoot&&n instanceof ShadowRoot},o.exports=e},7214:function(o,e,n){var r,a=this&&this.__extends||(r=function(y,v){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,O){w.__proto__=O}||function(w,O){for(var k in O)Object.prototype.hasOwnProperty.call(O,k)&&(w[k]=O[k])},r(y,v)},function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function w(){this.constructor=y}r(y,v),y.prototype=v===null?Object.create(v):(w.prototype=v.prototype,new w)}),s=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var l=s(n(2263)),c=s(n(3693)),u=n(4725),h=s(n(9100)),f=s(n(8105)),d=s(n(5651)),p=s(n(961)),g=(function(y){function v(w,O,k){var E=O.compName,I=(k===void 0?{}:k).theme,G=I===void 0?"light":I,J=y.call(this)||this;return J.subComponents=[],J.compName=E,J.c=(0,u.classPrefix)(E),J.options={},J.container=w,J.$container=(0,c.default)(w),J.$container.addClass(["luna-".concat(E),J.c("platform-".concat((0,u.getPlatform)()))]),J.on("optionChange",(function(Q,te,pe){var fe=J.c;Q==="theme"&&(J.$container.rmClass(fe("theme-".concat(pe))).addClass(fe("theme-".concat(te))),(0,h.default)(J.subComponents,(function(ee){return ee.setOption("theme",te)})))})),J.setOption("theme",G),J}return a(v,y),v.prototype.destroy=function(){this.destroySubComponents();var w=this.c;this.$container.rmClass("luna-".concat(this.compName)).rmClass(w("platform-".concat((0,u.getPlatform)()))).rmClass(w("theme-".concat(this.options.theme))),this.$container.html(""),this.emit("destroy"),this.removeAllListeners()},v.prototype.setOption=function(w,O){var k=this,E=this.options,I={};typeof w=="string"?I[w]=O:I=w,(0,h.default)(I,(function(G,J){var Q=E[J];E[J]=G,k.emit("optionChange",J,G,Q)}))},v.prototype.getOption=function(w){return this.options[w]},v.prototype.addSubComponent=function(w){w.setOption("theme",this.options.theme),this.subComponents.push(w)},v.prototype.removeSubComponent=function(w){(0,p.default)(this.subComponents,(function(O){return O===w}))},v.prototype.destroySubComponents=function(){(0,h.default)(this.subComponents,(function(w){return w.destroy()})),this.subComponents=[]},v.prototype.initOptions=function(w,O){O===void 0&&(O={}),(0,d.default)(w,O),(0,f.default)(this.options,w)},v.prototype.find=function(w){return this.$container.find(this.c(w))},v})(l.default);e.default=g},7236:function(o,e,n){var r=n(8971),a=n(9100),s=n(3612);function l(c){return function(u,h){var f=(u=s(u))[0];if(r(h))return f?f[c]:"";f&&a(u,(function(d){d[c]=h}))}}e={html:l("innerHTML"),text:l("textContent"),val:l("value")},o.exports=e},7253:function(o,e,n){(e=n(6314)(!1)).push([o.id,`@font-face{font-family:luna-tab-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAAsAAAAABpQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAEkAAABoILgliE9TLzIAAAFUAAAAPQAAAFZL+0kZY21hcAAAAZQAAACBAAAB3sqmCy5nbHlmAAACGAAAAC0AAAA0Ftcaz2hlYWQAAAJIAAAALgAAADZzhL4YaGhlYQAAAngAAAAYAAAAJAFoANBobXR4AAACkAAAAA8AAAAcAMgAAGxvY2EAAAKgAAAADgAAABAATgBObWF4cAAAArAAAAAfAAAAIAESABhuYW1lAAAC0AAAASkAAAIWm5e+CnBvc3QAAAP8AAAAMQAAAEOplauDeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiCWgNIsQMzKwAykWRnYgGxGBiYAk+wFgwAAAHicY2BkkGWcwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAIfkjI8MJIFcITDIwMIIIAGAqCKIAAAB4nM2RQQqDQAxFXxyVUsST9DhduBd3ggsv0JX39QT6kwYED1D6hzeQD0nmM0ADFPESNdiG4frItfALz/Br3qp7HlS0jEzMLKy7HYf8e33J1HMdortoWuPzreUX8p2hEikj9f+oi3vIyl86JpWYEvfnxH9sSTzPmijXbl+wE7urE5sAAAB4nGNgZACB+UDIzcBgrs6uzi7OLm4ubq4+j1tfn1tPD0xOhjGAJAMDAKekBtMAAAB4nGNgZGBgAGLPuE0l8fw2Xxm4GU4ABaI4H+9rQNBAMB8IGRg4GJhAHAA5KgqUAAB4nGNgZGBgOMHAACfnMzAyoAJ2ADfsAjl4nGNgAIITDFgBABIUAMkAeJxjYAACKQQEAAO4AJ0AAHicY2BkYGBgZ+BhANEMDExAzAWEDAz/wXwGAApKASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxjYGKAABiNDtgZmRiZGVkYWRnZGNkZORhYk3Pyi1MZkxlzGPMZixlTGRgANIEEbAAAAA==') format('woff')}[class*=' luna-tab-icon-'],[class^=luna-tab-icon-]{display:inline-block;font-family:luna-tab-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-tab-icon-close:before{content:'\\f101'}.luna-tab{position:relative;overflow:hidden;width:100%;color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:#fff;background-color:var(--luna-color-bg-container,#fff);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-family:var(--luna-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px}.luna-tab .luna-tab-hidden,.luna-tab.luna-tab-hidden{display:none}.luna-tab .luna-tab-invisible,.luna-tab.luna-tab-invisible{visibility:hidden}.luna-tab *{box-sizing:border-box}.luna-tab.luna-tab-theme-dark{color-scheme:dark;color:hsla(0,0%,100%,.85);color:var(--luna-color-text-dark,rgba(255,255,255,.85));background-color:#141414;background-color:var(--luna-color-bg-container-dark,#141414)}.luna-tab-tabs-container{border-bottom:1px solid}.luna-tab-tabs{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;width:100%;height:100%;font-size:0;white-space:nowrap}.luna-tab-tabs::-webkit-scrollbar{display:none;width:0;height:0}.luna-tab-item{display:inline-flex;cursor:pointer;padding:0 10px;font-size:12px;text-align:center;text-transform:capitalize}.luna-tab-item.luna-tab-selected .luna-tab-close-container,.luna-tab-item:hover .luna-tab-close-container{opacity:1}.luna-tab-close-container{display:flex;height:100%;width:12px;align-items:center;justify-content:center;opacity:0}.luna-tab-close{position:relative;left:4px;border-radius:2px;width:14px;height:14px;cursor:pointer;line-height:14px}.luna-tab-icon-close{font-size:14px}.luna-tab-slider{transition:left .3s,width .3s;height:1px;position:absolute;bottom:0;left:0}.luna-tab-theme-light .luna-tab-tabs-container{border-color:#d9d9d9;border-color:var(--luna-color-border,#d9d9d9)}.luna-tab-theme-light .luna-tab-item.luna-tab-selected{color:#1a73e8;color:var(--luna-color-primary,#1a73e8)}.luna-tab-theme-light .luna-tab-item:hover{color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88));background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-tab-theme-light .luna-tab-close{color:rgba(0,0,0,.88);color:var(--luna-color-text,rgba(0,0,0,.88))}.luna-tab-theme-light .luna-tab-close:hover{background-color:rgba(0,0,0,.06);background-color:var(--luna-color-fill-secondary,rgba(0,0,0,.06))}.luna-tab-theme-light .luna-tab-slider{background-color:#1a73e8;background-color:var(--luna-color-primary,#1a73e8)}.luna-tab-theme-dark .luna-tab-tabs-container{border-color:#424242;border-color:var(--luna-color-border,#424242)}.luna-tab-theme-dark .luna-tab-item.luna-tab-selected{color:#1965c8;color:var(--luna-color-primary,#1965c8)}.luna-tab-theme-dark .luna-tab-item:hover{color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85));background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-tab-theme-dark .luna-tab-close{color:hsla(0,0%,100%,.85);color:var(--luna-color-text,rgba(255,255,255,.85))}.luna-tab-theme-dark .luna-tab-close:hover{background-color:hsla(0,0%,100%,.12);background-color:var(--luna-color-fill-secondary,rgba(255,255,255,.12))}.luna-tab-theme-dark .luna-tab-slider{background-color:#1965c8;background-color:var(--luna-color-primary,#1965c8)}`,""]),o.exports=e},7257:function(o,e,n){var r=n(9405),a=n(9100),s=n(8971),l=n(6214),c=n(3915),u=n(9464),h=n(2571),f=n(9760);e={parse:function(p){var g={};return p=r(p).replace(d,""),a(p.split("&"),(function(y){var v=y.split("="),w=v.shift(),O=v.length>0?v.join("="):null;w=decodeURIComponent(w),O=decodeURIComponent(O),s(g[w])?g[w]=O:l(g[w])?g[w].push(O):g[w]=[g[w],O]})),g},stringify:function(p,g){return h(c(p,(function(y,v){return f(y)&&u(y)?"":l(y)?e.stringify(y,v):encodeURIComponent(g||v)+"="+encodeURIComponent(y)})),(function(y){return y.length>0})).join("&")}};var d=/^(\?|#|&)/g;o.exports=e},7308:function(o,e,n){var r=n(9100),a=n(1738),s=n(8971),l=n(3249),c=n(6214),u=n(9760),h=n(769);(e=function(g,y){if(s(g))return v={},d((function(O,k){v[O]=k})),v;var v;if(a(g)&&s(y)||c(g))return(function(O){if(!a(O)){var k={};return d((function(I,G){l(O,I)&&(k[I]=G)})),k}var E=p(O);if(E)return E.getAttribute("content")})(g);var w=g;u(w)||((w={})[g]=y),(function(O){r(O,(function(k,E){var I=p(E);if(I)return I.setAttribute("content",k);(I=f.createElement("meta")).setAttribute("name",E),I.setAttribute("content",k),f.head.appendChild(I)}))})(w)}).remove=function(g){g=h(g),r(g,(function(y){var v=p(y);v&&f.head.removeChild(v)}))};var f=document;function d(g){var y=f.querySelectorAll("meta");r(y,(function(v){var w=v.getAttribute("name"),O=v.getAttribute("content");w&&O&&g(w,O)}))}function p(g){return f.querySelector('meta[name="'+g+'"]')}o.exports=e},7375:function(o,e){e=function(n,r,a){return Array.prototype.indexOf.call(n,r,a)},o.exports=e},7468:function(o,e,n){var r=n(3145);e=function(a,s){var l=r(s),c=l.length;if(a==null)return!c;a=Object(a);for(var u=0;u<c;u++){var h=l[u];if(s[h]!==a[h]||!(h in a))return!1}return!0},o.exports=e},7514:function(o,e,n){var r=n(3145),a=n(5427),s=n(438),l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols;e=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=h.prototype,d=f===void 0||f,p=h.unenumerable,g=p!==void 0&&p,y=h.symbol,v=y!==void 0&&y,w=[];if((g||v)&&l){var O=r;g&&l&&(O=l);do w=w.concat(O(u)),v&&c&&(w=w.concat(c(u)));while(d&&(u=a(u))&&u!==Object.prototype);w=s(w)}else if(d)for(var k in u)w.push(k);else w=r(u);return w},o.exports=e},7528:function(o,e,n){function r(a,s){return s||(s=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(s)}}))}n.d(e,{A:function(){return r}})},7542:function(o,e){e=function(n,r){var a;return function(){return--n>0&&(a=r.apply(this,arguments)),n<=1&&(r=null),a}},o.exports=e},7571:function(o,e,n){var r=n(2263),a=n(6186),s=window.screen;e={get:function(){if(s){var l=a(s,"orientation.type");if(l)return l.split("-").shift()}return window.innerWidth>window.innerHeight?"landscape":"portrait"}},r.mixin(e),window.addEventListener("orientationchange",(function(){setTimeout((function(){e.emit("change",e.get())}),200)}),!1),o.exports=e},7604:function(o,e,n){var r=n(6833);e=function(a){return r(a).join("-")},o.exports=e},7622:function(o,e,n){var r=n(2263),a=n(2192),s=n(769),l=n(8971),c=n(8420),u=n(1738),h=n(6097);e=r.extend({initialize:function(f,d){this.name=f,this.setLevel(l(d)?e.level.DEBUG:d),this.callSuper(r,"initialize",arguments)},setLevel:function(f){return u(f)?((f=e.level[f.toUpperCase()])&&(this._level=f),this):(h(f)&&(this._level=f),this)},getLevel:function(){return this._level},formatter:function(f,d){return d},trace:function(){return this._log("trace",arguments)},debug:function(){return this._log("debug",arguments)},info:function(){return this._log("info",arguments)},warn:function(){return this._log("warn",arguments)},error:function(){return this._log("error",arguments)},_log:function(f,d){return(d=s(d)).length===0?this:(this.emit("all",f,c(d)),e.level[f.toUpperCase()]<this._level||(this.emit(f,c(d)),(f==="debug"?console.log:console[f]).apply(console,this.formatter(f,d))),this)}},{level:new a({TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5})}),o.exports=e},7661:function(o,e,n){var r=n(769),a=n(2797),s=n(3612),l=n(1738),c=n(9100);function u(h){return l(h)?h.split(/\s+/):r(h)}e={add:function(h,f){h=s(h);var d=u(f);c(h,(function(p){var g=[];c(d,(function(y){e.has(p,y)||g.push(y)})),g.length!==0&&(p.className+=(p.className?" ":"")+g.join(" "))}))},has:function(h,f){h=s(h);var d=new RegExp("(^|\\s)"+f+"(\\s|$)");return a(h,(function(p){return d.test(p.className)}))},toggle:function(h,f){h=s(h),c(h,(function(d){if(!e.has(d,f))return e.add(d,f);e.remove(d,f)}))},remove:function(h,f){h=s(h);var d=u(f);c(h,(function(p){c(d,(function(g){p.classList.remove(g)}))}))}},o.exports=e},7696:function(o,e){e=function(n){var r=typeof n;return n==null||r!=="function"&&r!=="object"},o.exports=e},7731:function(module,exports,__webpack_require__){var random=__webpack_require__(6774),isBrowser=__webpack_require__(1909),isNode=__webpack_require__(621),crypto;exports=function(o){for(var e=new Uint8Array(o),n=0;n<o;n++)e[n]=random(0,255);return e},isBrowser?(crypto=window.crypto||window.msCrypto,crypto&&(exports=function(o){var e=new Uint8Array(o);return crypto.getRandomValues(e),e})):isNode&&(crypto=eval("require")("crypto"),exports=function(o){return crypto.randomBytes(o)}),module.exports=exports},7744:function(o,e,n){var r=n(2263),a=n(1738),s=n(9760),l=n(9100),c=n(769);e=r.extend({initialize:function(u){this.callSuper(r,"initialize",arguments),this._data=u||{},this.save(this._data)},set:function(u,h){var f;a(u)?(f={})[u]=h:s(u)&&(f=u);var d=this;l(f,(function(p,g){var y=d._data[g];d._data[g]=p,d.emit("change",g,p,y)})),this.save(this._data)},get:function(u){var h=this._data;if(a(u))return h[u];var f={};return l(u,(function(d){f[d]=h[d]})),f},remove:function(u){u=c(u);var h=this._data;l(u,(function(f){delete h[f]})),this.save(h)},clear:function(){this._data={},this.save(this._data)},each:function(u){l(this._data,u)},save:function(u){this._data=u}}),o.exports=e},7800:function(o,e,n){n.d(e,{A:function(){return a}});var r=n(5526);function a(s,l){if(s){if(typeof s=="string")return(0,r.A)(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?(0,r.A)(s,l):void 0}}},7853:function(o,e,n){(e=n(6314)(!1)).push([o.id,`@font-face{font-family:luna-console-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAaoAAsAAAAACnAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAIsAAADcIw4ngk9TLzIAAAGUAAAAPgAAAFZWmlGRY21hcAAAAdQAAAD4AAACyDWnbdFnbHlmAAACzAAAAZsAAAH8Lq6nDGhlYWQAAARoAAAAMQAAADZ25cSzaGhlYQAABJwAAAAdAAAAJAgCBBRobXR4AAAEvAAAABcAAABYGAH//GxvY2EAAATUAAAAGAAAAC4JNAjUbWF4cAAABOwAAAAfAAAAIAEjAFBuYW1lAAAFDAAAASkAAAIWm5e+CnBvc3QAAAY4AAAAcAAAAJ7p9v7ZeJxNjT0OgkAQhb9FFllBFMHGwjN4AipiZckFaDAmxIojeHDf7oboTObvvZk3GGDHjY6kvz8Gqnlc3lxIieb5/97Mr+dIvk7i0lBzxQfLkZ6BiYWEjKtyIc7pR0GpWnOiUW+E/PA9FQfdRj0r3AlxYc7kZ221IXtko/C3cd+Grytr2UrTq9VfrRAJ0wB4nGNgZBRnnMDAysDA1Ml0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDAcYdD+ysYC4MSxMYGFGEAEAtDUIzAAAeJzN0s1OwkAUhuF36A8gtBYKiQsXxrVeFEGibJAQCPfgBbnypuYK8Dszx40xJu48kyekH+3M6XSACijkQUoIHwSs3pWGlBdcpbzkTdcLOiUlj6zYsGXPgRPnWF8u+tfSNc/slB6VhpR+r6BZbNxwy53GvQZMGTGk0WpzemZap9U9YyYsudYzg7RuRa0J6h9m/a2mf7zfSt006qWf2UXXplask/9S6Z3C15stsd3PLFu5kazdUJ5cIxun76tvls3lxfWydbYLO9fJq2tl7xZycGM5uomcnPV5dtrLGDI7a3GQYb9FZmczlpmdz1hldm5jnVF/Akk1KvR4nF1RTW8TMRCdZ3udBsSWBcdLG9UlG623pKihaeIIIZVUiHOknlAVNQgu0Jx6oB9/olz4BUXiyv+AAxz4BT1wRIJDT+wG7woQwhqN3vi9Nx6NCeQPf8oDYkRogU/z5xhzUbz2ZcmxD3xccRHwBId8nD/D2FvmOZHgglFIy9QmSrEBWYM02Gr1toG+6+lGpGRiB3Fiy0pJ/q2YKOeUz3W3zu+tu3r+0XSMj61mmro0fcPv2mbT/vyS7Vi7w/YaxjSKd2W+TAfWDtJqpPncvw1B1KFHfjK5CJltILMP0fVTOL0KH0OnY73IYl0LUZNd2C5SFRvEujfc9my/siQVi8vrrQe3Vq7dYEK9SnYjdvtO9JIJfqrvS9E4uHocXxE6XFIzJlherGVnk+nn6eQsW/sH4r3v8Vt31NqNOqssOmBBcBLfNMtqtnASr4Rl/xmT4vGL/90VpD87/8T3KfA7zeoYAocjmOJihP1zD2BGxTmVP+LT90oXeuWwjgyB0j3Xt4nEj1FxUSrf4muy2W5vJn+tbCkpb7z7FwBKXUkAeJxjYGRgYADikOXX2uP5bb4ycLOABKI4H+9rgNH//zIwsDCzMAElOBhAJAMASwoLJgAAAHicY2BkYGBhAAEWhv9///9lYWZgZEAFYgBbLQQgAAAAeJxjYGBgYIHj/3+B+D+MTwkAACOnBBMAeJxjYAACPgYZhiiGEwx3GP7hhwBJdRIJeJxjYGRgYBBjcGFgZgABJiDmAkIGhv9gPgMAEYUBdAB4nGWQPW7CQBSEx2BIAlKCFCkps1UKIpmfkgNAT0GXwpi1MbK91npBossJcoQcIaeIcoIcKGPzaGAtP38zb97uygAG+IWHenm4bWq9WrihOnGb9CDsk5+FO+jjRbhLfyjcwxumwn084p07eP4dnQFK4Rbu8SHcpv8p7JO/hDt4wrdwl/6PcA8r/An38eoN08gUsSncUif7LLRnef6utK1SU6hJMD5bC11oGzq9Ueujqg7J1LlYxdbkas6uzjKjSmt2OnLB1rlyNhrF4geRyZEigkGBuKkOS2gk2CNDCHvVvdQrpi0q+rVWmCDA+Cq1YKpokiGVxobJNY6sFQ48bUrXMa34Ws7kpLnMat4kIyv+77q3oxPRD7BtpkrMMOITX+SD5g75Pz0RXqgAAAB4nG3GSw6CMBRA0XeRohb/H1wFi2qAQCcteWnT7WvC1DO5VyrZWPmvo2JHjaFhz4EjlpYTZy5cuXHnwZMXbzo+YgenU+rHWEK7rfp5SXVxGsykGtX4sObUxJx+YcChTCR6RiKFgGdmYSWLfAGgdBim') format('woff')}[class*=' luna-console-icon-'],[class^=luna-console-icon-]{display:inline-block;font-family:luna-console-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-console-icon-caret-down:before{content:'\\f101'}.luna-console-icon-caret-right:before{content:'\\f102'}.luna-console-icon-warn:before{content:'\\f103'}.luna-console-icon-error:before{content:'\\f104'}.luna-console-icon-input:before{content:'\\f105'}.luna-console-icon-output:before{content:'\\f106'}.luna-console{background:#fff;overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%;position:relative;will-change:scroll-position;cursor:default;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console.luna-console-theme-dark{background-color:#141414}.luna-console-hidden{display:none}.luna-console-fake-logs{position:absolute;left:0;top:0;pointer-events:none;visibility:hidden;width:100%}.luna-console-logs{padding-top:1px;position:absolute;width:100%}.luna-console-log-container{box-sizing:content-box}.luna-console-log-container.luna-console-selected .luna-console-log-item{background:#ecf1f8}.luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#ccdef5}.luna-console-header{white-space:nowrap;display:flex;font-size:11px;color:#545454;border-top:1px solid transparent;border-bottom:1px solid #ccc}.luna-console-header .luna-console-time-from-container{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:3px 10px}.luna-console-nesting-level{width:14px;flex-shrink:0;margin-top:-1px;margin-bottom:-1px;position:relative;border-right:1px solid #ccc}.luna-console-nesting-level.luna-console-group-closed::before{content:""}.luna-console-nesting-level::before{border-bottom:1px solid #ccc;position:absolute;top:0;left:0;margin-left:100%;width:5px;height:100%;box-sizing:border-box}.luna-console-log-item{position:relative;display:flex;border-top:1px solid transparent;border-bottom:1px solid #ccc;margin-top:-1px;color:#333}.luna-console-log-item:after{content:"";display:block;clear:both}.luna-console-log-item .luna-console-code{display:inline;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.luna-console-log-item .luna-console-code .luna-console-keyword{color:#881280}.luna-console-log-item .luna-console-code .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-code .luna-console-operator{color:gray}.luna-console-log-item .luna-console-code .luna-console-comment{color:#236e25}.luna-console-log-item .luna-console-code .luna-console-string{color:#1a1aa6}.luna-console-log-item a{color:#15c!important}.luna-console-log-item .luna-console-icon-container{margin:0 -6px 0 10px}.luna-console-log-item .luna-console-icon-container .luna-console-icon{line-height:20px;font-size:12px;color:#333;position:relative}.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-log-item .luna-console-icon-container .luna-console-icon-caret-right{top:0;left:-2px}.luna-console-log-item .luna-console-icon-container .luna-console-icon-error{top:0;color:#ef3842}.luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{top:0;color:#e8a400}.luna-console-log-item .luna-console-count{background:#8097bd;color:#fff;padding:2px 4px;border-radius:10px;font-size:12px;float:left;margin:1px -6px 0 10px}.luna-console-log-item .luna-console-log-content-wrapper{flex:1;overflow:hidden}.luna-console-log-item .luna-console-log-content{padding:3px 0;margin:0 10px;overflow-x:auto;-webkit-overflow-scrolling:touch;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.luna-console-log-item .luna-console-log-content>*{vertical-align:top}.luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#5e5e5e}.luna-console-log-item .luna-console-log-content .luna-console-number{color:#1c00cf}.luna-console-log-item .luna-console-log-content .luna-console-boolean{color:#0d22aa}.luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#881391}.luna-console-log-item .luna-console-data-grid,.luna-console-log-item .luna-console-dom-viewer{white-space:initial}.luna-console-log-item.luna-console-error{z-index:50;background:#fff0f0;color:red;border-top:1px solid #ffd6d6;border-bottom:1px solid #ffd6d6}.luna-console-log-item.luna-console-error .luna-console-stack{padding-left:1.2em;white-space:nowrap}.luna-console-log-item.luna-console-error .luna-console-count{background:red}.luna-console-log-item.luna-console-debug{z-index:20}.luna-console-log-item.luna-console-input{border-bottom-color:transparent}.luna-console-log-item.luna-console-warn{z-index:40;color:#5c5c00;background:#fffbe5;border-top:1px solid #fff5c2;border-bottom:1px solid #fff5c2}.luna-console-log-item.luna-console-warn .luna-console-count{background:#e8a400}.luna-console-log-item.luna-console-info{z-index:30}.luna-console-log-item.luna-console-group,.luna-console-log-item.luna-console-groupCollapsed{font-weight:700}.luna-console-preview{display:inline-block}.luna-console-preview .luna-console-preview-container{display:flex;align-items:center}.luna-console-preview .luna-console-json{overflow-x:auto;-webkit-overflow-scrolling:touch;padding-left:12px}.luna-console-preview .luna-console-preview-icon-container{display:block}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon{position:relative;font-size:12px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-down{top:2px}.luna-console-preview .luna-console-preview-icon-container .luna-console-icon-caret-right{top:1px}.luna-console-preview .luna-console-preview-content-container{word-break:break-all}.luna-console-preview .luna-console-descriptor,.luna-console-preview .luna-console-object-preview{font-style:italic}.luna-console-preview .luna-console-key{color:#881391}.luna-console-preview .luna-console-number{color:#1c00cf}.luna-console-preview .luna-console-null{color:#5e5e5e}.luna-console-preview .luna-console-string{color:#c41a16}.luna-console-preview .luna-console-boolean{color:#0d22aa}.luna-console-preview .luna-console-special{color:#5e5e5e}.luna-console-theme-dark{color-scheme:dark}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item{background:#29323d}.luna-console-theme-dark .luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:#4173b4}.luna-console-theme-dark .luna-console-log-item{color:#a5a5a5;border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-keyword{color:#e36eec}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-operator{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-comment{color:#747474}.luna-console-theme-dark .luna-console-log-item .luna-console-code .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-log-item.luna-console-error{background:#290000;color:#ff8080;border-top-color:#5c0000;border-bottom-color:#5c0000}.luna-console-theme-dark .luna-console-log-item.luna-console-error .luna-console-count{background:#ff8080}.luna-console-theme-dark .luna-console-log-item.luna-console-warn{color:#ffcb6b;background:#332a00;border-top-color:#650;border-bottom-color:#650}.luna-console-theme-dark .luna-console-log-item .luna-console-count{background:#42597f;color:#949494}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-null,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-undefined{color:#7f7f7f}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-boolean,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-regexp,.luna-console-theme-dark .luna-console-log-item .luna-console-log-content .luna-console-symbol{color:#e36eec}.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-down,.luna-console-theme-dark .luna-console-icon-container .luna-console-icon-caret-right{color:#9aa0a6}.luna-console-theme-dark .luna-console-header{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level{border-right-color:#3d3d3d}.luna-console-theme-dark .luna-console-nesting-level::before{border-bottom-color:#3d3d3d}.luna-console-theme-dark .luna-console-preview .luna-console-key{color:#e36eec}.luna-console-theme-dark .luna-console-preview .luna-console-number{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-null{color:#7f7f7f}.luna-console-theme-dark .luna-console-preview .luna-console-string{color:#f29766}.luna-console-theme-dark .luna-console-preview .luna-console-boolean{color:#9980ff}.luna-console-theme-dark .luna-console-preview .luna-console-special{color:#7f7f7f}`,""]),o.exports=e},8009:function(o,e,n){var r=n(6513);e=function(a,s){a.prototype=r(s.prototype)},o.exports=e},8032:function(o,e,n){var r=n(2989),a=n(9931),s=n(2561),l=n(8971),c=n(3957),u=n(1976);e=function(h,f){return JSON.stringify(h,(d=[],p=[],function(g,y){if(d.length>0){var v=d.indexOf(this);v>-1?(d.splice(v+1),p.splice(v,1/0,g)):(d.push(this),p.push(g));var w=d.indexOf(y);w>-1&&(y=d[0]===y?"[Circular ~]":"[Circular ~."+p.slice(0,w).join(".")+"]")}else d.push(y);return u(y)||c(y)?y="["+a(r(y))+" "+s(y)+"]":l(y)&&(y=null),y}),f);var d,p},o.exports=e},8046:function(o,e,n){var r=n(7731);e=function(){var l=r(16);return l[6]=15&l[6]|64,l[8]=63&l[8]|128,a[l[0]]+a[l[1]]+a[l[2]]+a[l[3]]+"-"+a[l[4]]+a[l[5]]+"-"+a[l[6]]+a[l[7]]+"-"+a[l[8]]+a[l[9]]+"-"+a[l[10]]+a[l[11]]+a[l[12]]+a[l[13]]+a[l[14]]+a[l[15]]};for(var a=[],s=0;s<256;s++)a[s]=(s+256).toString(16).substr(1);o.exports=e},8052:function(o,e,n){n.d(e,{A:function(){return oe}});var r=n(7528),a=n(3029),s=n(2901),l=n(388),c=n(3954),u=n(5361),h=n(2263),f=n.n(h),d=n(3693),p=n.n(d),g=n(3915),y=n.n(g),v=n(9405),w=n.n(v),O=n(5169),k=n.n(O),E=n(9548),I=n.n(E),G=n(6097),J=n.n(G),Q=n(3249),te=n.n(Q),pe=(n(6030),n(5004)),fe=n.n(pe);n(9410),n(8609);function ee(je){var ze="luna-".concat(je,"-");function he(le){return y()(w()(le).split(/\s+/),(function(me){return te()(me,ze)?me:me.replace(/[\w-]+/,(function(Xe){return"".concat(ze).concat(Xe)}))})).join(" ")}return function(le){if(/<[^>]*>/g.test(le))try{var me=I().parse(le);return N(me,(function(Xe){Xe.attrs&&Xe.attrs.class&&(Xe.attrs.class=he(Xe.attrs.class))})),I().stringify(me)}catch{return he(le)}return he(le)}}function N(je,ze){for(var he=0,le=je.length;he<le;he++){var me=je[he];ze(me),me.content&&N(me.content,ze)}}var Z;k();var R=n(9100),ae=n.n(R),de=n(8105),H=n.n(de),ne=n(5651),V=n.n(ne),Ce=n(961),ge=n.n(Ce),Te=n(7e3),Ke=n.n(Te),Ye=n(1009),Qe=n.n(Ye);function rt(){try{var je=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(rt=function(){return!!je})()}var vt,it=(function(je){function ze(he,le){var me,Xe,Ee=le.compName,Re=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).theme,at=Re===void 0?"light":Re;return(0,a.A)(this,ze),me=(function(Ve,qe,ot){return qe=(0,c.A)(qe),(0,l.A)(Ve,rt()?Reflect.construct(qe,[],(0,c.A)(Ve).constructor):qe.apply(Ve,ot))})(this,ze),me.subComponents=[],me.theme="",me.onThemeChange=function(Ve){me.options.theme==="auto"&&me.setTheme(Ve)},me.compName=Ee,me.c=ee(Ee),me.options={},me.container=he,me.$container=p()(he),me.$container.addClass(["luna-".concat(Ee),me.c("platform-".concat((Xe=fe()(),Xe==="os x"?"mac":Xe)))]),me.on("changeOption",(function(Ve,qe){if(Ve==="theme"&&qe){var ot=qe;qe==="auto"&&(ot=Ke().get()),me.setTheme(ot),ae()(me.subComponents,(function(Pt){return Pt.setOption("theme",qe)}))}})),Ke().on("change",me.onThemeChange),me.setOption("theme",at),me}return(0,u.A)(ze,je),(0,s.A)(ze,[{key:"destroy",value:function(){var he=this;this.destroySubComponents();var le=this.$container,me=le.attr("class");ae()(me.split(/\s+/),(function(Xe){Qe()(Xe,"luna-".concat(he.compName))&&le.rmClass(Xe)})),le.html(""),this.emit("destroy"),this.removeAllListeners(),Ke().off("change",this.onThemeChange)}},{key:"setOption",value:function(he,le){var me=this,Xe=this.options,Ee={};typeof he=="string"?Ee[he]=le:Ee=he,ae()(Ee,(function(Re,at){var Ve=Xe[at];Xe[at]=Re,Re!==Ve&&me.emit("changeOption",at,Re,Ve)}))}},{key:"getOption",value:function(he){return this.options[he]}},{key:"addSubComponent",value:function(he){he.setOption("theme",this.options.theme),this.subComponents.push(he)}},{key:"removeSubComponent",value:function(he){ge()(this.subComponents,(function(le){return le===he}))}},{key:"destroySubComponents",value:function(){ae()(this.subComponents,(function(he){return he.destroy()})),this.subComponents=[]}},{key:"initOptions",value:function(he){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};V()(he,le),H()(this.options,he)}},{key:"find",value:function(he){return this.$container.find(this.c(he))}},{key:"setTheme",value:function(he){var le=this.c,me=this.$container;this.theme&&me.rmClass(le("theme-".concat(this.theme))),me.addClass(le("theme-".concat(he))),this.theme=he}}])})(f()),yt=n(5773),xt=n.n(yt),Ct=n(5902),St=n.n(Ct);function Rt(){try{var je=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(Rt=function(){return!!je})()}o=n.hmd(o);var oe=(function(je){function ze(he){var le,me,Xe,Ee,Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,a.A)(this,ze),me=this,Xe=ze,Ee=[he,{compName:"tab"},Re],Xe=(0,c.A)(Xe),(le=(0,l.A)(me,Rt()?Reflect.construct(Xe,Ee||[],(0,c.A)(me).constructor):Xe.apply(me,Ee))).initOptions(Re,{height:30}),le.initTpl(),le.$tabs=le.find(".tabs"),le.tabs=le.$tabs.get(0),le.$slider=le.find(".slider"),le.bindEvent(),le.updateHeight(),le}return(0,u.A)(ze,je),(0,s.A)(ze,[{key:"length",get:function(){return this.$tabs.find(this.c(".item")).length}},{key:"insert",value:function(he,le){var me=this.c,Xe=this.$tabs,Ee=this.options.height-1,Re=Xe.find(me(".item")),at=Re.length,Ve='<div class="'.concat(me("item"),'" data-id="').concat(St()(le.id),'" ').concat(le.closeable?'data-closeable="true"':"",' style="height: ').concat(Ee,"px; line-height: ").concat(Ee,'px;"><span class="').concat(me("title"),'">').concat(St()(le.title),"</span>").concat(le.closeable?'<div class="'.concat(me("close-container"),'"><div class="').concat(me("close"),'"><span class="').concat(me("icon-close"),'"></span></div></div>'):"","</div>");he>at-1?Xe.append(Ve):Re.eq(he).before(Ve),this.updateSlider()}},{key:"append",value:function(he){this.insert(this.length,he)}},{key:"remove",value:function(he){var le=this.c;if(this.length!==1){var me=this;this.$tabs.find(le(".item")).each((function(Xe){var Ee=p()(this);if(Ee.data("id")===he){if(Ee.remove(),Ee.hasClass(le("selected")))if(me.length>0){var Re=Xe===me.length?Xe-1:Xe,at=me.$tabs.find(le(".item")).eq(Re).data("id");me.select(at)}else me.emit("deselect");Ee.data("closeable")&&me.emit("close",he)}})),this.updateSlider()}}},{key:"select",value:function(he){var le=this.c,me=this;this.$tabs.find(le(".item")).each((function(){var Xe=p()(this);Xe.data("id")===he?(Xe.addClass(le("selected")),me.updateSlider(),me.scrollToSelected(),me.emit("select",he)):Xe.rmClass(le("selected"))}))}},{key:"deselect",value:function(){var he=this.c;this.$tabs.find(he(".item")).each((function(){p()(this).rmClass(he("selected"))})),this.emit("deselect"),this.updateSlider()}},{key:"scrollToSelected",value:function(){var he,le=this.$tabs,me=this.tabs,Xe=this.c,Ee=le.find(Xe(".selected")).get(0),Re=Ee.offsetLeft,at=Ee.offsetWidth,Ve=me.offsetWidth,qe=me.scrollLeft;Re<qe?he=Re:Re+at>Ve+qe&&(he=Re+at-Ve),J()(he)&&(me.scrollLeft=he)}},{key:"hideScrollbar",value:function(){var he=this.$tabs;if(getComputedStyle(this.tabs,"::-webkit-scrollbar").display!=="none"){var le=(function(){if(J()(Z))return Z;if(!document)return 16;var me=document.createElement("div"),Xe=document.createElement("div");me.setAttribute("style","display: block; width: 100px; height: 100px; overflow: scroll;"),Xe.setAttribute("style","height: 200px"),me.appendChild(Xe);var Ee=document.body||document.documentElement;return Ee.appendChild(me),Z=me.offsetWidth-me.clientWidth,Ee.removeChild(me),Z})();he.css("height",this.options.height-1+le+"px")}}},{key:"updateSlider",value:function(){var he=this.$slider,le=this.$tabs,me=this.c,Xe=le.find(me(".selected")).get(0);Xe?he.css({width:Xe.offsetWidth,left:Xe.offsetLeft-le.get(0).scrollLeft}):he.css({width:0})}},{key:"updateHeight",value:function(){var he=this.options.height,le=he-1;this.find(".tabs-container").css("height",he+"px"),this.find(".item").css({height:le,lineHeight:le}),this.hideScrollbar()}},{key:"bindEvent",value:function(){var he=this,le=this.tabs,me=this.c;this.on("changeOption",(function(Ee){Ee==="height"&&he.updateHeight()}));var Xe=this;this.$tabs.on("wheel",(function(Ee){Ee.preventDefault(),le.scrollLeft+=Ee.origEvent.deltaY})).on("click",me(".item"),(function(){var Ee=p()(this);Xe.select(Ee.data("id"))})).on("click",me(".close"),(function(Ee){Ee.stopPropagation();var Re=p()(this).parent().parent();Xe.remove(Re.data("id"))})).on("scroll",(function(){he.updateSlider()}))}},{key:"initTpl",value:function(){this.$container.html(this.c(xt()(vt||(vt=(0,r.A)([`
        <div class="tabs-container">
          <div class="tabs"></div>
        </div>
        <div class="slider"></div>
      `])))))}}])})(it);(function(je,ze){try{je.exports=ze,je.exports.default=ze}catch{}})(o,oe)},8091:function(o,e,n){var r=n(282),a=n(9100),s=n(5207);function l(c){return'<a href="'+c+'">'+c+"</a>"}e=function(c,u){u=u||l;var h=r(c);return a(h,(function(f){c=c.replace(new RegExp(s(f),"g"),u)})),c},o.exports=e},8098:function(o,e,n){var r=n(5693),a=n(5793),s=n(3145);e=function(l,c,u){c=r(c,u);for(var h=!a(l)&&s(l),f=(h||l).length,d=0;d<f;d++){var p=h?h[d]:d;if(!c(l[p],p,l))return!1}return!0},o.exports=e},8105:function(o,e,n){e=n(6307)(n(7514)),o.exports=e},8178:function(o,e,n){e=n(2510)((function(r,a){for(var s=r.length,l=0,c=a.length;l<c;l++)for(var u=a[l],h=0,f=u.length;h<f;h++)r[s++]=u[h];return r.length=s,r})),o.exports=e},8239:function(o,e,n){(e=n(6314)(!1)).push([o.id,'#_network ._network{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:39px}#_network ._control{padding:10px;border-bottom:none;position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border)}#_network ._control [class*=" _icon-"],#_network ._control [class^=eruda-icon-]{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_network ._control [class*=" _icon-"]._active,#_network ._control [class*=" _icon-"]:active,#_network ._control [class^=eruda-icon-]._active,#_network ._control [class^=eruda-icon-]:active{color:var(--accent)}#_network ._control ._title{font-size:14px}#_network ._control ._icon-clear{left:23px}#_network ._control ._icon-eye{right:0}#_network ._control ._icon-copy{right:23px}#_network ._control ._icon-filter{right:46px}#_network ._control ._filter-text{white-space:nowrap;position:absolute;line-height:20px;max-width:80px;overflow:hidden;right:88px;font-size:14px;text-overflow:ellipsis}#_network ._control ._icon-record{left:0}#_network ._control ._icon-record._recording{color:var(--console-error-foreground);text-shadow:0 0 4px var(--console-error-foreground)}#_network ._request-error{color:var(--console-error-foreground)}#_network .luna-data-grid:focus .luna-data-grid-data-container ._request-error.luna-data-grid-selected{background:var(--console-error-background)}#_network .luna-data-grid{border-left:none;border-right:none}#_network ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;display:none;padding-top:40px;background:var(--background)}#_network ._detail ._control{padding:10px 35px;border-bottom:1px solid var(--border)}#_network ._detail ._control ._url{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_network ._detail ._control ._icon-arrow-left{left:0}#_network ._detail ._control ._icon-delete{left:0;display:none}#_network ._detail ._control ._icon-copy{right:0}#_network ._detail ._http{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_network ._detail ._http ._section{border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-top:10px;margin-bottom:10px}#_network ._detail ._http ._section h2{background:var(--darker-background);color:var(--primary);padding:10px;line-height:18px;font-size:14px}#_network ._detail ._http ._section table{color:var(--foreground)}#_network ._detail ._http ._section table *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#_network ._detail ._http ._section table td{font-size:12px;padding:5px 10px;word-break:break-all}#_network ._detail ._http ._section table ._key{white-space:nowrap;font-weight:700;color:var(--accent)}#_network ._detail ._http ._data,#_network ._detail ._http ._response{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;font-size:12px;margin:10px 0;white-space:pre-wrap;border-top:1px solid var(--border);color:var(--foreground);border-bottom:1px solid var(--border)}._safe-area #_network ._http{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_network ._network ._control ._icon-eye{display:none}#_network ._network ._control ._icon-copy{right:0}#_network ._network ._control ._icon-filter{right:23px}#_network ._network ._control ._filter-text{right:55px}#_network ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_network ._detail ._control ._icon-arrow-left{display:none}#_network ._detail ._control ._icon-delete{display:block}}',""]),o.exports=e},8420:function(o,e,n){var r=n(9760),a=n(6214),s=n(8105);e=function(l){return r(l)?a(l)?l.slice():s({},l):l},o.exports=e},8438:function(o,e,n){var r=n(6195),a=n(6167),s=n(5793),l=n(8971);e=function(c,u,h){var f=(s(c)?a:r)(c,u,h);if(!l(f)&&f!==-1)return c[f]},o.exports=e},8534:function(o,e,n){var r=n(5869),a=n(8971),s=n(387);e=r((function(c,u){return a(u)?(c=s(c),!a(l[c])):(l.cssText="",l.cssText=c+":"+u,!!l.length)}),(function(c,u){return c+" "+u}));var l=document.createElement("p").style;o.exports=e},8604:function(o,e,n){var r=n(9100),a=n(3612);e=function(l){l=a(l),r(l,(function(c){(function(u){return getComputedStyle(u,"").getPropertyValue("display")=="none"})(c)&&(c.style.display=(function(u){var h,f;return s[u]||(h=document.createElement(u),document.documentElement.appendChild(h),f=getComputedStyle(h,"").getPropertyValue("display"),h.parentNode.removeChild(h),f=="none"&&(f="block"),s[u]=f),s[u]})(c.nodeName))}))};var s={};o.exports=e},8609:function(o,e,n){var r=n(5169),a=r.getComputedStyle,s=r.document;function l(c,u){return c.right<u.left||c.left>u.right||c.bottom<u.top||c.top>u.bottom}e=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=u.display,f=h===void 0||h,d=u.visibility,p=d!==void 0&&d,g=u.opacity,y=g!==void 0&&g,v=u.size,w=v!==void 0&&v,O=u.viewport,k=O!==void 0&&O,E=u.overflow,I=E!==void 0&&E,G=a(c);if(f){var J=c.tagName;if(J==="BODY"||J==="HTML"||G.position==="fixed"){if(G.display==="none")return!0;for(var Q=c;Q=Q.parentElement;)if(a(Q).display==="none")return!0}else if(c.offsetParent===null)return!0}if(p&&G.visibility==="hidden")return!0;if(y){if(G.opacity==="0")return!0;for(var te=c;te=te.parentElement;)if(a(te).opacity==="0")return!0}var pe=c.getBoundingClientRect();if(w&&(pe.width===0||pe.height===0))return!0;if(k)return l(pe,{top:0,left:0,right:s.documentElement.clientWidth,bottom:s.documentElement.clientHeight});if(I)for(var fe=c;fe=fe.parentElement;){var ee=a(fe).overflow;if((ee==="scroll"||ee==="hidden")&&l(pe,fe.getBoundingClientRect()))return!0}return!1},o.exports=e},8665:function(o,e,n){var r,a=this&&this.__extends||(r=function(c,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(h[d]=f[d])},r(c,u)},function(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=c}r(c,u),c.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}),s=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var l=(function(c){function u(){return c!==null&&c.apply(this,arguments)||this}return a(u,c),u.prototype.trigger=function(h,f){this.emit("message",JSON.stringify({method:h,params:f}))},u})(s(n(2263)).default);e.default=new l},8687:function(o,e,n){(e=n(6314)(!1)).push([o.id,'._container .luna-console{background:var(--background)}._container .luna-console-header{color:var(--link-color);border-bottom-color:var(--border)}._container .luna-console-nesting-level{border-right-color:var(--border)}._container .luna-console-nesting-level::before{border-bottom-color:var(--border)}._container .luna-console-log-container.luna-console-selected .luna-console-log-item{background:var(--contrast)}._container .luna-console-log-container.luna-console-selected .luna-console-log-item:not(.luna-console-error):not(.luna-console-warn){border-color:var(--border)}._container .luna-console-log-item{border-bottom-color:var(--border);color:var(--foreground)}._container .luna-console-log-item a{color:var(--link-color)!important}._container .luna-console-log-item .luna-console-icon-container .luna-console-icon{color:var(--foreground)}._container .luna-console-log-item .luna-console-icon-container .luna-console-icon-error{color:#ef3842}._container .luna-console-log-item .luna-console-icon-container .luna-console-icon-warn{color:#e8a400}._container .luna-console-log-item .luna-console-count{color:var(--select-foreground);background:var(--highlight)}._container .luna-console-log-item.luna-console-warn{color:var(--console-warn-foreground);background:var(--console-warn-background);border-color:var(--console-warn-border)}._container .luna-console-log-item.luna-console-error{background:var(--console-error-background);color:var(--console-error-foreground);border-color:var(--console-error-border)}._container .luna-console-log-item.luna-console-error .luna-console-count{background:var(--console-error-foreground)}._container .luna-console-log-item .luna-console-code .luna-console-key{color:var(--var-color)}._container .luna-console-log-item .luna-console-code .luna-console-number{color:var(--number-color)}._container .luna-console-log-item .luna-console-code .luna-console-null{color:var(--operator-color)}._container .luna-console-log-item .luna-console-code .luna-console-string{color:var(--string-color)}._container .luna-console-log-item .luna-console-code .luna-console-boolean{color:var(--keyword-color)}._container .luna-console-log-item .luna-console-code .luna-console-special{color:var(--operator-color)}._container .luna-console-log-item .luna-console-code .luna-console-keyword{color:var(--keyword-color)}._container .luna-console-log-item .luna-console-code .luna-console-operator{color:var(--operator-color)}._container .luna-console-log-item .luna-console-code .luna-console-comment{color:var(--comment-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-null,._container .luna-console-log-item .luna-console-log-content .luna-console-undefined{color:var(--operator-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-number{color:var(--number-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-boolean{color:var(--keyword-color)}._container .luna-console-log-item .luna-console-log-content .luna-console-regexp,._container .luna-console-log-item .luna-console-log-content .luna-console-symbol{color:var(--var-color)}._container .luna-console-preview .luna-console-key{color:var(--var-color)}._container .luna-console-preview .luna-console-number{color:var(--number-color)}._container .luna-console-preview .luna-console-null{color:var(--operator-color)}._container .luna-console-preview .luna-console-string{color:var(--string-color)}._container .luna-console-preview .luna-console-boolean{color:var(--keyword-color)}._container .luna-console-preview .luna-console-special{color:var(--operator-color)}._container .luna-console-preview .luna-console-keyword{color:var(--keyword-color)}._container .luna-console-preview .luna-console-operator{color:var(--operator-color)}._container .luna-console-preview .luna-console-comment{color:var(--comment-color)}._container .luna-object-viewer{color:var(--primary);font-size:12px!important}._container .luna-object-viewer-null{color:var(--operator-color)}._container .luna-object-viewer-regexp,._container .luna-object-viewer-string{color:var(--string-color)}._container .luna-object-viewer-number{color:var(--number-color)}._container .luna-object-viewer-boolean{color:var(--keyword-color)}._container .luna-object-viewer-special{color:var(--operator-color)}._container .luna-object-viewer-key,._container .luna-object-viewer-key-lighter{color:var(--var-color)}._container .luna-object-viewer-expanded:before{border-color:transparent;border-top-color:var(--foreground)}._container .luna-object-viewer-collapsed:before{border-top-color:transparent;border-left-color:var(--foreground)}._container .luna-notification{pointer-events:none!important;padding:10px;z-index:1000}._container .luna-notification-item{z-index:500;color:var(--foreground);background:var(--background);box-shadow:none;padding:5px 10px;border:1px solid var(--border)}._container .luna-notification-upper{margin-bottom:10px}._container .luna-notification-lower{margin-top:10px}._container .luna-data-grid{color:var(--foreground);background:var(--background);border-color:var(--border)}._container .luna-data-grid td,._container .luna-data-grid th{border-color:var(--border)}._container .luna-data-grid th{background:var(--darker-background)}._container .luna-data-grid th.luna-data-grid-sortable:active,._container .luna-data-grid th.luna-data-grid-sortable:hover{color:var(--select-foreground);background:var(--highlight)}._container .luna-data-grid .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selectable:hover,._container .luna-data-grid .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--highlight)}._container .luna-data-grid .luna-data-grid-data-container tr:nth-child(even){background:var(--contrast)}._container .luna-data-grid:focus .luna-data-grid-data-container .luna-data-grid-node.luna-data-grid-selected{background:var(--accent)}._container .luna-dom-viewer{color:var(--foreground)}._container .luna-dom-viewer .luna-dom-viewer-html-tag,._container .luna-dom-viewer .luna-dom-viewer-tag-name{color:var(--tag-name-color)}._container .luna-dom-viewer .luna-dom-viewer-attribute-name{color:var(--attribute-name-color)}._container .luna-dom-viewer .luna-dom-viewer-attribute-value{color:var(--string-color)}._container .luna-dom-viewer .luna-dom-viewer-html-comment{color:var(--comment-color)}._container .luna-dom-viewer .luna-dom-viewer-tree-item:hover .luna-dom-viewer-selection{background:var(--contrast)}._container .luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected .luna-dom-viewer-selection{background:var(--highlight)}._container .luna-dom-viewer .luna-dom-viewer-tree-item.luna-dom-viewer-selected:focus .luna-dom-viewer-selection{background:var(--accent);opacity:.2}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-key{color:var(--var-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-number{color:var(--number-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-null{color:var(--operator-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-string{color:var(--string-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-boolean{color:var(--keyword-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-special{color:var(--operator-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-keyword{color:var(--keyword-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-operator{color:var(--operator-color)}._container .luna-dom-viewer .luna-dom-viewer-text-node .luna-dom-viewer-comment{color:var(--comment-color)}._container .luna-dom-viewer-children{margin:0;padding-left:15px!important}._container ._inline .luna-modal,._container ._inline .luna-notification{position:absolute}._container .luna-modal{z-index:9999999}._container .luna-modal-body,._container .luna-modal-input{color:var(--foreground);background:var(--background)}._container .luna-modal-body{border-color:var(--border)}._container .luna-modal-input{-webkit-user-select:text!important;-moz-user-select:text!important;-ms-user-select:text!important;user-select:text!important;border-color:var(--border)}._container .luna-modal-button-group .luna-modal-secondary{border-color:var(--border);color:var(--foreground);background:var(--background)}._container .luna-modal-button-group .luna-modal-primary{background:var(--accent)}._container .luna-modal-button-group .luna-modal-button:active::before{background:var(--accent)}._container .luna-tab{position:absolute;left:0;top:0;color:var(--foreground);background:var(--darker-background)}._container .luna-tab-tabs-container{border-color:var(--border)}._container .luna-tab-item.luna-tab-selected,._container .luna-tab-item:hover{background:var(--highlight);color:var(--select-foreground)}._container .luna-tab-slider{background:var(--accent)}._container .luna-text-viewer{color:var(--foreground);border:none;border-bottom:1px solid var(--border);background:var(--background);font-size:12px}._container .luna-text-viewer .luna-text-viewer-line-text{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}._container .luna-text-viewer .luna-text-viewer-line-text *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}._container .luna-text-viewer .luna-text-viewer-copy,._container .luna-text-viewer .luna-text-viewer-line-number{border-color:var(--border)}._container .luna-text-viewer .luna-text-viewer-copy .luna-text-viewer-icon-check{color:var(--accent)}._container .luna-text-viewer .luna-text-viewer-copy{background-color:var(--background)}._container .luna-setting{color:var(--foreground);background:var(--background)}._container .luna-setting-item.luna-setting-selected,._container .luna-setting-item:hover{background:var(--darker-background)}._container .luna-setting-item.luna-setting-selected:focus{outline:0}._container .luna-setting-item-title{font-size:14px}._container .luna-setting-item-separator{border-color:var(--border)}._container .luna-setting-item-checkbox input{border-color:var(--border)}._container .luna-setting-item-checkbox input:checked{background-color:var(--accent);border-color:var(--accent)}._container .luna-setting-item-select .luna-setting-select select{color:var(--foreground);border-color:var(--border);background:var(--background)}._container .luna-setting-item-select .luna-setting-select:after{border-top-color:var(--foreground)}._container .luna-setting-item-button button{color:var(--accent);background:var(--background);border-color:var(--border)}._container .luna-setting-item-button button:active,._container .luna-setting-item-button button:hover{background:var(--darker-background)}._container .luna-setting-item-button button:active{border:1px solid var(--accent)}._container .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar{background:var(--border)}._container .luna-setting-item-number .luna-setting-range-container .luna-setting-range-track .luna-setting-range-track-bar .luna-setting-range-track-progress{background:var(--accent)}._container .luna-setting-item-number .luna-setting-range-container input::-webkit-slider-thumb{border-color:var(--border);background:radial-gradient(circle at center,var(--dark) 0,var(--dark) 15%,var(--light) 22%,var(--light) 100%)}._container .luna-box-model{background:var(--background)}._container .luna-box-model-border,._container .luna-box-model-content,._container .luna-box-model-margin,._container .luna-box-model-padding,._container .luna-box-model-position{color:var(--foreground);background:var(--background)}._container{min-width:320px;pointer-events:none;position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999999;color:var(--foreground);font-family:-apple-system,system-ui,BlinkMacSystemFont,".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande","Segoe UI",Tahoma,sans-serif;font-size:14px;direction:ltr}._container._dark{color-scheme:dark}._container *{box-sizing:border-box;pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-text-size-adjust:none}._container ul{list-style:none;padding:0;margin:0}._container h1,._container h2,._container h3,._container h4{margin:0}._container h2{font-size:14px}._container h2 [class*=" _icon-"],._container h2 [class^=icon-]{font-weight:400}._container._inline{position:static}._hidden{display:none}._icon-disabled{opacity:.5;pointer-events:none;cursor:default!important}._icon-disabled:active{color:inherit!important}._tag-name-color{color:var(--tag-name-color)}._function-color{color:var(--function-color)}._attribute-name-color{color:var(--attribute-name-color)}._operator-color{color:var(--operator-color)}._string-color{color:var(--string-color)}',""]),o.exports=e},8734:function(o,e,n){var r=n(2717),a=n(1738),s=n(6026),l=n(8),c=n(928),u=n(9848);e=r({initialize:function(y){a(y)&&(y=e.parse(y)),this.model=y.model,this.val=y.val},toRgb:function(){var y=this.val;this.model==="hsl"&&(y=c(y));var v="rgba";return y[3]===1&&(v="rgb",y=y.slice(0,3)),v+"("+y.join(", ")+")"},toHex:function(){var y=this.val;this.model==="hsl"&&(y=c(y));var v=u.encode(y.slice(0,3));return v[0]===v[1]&&v[2]===v[3]&&v[4]===v[5]&&(v=v[0]+v[2]+v[5]),"#"+v},toHsl:function(){var y=this.val;this.model==="rgb"&&(y=l(y));var v="hsla";return y[3]===1&&(v="hsl",y=y.slice(0,3)),y[1]=y[1]+"%",y[2]=y[2]+"%",v+"("+y.join(", ")+")"}},{parse:function(y){var v,w,O=[0,0,0,1],k="rgb";if(w=y.match(h))for(w=w[1],v=0;v<3;v++)O[v]=parseInt(w[v]+w[v],16);else if(w=y.match(f))for(w=w[1],v=0;v<3;v++){var E=2*v;O[v]=parseInt(w.slice(E,E+2),16)}else if(w=y.match(d)){for(v=0;v<3;v++)O[v]=parseInt(w[v+1],0);w[4]&&(O[3]=parseFloat(w[4]))}else if(w=y.match(p)){for(v=0;v<3;v++)O[v]=Math.round(2.55*parseFloat(w[v+1]));w[4]&&(O[3]=parseFloat(w[4]))}else(w=y.match(g))&&(k="hsl",O=[(parseFloat(w[1])%360+360)%360,s(parseFloat(w[2]),0,100),s(parseFloat(w[3]),0,100),s(parseFloat(w[4]),0,1)]);return{val:O,model:k}}});var h=/^#([a-fA-F0-9]{3})$/,f=/^#([a-fA-F0-9]{6})$/,d=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,p=/^rgba?\(\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/,g=/^hsla?\(\s*([+-]?\d*[.]?\d+)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?[\d.]+)\s*)?\)$/;o.exports=e},8757:function(o,e,n){var r,a=this&&this.__extends||(r=function(h,f){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(d[g]=p[g])},r(h,f)},function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function d(){this.constructor=h}r(h,f),h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}),s=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var l=s(n(2263)),c=s(n(9100)),u=(function(h){function f(){var d=h.call(this)||this;return d.observer=new MutationObserver((function(p){(0,c.default)(p,(function(g){return d.handleMutation(g)}))})),d}return a(f,h),f.prototype.observe=function(d){this.observer.observe(d,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},f.prototype.disconnect=function(){this.observer.disconnect()},f.prototype.handleMutation=function(d){d.type==="attributes"?this.emit("attributes",d.target,d.attributeName):d.type==="childList"?this.emit("childList",d.target,d.addedNodes,d.removedNodes):d.type==="characterData"&&this.emit("characterData",d.target)},f})(l.default);e.default=new u},8785:function(o,e){e=function(){for(var n=arguments,r=n[0],a=1,s=n.length;a<s;a++)n[a]<r&&(r=n[a]);return r},o.exports=e},8796:function(o,e,n){var r=n(9760),a=n(3957);e=function(s){return r(s)&&a(s.then)&&a(s.catch)},o.exports=e},8862:function(o,e,n){var r=n(1738);function a(l,c){var u,h=(function(f){function d(O,k){return O===k||(O.nodeType===Node.ELEMENT_NODE&&k.nodeType===Node.ELEMENT_NODE?O.localName===k.localName:O.nodeType===k.nodeType||(O.nodeType===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:O.nodeType)===(k.nodeType===Node.CDATA_SECTION_NODE?Node.TEXT_NODE:k.nodeType))}var p,g=f.parentNode?f.parentNode.children:null;if(!g)return 0;for(var y=0;y<g.length;++y)if(d(f,g[y])&&g[y]!==f){p=!0;break}if(!p)return 0;for(var v=1,w=0;w<g.length;++w)if(d(f,g[w])){if(g[w]===f)return v;++v}return-1})(l);if(h===-1)return null;switch(l.nodeType){case Node.ELEMENT_NODE:if(c&&l.getAttribute("id"))return new s('//*[@id="'+l.getAttribute("id")+'"]',!0);u=l.localName;break;case Node.ATTRIBUTE_NODE:u="@"+l.nodeName();break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:u="text()";break;case Node.PROCESSING_INSTRUCTION_NODE:u="processing-instruction()";break;case Node.COMMENT_NODE:u="comment()";break;case Node.DOCUMENT_NODE:default:u=""}return h>0&&(u+="["+h+"]"),new s(u,l.nodeType===Node.DOCUMENT_NODE)}e=function(l,c){return r(l)?(function(u){for(var h=[],f=document.evaluate(u,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),d=0;d<f.snapshotLength;d++)h.push(f.snapshotItem(d));return h})(l):(function(u){var h=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(u.nodeType===Node.DOCUMENT_NODE)return"/";for(var f=[],d=u;d;){var p=a(d,h);if(!p||(f.push(p),p.optimized))break;d=d.parentNode}return f.reverse(),(f.length&&f[0].optimized?"":"/")+f.join("/")})(l,c)};var s=n(2717)({initialize:function(l,c){this.value=l,this.optimized=c||!1},toString:function(){return this.value}});o.exports=e},8966:function(o,e,n){var r=n(2717),a=n(3249);function s(){return!0}function l(){return!1}function c(h){var f,d=this.events[h.type],p=u.call(this,h,d);h=new e.Event(h);for(var g,y,v=0;(y=p[v++])&&!h.isPropagationStopped();)for(h.curTarget=y.el,g=0;(f=y.handlers[g++])&&!h.isImmediatePropagationStopped();)f.handler.apply(y.el,[h])===!1&&(h.preventDefault(),h.stopPropagation())}function u(h,f){var d,p,g,y,v=h.target,w=[],O=f.delegateCount;if(v.nodeType)for(;v!==this;v=v.parentNode||this){for(p=[],y=0;y<O;y++)p[d=(g=f[y]).selector+" "]===void 0&&(p[d]=a(this.querySelectorAll(d),v)),p[d]&&p.push(g);p.length&&w.push({el:v,handlers:p})}return O<f.length&&w.push({el:this,handlers:f.slice(O)}),w}e={add:function(h,f,d,p){var g,y={selector:d,handler:p};h.events||(h.events={}),(g=h.events[f])||((g=h.events[f]=[]).delegateCount=0,h.addEventListener(f,(function(){c.apply(h,arguments)}),!1)),d?g.splice(g.delegateCount++,0,y):g.push(y)},remove:function(h,f,d,p){var g=h.events;if(g&&g[f])for(var y,v=g[f],w=v.length;w--;)y=v[w],d&&y.selector!=d||y.handler!=p||(v.splice(w,1),y.selector&&v.delegateCount--)},Event:r({className:"Event",initialize:function(h){this.origEvent=h},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var h=this.origEvent;this.isDefaultPrevented=s,h&&h.preventDefault&&h.preventDefault()},stopPropagation:function(){var h=this.origEvent;this.isPropagationStopped=s,h&&h.stopPropagation&&h.stopPropagation()},stopImmediatePropagation:function(){var h=this.origEvent;this.isImmediatePropagationStopped=s,h&&h.stopImmediatePropagation&&h.stopImmediatePropagation(),this.stopPropagation()}})},o.exports=e},8971:function(o,e){e=function(n){return n===void 0},o.exports=e},8996:function(o,e,n){e=n(3752)(n(7542),2),o.exports=e},9e3:function(o,e,n){var r=n(1738);e=function(a){return r(a)?(a=a.toLowerCase())!=="0"&&a!==""&&a!=="false":!!a},o.exports=e},9041:function(o,e){function n(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}e=typeof process$1=="object"&&process$1.nextTick?process$1.nextTick:typeof setImmediate=="function"?function(r){setImmediate(n(r))}:function(r){setTimeout(n(r),0)},o.exports=e},9100:function(o,e,n){var r=n(5793),a=n(3145),s=n(6459);e=function(l,c,u){var h,f;if(c=s(c,u),r(l))for(h=0,f=l.length;h<f;h++)c(l[h],h,l);else{var d=a(l);for(h=0,f=d.length;h<f;h++)c(l[d[h]],d[h],l)}return l},o.exports=e},9111:function(o,e,n){(e=n(6314)(!1)).push([o.id,'#_elements ._elements{position:absolute;width:100%;height:100%;left:0;top:0;padding-top:40px;padding-bottom:24px;font-size:14px}#_elements ._control{padding:10px 0;position:absolute;width:100%;height:40px;left:0;top:0;cursor:default;font-size:0;background:var(--darker-background);color:var(--primary);line-height:20px;border-bottom:1px solid var(--border)}#_elements ._control [class*=" _icon-"],#_elements ._control [class^=eruda-icon-]{display:inline-block;padding:10px;font-size:16px;position:absolute;top:0;cursor:pointer;transition:color .3s}#_elements ._control [class*=" _icon-"]._active,#_elements ._control [class*=" _icon-"]:active,#_elements ._control [class^=eruda-icon-]._active,#_elements ._control [class^=eruda-icon-]:active{color:var(--accent)}#_elements ._control ._icon-eye{right:0}#_elements ._control ._icon-copy{right:23px}#_elements ._control ._icon-delete{right:46px}#_elements ._dom-viewer-container{overflow:auto;-webkit-overflow-scrolling:touch;height:100%;padding:5px 0}#_elements ._crumbs{position:absolute;width:100%;height:24px;left:0;top:0;top:initial;line-height:24px;bottom:0;border-top:1px solid var(--border);background:var(--darker-background);color:var(--primary);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#_elements ._crumbs li{cursor:pointer;padding:0 7px;display:inline-block}#_elements ._crumbs li:hover,#_elements ._crumbs li:last-child{background:var(--highlight)}#_elements ._crumbs ._icon-arrow-right{font-size:12px;position:relative;top:1px}#_elements ._detail{position:absolute;width:100%;height:100%;left:0;top:0;z-index:10;padding-top:40px;display:none;background:var(--background)}#_elements ._detail ._control{padding:10px 35px}#_elements ._detail ._control ._element-name{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:inline-block}#_elements ._detail ._control ._icon-arrow-left{left:0}#_elements ._detail ._control ._icon-refresh{right:0}#_elements ._detail ._element{overflow-y:auto;-webkit-overflow-scrolling:touch;height:100%}#_elements ._section{border-bottom:1px solid var(--border);color:var(--foreground);margin:10px 0}#_elements ._section h2{color:var(--primary);background:var(--darker-background);border-top:1px solid var(--border);padding:10px;line-height:18px;font-size:14px;transition:background-color .3s}#_elements ._section h2 ._btn{margin-left:5px;float:right;color:var(--primary);width:18px;height:18px;font-size:16px;cursor:pointer;transition:color .3s}#_elements ._section h2 ._btn._filter-text{width:auto;max-width:80px;font-size:14px;overflow:hidden;font-weight:400;text-overflow:ellipsis;display:inline-block}#_elements ._section h2 ._btn:active{color:var(--accent)}#_elements ._section h2 ._btn._btn-disabled{color:inherit!important;cursor:default!important;pointer-events:none;opacity:.5}#_elements ._section h2 ._btn._btn-disabled *{pointer-events:none}#_elements ._section h2._active-effect{cursor:pointer}#_elements ._section h2._active-effect:active{background:var(--highlight);color:var(--select-foreground)}#_elements ._attributes{font-size:12px}#_elements ._attributes a{color:var(--link-color)}#_elements ._attributes ._table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}#_elements ._attributes table td{padding:5px 10px}#_elements ._text-content{background:#fff}#_elements ._text-content ._content{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px}#_elements ._style-color{position:relative;top:1px;width:10px;height:10px;border-radius:50%;margin-right:2px;border:1px solid var(--border);display:inline-block}#_elements ._box-model{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;text-align:center;border-bottom:1px solid var(--color)}#_elements ._computed-style{font-size:12px}#_elements ._computed-style a{color:var(--link-color)}#_elements ._computed-style ._table-wrapper{overflow-y:auto;-webkit-overflow-scrolling:touch;max-height:200px;border-top:1px solid var(--border)}#_elements ._computed-style table td{padding:5px 10px}#_elements ._computed-style table td._key{white-space:nowrap;color:var(--var-color)}#_elements ._styles{font-size:12px}#_elements ._styles ._style-wrapper{padding:10px}#_elements ._styles ._style-wrapper ._style-rules{border:1px solid var(--border);padding:10px;margin-bottom:10px}#_elements ._styles ._style-wrapper ._style-rules ._rule{padding-left:2em;word-break:break-all}#_elements ._styles ._style-wrapper ._style-rules ._rule a{color:var(--link-color)}#_elements ._styles ._style-wrapper ._style-rules ._rule span{color:var(--var-color)}#_elements ._styles ._style-wrapper ._style-rules:last-child{margin-bottom:0}#_elements ._listeners{font-size:12px}#_elements ._listeners ._listener-wrapper{padding:10px}#_elements ._listeners ._listener-wrapper ._listener{margin-bottom:10px;overflow:hidden;border:1px solid var(--border)}#_elements ._listeners ._listener-wrapper ._listener ._listener-type{padding:10px;background:var(--darker-background);color:var(--primary)}#_elements ._listeners ._listener-wrapper ._listener ._listener-content li{overflow-x:auto;-webkit-overflow-scrolling:touch;padding:10px;border-top:none}._safe-area #_elements ._elements{padding-bottom:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._crumbs{height:calc(24px + env(safe-area-inset-bottom))}._safe-area #_elements ._element{padding-bottom:calc(0px + env(safe-area-inset-bottom))}@media screen and (min-width:680px){#_elements ._elements{width:50%}#_elements ._elements ._control ._icon-eye{display:none}#_elements ._elements ._control ._icon-copy{right:0}#_elements ._elements ._control ._icon-delete{right:23px}#_elements ._detail{width:50%;left:initial;right:0;border-left:1px solid var(--border)}#_elements ._detail ._control{padding-left:10px}#_elements ._detail ._control ._icon-arrow-left{display:none}}',""]),o.exports=e},9117:function(o,e,n){var r=n(6030),a=n(1738);e=function(u){if(a(u)){var h=u.match(c);return h?r(h[1])*s[h[2]||"ms"]:0}for(var f=u,d="ms",p=0,g=l.length;p<g;p++)if(f>=s[l[p]]){d=l[p];break}return+(f/s[d]).toFixed(2)+d};var s={ms:1,s:1e3};s.m=60*s.s,s.h=60*s.m,s.d=24*s.h,s.y=365.25*s.d;var l=["y","d","h","m","s"],c=/^((?:\d+)?\.?\d+) *(s|m|h|d|y)?$/;o.exports=e},9122:function(o,e,n){var r=n(9760),a=n(3957),s=n(1168);e=function(h){return!!r(h)&&(a(h)?c.test(s(h)):u.test(s(h)))};var l=Object.prototype.hasOwnProperty,c=new RegExp("^"+s(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),u=/^\[object .+?Constructor\]$/;o.exports=e},9186:function(o,e,n){var r=n(769),a=n(9760),s=n(1738),l=n(9100),c=n(8971),u=n(3612);(e=function(h,f,d){if(h=u(h),c(d)&&s(f))return(function(g,y){return g.getAttribute(y)})(h[0],f);var p=f;a(p)||((p={})[f]=d),(function(g,y){l(g,(function(v){l(y,(function(w,O){v.setAttribute(O,w)}))}))})(h,p)}).remove=function(h,f){h=u(h),f=r(f),l(h,(function(d){l(f,(function(p){d.removeAttribute(p)}))}))},o.exports=e},9196:function(o,e,n){var r,a=this&&this.__extends||(r=function(Z,R){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,de){ae.__proto__=de}||function(ae,de){for(var H in de)Object.prototype.hasOwnProperty.call(de,H)&&(ae[H]=de[H])},r(Z,R)},function(Z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function ae(){this.constructor=Z}r(Z,R),Z.prototype=R===null?Object.create(R):(ae.prototype=R.prototype,new ae)}),s=this&&this.__assign||function(){return s=Object.assign||function(Z){for(var R,ae=1,de=arguments.length;ae<de;ae++)for(var H in R=arguments[ae])Object.prototype.hasOwnProperty.call(R,H)&&(Z[H]=R[H]);return Z},s.apply(this,arguments)},l=this&&this.__values||function(Z){var R=typeof Symbol=="function"&&Symbol.iterator,ae=R&&Z[R],de=0;if(ae)return ae.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return Z&&de>=Z.length&&(Z=void 0),{value:Z&&Z[de++],done:!Z}}};throw new TypeError(R?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(e,"__esModule",{value:!0});var u=c(n(7214)),h=n(926),f=n(4725),d=c(n(4095)),p=c(n(5865)),g=c(n(96)),y=c(n(9100)),v=c(n(8734)),w=c(n(9848)),O=c(n(3805)),k=c(n(8105)),E=c(n(387)),I=c(n(3249)),G=c(n(6030)),J=c(n(3019)),Q=c(n(1738));n(3270);var te=(function(Z){function R(ae,de){de===void 0&&(de={});var H=Z.call(this,ae,{compName:"dom-highlighter"},de)||this;return H.overlay=new h.HighlightOverlay(window),H.reset=function(){var ne=document.documentElement.clientWidth,V=document.documentElement.clientHeight;H.overlay.reset({viewportSize:{width:ne,height:V},deviceScaleFactor:1,pageScaleFactor:1,pageZoomFactor:1,emulationScaleFactor:1,scrollX:window.scrollX,scrollY:window.scrollY})},H.initOptions(de,{showRulers:!1,showExtensionLines:!1,showInfo:!0,showStyles:!0,showAccessibilityInfo:!0,colorFormat:"hex",contentColor:"rgba(111, 168, 220, .66)",paddingColor:"rgba(147, 196, 125, .55)",borderColor:"rgba(255, 229, 153, .66)",marginColor:"rgba(246, 178, 107, .66)",monitorResize:!0}),H.overlay.setContainer(ae),H.overlay.setPlatform("mac"),H.redraw=(0,p.default)((function(){H.reset(),H.draw()}),16),H.redraw(),H.bindEvent(),H}return a(R,Z),R.prototype.highlight=function(ae,de){de&&(0,k.default)(this.options,de),this.target=ae,ae instanceof HTMLElement&&this.options.monitorResize&&(this.resizeSensor&&this.resizeSensor.destroy(),this.resizeSensor=new d.default(ae),this.resizeSensor.addListener(this.redraw)),this.redraw()},R.prototype.hide=function(){this.target=null,this.redraw()},R.prototype.intercept=function(ae){this.interceptor=ae},R.prototype.destroy=function(){window.removeEventListener("resize",this.redraw),window.removeEventListener("scroll",this.redraw),this.resizeSensor&&this.resizeSensor.destroy(),Z.prototype.destroy.call(this)},R.prototype.draw=function(){var ae=this.target;ae&&(ae instanceof Text?this.drawText(ae):this.drawElement(ae))},R.prototype.drawText=function(ae){var de=this.options,H=document.createRange();H.selectNode(ae);var ne=H.getBoundingClientRect(),V=ne.left,Ce=ne.top,ge=ne.width,Te=ne.height;H.detach();var Ke={paths:[{path:this.rectToPath({left:V,top:Ce,width:ge,height:Te}),fillColor:ee(de.contentColor),name:"content"}],showExtensionLines:de.showExtensionLines,showRulers:de.showRulers};de.showInfo&&(Ke.elementInfo={tagName:"#text",nodeWidth:ge,nodeHeight:Te}),this.overlay.drawHighlight(Ke)},R.prototype.drawElement=function(ae){var de={paths:this.getPaths(ae),showExtensionLines:this.options.showExtensionLines,showRulers:this.options.showRulers,colorFormat:this.options.colorFormat};if(this.options.showInfo&&(de.elementInfo=this.getElementInfo(ae)),this.interceptor){var H=this.interceptor(de);H&&(de=H)}this.overlay.drawHighlight(de)},R.prototype.getPaths=function(ae){var de=this.options,H=window.getComputedStyle(ae),ne=ae.getBoundingClientRect(),V=ne.left,Ce=ne.top,ge=ne.width,Te=ne.height,Ke=function(ze){return(0,f.pxToNum)(H.getPropertyValue(ze))},Ye=Ke("margin-left"),Qe=Ke("margin-right"),rt=Ke("margin-top"),vt=Ke("margin-bottom"),it=Ke("border-left-width"),yt=Ke("border-right-width"),xt=Ke("border-top-width"),Ct=Ke("border-bottom-width"),St=Ke("padding-left"),Rt=Ke("padding-right"),oe=Ke("padding-top"),je=Ke("padding-bottom");return[{path:this.rectToPath({left:V+it+St,top:Ce+xt+oe,width:ge-it-St-yt-Rt,height:Te-xt-oe-Ct-je}),fillColor:ee(de.contentColor),name:"content"},{path:this.rectToPath({left:V+it,top:Ce+xt,width:ge-it-yt,height:Te-xt-Ct}),fillColor:ee(de.paddingColor),name:"padding"},{path:this.rectToPath({left:V,top:Ce,width:ge,height:Te}),fillColor:ee(de.borderColor),name:"border"},{path:this.rectToPath({left:V-Ye,top:Ce-rt,width:ge+Ye+Qe,height:Te+rt+vt}),fillColor:ee(de.marginColor),name:"margin"}]},R.prototype.getElementInfo=function(ae){var de=ae.getBoundingClientRect(),H=de.width,ne=de.height,V=ae.getAttribute("class")||"";V=V.split(/\s+/).map((function(ge){return"."+ge})).join("");var Ce={tagName:(0,g.default)(ae.tagName),className:V,idValue:ae.id,nodeWidth:H,nodeHeight:ne};return this.options.showStyles&&(Ce.style=this.getStyles(ae)),this.options.showAccessibilityInfo&&(0,k.default)(Ce,this.getAccessibilityInfo(ae)),Ce},R.prototype.getStyles=function(ae){for(var de=window.getComputedStyle(ae),H=!1,ne=ae.childNodes,V=0,Ce=ne.length;V<Ce;V++)ne[V].nodeType===3&&(H=!0);var ge=[];return H&&ge.push("color","font-family","font-size","line-height"),ge.push("padding","margin","background-color"),N(de,ge)},R.prototype.getAccessibilityInfo=function(ae){var de=window.getComputedStyle(ae);return s({showAccessibilityInfo:!0,contrast:s({contrastAlgorithm:"aa",textOpacity:.1},N(de,["font-size","font-weight","background-color","text-opacity"],!0)),isKeyboardFocusable:this.isFocusable(ae)},this.getAccessibleNameAndRole(ae))},R.prototype.isFocusable=function(ae){var de=(0,g.default)(ae.tagName);if((0,I.default)(["a","button","input","textarea","select","details"],de))return!0;var H=ae.getAttribute("tabindex");return!!(H&&(0,G.default)(H)>-1)},R.prototype.getAccessibleNameAndRole=function(ae){var de=ae.getAttribute("labelledby")||ae.getAttribute("aria-label"),H=ae.getAttribute("role"),ne=(0,g.default)(ae.tagName);return J.default.forEach((function(V){var Ce,ge;if(!H){var Te=V[0],Ke=V[2];if(Te===ne){if(Ke)try{for(var Ye=l(Ke),Qe=Ye.next();!Qe.done;Qe=Ye.next()){var rt=Qe.value;if(ae.getAttribute(rt[0])!==rt[1])return}}catch(vt){Ce={error:vt}}finally{try{Qe&&!Qe.done&&(ge=Ye.return)&&ge.call(Ye)}finally{if(Ce)throw Ce.error}}H=V[1]}}})),{accessibleName:de||ae.getAttribute("title")||"",accessibleRole:H||"generic"}},R.prototype.bindEvent=function(){var ae=this;window.addEventListener("resize",this.redraw),window.addEventListener("scroll",this.redraw),this.on("optionChange",(function(){return ae.redraw()}))},R.prototype.rectToPath=function(ae){var de=ae.left,H=ae.top,ne=ae.width,V=ae.height,Ce=[];return Ce.push("M",de,H),Ce.push("L",de+ne,H),Ce.push("L",de+ne,H+V),Ce.push("L",de,H+V),Ce.push("Z"),Ce},R})(u.default);e.default=te,o.exports=te,o.exports.default=te;var pe=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,fe=/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/;function ee(Z){return(0,Q.default)(Z)?Z:Z.a?"rgba(".concat(Z.r,", ").concat(Z.g,", ").concat(Z.b,", ").concat(Z.a,")"):"rgb(".concat(Z.r,", ").concat(Z.g,", ").concat(Z.b,")")}function N(Z,R,ae){ae===void 0&&(ae=!1);var de={};return(0,y.default)(R,(function(H){var ne,V=Z[H==="text-opacity"?"color":H];V&&(ne=V,(pe.test(ne)||fe.test(ne))&&(V=(function(Ce){var ge=v.default.parse(Ce),Te=ge.val[3]||1;return ge.val=ge.val.slice(0,3),ge.val.push(Math.round(255*Te)),"#"+(0,O.default)(w.default.encode(ge.val))})(V),H==="text-opacity"&&(V=V.slice(7),V=w.default.decode(V)[0]/255)),ae&&(H=(0,E.default)(H)),de[H]=V)})),de}},9350:function(o,e){e=function(n){return typeof n=="symbol"},o.exports=e},9389:function(o,e,n){var r=n(5902),a=n(3145);e=function(f){return c.test(f)?f.replace(u,h):f};var s=n(5282)(r.map),l="(?:"+a(s).join("|")+")",c=new RegExp(l),u=new RegExp(l,"g");function h(f){return s[f]}o.exports=e},9405:function(o,e,n){var r=n(5333),a=n(9651);e=function(s,l){return l==null&&s.trim?s.trim():r(a(s,l),l)},o.exports=e},9410:function(o,e,n){var r=n(9993);e=function(a,s){s=s||r;var l=new Image;l.onload=function(){s(null,l)},l.onerror=function(c){s(c)},l.src=a},o.exports=e},9464:function(o,e,n){var r=n(5793),a=n(6214),s=n(1738),l=n(5132),c=n(3145);e=function(u){return u==null||(r(u)&&(a(u)||s(u)||l(u))?u.length===0:c(u).length===0)},o.exports=e},9548:function(o,e,n){var r=n(383),a=n(7005),s=n(6214),l=n(9100),c=n(1738),u=n(5154),h=function(d){return d.replace(/&quot;/g,'"')},f=function(d){return d.replace(/"/g,"&quot;")};e={parse:function(d){var p=[],g=new a;return r(d,{start:function(y,v){v=u(v,(function(w){return h(w)})),g.push({tag:y,attrs:v})},end:function(){var y=g.pop();if(g.size){var v=g.peek();s(v.content)||(v.content=[]),v.content.push(y)}else p.push(y)},comment:function(y){var v="<!--".concat(y,"-->"),w=g.peek();w?(w.content||(w.content=[]),w.content.push(v)):p.push(v)},text:function(y){var v=g.peek();v?(v.content||(v.content=[]),v.content.push(y)):p.push(y)}}),p},stringify:function d(p){var g="";return s(p)?l(p,(function(y){return g+=d(y)})):c(p)?g=p:(g+="<".concat(p.tag),l(p.attrs,(function(y,v){return g+=" ".concat(v,'="').concat(f(y),'"')})),g+=">",p.content&&(g+=d(p.content)),g+="</".concat(p.tag,">")),g}},o.exports=e},9651:function(o,e){e=function(n,r){if(r==null){if(n.trimRight)return n.trimRight();r=` \r
	\f\v`}for(var a,s,l=n.length-1,c=r.length,u=!0;u&&l>=0;)for(u=!1,a=-1,s=n.charAt(l);++a<c;)if(s===r[a]){u=!0,l--;break}return l>=0?n.substring(0,l+1):""},o.exports=e},9756:function(o,e){e=function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.defComparator,a=0,s=n.length;a<s-1;a++)if(r(n[a],n[a+1])>0)return!1;return!0},e.defComparator=function(n,r){return n<r?-1:n>r?1:0},o.exports=e},9760:function(o,e){e=function(n){var r=typeof n;return!!n&&(r==="function"||r==="object")},o.exports=e},9848:function(o,e,n){var r=n(6024);e={encode:function(a){for(var s=[],l=0,c=a.length;l<c;l++){var u=a[l];s.push((u>>>4).toString(16)),s.push((15&u).toString(16))}return s.join("")},decode:function(a){var s=[],l=a.length;r(l)&&l--;for(var c=0;c<l;c+=2)s.push(parseInt(a.substr(c,2),16));return s}},o.exports=e},9861:function(o,e,n){(e=n(6314)(!1)).push([o.id,"#_snippets{overflow-y:auto;-webkit-overflow-scrolling:touch;padding:10px}#_snippets ._section{margin-bottom:10px;border:1px solid var(--border);overflow:hidden;cursor:pointer}#_snippets ._section:active ._name{background:var(--highlight);color:var(--select-foreground)}#_snippets ._section ._name{padding:10px;line-height:18px;color:var(--primary);background:var(--darker-background);transition:background-color .3s}#_snippets ._section ._name ._btn{margin-left:10px;float:right;text-align:center;width:18px;height:18px;font-size:12px}#_snippets ._section ._description{font-size:12px;color:var(--foreground);padding:10px;transition:background-color .3s}._safe-area #_snippets{padding-bottom:calc(10px + env(safe-area-inset-bottom))}",""]),o.exports=e},9893:function(o,e,n){var r=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.getOrCreateNodeId=y,e.clear=function(){d.clear(),p.clear()},e.getNodeId=function(E){return p.get(E)},e.wrap=v,e.getChildNodes=w,e.getPreviousNode=function(E){var I=E.previousSibling;if(I){for(;!k(I)&&I.previousSibling;)I=I.previousSibling;if(I&&k(I))return I}},e.filterNodes=O,e.isValidNode=k,e.getNode=function(E){var I=d.get(E);if(!I||I.nodeType===10||I.nodeType===11)throw(0,f.createErr)(-32e3,"Could not find node with given id");return I};var a=r(n(3915)),s=r(n(2571)),l=r(n(9100)),c=r(n(9405)),u=r(n(3249)),h=r(n(8105)),f=n(916),d=new Map,p=new Map,g=1;function y(E){var I=p.get(E);return I||(I=g++,p.set(E,I),d.set(I,E),I)}function v(E,I){var G=(I===void 0?{}:I).depth,J=G===void 0?1:G,Q=y(E),te={nodeName:E.nodeName,nodeType:E.nodeType,localName:E.localName||"",nodeValue:E.nodeValue||"",nodeId:Q,backendNodeId:Q};if(E.parentNode&&(te.parentId=y(E.parentNode)),E.nodeType===10)return(0,h.default)(te,{publicId:"",systemId:""});if(E.attributes){var pe=[];(0,l.default)(E.attributes,(function(N){var Z=N.name,R=N.value;return pe.push(Z,R)})),te.attributes=pe}E.shadowRoot?te.shadowRoots=[v(E.shadowRoot,{depth:1})]:E.chobitsuShadowRoot&&(te.shadowRoots=[v(E.chobitsuShadowRoot,{depth:1})]),(function(N){return window.ShadowRoot?N instanceof ShadowRoot:!1})(E)&&(te.shadowRootType=E.mode||"user-agent");var fe=O(E.childNodes);te.childNodeCount=fe.length;var ee=te.childNodeCount===1&&fe[0].nodeType===3;return(J>0||ee)&&(te.children=w(E,J)),te}function w(E,I){var G=O(E.childNodes);return(0,a.default)(G,(function(J){return v(J,{depth:I-1})}))}function O(E){return s.default(E,(function(I){return k(I)}))}function k(E){if(E.nodeType===1){var I=E.getAttribute("class")||"";if((0,u.default)(I,"__chobitsu-hide__")||(0,u.default)(I,"html2canvas-container"))return!1}var G=!(E.nodeType===3&&(0,c.default)(E.nodeValue||"")==="");return G&&E.parentNode?k(E.parentNode):G}},9907:function(o,e,n){(e=n(6314)(!1)).push([o.id,"@font-face{font-family:luna-object-viewer-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAS8AAsAAAAAB7QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAGEAAACMISgl+k9TLzIAAAFsAAAAPQAAAFZLxUkWY21hcAAAAawAAADWAAACdBU42qdnbHlmAAAChAAAAC4AAAAwabU7V2hlYWQAAAK0AAAALwAAADZzjr4faGhlYQAAAuQAAAAYAAAAJAFyANlobXR4AAAC/AAAABAAAABAAZAAAGxvY2EAAAMMAAAAEAAAACIAtACobWF4cAAAAxwAAAAfAAAAIAEbAA9uYW1lAAADPAAAASkAAAIWm5e+CnBvc3QAAARoAAAAUwAAAHZW8MNZeJxNjTsOQFAQRc/z/+sV1mABohKV0gZeJRJR2X9cT4RJZu7nFIMBMjoGvHGaF6rdngcNAc/c/O/Nvq2W5E1igdNE2zv1iGh1c5FQPlYXUlJRyxt9+/pUKadQa/AveGEGZQAAAHicY2BkkGScwMDKwMBQx9ADJGWgdAIDJ4MxAwMTAyszA1YQkOaawnCAQfcjE8MJIFcITDIwMIIIAFqDCGkAAAB4nM2STQ4BQRCFv54ZP8MwFhYW4gQcShBsSERi50BWDuFCcwJedddKRGKnOt8k9aanqudVAy0gF3NRQLgTsLhJDVHP6UW94Kp8zEhKwYIlG/YcOXHm0mTPp96aumLLwdUQ1fcIqmJrwpSZL+iqak5JmyE1Ayr1bdGhr/2ZPmp/qPQtuj/uJzqQl+pfDyypesQD6AT/ElV8PjyrMccT9rdLR3PUFBI227VTio1jbm6dodg5VnPvmAsHxzofHfmi+Sbs/pwdWcXFkWdNSNg9arIE2QufuSCyAAB4nGNgZACBlQzTGZgYGMyVxVc2O073AIpAxHsYloHFRc2dPZY2OTIwAACmEQesAAB4nGNgZGBgAOINe2b6x/PbfGXgZjgBFIjifLyvAUEDwUqGZUCSg4EJxAEAUn4LLAB4nGNgZGBgOMHAACdXMjAyoAIBADizAkx4nGNgAIITUEwGAABZUAGReJxjYAACHgYJ3BAAE94BXXicY2BkYGAQYGBmANEMDExAzAWEDAz/wXwGAApcASsAeJxlkD1uwkAUhMdgSAJSghQpKbNVCiKZn5IDQE9Bl8KYtTGyvdZ6QaLLCXKEHCGniHKCHChj82hgLT9/M2/e7soABviFh3p5uG1qvVq4oTpxm/Qg7JOfhTvo40W4S38o3MMbpsJ9POKdO3j+HZ0BSuEW7vEh3Kb/KeyTv4Q7eMK3cJf+j3APK/wJ9/HqDdPIFLEp3FIn+yy0Z3n+rrStUlOoSTA+WwtdaBs6vVHro6oOydS5WMXW5GrOrs4yo0prdjpywda5cjYaxeIHkcmRIoJBgbipDktoJNgjQwh71b3UK6YtKvq1VpggwPgqtWCqaJIhlcaGyTWOrBUOPG1K1zGt+FrO5KS5zGreJCMr/u+6t6MT0Q+wbaZKzDDiE1/kg+YO+T89EV6oAAAAeJxdxjkOgCAUANE/uOOGB+FQBIjaaEJIuL6FsfE1M6Lk9fXPoKioaWjp6BnQjEzMLKwYNtHepZhtuMs1vpvO/ch4HIlIxhK4KVyc7BwiD8nvDlkA') format('woff')}[class*=' luna-object-viewer-icon-'],[class^=luna-object-viewer-icon-]{display:inline-block;font-family:luna-object-viewer-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.luna-object-viewer-icon-caret-down:before{content:'\\f101'}.luna-object-viewer-icon-caret-right:before{content:'\\f102'}.luna-object-viewer{overflow-x:auto;-webkit-overflow-scrolling:touch;overflow-y:hidden;cursor:default;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;line-height:1.2;min-height:100%;color:#333;list-style:none!important}.luna-object-viewer ul{list-style:none!important;padding:0!important;padding-left:12px!important;margin:0!important}.luna-object-viewer li{position:relative;white-space:nowrap;line-height:16px;min-height:16px}.luna-object-viewer>li>.luna-object-viewer-key{display:none}.luna-object-viewer span{position:static!important}.luna-object-viewer li .luna-object-viewer-collapsed~.luna-object-viewer-close:before{color:#999}.luna-object-viewer-array .luna-object-viewer-object .luna-object-viewer-key{display:inline}.luna-object-viewer-null{color:#5e5e5e}.luna-object-viewer-regexp,.luna-object-viewer-string{color:#c41a16}.luna-object-viewer-number{color:#1c00cf}.luna-object-viewer-boolean{color:#0d22aa}.luna-object-viewer-special{color:#5e5e5e}.luna-object-viewer-key,.luna-object-viewer-key-lighter{color:#881391}.luna-object-viewer-key-lighter{opacity:.6}.luna-object-viewer-key-special{color:#5e5e5e}.luna-object-viewer-collapsed .luna-object-viewer-icon,.luna-object-viewer-expanded .luna-object-viewer-icon{position:absolute!important;left:-12px;color:#727272;font-size:12px}.luna-object-viewer-icon-caret-right{top:0}.luna-object-viewer-icon-caret-down{top:1px}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-down{display:inline}.luna-object-viewer-expanded>.luna-object-viewer-icon-caret-right{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-down{display:none}.luna-object-viewer-collapsed>.luna-object-viewer-icon-caret-right{display:inline}.luna-object-viewer-hidden~ul{display:none}.luna-object-viewer-theme-dark{color:#fff}.luna-object-viewer-theme-dark .luna-object-viewer-null,.luna-object-viewer-theme-dark .luna-object-viewer-special{color:#a1a1a1}.luna-object-viewer-theme-dark .luna-object-viewer-regexp,.luna-object-viewer-theme-dark .luna-object-viewer-string{color:#f28b54}.luna-object-viewer-theme-dark .luna-object-viewer-boolean,.luna-object-viewer-theme-dark .luna-object-viewer-number{color:#9980ff}.luna-object-viewer-theme-dark .luna-object-viewer-key,.luna-object-viewer-theme-dark .luna-object-viewer-key-lighter{color:#5db0d7}",""]),o.exports=e},9931:function(o,e){e=function(n){return n.length<1?n:n[0].toUpperCase()+n.slice(1)},o.exports=e},9993:function(o,e){e=function(){},o.exports=e}},__webpack_module_cache__={};function __webpack_require__(o){var e=__webpack_module_cache__[o];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[o]={id:o,loaded:!1,exports:{}};return __webpack_modules__[o].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(o,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),__webpack_require__.hmd=function(o){return(o=Object.create(o)).children||(o.children=[]),Object.defineProperty(o,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+o.id)}}),o},__webpack_require__.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},__webpack_require__.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(2980);return __webpack_exports__})()}))})(eruda$1)),eruda$1.exports}var erudaExports=requireEruda();const eruda=getDefaultExportFromCjs(erudaExports);function commonjsRequire(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}},hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,(function(o,e){(function(n){o.exports=n()})(function(){return(function n(r,a,s){function l(h,f){if(!a[h]){if(!r[h]){var d=typeof commonjsRequire=="function"&&commonjsRequire;if(!f&&d)return d(h,!0);if(c)return c(h,!0);var p=new Error("Cannot find module '"+h+"'");throw p.code="MODULE_NOT_FOUND",p}var g=a[h]={exports:{}};r[h][0].call(g.exports,function(y){var v=r[h][1][y];return l(v||y)},g,g.exports,n,r,a,s)}return a[h].exports}for(var c=typeof commonjsRequire=="function"&&commonjsRequire,u=0;u<s.length;u++)l(s[u]);return l})({1:[function(n,r,a){var s=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(u){for(var h,f,d,p,g,y,v,w=[],O=0,k=u.length,E=k,I=s.getTypeOf(u)!=="string";O<u.length;)E=k-O,d=I?(h=u[O++],f=O<k?u[O++]:0,O<k?u[O++]:0):(h=u.charCodeAt(O++),f=O<k?u.charCodeAt(O++):0,O<k?u.charCodeAt(O++):0),p=h>>2,g=(3&h)<<4|f>>4,y=1<E?(15&f)<<2|d>>6:64,v=2<E?63&d:64,w.push(c.charAt(p)+c.charAt(g)+c.charAt(y)+c.charAt(v));return w.join("")},a.decode=function(u){var h,f,d,p,g,y,v=0,w=0,O="data:";if(u.substr(0,O.length)===O)throw new Error("Invalid base64 input, it looks like a data url.");var k,E=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&E--,u.charAt(u.length-2)===c.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=l.uint8array?new Uint8Array(0|E):new Array(0|E);v<u.length;)h=c.indexOf(u.charAt(v++))<<2|(p=c.indexOf(u.charAt(v++)))>>4,f=(15&p)<<4|(g=c.indexOf(u.charAt(v++)))>>2,d=(3&g)<<6|(y=c.indexOf(u.charAt(v++))),k[w++]=h,g!==64&&(k[w++]=f),y!==64&&(k[w++]=d);return k}},{"./support":30,"./utils":32}],2:[function(n,r,a){var s=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function h(f,d,p,g,y){this.compressedSize=f,this.uncompressedSize=d,this.crc32=p,this.compression=g,this.compressedContent=y}h.prototype={getContentWorker:function(){var f=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),d=this;return f.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,d,p){return f.pipe(new c).pipe(new u("uncompressedSize")).pipe(d.compressWorker(p)).pipe(new u("compressedSize")).withStreamInfo("compression",d)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var s=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var s=n("./utils"),l=(function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u})();r.exports=function(c,u){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?(function(h,f,d,p){var g=l,y=p+d;h^=-1;for(var v=p;v<y;v++)h=h>>>8^g[255&(h^f[v])];return-1^h})(0|u,c,c.length,0):(function(h,f,d,p){var g=l,y=p+d;h^=-1;for(var v=p;v<y;v++)h=h>>>8^g[255&(h^f.charCodeAt(v))];return-1^h})(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),u=n("./stream/GenericWorker"),h=s?"uint8array":"array";function f(d,p){u.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=p,this.meta={}}a.magic="\b\0",c.inherits(f,u),f.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,d.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(p){d.push({data:p,meta:d.meta})}},a.compressWorker=function(d){return new f("Deflate",d)},a.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function s(g,y){var v,w="";for(v=0;v<y;v++)w+=String.fromCharCode(255&g),g>>>=8;return w}function l(g,y,v,w,O,k){var E,I,G=g.file,J=g.compression,Q=k!==h.utf8encode,te=c.transformTo("string",k(G.name)),pe=c.transformTo("string",h.utf8encode(G.name)),fe=G.comment,ee=c.transformTo("string",k(fe)),N=c.transformTo("string",h.utf8encode(fe)),Z=pe.length!==G.name.length,R=N.length!==fe.length,ae="",de="",H="",ne=G.dir,V=G.date,Ce={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(Ce.crc32=g.crc32,Ce.compressedSize=g.compressedSize,Ce.uncompressedSize=g.uncompressedSize);var ge=0;y&&(ge|=8),Q||!Z&&!R||(ge|=2048);var Te=0,Ke=0;ne&&(Te|=16),O==="UNIX"?(Ke=798,Te|=(function(Qe,rt){var vt=Qe;return Qe||(vt=rt?16893:33204),(65535&vt)<<16})(G.unixPermissions,ne)):(Ke=20,Te|=(function(Qe){return 63&(Qe||0)})(G.dosPermissions)),E=V.getUTCHours(),E<<=6,E|=V.getUTCMinutes(),E<<=5,E|=V.getUTCSeconds()/2,I=V.getUTCFullYear()-1980,I<<=4,I|=V.getUTCMonth()+1,I<<=5,I|=V.getUTCDate(),Z&&(de=s(1,1)+s(f(te),4)+pe,ae+="up"+s(de.length,2)+de),R&&(H=s(1,1)+s(f(ee),4)+N,ae+="uc"+s(H.length,2)+H);var Ye="";return Ye+=`
\0`,Ye+=s(ge,2),Ye+=J.magic,Ye+=s(E,2),Ye+=s(I,2),Ye+=s(Ce.crc32,4),Ye+=s(Ce.compressedSize,4),Ye+=s(Ce.uncompressedSize,4),Ye+=s(te.length,2),Ye+=s(ae.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Ye+te+ae,dirRecord:d.CENTRAL_FILE_HEADER+s(Ke,2)+Ye+s(ee.length,2)+"\0\0\0\0"+s(Te,4)+s(w,4)+te+ae+ee}}var c=n("../utils"),u=n("../stream/GenericWorker"),h=n("../utf8"),f=n("../crc32"),d=n("../signature");function p(g,y,v,w){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=w,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(p,u),p.prototype.push=function(g){var y=g.meta.percent||0,v=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,u.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-w-1))/v:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var y=this.streamFiles&&!g.file.dir;if(y){var v=l(g,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var y=this.streamFiles&&!g.file.dir,v=l(g,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:(function(w){return d.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-g,w=(function(O,k,E,I,G){var J=c.transformTo("string",G(I));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(O,2)+s(O,2)+s(k,4)+s(E,4)+s(J.length,2)+J})(this.dirRecords.length,v,g,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var y=this;return g.on("data",function(v){y.processChunk(v)}),g.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),g.on("error",function(v){y.error(v)}),this},p.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var y=this._sources;if(!u.prototype.error.call(this,g))return!1;for(var v=0;v<y.length;v++)try{y[v].error(g)}catch{}return!0},p.prototype.lock=function(){u.prototype.lock.call(this);for(var g=this._sources,y=0;y<g.length;y++)g[y].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var s=n("../compressions"),l=n("./ZipFileWorker");a.generateWorker=function(c,u,h){var f=new l(u.streamFiles,h,u.platform,u.encodeFileName),d=0;try{c.forEach(function(p,g){d++;var y=(function(k,E){var I=k||E,G=s[I];if(!G)throw new Error(I+" is not a valid compression method !");return G})(g.options.compression,u.compression),v=g.options.compressionOptions||u.compressionOptions||{},w=g.dir,O=g.date;g._compressWorker(y,v).withStreamInfo("file",{name:p,dir:w,date:O,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=d}catch(p){f.error(p)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,c){return new s().loadAsync(l,c)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var s=n("./utils"),l=n("./external"),c=n("./utf8"),u=n("./zipEntries"),h=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function d(p){return new l.Promise(function(g,y){var v=p.decompressed.getContentWorker().pipe(new h);v.on("error",function(w){y(w)}).on("end",function(){v.streamInfo.crc32!==p.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(p,g){var y=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(p)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(v){var w=new u(g);return w.load(v),w}).then(function(v){var w=[l.Promise.resolve(v)],O=v.files;if(g.checkCRC32)for(var k=0;k<O.length;k++)w.push(d(O[k]));return l.Promise.all(w)}).then(function(v){for(var w=v.shift(),O=w.files,k=0;k<O.length;k++){var E=O[k],I=E.fileNameStr,G=s.resolve(E.fileNameStr);y.file(G,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:g.createFolders}),E.dir||(y.file(G).unsafeOriginalName=I)}return w.zipComment.length&&(y.comment=w.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var s=n("../utils"),l=n("../stream/GenericWorker");function c(u,h){l.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(c,l),c.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var s=n("readable-stream").Readable;function l(c,u,h){s.call(this,u),this._helper=c;var f=this;c.on("data",function(d,p){f.push(d)||f._helper.pause(),h&&h(p)}).on("error",function(d){f.emit("error",d)}).on("end",function(){f.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer$1<"u",newBufferFrom:function(s,l){if(Buffer$1.from&&Buffer$1.from!==Uint8Array.from)return Buffer$1.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer$1(s,l)},allocBuffer:function(s){if(Buffer$1.alloc)return Buffer$1.alloc(s);var l=new Buffer$1(s);return l.fill(0),l},isBuffer:function(s){return Buffer$1.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,a){function s(G,J,Q){var te,pe=c.getTypeOf(J),fe=c.extend(Q||{},f);fe.date=fe.date||new Date,fe.compression!==null&&(fe.compression=fe.compression.toUpperCase()),typeof fe.unixPermissions=="string"&&(fe.unixPermissions=parseInt(fe.unixPermissions,8)),fe.unixPermissions&&16384&fe.unixPermissions&&(fe.dir=!0),fe.dosPermissions&&16&fe.dosPermissions&&(fe.dir=!0),fe.dir&&(G=O(G)),fe.createFolders&&(te=w(G))&&k.call(this,te,!0);var ee=pe==="string"&&fe.binary===!1&&fe.base64===!1;Q&&Q.binary!==void 0||(fe.binary=!ee),(J instanceof d&&J.uncompressedSize===0||fe.dir||!J||J.length===0)&&(fe.base64=!1,fe.binary=!0,J="",fe.compression="STORE",pe="string");var N=null;N=J instanceof d||J instanceof u?J:y.isNode&&y.isStream(J)?new v(G,J):c.prepareContent(G,J,fe.binary,fe.optimizedBinaryString,fe.base64);var Z=new p(G,N,fe);this.files[G]=Z}var l=n("./utf8"),c=n("./utils"),u=n("./stream/GenericWorker"),h=n("./stream/StreamHelper"),f=n("./defaults"),d=n("./compressedObject"),p=n("./zipObject"),g=n("./generate"),y=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),w=function(G){G.slice(-1)==="/"&&(G=G.substring(0,G.length-1));var J=G.lastIndexOf("/");return 0<J?G.substring(0,J):""},O=function(G){return G.slice(-1)!=="/"&&(G+="/"),G},k=function(G,J){return J=J!==void 0?J:f.createFolders,G=O(G),this.files[G]||s.call(this,G,null,{dir:!0,createFolders:J}),this.files[G]};function E(G){return Object.prototype.toString.call(G)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(G){var J,Q,te;for(J in this.files)te=this.files[J],(Q=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&G(Q,te)},filter:function(G){var J=[];return this.forEach(function(Q,te){G(Q,te)&&J.push(te)}),J},file:function(G,J,Q){if(arguments.length!==1)return G=this.root+G,s.call(this,G,J,Q),this;if(E(G)){var te=G;return this.filter(function(fe,ee){return!ee.dir&&te.test(fe)})}var pe=this.files[this.root+G];return pe&&!pe.dir?pe:null},folder:function(G){if(!G)return this;if(E(G))return this.filter(function(pe,fe){return fe.dir&&G.test(pe)});var J=this.root+G,Q=k.call(this,J),te=this.clone();return te.root=Q.name,te},remove:function(G){G=this.root+G;var J=this.files[G];if(J||(G.slice(-1)!=="/"&&(G+="/"),J=this.files[G]),J&&!J.dir)delete this.files[G];else for(var Q=this.filter(function(pe,fe){return fe.name.slice(0,G.length)===G}),te=0;te<Q.length;te++)delete this.files[Q[te].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(G){var J,Q={};try{if((Q=c.extend(G||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");c.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var te=Q.comment||this.comment||"";J=g.generateWorker(this,Q,te)}catch(pe){(J=new u("error")).error(pe)}return new h(J,Q.type||"string",Q.mimeType)},generateAsync:function(G,J){return this.generateInternalStream(G).accumulate(J)},generateNodeStream:function(G,J){return(G=G||{}).type||(G.type="nodebuffer"),this.generateInternalStream(G).toNodejsStream(J)}};r.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var s=n("./DataReader");function l(c){s.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}n("../utils").inherits(l,s),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),d=c.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===u&&this.data[p+1]===h&&this.data[p+2]===f&&this.data[p+3]===d)return p-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),d=c.charCodeAt(3),p=this.readData(4);return u===p[0]&&h===p[1]&&f===p[2]&&d===p[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var s=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,h=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=c,h},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,a){var s=n("./Uint8ArrayReader");function l(c){s.call(this,c)}n("../utils").inherits(l,s),l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var s=n("./DataReader");function l(c){s.call(this,c)}n("../utils").inherits(l,s),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var s=n("./ArrayReader");function l(c){s.call(this,c)}n("../utils").inherits(l,s),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var s=n("../utils"),l=n("../support"),c=n("./ArrayReader"),u=n("./StringReader"),h=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(d){var p=s.getTypeOf(d);return s.checkSupport(p),p!=="string"||l.uint8array?p==="nodebuffer"?new h(d):l.uint8array?new f(s.transformTo("uint8array",d)):new c(s.transformTo("array",d)):new u(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var s=n("./GenericWorker"),l=n("../utils");function c(u){s.call(this,"ConvertWorker to "+u),this.destType=u}l.inherits(c,s),c.prototype.processChunk=function(u){this.push({data:l.transformTo(this.destType,u.data),meta:u.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var s=n("./GenericWorker"),l=n("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,s),c.prototype.processChunk=function(u){this.streamInfo.crc32=l(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var s=n("../utils"),l=n("./GenericWorker");function c(u){l.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(c,l),c.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}l.prototype.processChunk.call(this,u)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var s=n("../utils"),l=n("./GenericWorker");function c(u){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=s.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}s.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var u=0;u<this._listeners[l].length;u++)this._listeners[l][u].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(u){c.processChunk(u)}),l.on("end",function(){c.end()}),l.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,a){var s=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),u=n("../base64"),h=n("../support"),f=n("../external"),d=null;if(h.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(y,v){return new f.Promise(function(w,O){var k=[],E=y._internalType,I=y._outputType,G=y._mimeType;y.on("data",function(J,Q){k.push(J),v&&v(Q)}).on("error",function(J){k=[],O(J)}).on("end",function(){try{var J=(function(Q,te,pe){switch(Q){case"blob":return s.newBlob(s.transformTo("arraybuffer",te),pe);case"base64":return u.encode(te);default:return s.transformTo(Q,te)}})(I,(function(Q,te){var pe,fe=0,ee=null,N=0;for(pe=0;pe<te.length;pe++)N+=te[pe].length;switch(Q){case"string":return te.join("");case"array":return Array.prototype.concat.apply([],te);case"uint8array":for(ee=new Uint8Array(N),pe=0;pe<te.length;pe++)ee.set(te[pe],fe),fe+=te[pe].length;return ee;case"nodebuffer":return Buffer$1.concat(te);default:throw new Error("concat : unsupported type '"+Q+"'")}})(E,k),G);w(J)}catch(Q){O(Q)}k=[]}).resume()})}function g(y,v,w){var O=v;switch(v){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string"}try{this._internalType=O,this._outputType=v,this._mimeType=w,s.checkSupport(O),this._worker=y.pipe(new l(O)),y.lock()}catch(k){this._worker=new c("error"),this._worker.error(k)}}g.prototype={accumulate:function(y){return p(this,y)},on:function(y,v){var w=this;return y==="data"?this._worker.on(y,function(O){v.call(w,O.data,O.meta)}):this._worker.on(y,function(){s.delay(v,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer$1<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),a.blob=l.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var s=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),u=n("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function d(){u.call(this,"utf-8 decode"),this.leftOver=null}function p(){u.call(this,"utf-8 encode")}a.utf8encode=function(g){return l.nodebuffer?c.newBufferFrom(g,"utf-8"):(function(y){var v,w,O,k,E,I=y.length,G=0;for(k=0;k<I;k++)(64512&(w=y.charCodeAt(k)))==55296&&k+1<I&&(64512&(O=y.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(O-56320),k++),G+=w<128?1:w<2048?2:w<65536?3:4;for(v=l.uint8array?new Uint8Array(G):new Array(G),k=E=0;E<G;k++)(64512&(w=y.charCodeAt(k)))==55296&&k+1<I&&(64512&(O=y.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(O-56320),k++),w<128?v[E++]=w:(w<2048?v[E++]=192|w>>>6:(w<65536?v[E++]=224|w>>>12:(v[E++]=240|w>>>18,v[E++]=128|w>>>12&63),v[E++]=128|w>>>6&63),v[E++]=128|63&w);return v})(g)},a.utf8decode=function(g){return l.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(function(y){var v,w,O,k,E=y.length,I=new Array(2*E);for(v=w=0;v<E;)if((O=y[v++])<128)I[w++]=O;else if(4<(k=h[O]))I[w++]=65533,v+=k-1;else{for(O&=k===2?31:k===3?15:7;1<k&&v<E;)O=O<<6|63&y[v++],k--;1<k?I[w++]=65533:O<65536?I[w++]=O:(O-=65536,I[w++]=55296|O>>10&1023,I[w++]=56320|1023&O)}return I.length!==w&&(I.subarray?I=I.subarray(0,w):I.length=w),s.applyFromCharCode(I)})(g=s.transformTo(l.uint8array?"uint8array":"array",g))},s.inherits(d,u),d.prototype.processChunk=function(g){var y=s.transformTo(l.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var w=(function(k,E){var I;for((E=E||k.length)>k.length&&(E=k.length),I=E-1;0<=I&&(192&k[I])==128;)I--;return I<0||I===0?E:I+h[k[I]]>E?I:E})(y),O=y;w!==y.length&&(l.uint8array?(O=y.subarray(0,w),this.leftOver=y.subarray(w,y.length)):(O=y.slice(0,w),this.leftOver=y.slice(w,y.length))),this.push({data:a.utf8decode(O),meta:g.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=d,s.inherits(p,u),p.prototype.processChunk=function(g){this.push({data:a.utf8encode(g.data),meta:g.meta})},a.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var s=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),u=n("./external");function h(v){return v}function f(v,w){for(var O=0;O<v.length;++O)w[O]=255&v.charCodeAt(O);return w}n("setimmediate"),a.newBlob=function(v,w){a.checkSupport("blob");try{return new Blob([v],{type:w})}catch{try{var O=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return O.append(v),O.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(v,w,O){var k=[],E=0,I=v.length;if(I<=O)return String.fromCharCode.apply(null,v);for(;E<I;)w==="array"||w==="nodebuffer"?k.push(String.fromCharCode.apply(null,v.slice(E,Math.min(E+O,I)))):k.push(String.fromCharCode.apply(null,v.subarray(E,Math.min(E+O,I)))),E+=O;return k.join("")},stringifyByChar:function(v){for(var w="",O=0;O<v.length;O++)w+=String.fromCharCode(v[O]);return w},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function p(v){var w=65536,O=a.getTypeOf(v),k=!0;if(O==="uint8array"?k=d.applyCanBeUsed.uint8array:O==="nodebuffer"&&(k=d.applyCanBeUsed.nodebuffer),k)for(;1<w;)try{return d.stringifyByChunk(v,O,w)}catch{w=Math.floor(w/2)}return d.stringifyByChar(v)}function g(v,w){for(var O=0;O<v.length;O++)w[O]=v[O];return w}a.applyFromCharCode=p;var y={};y.string={string:h,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,c.allocBuffer(v.length))}},y.array={string:p,array:h,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(v)}},y.arraybuffer={string:function(v){return p(new Uint8Array(v))},array:function(v){return g(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:h,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:p,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:h,nodebuffer:function(v){return c.newBufferFrom(v)}},y.nodebuffer={string:p,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:h},a.transformTo=function(v,w){if(w=w||"",!v)return w;a.checkSupport(v);var O=a.getTypeOf(w);return y[O][v](w)},a.resolve=function(v){for(var w=v.split("/"),O=[],k=0;k<w.length;k++){var E=w[k];E==="."||E===""&&k!==0&&k!==w.length-1||(E===".."?O.pop():O.push(E))}return O.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var w,O,k="";for(O=0;O<(v||"").length;O++)k+="\\x"+((w=v.charCodeAt(O))<16?"0":"")+w.toString(16).toUpperCase();return k},a.delay=function(v,w,O){setImmediate(function(){v.apply(O||null,w||[])})},a.inherits=function(v,w){function O(){}O.prototype=w.prototype,v.prototype=new O},a.extend=function(){var v,w,O={};for(v=0;v<arguments.length;v++)for(w in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],w)&&O[w]===void 0&&(O[w]=arguments[v][w]);return O},a.prepareContent=function(v,w,O,k,E){return u.Promise.resolve(w).then(function(I){return s.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new u.Promise(function(G,J){var Q=new FileReader;Q.onload=function(te){G(te.target.result)},Q.onerror=function(te){J(te.target.error)},Q.readAsArrayBuffer(I)}):I}).then(function(I){var G=a.getTypeOf(I);return G?(G==="arraybuffer"?I=a.transformTo("uint8array",I):G==="string"&&(E?I=l.decode(I):O&&k!==!0&&(I=(function(J){return f(J,s.uint8array?new Uint8Array(J.length):new Array(J.length))})(I))),I):u.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var s=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),u=n("./zipEntry"),h=n("./support");function f(d){this.files=[],this.loadOptions=d}f.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(p)+", expected "+l.pretty(d)+")")}},isSignature:function(d,p){var g=this.reader.index;this.reader.setIndex(d);var y=this.reader.readString(4)===p;return this.reader.setIndex(g),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),p=h.uint8array?"uint8array":"array",g=l.transformTo(p,d);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,p,g,y=this.zip64EndOfCentralSize-44;0<y;)d=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[d]={id:d,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,p;for(d=0;d<this.files.length;d++)p=this.files[d],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(d=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var p=d;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var y=p-g;if(0<y)this.isSignature(p,c.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var s=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),u=n("./crc32"),h=n("./utf8"),f=n("./compressions"),d=n("./support");function p(g,y){this.options=g,this.loadOptions=y}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var y,v;if(g.skip(22),this.fileNameLength=g.readInt(2),v=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(w){for(var O in f)if(Object.prototype.hasOwnProperty.call(f,O)&&f[O].magic===w)return f[O];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,y,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var y=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(y),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var y,v,w,O=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<O;)y=g.readInt(2),v=g.readInt(2),w=g.readData(v),this.extraFields[y]={id:y,length:v,value:w};g.setIndex(O)},handleUTF8:function(){var g=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=l.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var O=l.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(O)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var y=s(g.value);return y.readInt(1)!==1||u(this.fileName)!==y.readInt(4)?null:h.utf8decode(y.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var y=s(g.value);return y.readInt(1)!==1||u(this.fileComment)!==y.readInt(4)?null:h.utf8decode(y.readData(g.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function s(y,v,w){this.name=y,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=v,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var l=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),u=n("./utf8"),h=n("./compressedObject"),f=n("./stream/GenericWorker");s.prototype={internalStream:function(y){var v=null,w="string";try{if(!y)throw new Error("No output type specified.");var O=(w=y.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),v=this._decompressWorker();var k=!this._dataBinary;k&&!O&&(v=v.pipe(new u.Utf8EncodeWorker)),!k&&O&&(v=v.pipe(new u.Utf8DecodeWorker))}catch(E){(v=new f("error")).error(E)}return new l(v,w,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof h&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(w,y,v)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<d.length;g++)s.prototype[d[g]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(s){var l,c,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var h=0,f=new u(y),d=s.document.createTextNode("");f.observe(d,{characterData:!0}),l=function(){d.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var p=new s.MessageChannel;p.port1.onmessage=y,l=function(){p.port2.postMessage(0)}}var g=[];function y(){var v,w;c=!0;for(var O=g.length;O;){for(w=g,g=[],v=-1;++v<O;)w[v]();O=g.length}c=!1}r.exports=function(v){g.push(v)!==1||c||l()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var s=n("immediate");function l(){}var c={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function d(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,O!==l&&v(this,O)}function p(O,k,E){this.promise=O,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function g(O,k,E){s(function(){var I;try{I=k(E)}catch(G){return c.reject(O,G)}I===O?c.reject(O,new TypeError("Cannot resolve promise with itself")):c.resolve(O,I)})}function y(O){var k=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof k=="function")return function(){k.apply(O,arguments)}}function v(O,k){var E=!1;function I(Q){E||(E=!0,c.reject(O,Q))}function G(Q){E||(E=!0,c.resolve(O,Q))}var J=w(function(){k(G,I)});J.status==="error"&&I(J.value)}function w(O,k){var E={};try{E.value=O(k),E.status="success"}catch(I){E.status="error",E.value=I}return E}(r.exports=d).prototype.finally=function(O){if(typeof O!="function")return this;var k=this.constructor;return this.then(function(E){return k.resolve(O()).then(function(){return E})},function(E){return k.resolve(O()).then(function(){throw E})})},d.prototype.catch=function(O){return this.then(null,O)},d.prototype.then=function(O,k){if(typeof O!="function"&&this.state===h||typeof k!="function"&&this.state===u)return this;var E=new this.constructor(l);return this.state!==f?g(E,this.state===h?O:k,this.outcome):this.queue.push(new p(E,O,k)),E},p.prototype.callFulfilled=function(O){c.resolve(this.promise,O)},p.prototype.otherCallFulfilled=function(O){g(this.promise,this.onFulfilled,O)},p.prototype.callRejected=function(O){c.reject(this.promise,O)},p.prototype.otherCallRejected=function(O){g(this.promise,this.onRejected,O)},c.resolve=function(O,k){var E=w(y,k);if(E.status==="error")return c.reject(O,E.value);var I=E.value;if(I)v(O,I);else{O.state=h,O.outcome=k;for(var G=-1,J=O.queue.length;++G<J;)O.queue[G].callFulfilled(k)}return O},c.reject=function(O,k){O.state=u,O.outcome=k;for(var E=-1,I=O.queue.length;++E<I;)O.queue[E].callRejected(k);return O},d.resolve=function(O){return O instanceof this?O:c.resolve(new this(l),O)},d.reject=function(O){var k=new this(l);return c.reject(k,O)},d.all=function(O){var k=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=O.length,I=!1;if(!E)return this.resolve([]);for(var G=new Array(E),J=0,Q=-1,te=new this(l);++Q<E;)pe(O[Q],Q);return te;function pe(fe,ee){k.resolve(fe).then(function(N){G[ee]=N,++J!==E||I||(I=!0,c.resolve(te,G))},function(N){I||(I=!0,c.reject(te,N))})}},d.race=function(O){var k=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=O.length,I=!1;if(!E)return this.resolve([]);for(var G=-1,J=new this(l);++G<E;)Q=O[G],k.resolve(Q).then(function(te){I||(I=!0,c.resolve(J,te))},function(te){I||(I=!0,c.reject(J,te))});var Q;return J}},{immediate:36}],38:[function(n,r,a){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var s=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/messages"),h=n("./zlib/zstream"),f=Object.prototype.toString,d=0,p=-1,g=0,y=8;function v(O){if(!(this instanceof v))return new v(O);this.options=l.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},O||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var E=s.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(E!==d)throw new Error(u[E]);if(k.header&&s.deflateSetHeader(this.strm,k.header),k.dictionary){var I;if(I=typeof k.dictionary=="string"?c.string2buf(k.dictionary):f.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(E=s.deflateSetDictionary(this.strm,I))!==d)throw new Error(u[E]);this._dict_set=!0}}function w(O,k){var E=new v(k);if(E.push(O,!0),E.err)throw E.msg||u[E.err];return E.result}v.prototype.push=function(O,k){var E,I,G=this.strm,J=this.options.chunkSize;if(this.ended)return!1;I=k===~~k?k:k===!0?4:0,typeof O=="string"?G.input=c.string2buf(O):f.call(O)==="[object ArrayBuffer]"?G.input=new Uint8Array(O):G.input=O,G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0&&(G.output=new l.Buf8(J),G.next_out=0,G.avail_out=J),(E=s.deflate(G,I))!==1&&E!==d)return this.onEnd(E),!(this.ended=!0);G.avail_out!==0&&(G.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(G.output,G.next_out))):this.onData(l.shrinkBuf(G.output,G.next_out)))}while((0<G.avail_in||G.avail_out===0)&&E!==1);return I===4?(E=s.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===d):I!==2||(this.onEnd(d),!(G.avail_out=0))},v.prototype.onData=function(O){this.chunks.push(O)},v.prototype.onEnd=function(O){O===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},a.Deflate=v,a.deflate=w,a.deflateRaw=function(O,k){return(k=k||{}).raw=!0,w(O,k)},a.gzip=function(O,k){return(k=k||{}).gzip=!0,w(O,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var s=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),u=n("./zlib/constants"),h=n("./zlib/messages"),f=n("./zlib/zstream"),d=n("./zlib/gzheader"),p=Object.prototype.toString;function g(v){if(!(this instanceof g))return new g(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||v&&v.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var O=s.inflateInit2(this.strm,w.windowBits);if(O!==u.Z_OK)throw new Error(h[O]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function y(v,w){var O=new g(w);if(O.push(v,!0),O.err)throw O.msg||h[O.err];return O.result}g.prototype.push=function(v,w){var O,k,E,I,G,J,Q=this.strm,te=this.options.chunkSize,pe=this.options.dictionary,fe=!1;if(this.ended)return!1;k=w===~~w?w:w===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof v=="string"?Q.input=c.binstring2buf(v):p.call(v)==="[object ArrayBuffer]"?Q.input=new Uint8Array(v):Q.input=v,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new l.Buf8(te),Q.next_out=0,Q.avail_out=te),(O=s.inflate(Q,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&pe&&(J=typeof pe=="string"?c.string2buf(pe):p.call(pe)==="[object ArrayBuffer]"?new Uint8Array(pe):pe,O=s.inflateSetDictionary(this.strm,J)),O===u.Z_BUF_ERROR&&fe===!0&&(O=u.Z_OK,fe=!1),O!==u.Z_STREAM_END&&O!==u.Z_OK)return this.onEnd(O),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&O!==u.Z_STREAM_END&&(Q.avail_in!==0||k!==u.Z_FINISH&&k!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=c.utf8border(Q.output,Q.next_out),I=Q.next_out-E,G=c.buf2string(Q.output,E),Q.next_out=I,Q.avail_out=te-I,I&&l.arraySet(Q.output,Q.output,E,I,0),this.onData(G)):this.onData(l.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&(fe=!0)}while((0<Q.avail_in||Q.avail_out===0)&&O!==u.Z_STREAM_END);return O===u.Z_STREAM_END&&(k=u.Z_FINISH),k===u.Z_FINISH?(O=s.inflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===u.Z_OK):k!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(Q.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=g,a.inflate=y,a.inflateRaw=function(v,w){return(w=w||{}).raw=!0,y(v,w)},a.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])}}return u},a.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var l={arraySet:function(u,h,f,d,p){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+d),p);else for(var g=0;g<d;g++)u[p+g]=h[f+g]},flattenChunks:function(u){var h,f,d,p,g,y;for(h=d=0,f=u.length;h<f;h++)d+=u[h].length;for(y=new Uint8Array(d),h=p=0,f=u.length;h<f;h++)g=u[h],y.set(g,p),p+=g.length;return y}},c={arraySet:function(u,h,f,d,p){for(var g=0;g<d;g++)u[p+g]=h[f+g]},flattenChunks:function(u){return[].concat.apply([],u)}};a.setTyped=function(u){u?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(s)},{}],42:[function(n,r,a){var s=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(d,p){if(p<65537&&(d.subarray&&c||!d.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(d,p));for(var g="",y=0;y<p;y++)g+=String.fromCharCode(d[y]);return g}u[254]=u[254]=1,a.string2buf=function(d){var p,g,y,v,w,O=d.length,k=0;for(v=0;v<O;v++)(64512&(g=d.charCodeAt(v)))==55296&&v+1<O&&(64512&(y=d.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),k+=g<128?1:g<2048?2:g<65536?3:4;for(p=new s.Buf8(k),v=w=0;w<k;v++)(64512&(g=d.charCodeAt(v)))==55296&&v+1<O&&(64512&(y=d.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),g<128?p[w++]=g:(g<2048?p[w++]=192|g>>>6:(g<65536?p[w++]=224|g>>>12:(p[w++]=240|g>>>18,p[w++]=128|g>>>12&63),p[w++]=128|g>>>6&63),p[w++]=128|63&g);return p},a.buf2binstring=function(d){return f(d,d.length)},a.binstring2buf=function(d){for(var p=new s.Buf8(d.length),g=0,y=p.length;g<y;g++)p[g]=d.charCodeAt(g);return p},a.buf2string=function(d,p){var g,y,v,w,O=p||d.length,k=new Array(2*O);for(g=y=0;g<O;)if((v=d[g++])<128)k[y++]=v;else if(4<(w=u[v]))k[y++]=65533,g+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&g<O;)v=v<<6|63&d[g++],w--;1<w?k[y++]=65533:v<65536?k[y++]=v:(v-=65536,k[y++]=55296|v>>10&1023,k[y++]=56320|1023&v)}return f(k,y)},a.utf8border=function(d,p){var g;for((p=p||d.length)>d.length&&(p=d.length),g=p-1;0<=g&&(192&d[g])==128;)g--;return g<0||g===0?p:g+u[d[g]]>p?g:p}},{"./common":41}],43:[function(n,r,a){r.exports=function(s,l,c,u){for(var h=65535&s|0,f=s>>>16&65535|0,d=0;c!==0;){for(c-=d=2e3<c?2e3:c;f=f+(h=h+l[u++]|0)|0,--d;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var s=(function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c})();r.exports=function(l,c,u,h){var f=s,d=h+u;l^=-1;for(var p=h;p<d;p++)l=l>>>8^f[255&(l^c[p])];return-1^l}},{}],46:[function(n,r,a){var s,l=n("../utils/common"),c=n("./trees"),u=n("./adler32"),h=n("./crc32"),f=n("./messages"),d=0,p=4,g=0,y=-2,v=-1,w=4,O=2,k=8,E=9,I=286,G=30,J=19,Q=2*I+1,te=15,pe=3,fe=258,ee=fe+pe+1,N=42,Z=113,R=1,ae=2,de=3,H=4;function ne(oe,je){return oe.msg=f[je],je}function V(oe){return(oe<<1)-(4<oe?9:0)}function Ce(oe){for(var je=oe.length;0<=--je;)oe[je]=0}function ge(oe){var je=oe.state,ze=je.pending;ze>oe.avail_out&&(ze=oe.avail_out),ze!==0&&(l.arraySet(oe.output,je.pending_buf,je.pending_out,ze,oe.next_out),oe.next_out+=ze,je.pending_out+=ze,oe.total_out+=ze,oe.avail_out-=ze,je.pending-=ze,je.pending===0&&(je.pending_out=0))}function Te(oe,je){c._tr_flush_block(oe,0<=oe.block_start?oe.block_start:-1,oe.strstart-oe.block_start,je),oe.block_start=oe.strstart,ge(oe.strm)}function Ke(oe,je){oe.pending_buf[oe.pending++]=je}function Ye(oe,je){oe.pending_buf[oe.pending++]=je>>>8&255,oe.pending_buf[oe.pending++]=255&je}function Qe(oe,je){var ze,he,le=oe.max_chain_length,me=oe.strstart,Xe=oe.prev_length,Ee=oe.nice_match,Re=oe.strstart>oe.w_size-ee?oe.strstart-(oe.w_size-ee):0,at=oe.window,Ve=oe.w_mask,qe=oe.prev,ot=oe.strstart+fe,Pt=at[me+Xe-1],Et=at[me+Xe];oe.prev_length>=oe.good_match&&(le>>=2),Ee>oe.lookahead&&(Ee=oe.lookahead);do if(at[(ze=je)+Xe]===Et&&at[ze+Xe-1]===Pt&&at[ze]===at[me]&&at[++ze]===at[me+1]){me+=2,ze++;do;while(at[++me]===at[++ze]&&at[++me]===at[++ze]&&at[++me]===at[++ze]&&at[++me]===at[++ze]&&at[++me]===at[++ze]&&at[++me]===at[++ze]&&at[++me]===at[++ze]&&at[++me]===at[++ze]&&me<ot);if(he=fe-(ot-me),me=ot-fe,Xe<he){if(oe.match_start=je,Ee<=(Xe=he))break;Pt=at[me+Xe-1],Et=at[me+Xe]}}while((je=qe[je&Ve])>Re&&--le!=0);return Xe<=oe.lookahead?Xe:oe.lookahead}function rt(oe){var je,ze,he,le,me,Xe,Ee,Re,at,Ve,qe=oe.w_size;do{if(le=oe.window_size-oe.lookahead-oe.strstart,oe.strstart>=qe+(qe-ee)){for(l.arraySet(oe.window,oe.window,qe,qe,0),oe.match_start-=qe,oe.strstart-=qe,oe.block_start-=qe,je=ze=oe.hash_size;he=oe.head[--je],oe.head[je]=qe<=he?he-qe:0,--ze;);for(je=ze=qe;he=oe.prev[--je],oe.prev[je]=qe<=he?he-qe:0,--ze;);le+=qe}if(oe.strm.avail_in===0)break;if(Xe=oe.strm,Ee=oe.window,Re=oe.strstart+oe.lookahead,at=le,Ve=void 0,Ve=Xe.avail_in,at<Ve&&(Ve=at),ze=Ve===0?0:(Xe.avail_in-=Ve,l.arraySet(Ee,Xe.input,Xe.next_in,Ve,Re),Xe.state.wrap===1?Xe.adler=u(Xe.adler,Ee,Ve,Re):Xe.state.wrap===2&&(Xe.adler=h(Xe.adler,Ee,Ve,Re)),Xe.next_in+=Ve,Xe.total_in+=Ve,Ve),oe.lookahead+=ze,oe.lookahead+oe.insert>=pe)for(me=oe.strstart-oe.insert,oe.ins_h=oe.window[me],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[me+1])&oe.hash_mask;oe.insert&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[me+pe-1])&oe.hash_mask,oe.prev[me&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=me,me++,oe.insert--,!(oe.lookahead+oe.insert<pe)););}while(oe.lookahead<ee&&oe.strm.avail_in!==0)}function vt(oe,je){for(var ze,he;;){if(oe.lookahead<ee){if(rt(oe),oe.lookahead<ee&&je===d)return R;if(oe.lookahead===0)break}if(ze=0,oe.lookahead>=pe&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+pe-1])&oe.hash_mask,ze=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),ze!==0&&oe.strstart-ze<=oe.w_size-ee&&(oe.match_length=Qe(oe,ze)),oe.match_length>=pe)if(he=c._tr_tally(oe,oe.strstart-oe.match_start,oe.match_length-pe),oe.lookahead-=oe.match_length,oe.match_length<=oe.max_lazy_match&&oe.lookahead>=pe){for(oe.match_length--;oe.strstart++,oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+pe-1])&oe.hash_mask,ze=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart,--oe.match_length!=0;);oe.strstart++}else oe.strstart+=oe.match_length,oe.match_length=0,oe.ins_h=oe.window[oe.strstart],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+1])&oe.hash_mask;else he=c._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++;if(he&&(Te(oe,!1),oe.strm.avail_out===0))return R}return oe.insert=oe.strstart<pe-1?oe.strstart:pe-1,je===p?(Te(oe,!0),oe.strm.avail_out===0?de:H):oe.last_lit&&(Te(oe,!1),oe.strm.avail_out===0)?R:ae}function it(oe,je){for(var ze,he,le;;){if(oe.lookahead<ee){if(rt(oe),oe.lookahead<ee&&je===d)return R;if(oe.lookahead===0)break}if(ze=0,oe.lookahead>=pe&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+pe-1])&oe.hash_mask,ze=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),oe.prev_length=oe.match_length,oe.prev_match=oe.match_start,oe.match_length=pe-1,ze!==0&&oe.prev_length<oe.max_lazy_match&&oe.strstart-ze<=oe.w_size-ee&&(oe.match_length=Qe(oe,ze),oe.match_length<=5&&(oe.strategy===1||oe.match_length===pe&&4096<oe.strstart-oe.match_start)&&(oe.match_length=pe-1)),oe.prev_length>=pe&&oe.match_length<=oe.prev_length){for(le=oe.strstart+oe.lookahead-pe,he=c._tr_tally(oe,oe.strstart-1-oe.prev_match,oe.prev_length-pe),oe.lookahead-=oe.prev_length-1,oe.prev_length-=2;++oe.strstart<=le&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+pe-1])&oe.hash_mask,ze=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),--oe.prev_length!=0;);if(oe.match_available=0,oe.match_length=pe-1,oe.strstart++,he&&(Te(oe,!1),oe.strm.avail_out===0))return R}else if(oe.match_available){if((he=c._tr_tally(oe,0,oe.window[oe.strstart-1]))&&Te(oe,!1),oe.strstart++,oe.lookahead--,oe.strm.avail_out===0)return R}else oe.match_available=1,oe.strstart++,oe.lookahead--}return oe.match_available&&(he=c._tr_tally(oe,0,oe.window[oe.strstart-1]),oe.match_available=0),oe.insert=oe.strstart<pe-1?oe.strstart:pe-1,je===p?(Te(oe,!0),oe.strm.avail_out===0?de:H):oe.last_lit&&(Te(oe,!1),oe.strm.avail_out===0)?R:ae}function yt(oe,je,ze,he,le){this.good_length=oe,this.max_lazy=je,this.nice_length=ze,this.max_chain=he,this.func=le}function xt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*Q),this.dyn_dtree=new l.Buf16(2*(2*G+1)),this.bl_tree=new l.Buf16(2*(2*J+1)),Ce(this.dyn_ltree),Ce(this.dyn_dtree),Ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(te+1),this.heap=new l.Buf16(2*I+1),Ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*I+1),Ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ct(oe){var je;return oe&&oe.state?(oe.total_in=oe.total_out=0,oe.data_type=O,(je=oe.state).pending=0,je.pending_out=0,je.wrap<0&&(je.wrap=-je.wrap),je.status=je.wrap?N:Z,oe.adler=je.wrap===2?0:1,je.last_flush=d,c._tr_init(je),g):ne(oe,y)}function St(oe){var je=Ct(oe);return je===g&&(function(ze){ze.window_size=2*ze.w_size,Ce(ze.head),ze.max_lazy_match=s[ze.level].max_lazy,ze.good_match=s[ze.level].good_length,ze.nice_match=s[ze.level].nice_length,ze.max_chain_length=s[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=pe-1,ze.match_available=0,ze.ins_h=0})(oe.state),je}function Rt(oe,je,ze,he,le,me){if(!oe)return y;var Xe=1;if(je===v&&(je=6),he<0?(Xe=0,he=-he):15<he&&(Xe=2,he-=16),le<1||E<le||ze!==k||he<8||15<he||je<0||9<je||me<0||w<me)return ne(oe,y);he===8&&(he=9);var Ee=new xt;return(oe.state=Ee).strm=oe,Ee.wrap=Xe,Ee.gzhead=null,Ee.w_bits=he,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=le+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+pe-1)/pe),Ee.window=new l.Buf8(2*Ee.w_size),Ee.head=new l.Buf16(Ee.hash_size),Ee.prev=new l.Buf16(Ee.w_size),Ee.lit_bufsize=1<<le+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new l.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=je,Ee.strategy=me,Ee.method=ze,St(oe)}s=[new yt(0,0,0,0,function(oe,je){var ze=65535;for(ze>oe.pending_buf_size-5&&(ze=oe.pending_buf_size-5);;){if(oe.lookahead<=1){if(rt(oe),oe.lookahead===0&&je===d)return R;if(oe.lookahead===0)break}oe.strstart+=oe.lookahead,oe.lookahead=0;var he=oe.block_start+ze;if((oe.strstart===0||oe.strstart>=he)&&(oe.lookahead=oe.strstart-he,oe.strstart=he,Te(oe,!1),oe.strm.avail_out===0)||oe.strstart-oe.block_start>=oe.w_size-ee&&(Te(oe,!1),oe.strm.avail_out===0))return R}return oe.insert=0,je===p?(Te(oe,!0),oe.strm.avail_out===0?de:H):(oe.strstart>oe.block_start&&(Te(oe,!1),oe.strm.avail_out),R)}),new yt(4,4,8,4,vt),new yt(4,5,16,8,vt),new yt(4,6,32,32,vt),new yt(4,4,16,16,it),new yt(8,16,32,32,it),new yt(8,16,128,128,it),new yt(8,32,128,256,it),new yt(32,128,258,1024,it),new yt(32,258,258,4096,it)],a.deflateInit=function(oe,je){return Rt(oe,je,k,15,8,0)},a.deflateInit2=Rt,a.deflateReset=St,a.deflateResetKeep=Ct,a.deflateSetHeader=function(oe,je){return oe&&oe.state?oe.state.wrap!==2?y:(oe.state.gzhead=je,g):y},a.deflate=function(oe,je){var ze,he,le,me;if(!oe||!oe.state||5<je||je<0)return oe?ne(oe,y):y;if(he=oe.state,!oe.output||!oe.input&&oe.avail_in!==0||he.status===666&&je!==p)return ne(oe,oe.avail_out===0?-5:y);if(he.strm=oe,ze=he.last_flush,he.last_flush=je,he.status===N)if(he.wrap===2)oe.adler=0,Ke(he,31),Ke(he,139),Ke(he,8),he.gzhead?(Ke(he,(he.gzhead.text?1:0)+(he.gzhead.hcrc?2:0)+(he.gzhead.extra?4:0)+(he.gzhead.name?8:0)+(he.gzhead.comment?16:0)),Ke(he,255&he.gzhead.time),Ke(he,he.gzhead.time>>8&255),Ke(he,he.gzhead.time>>16&255),Ke(he,he.gzhead.time>>24&255),Ke(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),Ke(he,255&he.gzhead.os),he.gzhead.extra&&he.gzhead.extra.length&&(Ke(he,255&he.gzhead.extra.length),Ke(he,he.gzhead.extra.length>>8&255)),he.gzhead.hcrc&&(oe.adler=h(oe.adler,he.pending_buf,he.pending,0)),he.gzindex=0,he.status=69):(Ke(he,0),Ke(he,0),Ke(he,0),Ke(he,0),Ke(he,0),Ke(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),Ke(he,3),he.status=Z);else{var Xe=k+(he.w_bits-8<<4)<<8;Xe|=(2<=he.strategy||he.level<2?0:he.level<6?1:he.level===6?2:3)<<6,he.strstart!==0&&(Xe|=32),Xe+=31-Xe%31,he.status=Z,Ye(he,Xe),he.strstart!==0&&(Ye(he,oe.adler>>>16),Ye(he,65535&oe.adler)),oe.adler=1}if(he.status===69)if(he.gzhead.extra){for(le=he.pending;he.gzindex<(65535&he.gzhead.extra.length)&&(he.pending!==he.pending_buf_size||(he.gzhead.hcrc&&he.pending>le&&(oe.adler=h(oe.adler,he.pending_buf,he.pending-le,le)),ge(oe),le=he.pending,he.pending!==he.pending_buf_size));)Ke(he,255&he.gzhead.extra[he.gzindex]),he.gzindex++;he.gzhead.hcrc&&he.pending>le&&(oe.adler=h(oe.adler,he.pending_buf,he.pending-le,le)),he.gzindex===he.gzhead.extra.length&&(he.gzindex=0,he.status=73)}else he.status=73;if(he.status===73)if(he.gzhead.name){le=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>le&&(oe.adler=h(oe.adler,he.pending_buf,he.pending-le,le)),ge(oe),le=he.pending,he.pending===he.pending_buf_size)){me=1;break}me=he.gzindex<he.gzhead.name.length?255&he.gzhead.name.charCodeAt(he.gzindex++):0,Ke(he,me)}while(me!==0);he.gzhead.hcrc&&he.pending>le&&(oe.adler=h(oe.adler,he.pending_buf,he.pending-le,le)),me===0&&(he.gzindex=0,he.status=91)}else he.status=91;if(he.status===91)if(he.gzhead.comment){le=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>le&&(oe.adler=h(oe.adler,he.pending_buf,he.pending-le,le)),ge(oe),le=he.pending,he.pending===he.pending_buf_size)){me=1;break}me=he.gzindex<he.gzhead.comment.length?255&he.gzhead.comment.charCodeAt(he.gzindex++):0,Ke(he,me)}while(me!==0);he.gzhead.hcrc&&he.pending>le&&(oe.adler=h(oe.adler,he.pending_buf,he.pending-le,le)),me===0&&(he.status=103)}else he.status=103;if(he.status===103&&(he.gzhead.hcrc?(he.pending+2>he.pending_buf_size&&ge(oe),he.pending+2<=he.pending_buf_size&&(Ke(he,255&oe.adler),Ke(he,oe.adler>>8&255),oe.adler=0,he.status=Z)):he.status=Z),he.pending!==0){if(ge(oe),oe.avail_out===0)return he.last_flush=-1,g}else if(oe.avail_in===0&&V(je)<=V(ze)&&je!==p)return ne(oe,-5);if(he.status===666&&oe.avail_in!==0)return ne(oe,-5);if(oe.avail_in!==0||he.lookahead!==0||je!==d&&he.status!==666){var Ee=he.strategy===2?(function(Re,at){for(var Ve;;){if(Re.lookahead===0&&(rt(Re),Re.lookahead===0)){if(at===d)return R;break}if(Re.match_length=0,Ve=c._tr_tally(Re,0,Re.window[Re.strstart]),Re.lookahead--,Re.strstart++,Ve&&(Te(Re,!1),Re.strm.avail_out===0))return R}return Re.insert=0,at===p?(Te(Re,!0),Re.strm.avail_out===0?de:H):Re.last_lit&&(Te(Re,!1),Re.strm.avail_out===0)?R:ae})(he,je):he.strategy===3?(function(Re,at){for(var Ve,qe,ot,Pt,Et=Re.window;;){if(Re.lookahead<=fe){if(rt(Re),Re.lookahead<=fe&&at===d)return R;if(Re.lookahead===0)break}if(Re.match_length=0,Re.lookahead>=pe&&0<Re.strstart&&(qe=Et[ot=Re.strstart-1])===Et[++ot]&&qe===Et[++ot]&&qe===Et[++ot]){Pt=Re.strstart+fe;do;while(qe===Et[++ot]&&qe===Et[++ot]&&qe===Et[++ot]&&qe===Et[++ot]&&qe===Et[++ot]&&qe===Et[++ot]&&qe===Et[++ot]&&qe===Et[++ot]&&ot<Pt);Re.match_length=fe-(Pt-ot),Re.match_length>Re.lookahead&&(Re.match_length=Re.lookahead)}if(Re.match_length>=pe?(Ve=c._tr_tally(Re,1,Re.match_length-pe),Re.lookahead-=Re.match_length,Re.strstart+=Re.match_length,Re.match_length=0):(Ve=c._tr_tally(Re,0,Re.window[Re.strstart]),Re.lookahead--,Re.strstart++),Ve&&(Te(Re,!1),Re.strm.avail_out===0))return R}return Re.insert=0,at===p?(Te(Re,!0),Re.strm.avail_out===0?de:H):Re.last_lit&&(Te(Re,!1),Re.strm.avail_out===0)?R:ae})(he,je):s[he.level].func(he,je);if(Ee!==de&&Ee!==H||(he.status=666),Ee===R||Ee===de)return oe.avail_out===0&&(he.last_flush=-1),g;if(Ee===ae&&(je===1?c._tr_align(he):je!==5&&(c._tr_stored_block(he,0,0,!1),je===3&&(Ce(he.head),he.lookahead===0&&(he.strstart=0,he.block_start=0,he.insert=0))),ge(oe),oe.avail_out===0))return he.last_flush=-1,g}return je!==p?g:he.wrap<=0?1:(he.wrap===2?(Ke(he,255&oe.adler),Ke(he,oe.adler>>8&255),Ke(he,oe.adler>>16&255),Ke(he,oe.adler>>24&255),Ke(he,255&oe.total_in),Ke(he,oe.total_in>>8&255),Ke(he,oe.total_in>>16&255),Ke(he,oe.total_in>>24&255)):(Ye(he,oe.adler>>>16),Ye(he,65535&oe.adler)),ge(oe),0<he.wrap&&(he.wrap=-he.wrap),he.pending!==0?g:1)},a.deflateEnd=function(oe){var je;return oe&&oe.state?(je=oe.state.status)!==N&&je!==69&&je!==73&&je!==91&&je!==103&&je!==Z&&je!==666?ne(oe,y):(oe.state=null,je===Z?ne(oe,-3):g):y},a.deflateSetDictionary=function(oe,je){var ze,he,le,me,Xe,Ee,Re,at,Ve=je.length;if(!oe||!oe.state||(me=(ze=oe.state).wrap)===2||me===1&&ze.status!==N||ze.lookahead)return y;for(me===1&&(oe.adler=u(oe.adler,je,Ve,0)),ze.wrap=0,Ve>=ze.w_size&&(me===0&&(Ce(ze.head),ze.strstart=0,ze.block_start=0,ze.insert=0),at=new l.Buf8(ze.w_size),l.arraySet(at,je,Ve-ze.w_size,ze.w_size,0),je=at,Ve=ze.w_size),Xe=oe.avail_in,Ee=oe.next_in,Re=oe.input,oe.avail_in=Ve,oe.next_in=0,oe.input=je,rt(ze);ze.lookahead>=pe;){for(he=ze.strstart,le=ze.lookahead-(pe-1);ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[he+pe-1])&ze.hash_mask,ze.prev[he&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=he,he++,--le;);ze.strstart=he,ze.lookahead=pe-1,rt(ze)}return ze.strstart+=ze.lookahead,ze.block_start=ze.strstart,ze.insert=ze.lookahead,ze.lookahead=0,ze.match_length=ze.prev_length=pe-1,ze.match_available=0,oe.next_in=Ee,oe.input=Re,oe.avail_in=Xe,ze.wrap=me,g},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(s,l){var c,u,h,f,d,p,g,y,v,w,O,k,E,I,G,J,Q,te,pe,fe,ee,N,Z,R,ae;c=s.state,u=s.next_in,R=s.input,h=u+(s.avail_in-5),f=s.next_out,ae=s.output,d=f-(l-s.avail_out),p=f+(s.avail_out-257),g=c.dmax,y=c.wsize,v=c.whave,w=c.wnext,O=c.window,k=c.hold,E=c.bits,I=c.lencode,G=c.distcode,J=(1<<c.lenbits)-1,Q=(1<<c.distbits)-1;e:do{E<15&&(k+=R[u++]<<E,E+=8,k+=R[u++]<<E,E+=8),te=I[k&J];t:for(;;){if(k>>>=pe=te>>>24,E-=pe,(pe=te>>>16&255)===0)ae[f++]=65535&te;else{if(!(16&pe)){if((64&pe)==0){te=I[(65535&te)+(k&(1<<pe)-1)];continue t}if(32&pe){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}fe=65535&te,(pe&=15)&&(E<pe&&(k+=R[u++]<<E,E+=8),fe+=k&(1<<pe)-1,k>>>=pe,E-=pe),E<15&&(k+=R[u++]<<E,E+=8,k+=R[u++]<<E,E+=8),te=G[k&Q];n:for(;;){if(k>>>=pe=te>>>24,E-=pe,!(16&(pe=te>>>16&255))){if((64&pe)==0){te=G[(65535&te)+(k&(1<<pe)-1)];continue n}s.msg="invalid distance code",c.mode=30;break e}if(ee=65535&te,E<(pe&=15)&&(k+=R[u++]<<E,(E+=8)<pe&&(k+=R[u++]<<E,E+=8)),g<(ee+=k&(1<<pe)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(k>>>=pe,E-=pe,(pe=f-d)<ee){if(v<(pe=ee-pe)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(Z=O,(N=0)===w){if(N+=y-pe,pe<fe){for(fe-=pe;ae[f++]=O[N++],--pe;);N=f-ee,Z=ae}}else if(w<pe){if(N+=y+w-pe,(pe-=w)<fe){for(fe-=pe;ae[f++]=O[N++],--pe;);if(N=0,w<fe){for(fe-=pe=w;ae[f++]=O[N++],--pe;);N=f-ee,Z=ae}}}else if(N+=w-pe,pe<fe){for(fe-=pe;ae[f++]=O[N++],--pe;);N=f-ee,Z=ae}for(;2<fe;)ae[f++]=Z[N++],ae[f++]=Z[N++],ae[f++]=Z[N++],fe-=3;fe&&(ae[f++]=Z[N++],1<fe&&(ae[f++]=Z[N++]))}else{for(N=f-ee;ae[f++]=ae[N++],ae[f++]=ae[N++],ae[f++]=ae[N++],2<(fe-=3););fe&&(ae[f++]=ae[N++],1<fe&&(ae[f++]=ae[N++]))}break}}break}}while(u<h&&f<p);u-=fe=E>>3,k&=(1<<(E-=fe<<3))-1,s.next_in=u,s.next_out=f,s.avail_in=u<h?h-u+5:5-(u-h),s.avail_out=f<p?p-f+257:257-(f-p),c.hold=k,c.bits=E}},{}],49:[function(n,r,a){var s=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),u=n("./inffast"),h=n("./inftrees"),f=1,d=2,p=0,g=-2,y=1,v=852,w=592;function O(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(N){var Z;return N&&N.state?(Z=N.state,N.total_in=N.total_out=Z.total=0,N.msg="",Z.wrap&&(N.adler=1&Z.wrap),Z.mode=y,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new s.Buf32(v),Z.distcode=Z.distdyn=new s.Buf32(w),Z.sane=1,Z.back=-1,p):g}function I(N){var Z;return N&&N.state?((Z=N.state).wsize=0,Z.whave=0,Z.wnext=0,E(N)):g}function G(N,Z){var R,ae;return N&&N.state?(ae=N.state,Z<0?(R=0,Z=-Z):(R=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?g:(ae.window!==null&&ae.wbits!==Z&&(ae.window=null),ae.wrap=R,ae.wbits=Z,I(N))):g}function J(N,Z){var R,ae;return N?(ae=new k,(N.state=ae).window=null,(R=G(N,Z))!==p&&(N.state=null),R):g}var Q,te,pe=!0;function fe(N){if(pe){var Z;for(Q=new s.Buf32(512),te=new s.Buf32(32),Z=0;Z<144;)N.lens[Z++]=8;for(;Z<256;)N.lens[Z++]=9;for(;Z<280;)N.lens[Z++]=7;for(;Z<288;)N.lens[Z++]=8;for(h(f,N.lens,0,288,Q,0,N.work,{bits:9}),Z=0;Z<32;)N.lens[Z++]=5;h(d,N.lens,0,32,te,0,N.work,{bits:5}),pe=!1}N.lencode=Q,N.lenbits=9,N.distcode=te,N.distbits=5}function ee(N,Z,R,ae){var de,H=N.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new s.Buf8(H.wsize)),ae>=H.wsize?(s.arraySet(H.window,Z,R-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(ae<(de=H.wsize-H.wnext)&&(de=ae),s.arraySet(H.window,Z,R-ae,de,H.wnext),(ae-=de)?(s.arraySet(H.window,Z,R-ae,ae,0),H.wnext=ae,H.whave=H.wsize):(H.wnext+=de,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=de))),0}a.inflateReset=I,a.inflateReset2=G,a.inflateResetKeep=E,a.inflateInit=function(N){return J(N,15)},a.inflateInit2=J,a.inflate=function(N,Z){var R,ae,de,H,ne,V,Ce,ge,Te,Ke,Ye,Qe,rt,vt,it,yt,xt,Ct,St,Rt,oe,je,ze,he,le=0,me=new s.Buf8(4),Xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return g;(R=N.state).mode===12&&(R.mode=13),ne=N.next_out,de=N.output,Ce=N.avail_out,H=N.next_in,ae=N.input,V=N.avail_in,ge=R.hold,Te=R.bits,Ke=V,Ye=Ce,je=p;e:for(;;)switch(R.mode){case y:if(R.wrap===0){R.mode=13;break}for(;Te<16;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(2&R.wrap&&ge===35615){me[R.check=0]=255&ge,me[1]=ge>>>8&255,R.check=c(R.check,me,2,0),Te=ge=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&ge)<<8)+(ge>>8))%31){N.msg="incorrect header check",R.mode=30;break}if((15&ge)!=8){N.msg="unknown compression method",R.mode=30;break}if(Te-=4,oe=8+(15&(ge>>>=4)),R.wbits===0)R.wbits=oe;else if(oe>R.wbits){N.msg="invalid window size",R.mode=30;break}R.dmax=1<<oe,N.adler=R.check=1,R.mode=512&ge?10:12,Te=ge=0;break;case 2:for(;Te<16;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(R.flags=ge,(255&R.flags)!=8){N.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){N.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=ge>>8&1),512&R.flags&&(me[0]=255&ge,me[1]=ge>>>8&255,R.check=c(R.check,me,2,0)),Te=ge=0,R.mode=3;case 3:for(;Te<32;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}R.head&&(R.head.time=ge),512&R.flags&&(me[0]=255&ge,me[1]=ge>>>8&255,me[2]=ge>>>16&255,me[3]=ge>>>24&255,R.check=c(R.check,me,4,0)),Te=ge=0,R.mode=4;case 4:for(;Te<16;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}R.head&&(R.head.xflags=255&ge,R.head.os=ge>>8),512&R.flags&&(me[0]=255&ge,me[1]=ge>>>8&255,R.check=c(R.check,me,2,0)),Te=ge=0,R.mode=5;case 5:if(1024&R.flags){for(;Te<16;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}R.length=ge,R.head&&(R.head.extra_len=ge),512&R.flags&&(me[0]=255&ge,me[1]=ge>>>8&255,R.check=c(R.check,me,2,0)),Te=ge=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(V<(Qe=R.length)&&(Qe=V),Qe&&(R.head&&(oe=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,ae,H,Qe,oe)),512&R.flags&&(R.check=c(R.check,ae,Qe,H)),V-=Qe,H+=Qe,R.length-=Qe),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(V===0)break e;for(Qe=0;oe=ae[H+Qe++],R.head&&oe&&R.length<65536&&(R.head.name+=String.fromCharCode(oe)),oe&&Qe<V;);if(512&R.flags&&(R.check=c(R.check,ae,Qe,H)),V-=Qe,H+=Qe,oe)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(V===0)break e;for(Qe=0;oe=ae[H+Qe++],R.head&&oe&&R.length<65536&&(R.head.comment+=String.fromCharCode(oe)),oe&&Qe<V;);if(512&R.flags&&(R.check=c(R.check,ae,Qe,H)),V-=Qe,H+=Qe,oe)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;Te<16;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(ge!==(65535&R.check)){N.msg="header crc mismatch",R.mode=30;break}Te=ge=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),N.adler=R.check=0,R.mode=12;break;case 10:for(;Te<32;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}N.adler=R.check=O(ge),Te=ge=0,R.mode=11;case 11:if(R.havedict===0)return N.next_out=ne,N.avail_out=Ce,N.next_in=H,N.avail_in=V,R.hold=ge,R.bits=Te,2;N.adler=R.check=1,R.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(R.last){ge>>>=7&Te,Te-=7&Te,R.mode=27;break}for(;Te<3;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}switch(R.last=1&ge,Te-=1,3&(ge>>>=1)){case 0:R.mode=14;break;case 1:if(fe(R),R.mode=20,Z!==6)break;ge>>>=2,Te-=2;break e;case 2:R.mode=17;break;case 3:N.msg="invalid block type",R.mode=30}ge>>>=2,Te-=2;break;case 14:for(ge>>>=7&Te,Te-=7&Te;Te<32;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if((65535&ge)!=(ge>>>16^65535)){N.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&ge,Te=ge=0,R.mode=15,Z===6)break e;case 15:R.mode=16;case 16:if(Qe=R.length){if(V<Qe&&(Qe=V),Ce<Qe&&(Qe=Ce),Qe===0)break e;s.arraySet(de,ae,H,Qe,ne),V-=Qe,H+=Qe,Ce-=Qe,ne+=Qe,R.length-=Qe;break}R.mode=12;break;case 17:for(;Te<14;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(R.nlen=257+(31&ge),ge>>>=5,Te-=5,R.ndist=1+(31&ge),ge>>>=5,Te-=5,R.ncode=4+(15&ge),ge>>>=4,Te-=4,286<R.nlen||30<R.ndist){N.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;Te<3;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}R.lens[Xe[R.have++]]=7&ge,ge>>>=3,Te-=3}for(;R.have<19;)R.lens[Xe[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,ze={bits:R.lenbits},je=h(0,R.lens,0,19,R.lencode,0,R.work,ze),R.lenbits=ze.bits,je){N.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;yt=(le=R.lencode[ge&(1<<R.lenbits)-1])>>>16&255,xt=65535&le,!((it=le>>>24)<=Te);){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(xt<16)ge>>>=it,Te-=it,R.lens[R.have++]=xt;else{if(xt===16){for(he=it+2;Te<he;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(ge>>>=it,Te-=it,R.have===0){N.msg="invalid bit length repeat",R.mode=30;break}oe=R.lens[R.have-1],Qe=3+(3&ge),ge>>>=2,Te-=2}else if(xt===17){for(he=it+3;Te<he;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}Te-=it,oe=0,Qe=3+(7&(ge>>>=it)),ge>>>=3,Te-=3}else{for(he=it+7;Te<he;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}Te-=it,oe=0,Qe=11+(127&(ge>>>=it)),ge>>>=7,Te-=7}if(R.have+Qe>R.nlen+R.ndist){N.msg="invalid bit length repeat",R.mode=30;break}for(;Qe--;)R.lens[R.have++]=oe}}if(R.mode===30)break;if(R.lens[256]===0){N.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,ze={bits:R.lenbits},je=h(f,R.lens,0,R.nlen,R.lencode,0,R.work,ze),R.lenbits=ze.bits,je){N.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,ze={bits:R.distbits},je=h(d,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,ze),R.distbits=ze.bits,je){N.msg="invalid distances set",R.mode=30;break}if(R.mode=20,Z===6)break e;case 20:R.mode=21;case 21:if(6<=V&&258<=Ce){N.next_out=ne,N.avail_out=Ce,N.next_in=H,N.avail_in=V,R.hold=ge,R.bits=Te,u(N,Ye),ne=N.next_out,de=N.output,Ce=N.avail_out,H=N.next_in,ae=N.input,V=N.avail_in,ge=R.hold,Te=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;yt=(le=R.lencode[ge&(1<<R.lenbits)-1])>>>16&255,xt=65535&le,!((it=le>>>24)<=Te);){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(yt&&(240&yt)==0){for(Ct=it,St=yt,Rt=xt;yt=(le=R.lencode[Rt+((ge&(1<<Ct+St)-1)>>Ct)])>>>16&255,xt=65535&le,!(Ct+(it=le>>>24)<=Te);){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}ge>>>=Ct,Te-=Ct,R.back+=Ct}if(ge>>>=it,Te-=it,R.back+=it,R.length=xt,yt===0){R.mode=26;break}if(32&yt){R.back=-1,R.mode=12;break}if(64&yt){N.msg="invalid literal/length code",R.mode=30;break}R.extra=15&yt,R.mode=22;case 22:if(R.extra){for(he=R.extra;Te<he;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}R.length+=ge&(1<<R.extra)-1,ge>>>=R.extra,Te-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;yt=(le=R.distcode[ge&(1<<R.distbits)-1])>>>16&255,xt=65535&le,!((it=le>>>24)<=Te);){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if((240&yt)==0){for(Ct=it,St=yt,Rt=xt;yt=(le=R.distcode[Rt+((ge&(1<<Ct+St)-1)>>Ct)])>>>16&255,xt=65535&le,!(Ct+(it=le>>>24)<=Te);){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}ge>>>=Ct,Te-=Ct,R.back+=Ct}if(ge>>>=it,Te-=it,R.back+=it,64&yt){N.msg="invalid distance code",R.mode=30;break}R.offset=xt,R.extra=15&yt,R.mode=24;case 24:if(R.extra){for(he=R.extra;Te<he;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}R.offset+=ge&(1<<R.extra)-1,ge>>>=R.extra,Te-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){N.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Ce===0)break e;if(Qe=Ye-Ce,R.offset>Qe){if((Qe=R.offset-Qe)>R.whave&&R.sane){N.msg="invalid distance too far back",R.mode=30;break}rt=Qe>R.wnext?(Qe-=R.wnext,R.wsize-Qe):R.wnext-Qe,Qe>R.length&&(Qe=R.length),vt=R.window}else vt=de,rt=ne-R.offset,Qe=R.length;for(Ce<Qe&&(Qe=Ce),Ce-=Qe,R.length-=Qe;de[ne++]=vt[rt++],--Qe;);R.length===0&&(R.mode=21);break;case 26:if(Ce===0)break e;de[ne++]=R.length,Ce--,R.mode=21;break;case 27:if(R.wrap){for(;Te<32;){if(V===0)break e;V--,ge|=ae[H++]<<Te,Te+=8}if(Ye-=Ce,N.total_out+=Ye,R.total+=Ye,Ye&&(N.adler=R.check=R.flags?c(R.check,de,Ye,ne-Ye):l(R.check,de,Ye,ne-Ye)),Ye=Ce,(R.flags?ge:O(ge))!==R.check){N.msg="incorrect data check",R.mode=30;break}Te=ge=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;Te<32;){if(V===0)break e;V--,ge+=ae[H++]<<Te,Te+=8}if(ge!==(4294967295&R.total)){N.msg="incorrect length check",R.mode=30;break}Te=ge=0}R.mode=29;case 29:je=1;break e;case 30:je=-3;break e;case 31:return-4;case 32:default:return g}return N.next_out=ne,N.avail_out=Ce,N.next_in=H,N.avail_in=V,R.hold=ge,R.bits=Te,(R.wsize||Ye!==N.avail_out&&R.mode<30&&(R.mode<27||Z!==4))&&ee(N,N.output,N.next_out,Ye-N.avail_out)?(R.mode=31,-4):(Ke-=N.avail_in,Ye-=N.avail_out,N.total_in+=Ke,N.total_out+=Ye,R.total+=Ye,R.wrap&&Ye&&(N.adler=R.check=R.flags?c(R.check,de,Ye,N.next_out-Ye):l(R.check,de,Ye,N.next_out-Ye)),N.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(Ke==0&&Ye===0||Z===4)&&je===p&&(je=-5),je)},a.inflateEnd=function(N){if(!N||!N.state)return g;var Z=N.state;return Z.window&&(Z.window=null),N.state=null,p},a.inflateGetHeader=function(N,Z){var R;return N&&N.state?(2&(R=N.state).wrap)==0?g:((R.head=Z).done=!1,p):g},a.inflateSetDictionary=function(N,Z){var R,ae=Z.length;return N&&N.state?(R=N.state).wrap!==0&&R.mode!==11?g:R.mode===11&&l(1,Z,ae,0)!==R.check?-3:ee(N,Z,ae,ae)?(R.mode=31,-4):(R.havedict=1,p):g},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,d,p,g,y,v,w,O){var k,E,I,G,J,Q,te,pe,fe,ee=O.bits,N=0,Z=0,R=0,ae=0,de=0,H=0,ne=0,V=0,Ce=0,ge=0,Te=null,Ke=0,Ye=new s.Buf16(16),Qe=new s.Buf16(16),rt=null,vt=0;for(N=0;N<=15;N++)Ye[N]=0;for(Z=0;Z<g;Z++)Ye[d[p+Z]]++;for(de=ee,ae=15;1<=ae&&Ye[ae]===0;ae--);if(ae<de&&(de=ae),ae===0)return y[v++]=20971520,y[v++]=20971520,O.bits=1,0;for(R=1;R<ae&&Ye[R]===0;R++);for(de<R&&(de=R),N=V=1;N<=15;N++)if(V<<=1,(V-=Ye[N])<0)return-1;if(0<V&&(f===0||ae!==1))return-1;for(Qe[1]=0,N=1;N<15;N++)Qe[N+1]=Qe[N]+Ye[N];for(Z=0;Z<g;Z++)d[p+Z]!==0&&(w[Qe[d[p+Z]]++]=Z);if(Q=f===0?(Te=rt=w,19):f===1?(Te=l,Ke-=257,rt=c,vt-=257,256):(Te=u,rt=h,-1),N=R,J=v,ne=Z=ge=0,I=-1,G=(Ce=1<<(H=de))-1,f===1&&852<Ce||f===2&&592<Ce)return 1;for(;;){for(te=N-ne,fe=w[Z]<Q?(pe=0,w[Z]):w[Z]>Q?(pe=rt[vt+w[Z]],Te[Ke+w[Z]]):(pe=96,0),k=1<<N-ne,R=E=1<<H;y[J+(ge>>ne)+(E-=k)]=te<<24|pe<<16|fe|0,E!==0;);for(k=1<<N-1;ge&k;)k>>=1;if(k!==0?(ge&=k-1,ge+=k):ge=0,Z++,--Ye[N]==0){if(N===ae)break;N=d[p+w[Z]]}if(de<N&&(ge&G)!==I){for(ne===0&&(ne=de),J+=R,V=1<<(H=N-ne);H+ne<ae&&!((V-=Ye[H+ne])<=0);)H++,V<<=1;if(Ce+=1<<H,f===1&&852<Ce||f===2&&592<Ce)return 1;y[I=ge&G]=de<<24|H<<16|J-v|0}}return ge!==0&&(y[J+ge]=N-ne<<24|64<<16|0),O.bits=de,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var s=n("../utils/common"),l=0,c=1;function u(le){for(var me=le.length;0<=--me;)le[me]=0}var h=0,f=29,d=256,p=d+1+f,g=30,y=19,v=2*p+1,w=15,O=16,k=7,E=256,I=16,G=17,J=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=new Array(2*(p+2));u(ee);var N=new Array(2*g);u(N);var Z=new Array(512);u(Z);var R=new Array(256);u(R);var ae=new Array(f);u(ae);var de,H,ne,V=new Array(g);function Ce(le,me,Xe,Ee,Re){this.static_tree=le,this.extra_bits=me,this.extra_base=Xe,this.elems=Ee,this.max_length=Re,this.has_stree=le&&le.length}function ge(le,me){this.dyn_tree=le,this.max_code=0,this.stat_desc=me}function Te(le){return le<256?Z[le]:Z[256+(le>>>7)]}function Ke(le,me){le.pending_buf[le.pending++]=255&me,le.pending_buf[le.pending++]=me>>>8&255}function Ye(le,me,Xe){le.bi_valid>O-Xe?(le.bi_buf|=me<<le.bi_valid&65535,Ke(le,le.bi_buf),le.bi_buf=me>>O-le.bi_valid,le.bi_valid+=Xe-O):(le.bi_buf|=me<<le.bi_valid&65535,le.bi_valid+=Xe)}function Qe(le,me,Xe){Ye(le,Xe[2*me],Xe[2*me+1])}function rt(le,me){for(var Xe=0;Xe|=1&le,le>>>=1,Xe<<=1,0<--me;);return Xe>>>1}function vt(le,me,Xe){var Ee,Re,at=new Array(w+1),Ve=0;for(Ee=1;Ee<=w;Ee++)at[Ee]=Ve=Ve+Xe[Ee-1]<<1;for(Re=0;Re<=me;Re++){var qe=le[2*Re+1];qe!==0&&(le[2*Re]=rt(at[qe]++,qe))}}function it(le){var me;for(me=0;me<p;me++)le.dyn_ltree[2*me]=0;for(me=0;me<g;me++)le.dyn_dtree[2*me]=0;for(me=0;me<y;me++)le.bl_tree[2*me]=0;le.dyn_ltree[2*E]=1,le.opt_len=le.static_len=0,le.last_lit=le.matches=0}function yt(le){8<le.bi_valid?Ke(le,le.bi_buf):0<le.bi_valid&&(le.pending_buf[le.pending++]=le.bi_buf),le.bi_buf=0,le.bi_valid=0}function xt(le,me,Xe,Ee){var Re=2*me,at=2*Xe;return le[Re]<le[at]||le[Re]===le[at]&&Ee[me]<=Ee[Xe]}function Ct(le,me,Xe){for(var Ee=le.heap[Xe],Re=Xe<<1;Re<=le.heap_len&&(Re<le.heap_len&&xt(me,le.heap[Re+1],le.heap[Re],le.depth)&&Re++,!xt(me,Ee,le.heap[Re],le.depth));)le.heap[Xe]=le.heap[Re],Xe=Re,Re<<=1;le.heap[Xe]=Ee}function St(le,me,Xe){var Ee,Re,at,Ve,qe=0;if(le.last_lit!==0)for(;Ee=le.pending_buf[le.d_buf+2*qe]<<8|le.pending_buf[le.d_buf+2*qe+1],Re=le.pending_buf[le.l_buf+qe],qe++,Ee===0?Qe(le,Re,me):(Qe(le,(at=R[Re])+d+1,me),(Ve=Q[at])!==0&&Ye(le,Re-=ae[at],Ve),Qe(le,at=Te(--Ee),Xe),(Ve=te[at])!==0&&Ye(le,Ee-=V[at],Ve)),qe<le.last_lit;);Qe(le,E,me)}function Rt(le,me){var Xe,Ee,Re,at=me.dyn_tree,Ve=me.stat_desc.static_tree,qe=me.stat_desc.has_stree,ot=me.stat_desc.elems,Pt=-1;for(le.heap_len=0,le.heap_max=v,Xe=0;Xe<ot;Xe++)at[2*Xe]!==0?(le.heap[++le.heap_len]=Pt=Xe,le.depth[Xe]=0):at[2*Xe+1]=0;for(;le.heap_len<2;)at[2*(Re=le.heap[++le.heap_len]=Pt<2?++Pt:0)]=1,le.depth[Re]=0,le.opt_len--,qe&&(le.static_len-=Ve[2*Re+1]);for(me.max_code=Pt,Xe=le.heap_len>>1;1<=Xe;Xe--)Ct(le,at,Xe);for(Re=ot;Xe=le.heap[1],le.heap[1]=le.heap[le.heap_len--],Ct(le,at,1),Ee=le.heap[1],le.heap[--le.heap_max]=Xe,le.heap[--le.heap_max]=Ee,at[2*Re]=at[2*Xe]+at[2*Ee],le.depth[Re]=(le.depth[Xe]>=le.depth[Ee]?le.depth[Xe]:le.depth[Ee])+1,at[2*Xe+1]=at[2*Ee+1]=Re,le.heap[1]=Re++,Ct(le,at,1),2<=le.heap_len;);le.heap[--le.heap_max]=le.heap[1],(function(Et,Ft){var ve,T,F,ye,De,$e,Ze=Ft.dyn_tree,Oe=Ft.max_code,bt=Ft.stat_desc.static_tree,ht=Ft.stat_desc.has_stree,q=Ft.stat_desc.extra_bits,dt=Ft.stat_desc.extra_base,gt=Ft.stat_desc.max_length,be=0;for(ye=0;ye<=w;ye++)Et.bl_count[ye]=0;for(Ze[2*Et.heap[Et.heap_max]+1]=0,ve=Et.heap_max+1;ve<v;ve++)gt<(ye=Ze[2*Ze[2*(T=Et.heap[ve])+1]+1]+1)&&(ye=gt,be++),Ze[2*T+1]=ye,Oe<T||(Et.bl_count[ye]++,De=0,dt<=T&&(De=q[T-dt]),$e=Ze[2*T],Et.opt_len+=$e*(ye+De),ht&&(Et.static_len+=$e*(bt[2*T+1]+De)));if(be!==0){do{for(ye=gt-1;Et.bl_count[ye]===0;)ye--;Et.bl_count[ye]--,Et.bl_count[ye+1]+=2,Et.bl_count[gt]--,be-=2}while(0<be);for(ye=gt;ye!==0;ye--)for(T=Et.bl_count[ye];T!==0;)Oe<(F=Et.heap[--ve])||(Ze[2*F+1]!==ye&&(Et.opt_len+=(ye-Ze[2*F+1])*Ze[2*F],Ze[2*F+1]=ye),T--)}})(le,me),vt(at,Pt,le.bl_count)}function oe(le,me,Xe){var Ee,Re,at=-1,Ve=me[1],qe=0,ot=7,Pt=4;for(Ve===0&&(ot=138,Pt=3),me[2*(Xe+1)+1]=65535,Ee=0;Ee<=Xe;Ee++)Re=Ve,Ve=me[2*(Ee+1)+1],++qe<ot&&Re===Ve||(qe<Pt?le.bl_tree[2*Re]+=qe:Re!==0?(Re!==at&&le.bl_tree[2*Re]++,le.bl_tree[2*I]++):qe<=10?le.bl_tree[2*G]++:le.bl_tree[2*J]++,at=Re,Pt=(qe=0)===Ve?(ot=138,3):Re===Ve?(ot=6,3):(ot=7,4))}function je(le,me,Xe){var Ee,Re,at=-1,Ve=me[1],qe=0,ot=7,Pt=4;for(Ve===0&&(ot=138,Pt=3),Ee=0;Ee<=Xe;Ee++)if(Re=Ve,Ve=me[2*(Ee+1)+1],!(++qe<ot&&Re===Ve)){if(qe<Pt)for(;Qe(le,Re,le.bl_tree),--qe!=0;);else Re!==0?(Re!==at&&(Qe(le,Re,le.bl_tree),qe--),Qe(le,I,le.bl_tree),Ye(le,qe-3,2)):qe<=10?(Qe(le,G,le.bl_tree),Ye(le,qe-3,3)):(Qe(le,J,le.bl_tree),Ye(le,qe-11,7));at=Re,Pt=(qe=0)===Ve?(ot=138,3):Re===Ve?(ot=6,3):(ot=7,4)}}u(V);var ze=!1;function he(le,me,Xe,Ee){Ye(le,(h<<1)+(Ee?1:0),3),(function(Re,at,Ve,qe){yt(Re),Ke(Re,Ve),Ke(Re,~Ve),s.arraySet(Re.pending_buf,Re.window,at,Ve,Re.pending),Re.pending+=Ve})(le,me,Xe)}a._tr_init=function(le){ze||((function(){var me,Xe,Ee,Re,at,Ve=new Array(w+1);for(Re=Ee=0;Re<f-1;Re++)for(ae[Re]=Ee,me=0;me<1<<Q[Re];me++)R[Ee++]=Re;for(R[Ee-1]=Re,Re=at=0;Re<16;Re++)for(V[Re]=at,me=0;me<1<<te[Re];me++)Z[at++]=Re;for(at>>=7;Re<g;Re++)for(V[Re]=at<<7,me=0;me<1<<te[Re]-7;me++)Z[256+at++]=Re;for(Xe=0;Xe<=w;Xe++)Ve[Xe]=0;for(me=0;me<=143;)ee[2*me+1]=8,me++,Ve[8]++;for(;me<=255;)ee[2*me+1]=9,me++,Ve[9]++;for(;me<=279;)ee[2*me+1]=7,me++,Ve[7]++;for(;me<=287;)ee[2*me+1]=8,me++,Ve[8]++;for(vt(ee,p+1,Ve),me=0;me<g;me++)N[2*me+1]=5,N[2*me]=rt(me,5);de=new Ce(ee,Q,d+1,p,w),H=new Ce(N,te,0,g,w),ne=new Ce(new Array(0),pe,0,y,k)})(),ze=!0),le.l_desc=new ge(le.dyn_ltree,de),le.d_desc=new ge(le.dyn_dtree,H),le.bl_desc=new ge(le.bl_tree,ne),le.bi_buf=0,le.bi_valid=0,it(le)},a._tr_stored_block=he,a._tr_flush_block=function(le,me,Xe,Ee){var Re,at,Ve=0;0<le.level?(le.strm.data_type===2&&(le.strm.data_type=(function(qe){var ot,Pt=4093624447;for(ot=0;ot<=31;ot++,Pt>>>=1)if(1&Pt&&qe.dyn_ltree[2*ot]!==0)return l;if(qe.dyn_ltree[18]!==0||qe.dyn_ltree[20]!==0||qe.dyn_ltree[26]!==0)return c;for(ot=32;ot<d;ot++)if(qe.dyn_ltree[2*ot]!==0)return c;return l})(le)),Rt(le,le.l_desc),Rt(le,le.d_desc),Ve=(function(qe){var ot;for(oe(qe,qe.dyn_ltree,qe.l_desc.max_code),oe(qe,qe.dyn_dtree,qe.d_desc.max_code),Rt(qe,qe.bl_desc),ot=y-1;3<=ot&&qe.bl_tree[2*fe[ot]+1]===0;ot--);return qe.opt_len+=3*(ot+1)+5+5+4,ot})(le),Re=le.opt_len+3+7>>>3,(at=le.static_len+3+7>>>3)<=Re&&(Re=at)):Re=at=Xe+5,Xe+4<=Re&&me!==-1?he(le,me,Xe,Ee):le.strategy===4||at===Re?(Ye(le,2+(Ee?1:0),3),St(le,ee,N)):(Ye(le,4+(Ee?1:0),3),(function(qe,ot,Pt,Et){var Ft;for(Ye(qe,ot-257,5),Ye(qe,Pt-1,5),Ye(qe,Et-4,4),Ft=0;Ft<Et;Ft++)Ye(qe,qe.bl_tree[2*fe[Ft]+1],3);je(qe,qe.dyn_ltree,ot-1),je(qe,qe.dyn_dtree,Pt-1)})(le,le.l_desc.max_code+1,le.d_desc.max_code+1,Ve+1),St(le,le.dyn_ltree,le.dyn_dtree)),it(le),Ee&&yt(le)},a._tr_tally=function(le,me,Xe){return le.pending_buf[le.d_buf+2*le.last_lit]=me>>>8&255,le.pending_buf[le.d_buf+2*le.last_lit+1]=255&me,le.pending_buf[le.l_buf+le.last_lit]=255&Xe,le.last_lit++,me===0?le.dyn_ltree[2*Xe]++:(le.matches++,me--,le.dyn_ltree[2*(R[Xe]+d+1)]++,le.dyn_dtree[2*Te(me)]++),le.last_lit===le.lit_bufsize-1},a._tr_align=function(le){Ye(le,2,3),Qe(le,E,ee),(function(me){me.bi_valid===16?(Ke(me,me.bi_buf),me.bi_buf=0,me.bi_valid=0):8<=me.bi_valid&&(me.pending_buf[me.pending++]=255&me.bi_buf,me.bi_buf>>=8,me.bi_valid-=8)})(le)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){(function(s){(function(l,c){if(!l.setImmediate){var u,h,f,d,p=1,g={},y=!1,v=l.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(l);w=w&&w.setTimeout?w:l,u={}.toString.call(l.process)==="[object process]"?function(I){process$1.nextTick(function(){k(I)})}:(function(){if(l.postMessage&&!l.importScripts){var I=!0,G=l.onmessage;return l.onmessage=function(){I=!1},l.postMessage("","*"),l.onmessage=G,I}})()?(d="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",E,!1):l.attachEvent("onmessage",E),function(I){l.postMessage(d+I,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(I){k(I.data)},function(I){f.port2.postMessage(I)}):v&&"onreadystatechange"in v.createElement("script")?(h=v.documentElement,function(I){var G=v.createElement("script");G.onreadystatechange=function(){k(I),G.onreadystatechange=null,h.removeChild(G),G=null},h.appendChild(G)}):function(I){setTimeout(k,0,I)},w.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var G=new Array(arguments.length-1),J=0;J<G.length;J++)G[J]=arguments[J+1];var Q={callback:I,args:G};return g[p]=Q,u(p),p++},w.clearImmediate=O}function O(I){delete g[I]}function k(I){if(y)setTimeout(k,0,I);else{var G=g[I];if(G){y=!0;try{(function(J){var Q=J.callback,te=J.args;switch(te.length){case 0:Q();break;case 1:Q(te[0]);break;case 2:Q(te[0],te[1]);break;case 3:Q(te[0],te[1],te[2]);break;default:Q.apply(c,te)}})(G)}finally{O(I),y=!1}}}}function E(I){I.source===l&&typeof I.data=="string"&&I.data.indexOf(d)===0&&k(+I.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs(jszip_minExports);async function listAllFiles(o,e){const n=o.pfs;let r=[];try{const a=await n.readdir(e);for(const s of a){if(s===".git")continue;const l=`${e==="/"?"":e}/${s}`;try{(await n.stat(l)).isDirectory()?r=r.concat(await listAllFiles(o,l)):r.push(l)}catch{console.warn(`Could not stat ${l}, skipping.`)}}}catch{console.log(`Could not read directory: ${e}.`)}return r}async function exportGardens(o,e){e("Starting export...");const n=new JSZip;if(!o||o.length===0){e("No gardens selected for export.");return}for(const c of o){e(`Processing garden: "${c}"...`);const u=n.folder(c),h=new Git(c),f=await listAllFiles(h,"/");for(const d of f){const p=await h.readFile(d),g=d.startsWith("/")?d.substring(1):d;u.file(g,p)}}e("Generating zip file...");const r=await n.generateAsync({type:"blob"}),s=`thoughtform-gardens-backup-${new Date().toISOString().replace(/[:.]/g,"-")}.zip`,l=document.createElement("a");l.href=URL.createObjectURL(r),l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),e(`Export complete: ${s}`)}async function getGardensFromZip(o){const e=await JSZip.loadAsync(o),n=new Set;return e.forEach(r=>{if(r.includes("/")){const a=r.split("/")[0];n.add(a)}}),Array.from(n).sort()}async function importGardensFromZip(o,e,n){n(`Reading ${o.name}...`);const r=await JSZip.loadAsync(o);n("Zip file loaded. Starting import of selected gardens...");const a=[];r.forEach((s,l)=>{if(l.dir)return;const c=s.split("/")[0];if(e.includes(c)){const u=`/${s.substring(c.length+1)}`,h=l.async("string").then(async f=>{n(`  Importing: ${c}${u}`);const d=new Git(c);await d.initRepo(),await d.writeFile(u,f)});a.push(h)}}),await Promise.all(a),n("Import complete! Reloading page..."),setTimeout(()=>{window.location.reload()},1500)}class Modal{constructor({title:e="Notice"}={}){this.overlay=document.createElement("div"),this.overlay.className="modal-overlay hidden",this.container=document.createElement("div"),this.container.className="modal-container",this.header=document.createElement("div"),this.header.className="modal-header",this.header.textContent=e,this.content=document.createElement("div"),this.content.className="modal-content",this.footer=document.createElement("div"),this.footer.className="modal-footer",this.footer.style.display="none",this.container.appendChild(this.header),this.container.appendChild(this.content),this.container.appendChild(this.footer),this.overlay.appendChild(this.container),document.body.appendChild(this.overlay)}show(e="Loading..."){this.updateContent(e),this.overlay.classList.remove("hidden")}hide(){this.overlay.classList.add("hidden")}destroy(){this.overlay.parentNode&&this.overlay.remove()}updateContent(e){this.content.innerHTML=e}addFooterButton(e,n){this.footer.style.display="block";const r=document.createElement("button");return r.textContent=e,r.addEventListener("click",n),this.footer.appendChild(r),r}clearFooter(){this.footer.innerHTML="",this.footer.style.display="none"}}function createSelectionUI(o,e,n=!0){const r=e.map(a=>`
    <label style="display: block; margin: 5px 0; font-family: monospace; cursor: pointer;">
      <input type="checkbox" class="garden-select-checkbox" value="${a}" ${n?"checked":""}>
      ${a}
    </label>
  `).join("");return`
    <div style="font-family: Arial, sans-serif;">
      <p style="margin-top: 0;">${o}</p>
      <div style="margin-bottom: 10px;">
        <button type="button" class="select-all-btn" style="margin-right: 5px;">Select All</button>
        <button type="button" class="select-none-btn">Deselect All</button>
      </div>
      <div class="garden-selection-list" style="max-height: 200px; overflow-y: auto; border: 1px solid #444; padding: 10px; border-radius: 3px;">
        ${r}
      </div>
    </div>
  `}function initializeDevTools(){const o=document.getElementById("eruda-container");return o?(eruda.init({container:o,tool:["console","elements","network","resources"],inline:!0,useShadowDom:!1}),eruda.add({name:"Data",init(n){this._$el=n,n.html(`
        <div style="padding: 10px; font-family: Arial, sans-serif; color: #ccc;">
          <h2 style="margin-top:0;">Data Portability</h2>
          <button id="export-all-btn" class="eruda-button">Export...</button>
          <button id="import-all-btn" class="eruda-button">Import...</button>
          <input type="file" id="import-file-input" accept=".zip" style="display: none;">
        </div>
        <style>.eruda-button { /* ... styles ... */ }</style>
      `);const r=n.find("#export-all-btn")[0],a=n.find("#import-all-btn")[0],s=n.find("#import-file-input")[0];r.addEventListener("click",()=>{const l=localStorage.getItem("thoughtform_gardens"),c=l?JSON.parse(l):["home"],u=new Modal({title:"Select Gardens to Export"});u.show(createSelectionUI("Choose which gardens to include in the export:",c));const h=u.content;h.querySelector(".select-all-btn").onclick=()=>h.querySelectorAll(".garden-select-checkbox").forEach(d=>d.checked=!0),h.querySelector(".select-none-btn").onclick=()=>h.querySelectorAll(".garden-select-checkbox").forEach(d=>d.checked=!1);const f=async()=>{const d=Array.from(h.querySelectorAll(".garden-select-checkbox:checked")).map(g=>g.value);u.clearFooter(),u.updateContent("Starting export...");let p="";try{await exportGardens(d,g=>{p+=`${g}<br>`,u.updateContent(p)}),u.updateContent(p+"<br><strong>Export Complete!</strong>"),u.addFooterButton("Close",()=>u.destroy())}catch(g){console.error("Export failed:",g),u.updateContent(`<strong>Error:</strong><br>${g.message}`),u.addFooterButton("Close",()=>u.destroy())}};u.addFooterButton("Export Selected",f),u.addFooterButton("Cancel",()=>u.destroy())}),a.addEventListener("click",()=>s.click()),s.addEventListener("change",async()=>{const l=s.files[0];if(!l)return;const c=new Modal({title:"Select Gardens to Import"});c.show("Scanning zip file...");try{const u=await getGardensFromZip(l);if(u.length===0){c.updateContent("No valid gardens found in this zip file."),c.addFooterButton("Close",()=>c.destroy());return}c.updateContent(createSelectionUI(`Found ${u.length} garden(s). Select which to import:`,u));const h=c.content;h.querySelector(".select-all-btn").onclick=()=>h.querySelectorAll(".garden-select-checkbox").forEach(d=>d.checked=!0),h.querySelector(".select-none-btn").onclick=()=>h.querySelectorAll(".garden-select-checkbox").forEach(d=>d.checked=!1);const f=async()=>{const d=Array.from(h.querySelectorAll(".garden-select-checkbox:checked")).map(g=>g.value);c.clearFooter(),c.updateContent("Starting import...");let p="";try{await importGardensFromZip(l,d,g=>{p+=`${g}<br>`,c.updateContent(p)})}catch(g){console.error("Import failed:",g),c.updateContent(`<strong>Error during import:</strong><br>${g.message}`),c.addFooterButton("Close",()=>c.destroy())}};c.addFooterButton("Import Selected",f),c.addFooterButton("Cancel",()=>c.destroy())}catch(u){console.error("Failed to read zip file:",u),c.updateContent(`<strong>Error:</strong> Could not read the zip file.<br>${u.message}`),c.addFooterButton("Close",()=>c.destroy())}finally{s.value=""}})},show(){this._$el.show()},hide(){this._$el.hide()}})):void 0}window.Buffer=Buffer$1$1;const basePath=new URL(import.meta.url).pathname.split("/").slice(0,-2).join("/");let gardenName=window.location.pathname.startsWith(basePath)?window.location.pathname.substring(basePath.length):window.location.pathname;gardenName=gardenName.replace(/^\/|\/$/g,"")||"home";gardenName=decodeURIComponent(gardenName);console.log(`Base Path: "${basePath}"`);console.log(`Loading garden: "${gardenName}"`);const gitClient=new Git(gardenName);initializeAppInteractions();initializeDevTools();new Editor({target:"main",gitClient});
